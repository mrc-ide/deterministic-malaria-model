// Automatically generated by odin 1.1.15 - do not edit
#include <R.h>
#include <Rmath.h>
#include <Rinternals.h>
#include <stdbool.h>
#include <R_ext/Rdynload.h>
#ifndef CINTERPOLTE_CINTERPOLATE_H_
#define CINTERPOLTE_CINTERPOLATE_H_

// Allow use from C++
#ifdef __cplusplus
extern "C" {
#endif

// There are only three functions in the interface; allocation,
// evaluation and freeing.

// Allocate an interpolation object.
//
//   type: The mode of interpolation. Must be one of "constant",
//       "linear" or "spline" (an R error is thrown if a different
//       value is given).
//
//   n: The number of `x` points to interpolate over
//
//   ny: the number of `y` points per `x` point.  This is 1 in the
//       case of zimple interpolation as used by Rs `interpolate()`
//
//   x: an array of `x` values of length `n`
//
//   y: an array of `ny` sets of `y` values.  This is in R's matrix
//       order (i.e., the first `n` values are the first series to
//       interpolate over).
//
//   fail_on_extrapolate: if true, when an extrapolation occurs throw
//       an error; if false return NA_REAL
//
//   auto_free: automatically clean up the interpolation object on
//       return to R. This uses `R_alloc` for allocations rather than
//       `Calloc` so freeing will always happen (even on error
//       elsewhere in the code). However, this prevents returning back
//       a pointer to R that will last longer than the call into C
//       code.
//
// The return value is an opaque pointer that can be passed through to
// `cinterpolate_eval` and `cinterpolate_free`
void *cinterpolate_alloc(const char *type, size_t n, size_t ny,
                         double *x, double *y, bool fail_on_extrapolate,
                         bool auto_free);

// Evaluate the interpolated function at a new `x` point.
//
//   x: A new, single, `x` point to interpolate `y` values to
//
//   obj: The interpolation object, as returned by `cinterpolate_alloc`
//
//   y: An array of length `ny` to store the interpolated values
//
// The return value is 0 if the interpolation is successful (with x
// lying within the range of values that the interpolation function
// supports), -1 otherwise
int cinterpolate_eval(double x, void *obj, double *y);

// Clean up all allocated memory
//
//   obj: The interpolation object, as returned by `cinterpolate_alloc`
void cinterpolate_free(void *obj);

#ifdef __cplusplus
}
#endif

#endif
typedef struct odin_model_internal {
  double aD;
  double *age;
  double age_20_factor;
  double *age_rate;
  int age05;
  int age20l;
  int age20u;
  int age59;
  double *av_human;
  double *av_mosq;
  double *b;
  double b_lambda;
  double b0;
  double b1;
  double betaL;
  double bites_Bed;
  double bites_Indoors;
  double *cA;
  double cD;
  double chi;
  double *clin_inc;
  double *clin_inc0to5;
  double *cov;
  double *cov_;
  double cT;
  double cU;
  double d_IRS0;
  double d_ITN0;
  double d1;
  double dB;
  double dCA;
  double dCM;
  double dE;
  double dEL;
  double *delay_array_av_human;
  double *delay_array_av_mosq;
  double *delay_array_b;
  double *delay_array_cA;
  double *delay_array_EIR;
  double *delay_array_FOI_lag;
  double *delay_array_FOIvijk;
  double *delay_array_p_det;
  double *delay_array_w;
  double *delay_array_w_;
  double *delay_array_whi;
  double *delay_array_yy;
  double *delay_array_yy_;
  double *delay_array_z;
  double *delay_array_z_;
  double *delay_array_zhi;
  int *delay_index_FOI;
  int *delay_index_FOIv;
  int *delay_index_incv;
  double *delay_state_FOI;
  double *delay_state_FOIv;
  double *delay_state_incv;
  double delayGam;
  double delayMos;
  double *den;
  double dID;
  int dim_A;
  int dim_A_1;
  int dim_A_12;
  int dim_A_2;
  int dim_A_3;
  int dim_age;
  int dim_age_rate;
  int dim_av_human;
  int dim_av_mosq;
  int dim_b;
  int dim_b_1;
  int dim_b_12;
  int dim_b_2;
  int dim_b_3;
  int dim_cA;
  int dim_cA_1;
  int dim_cA_12;
  int dim_cA_2;
  int dim_cA_3;
  int dim_clin_inc;
  int dim_clin_inc_1;
  int dim_clin_inc_12;
  int dim_clin_inc_2;
  int dim_clin_inc_3;
  int dim_clin_inc0to5;
  int dim_clin_inc0to5_1;
  int dim_clin_inc0to5_12;
  int dim_clin_inc0to5_2;
  int dim_clin_inc0to5_3;
  int dim_cov;
  int dim_cov_;
  int dim_D;
  int dim_D_1;
  int dim_D_12;
  int dim_D_2;
  int dim_D_3;
  int dim_delay_FOI;
  int dim_delay_FOIv;
  int dim_den;
  int dim_EIR;
  int dim_EIR_1;
  int dim_EIR_12;
  int dim_EIR_2;
  int dim_EIR_3;
  int dim_fd;
  int dim_FOI;
  int dim_FOI_1;
  int dim_FOI_12;
  int dim_FOI_2;
  int dim_FOI_3;
  int dim_foi_age;
  int dim_FOI_lag;
  int dim_FOI_lag_1;
  int dim_FOI_lag_12;
  int dim_FOI_lag_2;
  int dim_FOI_lag_3;
  int dim_FOIvijk;
  int dim_FOIvijk_1;
  int dim_FOIvijk_12;
  int dim_FOIvijk_2;
  int dim_FOIvijk_3;
  int dim_het_wt;
  int dim_IB;
  int dim_IB_1;
  int dim_IB_12;
  int dim_IB_2;
  int dim_IB_3;
  int dim_IC;
  int dim_IC_1;
  int dim_IC_12;
  int dim_IC_2;
  int dim_IC_3;
  int dim_ICA;
  int dim_ICA_1;
  int dim_ICA_12;
  int dim_ICA_2;
  int dim_ICA_3;
  int dim_ICM;
  int dim_ICM_1;
  int dim_ICM_12;
  int dim_ICM_2;
  int dim_ICM_3;
  int dim_ID;
  int dim_ID_1;
  int dim_ID_12;
  int dim_ID_2;
  int dim_ID_3;
  int dim_init_A;
  int dim_init_A_1;
  int dim_init_A_12;
  int dim_init_A_2;
  int dim_init_A_3;
  int dim_init_D;
  int dim_init_D_1;
  int dim_init_D_12;
  int dim_init_D_2;
  int dim_init_D_3;
  int dim_init_IB;
  int dim_init_IB_1;
  int dim_init_IB_12;
  int dim_init_IB_2;
  int dim_init_IB_3;
  int dim_init_ICA;
  int dim_init_ICA_1;
  int dim_init_ICA_12;
  int dim_init_ICA_2;
  int dim_init_ICA_3;
  int dim_init_ICM;
  int dim_init_ICM_1;
  int dim_init_ICM_12;
  int dim_init_ICM_2;
  int dim_init_ICM_3;
  int dim_init_ICM_pre;
  int dim_init_ICM_pre_1;
  int dim_init_ICM_pre_2;
  int dim_init_ID;
  int dim_init_ID_1;
  int dim_init_ID_12;
  int dim_init_ID_2;
  int dim_init_ID_3;
  int dim_init_P;
  int dim_init_P_1;
  int dim_init_P_12;
  int dim_init_P_2;
  int dim_init_P_3;
  int dim_init_S;
  int dim_init_S_1;
  int dim_init_S_12;
  int dim_init_S_2;
  int dim_init_S_3;
  int dim_init_T;
  int dim_init_T_1;
  int dim_init_T_12;
  int dim_init_T_2;
  int dim_init_T_3;
  int dim_init_U;
  int dim_init_U_1;
  int dim_init_U_12;
  int dim_init_U_2;
  int dim_init_U_3;
  int dim_P;
  int dim_P_1;
  int dim_P_12;
  int dim_P_2;
  int dim_P_3;
  int dim_p_det;
  int dim_p_det_1;
  int dim_p_det_12;
  int dim_p_det_2;
  int dim_p_det_3;
  int dim_phi;
  int dim_phi_1;
  int dim_phi_12;
  int dim_phi_2;
  int dim_phi_3;
  int dim_prev0to59;
  int dim_prev0to59_1;
  int dim_prev0to59_12;
  int dim_prev0to59_2;
  int dim_prev0to59_3;
  int dim_rel_foi;
  int dim_S;
  int dim_S_1;
  int dim_S_12;
  int dim_S_2;
  int dim_S_3;
  int dim_T;
  int dim_T_1;
  int dim_T_12;
  int dim_T_2;
  int dim_T_3;
  int dim_U;
  int dim_U_1;
  int dim_U_12;
  int dim_U_2;
  int dim_U_3;
  int dim_w;
  int dim_w_;
  int dim_whi;
  int dim_x_I;
  int dim_Y;
  int dim_Y_1;
  int dim_Y_12;
  int dim_Y_2;
  int dim_Y_3;
  int dim_yy;
  int dim_yy_;
  int dim_z;
  int dim_z_;
  int dim_zhi;
  double dLL;
  double dPL;
  double *EIR;
  double eta;
  double *fd;
  double fD0;
  double *FOI;
  double *foi_age;
  double *FOI_lag;
  double *FOIvijk;
  double ft;
  double gamma1;
  double gammaD;
  double gammaL;
  double *het_wt;
  double IB0;
  double *IC;
  double IC0;
  double ID0;
  double *init_A;
  double *init_D;
  double init_EL;
  double init_Ev;
  double *init_IB;
  double *init_ICA;
  double *init_ICM;
  double *init_ICM_pre;
  double *init_ID;
  double init_Iv;
  double init_LL;
  double *init_P;
  double init_PL;
  double *init_S;
  double init_Sv;
  double *init_T;
  double *init_U;
  double *initial_A;
  double *initial_D;
  double initial_EL;
  double initial_Ev;
  double *initial_IB;
  double *initial_ICA;
  double *initial_ICM;
  double *initial_ID;
  double initial_Iv;
  double initial_LL;
  double *initial_P;
  double initial_PL;
  double *initial_S;
  double initial_Sv;
  double initial_t;
  double *initial_T;
  double *initial_U;
  double irs_cov;
  double IRS_interval;
  double irs_loss;
  double itn_cov;
  double ITN_interval;
  double ITN_IRS_on;
  double itn_loss;
  double kB;
  double kC;
  double kD;
  double mu0;
  double muEL;
  double muLL;
  double muPL;
  double mv0;
  int na;
  int nh;
  int num_int;
  int offset_FOIv_A;
  int offset_FOIv_ID;
  int offset_FOIv_U;
  int offset_variable_A;
  int offset_variable_D;
  int offset_variable_IB;
  int offset_variable_ICA;
  int offset_variable_ICM;
  int offset_variable_ID;
  int offset_variable_P;
  int offset_variable_T;
  int offset_variable_U;
  double omega;
  double *p_det;
  double p10;
  double p2;
  double *phi;
  double phi0;
  double phi1;
  double pi;
  double PM;
  double *prev0to59;
  double Q0;
  double r_IRS0;
  double r_ITN0;
  double r_ITN1;
  double rA;
  double rD;
  double *rel_foi;
  double rP;
  double rT;
  double rU;
  double ssa0;
  double ssa1;
  double ssa2;
  double ssa3;
  double ssb1;
  double ssb2;
  double ssb3;
  double tau1;
  double tau2;
  double theta_c;
  double uB;
  double uCA;
  double uD;
  double *w;
  double *w_;
  double *whi;
  double *x_I;
  double *Y;
  double *yy;
  double *yy_;
  double *z;
  double *z_;
  double *zhi;
  bool odin_model_use_dde;
} odin_model_internal;
typedef struct odin_model_emanators_internal {
  double aD;
  double *age;
  double age_20_factor;
  double *age_rate;
  int age05;
  int age20l;
  int age20u;
  int age59;
  double *av_human;
  double *av_mosq;
  double *b;
  double b_lambda;
  double b0;
  double b1;
  double betaL;
  double bites_Bed;
  double bites_Emanator;
  double bites_Indoors;
  double *cA;
  double cD;
  double *clin_inc;
  double *clin_inc0to5;
  double *cov;
  double *cov_;
  double cT;
  double cU;
  double d_EM0;
  double d_ITN0;
  double d1;
  double dB;
  double dCA;
  double dCM;
  double dE;
  double dEL;
  double *delay_array_av_human;
  double *delay_array_av_mosq;
  double *delay_array_b;
  double *delay_array_cA;
  double *delay_array_EIR;
  double *delay_array_FOI_lag;
  double *delay_array_FOIvijk;
  double *delay_array_p_det;
  double *delay_array_w;
  double *delay_array_w_;
  double *delay_array_whi;
  double *delay_array_yy;
  double *delay_array_yy_;
  double *delay_array_z;
  double *delay_array_z_;
  double *delay_array_zhi;
  int *delay_index_FOI;
  int *delay_index_FOIv;
  int *delay_index_incv;
  double *delay_state_FOI;
  double *delay_state_FOIv;
  double *delay_state_incv;
  double delayGam;
  double delayMos;
  double *den;
  double *derivS;
  double det_hut;
  double det_hut_a;
  double dID;
  int dim_A;
  int dim_A_1;
  int dim_A_12;
  int dim_A_2;
  int dim_A_3;
  int dim_age;
  int dim_age_rate;
  int dim_av_human;
  int dim_av_mosq;
  int dim_b;
  int dim_b_1;
  int dim_b_12;
  int dim_b_2;
  int dim_b_3;
  int dim_cA;
  int dim_cA_1;
  int dim_cA_12;
  int dim_cA_2;
  int dim_cA_3;
  int dim_clin_inc;
  int dim_clin_inc_1;
  int dim_clin_inc_12;
  int dim_clin_inc_2;
  int dim_clin_inc_3;
  int dim_clin_inc0to5;
  int dim_clin_inc0to5_1;
  int dim_clin_inc0to5_12;
  int dim_clin_inc0to5_2;
  int dim_clin_inc0to5_3;
  int dim_cov;
  int dim_cov_;
  int dim_D;
  int dim_D_1;
  int dim_D_12;
  int dim_D_2;
  int dim_D_3;
  int dim_delay_FOI;
  int dim_delay_FOIv;
  int dim_den;
  int dim_derivS;
  int dim_derivS_1;
  int dim_derivS_12;
  int dim_derivS_2;
  int dim_derivS_3;
  int dim_EIR;
  int dim_EIR_1;
  int dim_EIR_12;
  int dim_EIR_2;
  int dim_EIR_3;
  int dim_fd;
  int dim_FOI;
  int dim_FOI_1;
  int dim_FOI_12;
  int dim_FOI_2;
  int dim_FOI_3;
  int dim_foi_age;
  int dim_FOI_lag;
  int dim_FOI_lag_1;
  int dim_FOI_lag_12;
  int dim_FOI_lag_2;
  int dim_FOI_lag_3;
  int dim_FOIvijk;
  int dim_FOIvijk_1;
  int dim_FOIvijk_12;
  int dim_FOIvijk_2;
  int dim_FOIvijk_3;
  int dim_het_wt;
  int dim_IB;
  int dim_IB_1;
  int dim_IB_12;
  int dim_IB_2;
  int dim_IB_3;
  int dim_IC;
  int dim_IC_1;
  int dim_IC_12;
  int dim_IC_2;
  int dim_IC_3;
  int dim_ICA;
  int dim_ICA_1;
  int dim_ICA_12;
  int dim_ICA_2;
  int dim_ICA_3;
  int dim_ICM;
  int dim_ICM_1;
  int dim_ICM_12;
  int dim_ICM_2;
  int dim_ICM_3;
  int dim_ID;
  int dim_ID_1;
  int dim_ID_12;
  int dim_ID_2;
  int dim_ID_3;
  int dim_init_A;
  int dim_init_A_1;
  int dim_init_A_12;
  int dim_init_A_2;
  int dim_init_A_3;
  int dim_init_D;
  int dim_init_D_1;
  int dim_init_D_12;
  int dim_init_D_2;
  int dim_init_D_3;
  int dim_init_IB;
  int dim_init_IB_1;
  int dim_init_IB_12;
  int dim_init_IB_2;
  int dim_init_IB_3;
  int dim_init_ICA;
  int dim_init_ICA_1;
  int dim_init_ICA_12;
  int dim_init_ICA_2;
  int dim_init_ICA_3;
  int dim_init_ICM;
  int dim_init_ICM_1;
  int dim_init_ICM_12;
  int dim_init_ICM_2;
  int dim_init_ICM_3;
  int dim_init_ICM_pre;
  int dim_init_ICM_pre_1;
  int dim_init_ICM_pre_2;
  int dim_init_ID;
  int dim_init_ID_1;
  int dim_init_ID_12;
  int dim_init_ID_2;
  int dim_init_ID_3;
  int dim_init_P;
  int dim_init_P_1;
  int dim_init_P_12;
  int dim_init_P_2;
  int dim_init_P_3;
  int dim_init_S;
  int dim_init_S_1;
  int dim_init_S_12;
  int dim_init_S_2;
  int dim_init_S_3;
  int dim_init_T;
  int dim_init_T_1;
  int dim_init_T_12;
  int dim_init_T_2;
  int dim_init_T_3;
  int dim_init_U;
  int dim_init_U_1;
  int dim_init_U_12;
  int dim_init_U_2;
  int dim_init_U_3;
  int dim_P;
  int dim_P_1;
  int dim_P_12;
  int dim_P_2;
  int dim_P_3;
  int dim_p_det;
  int dim_p_det_1;
  int dim_p_det_12;
  int dim_p_det_2;
  int dim_p_det_3;
  int dim_phi;
  int dim_phi_1;
  int dim_phi_12;
  int dim_phi_2;
  int dim_phi_3;
  int dim_prev0to59;
  int dim_prev0to59_1;
  int dim_prev0to59_12;
  int dim_prev0to59_2;
  int dim_prev0to59_3;
  int dim_prevall;
  int dim_prevall_1;
  int dim_prevall_12;
  int dim_prevall_2;
  int dim_prevall_3;
  int dim_rel_foi;
  int dim_S;
  int dim_S_1;
  int dim_S_12;
  int dim_S_2;
  int dim_S_3;
  int dim_T;
  int dim_T_1;
  int dim_T_12;
  int dim_T_2;
  int dim_T_3;
  int dim_U;
  int dim_U_1;
  int dim_U_12;
  int dim_U_2;
  int dim_U_3;
  int dim_w;
  int dim_w_;
  int dim_whi;
  int dim_x_I;
  int dim_Y;
  int dim_Y_1;
  int dim_Y_12;
  int dim_Y_2;
  int dim_Y_3;
  int dim_yy;
  int dim_yy_;
  int dim_z;
  int dim_z_;
  int dim_zhi;
  double dLL;
  double dPL;
  double *EIR;
  double em_cov;
  double EM_interval;
  double em_loss;
  double EM_on;
  double eta;
  double *fd;
  double fD0;
  double *FOI;
  double *foi_age;
  double *FOI_lag;
  double *FOIvijk;
  double ft;
  double gamma1;
  double gammaD;
  double gammaL;
  double *het_wt;
  double hut_max;
  double hut_max_a;
  double IB0;
  double *IC;
  double IC0;
  double ID0;
  double *init_A;
  double *init_D;
  double init_EL;
  double init_Ev;
  double *init_IB;
  double *init_ICA;
  double *init_ICM;
  double *init_ICM_pre;
  double *init_ID;
  double init_Iv;
  double init_LL;
  double *init_P;
  double init_PL;
  double *init_S;
  double init_Sv;
  double *init_T;
  double *init_U;
  double *initial_A;
  double *initial_D;
  double initial_EL;
  double initial_Ev;
  double *initial_IB;
  double *initial_ICA;
  double *initial_ICM;
  double *initial_ID;
  double initial_Iv;
  double initial_LL;
  double *initial_P;
  double initial_PL;
  double *initial_S;
  double initial_Sv;
  double initial_t;
  double *initial_T;
  double *initial_U;
  double itn_cov;
  double itn_half_life;
  double ITN_interval;
  double itn_loss;
  double ITN_on;
  double jp1;
  double kB;
  double kC;
  double kD;
  double kp1;
  double lp1;
  double mort_assay;
  double mort_hut;
  double mort_hut_a;
  double mu0;
  double muEL;
  double muLL;
  double muPL;
  double mv0;
  double my_max_washes;
  double my_max_washes_a;
  double n1n0;
  int na;
  int nh;
  int num_int;
  int offset_FOIv_A;
  int offset_FOIv_ID;
  int offset_FOIv_U;
  int offset_output_av_mosq;
  int offset_output_cov;
  int offset_output_derivS;
  int offset_output_zhi;
  int offset_variable_A;
  int offset_variable_D;
  int offset_variable_IB;
  int offset_variable_ICA;
  int offset_variable_ICM;
  int offset_variable_ID;
  int offset_variable_P;
  int offset_variable_T;
  int offset_variable_U;
  double omega;
  double *p_det;
  double p10;
  double p2;
  double *phi;
  double phi0;
  double phi1;
  double pi;
  double PM;
  double *prev0to59;
  double *prevall;
  double Q0;
  double r_EM0;
  double r_ITN_min;
  double r_ITN0;
  double rA;
  double rD;
  double *rel_foi;
  double rep_hut;
  double rP;
  double rT;
  double rU;
  double ssa0;
  double ssa1;
  double ssa2;
  double ssa3;
  double ssb1;
  double ssb2;
  double ssb3;
  double suc_hut;
  double surv_bioassay;
  double tau1;
  double tau2;
  double theta_c;
  double uB;
  double uCA;
  double uD;
  double *w;
  double *w_;
  double wash_decay_rate;
  double wash_decay_rate_a;
  double *whi;
  double *x_I;
  double *Y;
  double *yy;
  double *yy_;
  double *z;
  double *z_;
  double *zhi;
  bool odin_model_emanators_use_dde;
} odin_model_emanators_internal;
typedef struct odin_model_hrp2_internal {
  double aD;
  double *age;
  double age_20_factor;
  double *age_rate;
  int age05;
  int age20l;
  int age20u;
  int age59;
  double *av_human;
  double *av_mosq;
  double *b;
  double b_lambda;
  double b0;
  double b1;
  double betaL;
  double bites_Bed;
  double bites_Indoors;
  double *cA;
  double cD;
  double chi;
  double *clin_inc;
  double *clin_inc0to5;
  double *cov;
  double *cov_;
  double cT;
  double cU;
  double d_IRS0;
  double d_ITN0;
  double d1;
  double dB;
  double dCA;
  double dCM;
  double dE;
  double dEL;
  double *delay_array_av_human;
  double *delay_array_av_mosq;
  double *delay_array_b;
  double *delay_array_cA;
  double *delay_array_EIR;
  double *delay_array_FOI_lag;
  double *delay_array_FOIvijk;
  double *delay_array_p_det;
  double *delay_array_w;
  double *delay_array_w_;
  double *delay_array_whi;
  double *delay_array_yy;
  double *delay_array_yy_;
  double *delay_array_z;
  double *delay_array_z_;
  double *delay_array_zhi;
  int *delay_index_FOI;
  int *delay_index_FOIv;
  int *delay_index_incv;
  double *delay_state_FOI;
  double *delay_state_FOIv;
  double *delay_state_incv;
  double delayGam;
  double delayMos;
  double *den;
  double dID;
  int dim_A;
  int dim_A_1;
  int dim_A_12;
  int dim_A_2;
  int dim_A_3;
  int dim_age;
  int dim_age_rate;
  int dim_av_human;
  int dim_av_mosq;
  int dim_b;
  int dim_b_1;
  int dim_b_12;
  int dim_b_2;
  int dim_b_3;
  int dim_cA;
  int dim_cA_1;
  int dim_cA_12;
  int dim_cA_2;
  int dim_cA_3;
  int dim_clin_inc;
  int dim_clin_inc_1;
  int dim_clin_inc_12;
  int dim_clin_inc_2;
  int dim_clin_inc_3;
  int dim_clin_inc0to5;
  int dim_clin_inc0to5_1;
  int dim_clin_inc0to5_12;
  int dim_clin_inc0to5_2;
  int dim_clin_inc0to5_3;
  int dim_cov;
  int dim_cov_;
  int dim_D;
  int dim_D_1;
  int dim_D_12;
  int dim_D_2;
  int dim_D_3;
  int dim_delay_FOI;
  int dim_delay_FOIv;
  int dim_den;
  int dim_EIR;
  int dim_EIR_1;
  int dim_EIR_12;
  int dim_EIR_2;
  int dim_EIR_3;
  int dim_Ev;
  int dim_fd;
  int dim_FOI;
  int dim_FOI_1;
  int dim_FOI_12;
  int dim_FOI_2;
  int dim_FOI_3;
  int dim_foi_age;
  int dim_FOI_lag;
  int dim_FOI_lag_1;
  int dim_FOI_lag_12;
  int dim_FOI_lag_2;
  int dim_FOI_lag_3;
  int dim_FOIvijk;
  int dim_FOIvijk_1;
  int dim_FOIvijk_12;
  int dim_FOIvijk_2;
  int dim_FOIvijk_3;
  int dim_het_wt;
  int dim_IB;
  int dim_IB_1;
  int dim_IB_12;
  int dim_IB_2;
  int dim_IB_3;
  int dim_IC;
  int dim_IC_1;
  int dim_IC_12;
  int dim_IC_2;
  int dim_IC_3;
  int dim_ICA;
  int dim_ICA_1;
  int dim_ICA_12;
  int dim_ICA_2;
  int dim_ICA_3;
  int dim_ICM;
  int dim_ICM_1;
  int dim_ICM_12;
  int dim_ICM_2;
  int dim_ICM_3;
  int dim_ID;
  int dim_ID_1;
  int dim_ID_12;
  int dim_ID_2;
  int dim_ID_3;
  int dim_init_A;
  int dim_init_A_1;
  int dim_init_A_12;
  int dim_init_A_2;
  int dim_init_A_3;
  int dim_init_D;
  int dim_init_D_1;
  int dim_init_D_12;
  int dim_init_D_2;
  int dim_init_D_3;
  int dim_init_IB;
  int dim_init_IB_1;
  int dim_init_IB_12;
  int dim_init_IB_2;
  int dim_init_IB_3;
  int dim_init_ICA;
  int dim_init_ICA_1;
  int dim_init_ICA_12;
  int dim_init_ICA_2;
  int dim_init_ICA_3;
  int dim_init_ICM;
  int dim_init_ICM_1;
  int dim_init_ICM_12;
  int dim_init_ICM_2;
  int dim_init_ICM_3;
  int dim_init_ICM_pre;
  int dim_init_ICM_pre_1;
  int dim_init_ICM_pre_2;
  int dim_init_ID;
  int dim_init_ID_1;
  int dim_init_ID_12;
  int dim_init_ID_2;
  int dim_init_ID_3;
  int dim_init_P;
  int dim_init_P_1;
  int dim_init_P_12;
  int dim_init_P_2;
  int dim_init_P_3;
  int dim_init_S;
  int dim_init_S_1;
  int dim_init_S_12;
  int dim_init_S_2;
  int dim_init_S_3;
  int dim_init_T;
  int dim_init_T_1;
  int dim_init_T_12;
  int dim_init_T_2;
  int dim_init_T_3;
  int dim_init_U;
  int dim_init_U_1;
  int dim_init_U_12;
  int dim_init_U_2;
  int dim_init_U_3;
  int dim_P;
  int dim_P_1;
  int dim_P_12;
  int dim_P_2;
  int dim_P_3;
  int dim_p_det;
  int dim_p_det_1;
  int dim_p_det_12;
  int dim_p_det_2;
  int dim_p_det_3;
  int dim_phi;
  int dim_phi_1;
  int dim_phi_12;
  int dim_phi_2;
  int dim_phi_3;
  int dim_prev0to59;
  int dim_prev0to59_1;
  int dim_prev0to59_12;
  int dim_prev0to59_2;
  int dim_prev0to59_3;
  int dim_rel_foi;
  int dim_S;
  int dim_S_1;
  int dim_S_12;
  int dim_S_2;
  int dim_S_3;
  int dim_T;
  int dim_T_1;
  int dim_T_12;
  int dim_T_2;
  int dim_T_3;
  int dim_U;
  int dim_U_1;
  int dim_U_12;
  int dim_U_2;
  int dim_U_3;
  int dim_w;
  int dim_w_;
  int dim_whi;
  int dim_x_I;
  int dim_Y;
  int dim_Y_1;
  int dim_Y_12;
  int dim_Y_2;
  int dim_Y_3;
  int dim_yy;
  int dim_yy_;
  int dim_z;
  int dim_z_;
  int dim_zhi;
  double dLL;
  double dPL;
  double *EIR;
  double eta;
  double *fd;
  double fD0;
  double *FOI;
  double *foi_age;
  double *FOI_lag;
  double *FOIvijk;
  double ft;
  double gamma1;
  double gammaD;
  double gammaL;
  double *het_wt;
  double hrp2_prop;
  double IB0;
  double *IC;
  double IC0;
  double ID0;
  double *init_A;
  double *init_D;
  double init_EL;
  double init_Ev;
  double *init_IB;
  double *init_ICA;
  double *init_ICM;
  double *init_ICM_pre;
  double *init_ID;
  double init_Iv;
  double init_LL;
  double *init_P;
  double init_PL;
  double *init_S;
  double init_Sv;
  double *init_T;
  double *init_U;
  double *initial_A;
  double *initial_D;
  double initial_EL;
  double *initial_Ev;
  double *initial_IB;
  double *initial_ICA;
  double *initial_ICM;
  double *initial_ID;
  double initial_Iv;
  double initial_LL;
  double *initial_P;
  double initial_PL;
  double *initial_S;
  double initial_Sv;
  double initial_t;
  double *initial_T;
  double *initial_U;
  double irs_cov;
  double IRS_interval;
  double irs_loss;
  double itn_cov;
  double ITN_interval;
  double ITN_IRS_on;
  double itn_loss;
  double kB;
  double kC;
  double kD;
  double mu0;
  double muEL;
  double muLL;
  double muPL;
  double mv0;
  int na;
  int nh;
  int num_int;
  int offset_FOIv_A;
  int offset_FOIv_ID;
  int offset_FOIv_U;
  int offset_variable_A;
  int offset_variable_D;
  int offset_variable_IB;
  int offset_variable_ICA;
  int offset_variable_ICM;
  int offset_variable_ID;
  int offset_variable_P;
  int offset_variable_S;
  int offset_variable_T;
  int offset_variable_U;
  double omega;
  double *p_det;
  double p10;
  double p2;
  double *phi;
  double phi0;
  double phi1;
  double pi;
  double PM;
  double *prev0to59;
  double Q0;
  double r_IRS0;
  double r_ITN0;
  double r_ITN1;
  double rA;
  double rD;
  double *rel_foi;
  double rP;
  double rT;
  double rU;
  double ssa0;
  double ssa1;
  double ssa2;
  double ssa3;
  double ssb1;
  double ssb2;
  double ssb3;
  double tau1;
  double tau2;
  double theta_c;
  double uB;
  double uCA;
  double uD;
  double *w;
  double *w_;
  double *whi;
  double *x_I;
  double *Y;
  double *yy;
  double *yy_;
  double *z;
  double *z_;
  double *zhi;
  bool odin_model_hrp2_use_dde;
} odin_model_hrp2_internal;
typedef struct odin_model_IVM_SMChet_internal {
  double aD;
  double *age;
  double *age_rate;
  int age02;
  int age05;
  int age10;
  double age2to10;
  int age59;
  double *av_human;
  double *av_mosq;
  double *b;
  double b_lambda;
  double b0;
  double b1;
  double B2;
  double betaL;
  double bites_Bed;
  double bites_Indoors;
  double *cA;
  double *ccov;
  double cD;
  double chi;
  double *clin_inc;
  double *clin_inc_ACD;
  double *clin_inc0to10;
  double *clin_inc0to10_ACD;
  double *clin_inc0to5;
  double *clin_inc5to10;
  double *cov;
  double cT;
  double cU;
  double d_IRS0;
  double d_ITN0;
  double d1;
  double dB;
  double dCA;
  double dCM;
  double dE;
  double dEL;
  double *delay_array_av_human;
  double *delay_array_av_mosq;
  double *delay_array_b;
  double *delay_array_cA;
  double *delay_array_EIR;
  double *delay_array_FOI_lag;
  double *delay_array_FOIvijk;
  double *delay_array_p_det;
  double *delay_array_w;
  double *delay_array_whi;
  double *delay_array_yy;
  double *delay_array_z;
  double *delay_array_zhi;
  int *delay_index_FOI;
  int *delay_index_FOIv;
  double *delay_state_FOI;
  double *delay_state_FOIv;
  double delayGam;
  double *den;
  double dID;
  int dim_A;
  int dim_A_1;
  int dim_A_12;
  int dim_A_123;
  int dim_A_2;
  int dim_A_3;
  int dim_A_4;
  int dim_age;
  int dim_age_rate;
  int dim_av_human;
  int dim_av_mosq;
  int dim_b;
  int dim_b_1;
  int dim_b_12;
  int dim_b_123;
  int dim_b_2;
  int dim_b_3;
  int dim_b_4;
  int dim_cA;
  int dim_cA_1;
  int dim_cA_12;
  int dim_cA_123;
  int dim_cA_2;
  int dim_cA_3;
  int dim_cA_4;
  int dim_ccov;
  int dim_clin_inc;
  int dim_clin_inc_1;
  int dim_clin_inc_12;
  int dim_clin_inc_123;
  int dim_clin_inc_2;
  int dim_clin_inc_3;
  int dim_clin_inc_4;
  int dim_clin_inc_ACD;
  int dim_clin_inc_ACD_1;
  int dim_clin_inc_ACD_12;
  int dim_clin_inc_ACD_123;
  int dim_clin_inc_ACD_2;
  int dim_clin_inc_ACD_3;
  int dim_clin_inc_ACD_4;
  int dim_clin_inc0to10;
  int dim_clin_inc0to10_1;
  int dim_clin_inc0to10_12;
  int dim_clin_inc0to10_123;
  int dim_clin_inc0to10_2;
  int dim_clin_inc0to10_3;
  int dim_clin_inc0to10_4;
  int dim_clin_inc0to10_ACD;
  int dim_clin_inc0to10_ACD_1;
  int dim_clin_inc0to10_ACD_12;
  int dim_clin_inc0to10_ACD_123;
  int dim_clin_inc0to10_ACD_2;
  int dim_clin_inc0to10_ACD_3;
  int dim_clin_inc0to10_ACD_4;
  int dim_clin_inc0to5;
  int dim_clin_inc0to5_1;
  int dim_clin_inc0to5_12;
  int dim_clin_inc0to5_123;
  int dim_clin_inc0to5_2;
  int dim_clin_inc0to5_3;
  int dim_clin_inc0to5_4;
  int dim_clin_inc5to10;
  int dim_clin_inc5to10_1;
  int dim_clin_inc5to10_12;
  int dim_clin_inc5to10_123;
  int dim_clin_inc5to10_2;
  int dim_clin_inc5to10_3;
  int dim_clin_inc5to10_4;
  int dim_cov;
  int dim_D;
  int dim_D_1;
  int dim_D_12;
  int dim_D_123;
  int dim_D_2;
  int dim_D_3;
  int dim_D_4;
  int dim_delay_FOI;
  int dim_delay_FOIv;
  int dim_den;
  int dim_EIR;
  int dim_EIR_1;
  int dim_EIR_12;
  int dim_EIR_123;
  int dim_EIR_2;
  int dim_EIR_3;
  int dim_EIR_4;
  int dim_Ev;
  int dim_Ex;
  int dim_Ex_1;
  int dim_Ex_2;
  int dim_fd;
  int dim_FOI;
  int dim_FOI_1;
  int dim_FOI_12;
  int dim_FOI_123;
  int dim_FOI_2;
  int dim_FOI_3;
  int dim_FOI_4;
  int dim_foi_age;
  int dim_FOI_lag;
  int dim_FOI_lag_1;
  int dim_FOI_lag_12;
  int dim_FOI_lag_123;
  int dim_FOI_lag_2;
  int dim_FOI_lag_3;
  int dim_FOI_lag_4;
  int dim_FOIvijk;
  int dim_FOIvijk_1;
  int dim_FOIvijk_12;
  int dim_FOIvijk_123;
  int dim_FOIvijk_2;
  int dim_FOIvijk_3;
  int dim_FOIvijk_4;
  int dim_haz;
  int dim_het_wt;
  int dim_IB;
  int dim_IB_1;
  int dim_IB_12;
  int dim_IB_123;
  int dim_IB_2;
  int dim_IB_3;
  int dim_IB_4;
  int dim_IC;
  int dim_IC_1;
  int dim_IC_12;
  int dim_IC_123;
  int dim_IC_2;
  int dim_IC_3;
  int dim_IC_4;
  int dim_ICA;
  int dim_ICA_1;
  int dim_ICA_12;
  int dim_ICA_123;
  int dim_ICA_2;
  int dim_ICA_3;
  int dim_ICA_4;
  int dim_ICM;
  int dim_ICM_1;
  int dim_ICM_12;
  int dim_ICM_123;
  int dim_ICM_2;
  int dim_ICM_3;
  int dim_ICM_4;
  int dim_ID;
  int dim_ID_1;
  int dim_ID_12;
  int dim_ID_123;
  int dim_ID_2;
  int dim_ID_3;
  int dim_ID_4;
  int dim_init_A;
  int dim_init_A_1;
  int dim_init_A_12;
  int dim_init_A_123;
  int dim_init_A_2;
  int dim_init_A_3;
  int dim_init_A_4;
  int dim_init_D;
  int dim_init_D_1;
  int dim_init_D_12;
  int dim_init_D_123;
  int dim_init_D_2;
  int dim_init_D_3;
  int dim_init_D_4;
  int dim_init_Ex;
  int dim_init_Ex_1;
  int dim_init_Ex_2;
  int dim_init_IB;
  int dim_init_IB_1;
  int dim_init_IB_12;
  int dim_init_IB_123;
  int dim_init_IB_2;
  int dim_init_IB_3;
  int dim_init_IB_4;
  int dim_init_ICA;
  int dim_init_ICA_1;
  int dim_init_ICA_12;
  int dim_init_ICA_123;
  int dim_init_ICA_2;
  int dim_init_ICA_3;
  int dim_init_ICA_4;
  int dim_init_ICM;
  int dim_init_ICM_1;
  int dim_init_ICM_12;
  int dim_init_ICM_123;
  int dim_init_ICM_2;
  int dim_init_ICM_3;
  int dim_init_ICM_4;
  int dim_init_ID;
  int dim_init_ID_1;
  int dim_init_ID_12;
  int dim_init_ID_123;
  int dim_init_ID_2;
  int dim_init_ID_3;
  int dim_init_ID_4;
  int dim_init_Ix;
  int dim_init_P;
  int dim_init_P_1;
  int dim_init_P_12;
  int dim_init_P_123;
  int dim_init_P_2;
  int dim_init_P_3;
  int dim_init_P_4;
  int dim_init_S;
  int dim_init_S_1;
  int dim_init_S_12;
  int dim_init_S_123;
  int dim_init_S_2;
  int dim_init_S_3;
  int dim_init_S_4;
  int dim_init_Sx;
  int dim_init_T;
  int dim_init_T_1;
  int dim_init_T_12;
  int dim_init_T_123;
  int dim_init_T_2;
  int dim_init_T_3;
  int dim_init_T_4;
  int dim_init_U;
  int dim_init_U_1;
  int dim_init_U_12;
  int dim_init_U_123;
  int dim_init_U_2;
  int dim_init_U_3;
  int dim_init_U_4;
  int dim_IVRM_start;
  int dim_Ix;
  int dim_MDA_A;
  int dim_MDA_A_1;
  int dim_MDA_A_12;
  int dim_MDA_A_123;
  int dim_MDA_A_2;
  int dim_MDA_A_3;
  int dim_MDA_A_4;
  int dim_MDA_D;
  int dim_MDA_D_1;
  int dim_MDA_D_12;
  int dim_MDA_D_123;
  int dim_MDA_D_2;
  int dim_MDA_D_3;
  int dim_MDA_D_4;
  int dim_MDA_S;
  int dim_MDA_S_1;
  int dim_MDA_S_12;
  int dim_MDA_S_123;
  int dim_MDA_S_2;
  int dim_MDA_S_3;
  int dim_MDA_S_4;
  int dim_MDA_T;
  int dim_MDA_T_1;
  int dim_MDA_T_12;
  int dim_MDA_T_123;
  int dim_MDA_T_2;
  int dim_MDA_T_3;
  int dim_MDA_T_4;
  int dim_MDA_U;
  int dim_MDA_U_1;
  int dim_MDA_U_12;
  int dim_MDA_U_123;
  int dim_MDA_U_2;
  int dim_MDA_U_3;
  int dim_MDA_U_4;
  int dim_mu_vi;
  int dim_P;
  int dim_P_1;
  int dim_P_12;
  int dim_P_123;
  int dim_P_2;
  int dim_P_3;
  int dim_P_4;
  int dim_p_det;
  int dim_p_det_1;
  int dim_p_det_12;
  int dim_p_det_123;
  int dim_p_det_2;
  int dim_p_det_3;
  int dim_p_det_4;
  int dim_phi;
  int dim_phi_1;
  int dim_phi_12;
  int dim_phi_123;
  int dim_phi_2;
  int dim_phi_3;
  int dim_phi_4;
  int dim_prev_all_pcr;
  int dim_prev_all_pcr_1;
  int dim_prev_all_pcr_12;
  int dim_prev_all_pcr_123;
  int dim_prev_all_pcr_2;
  int dim_prev_all_pcr_3;
  int dim_prev_all_pcr_4;
  int dim_prev_all_slide;
  int dim_prev_all_slide_1;
  int dim_prev_all_slide_12;
  int dim_prev_all_slide_123;
  int dim_prev_all_slide_2;
  int dim_prev_all_slide_3;
  int dim_prev_all_slide_4;
  int dim_prev0to10_slide;
  int dim_prev0to10_slide_1;
  int dim_prev0to10_slide_12;
  int dim_prev0to10_slide_123;
  int dim_prev0to10_slide_2;
  int dim_prev0to10_slide_3;
  int dim_prev0to10_slide_4;
  int dim_prev0to5_pcr;
  int dim_prev0to5_pcr_1;
  int dim_prev0to5_pcr_12;
  int dim_prev0to5_pcr_123;
  int dim_prev0to5_pcr_2;
  int dim_prev0to5_pcr_3;
  int dim_prev0to5_pcr_4;
  int dim_prev0to5_slide;
  int dim_prev0to5_slide_1;
  int dim_prev0to5_slide_12;
  int dim_prev0to5_slide_123;
  int dim_prev0to5_slide_2;
  int dim_prev0to5_slide_3;
  int dim_prev0to5_slide_4;
  int dim_prev0to59;
  int dim_prev0to59_1;
  int dim_prev0to59_12;
  int dim_prev0to59_123;
  int dim_prev0to59_2;
  int dim_prev0to59_3;
  int dim_prev0to59_4;
  int dim_prev2to10;
  int dim_prev2to10_1;
  int dim_prev2to10_12;
  int dim_prev2to10_123;
  int dim_prev2to10_2;
  int dim_prev2to10_3;
  int dim_prev2to10_4;
  int dim_prev5to10_slide;
  int dim_prev5to10_slide_1;
  int dim_prev5to10_slide_12;
  int dim_prev5to10_slide_123;
  int dim_prev5to10_slide_2;
  int dim_prev5to10_slide_3;
  int dim_prev5to10_slide_4;
  int dim_rel_foi;
  int dim_S;
  int dim_S_1;
  int dim_S_12;
  int dim_S_123;
  int dim_S_2;
  int dim_S_3;
  int dim_S_4;
  int dim_Sx;
  int dim_T;
  int dim_T_1;
  int dim_T_12;
  int dim_T_123;
  int dim_T_2;
  int dim_T_3;
  int dim_T_4;
  int dim_ttt;
  int dim_U;
  int dim_U_1;
  int dim_U_12;
  int dim_U_123;
  int dim_U_2;
  int dim_U_3;
  int dim_U_4;
  int dim_w;
  int dim_whi;
  int dim_x_I;
  int dim_Y;
  int dim_Y_1;
  int dim_Y_12;
  int dim_Y_123;
  int dim_Y_2;
  int dim_Y_3;
  int dim_Y_4;
  int dim_yy;
  int dim_z;
  int dim_zhi;
  double dLL;
  double dPL;
  int eff_len;
  double *EIR;
  double eta;
  double *fd;
  double fD0;
  double *FOI;
  double *foi_age;
  double *FOI_lag;
  double *FOIvijk;
  double ft;
  double gamma1;
  double gammaD;
  double gammaL;
  double *haz;
  double *het_wt;
  double IB0;
  double *IC;
  double IC0;
  double ID0;
  double *init_A;
  double *init_D;
  double init_EL;
  double init_Ev;
  double *init_Ex;
  double *init_IB;
  double *init_ICA;
  double *init_ICM;
  double *init_ID;
  double init_Iv;
  double *init_Ix;
  double init_LL;
  double *init_P;
  double init_PL;
  double *init_S;
  double init_Sv;
  double *init_Sx;
  double *init_T;
  double *init_U;
  double *initial_A;
  double *initial_D;
  double initial_EL;
  double *initial_Ev;
  double *initial_Ex;
  double *initial_IB;
  double *initial_ICA;
  double *initial_ICM;
  double *initial_ID;
  double initial_Iv;
  double *initial_Ix;
  double initial_LL;
  double *initial_P;
  double initial_PL;
  double *initial_S;
  double initial_Sv;
  double *initial_Sx;
  double initial_t;
  double *initial_T;
  double *initial_U;
  void *interpolate_IVRM_sr;
  double irs_cov;
  double IRS_interval;
  double irs_loss;
  double itn_cov;
  double ITN_interval;
  double ITN_IRS_on;
  double itn_loss;
  double ivm_cov;
  double ivm_cov_par;
  double ivm_min_age;
  double *IVRM_start;
  double kB;
  double kC;
  double kD;
  double *MDA_A;
  double MDA_cov;
  double *MDA_D;
  double MDA_eff1;
  double MDA_eff2;
  double MDA_grp_prop;
  double *MDA_S;
  double MDA_succ;
  double *MDA_T;
  double MDA_t1;
  double MDA_t2;
  double MDA_t3;
  double MDA_t4;
  double MDA_t5;
  double MDA_t6;
  double MDA_t7;
  double MDA_t8;
  double *MDA_U;
  double *mu_vi;
  double mu0;
  double muEL;
  double muLL;
  double muPL;
  double mv0;
  int na;
  int ncc;
  int nh;
  int num_int;
  int offset_FOI_IB;
  int offset_FOIv_A;
  int offset_FOIv_ID;
  int offset_FOIv_U;
  int offset_variable_A;
  int offset_variable_D;
  int offset_variable_Ex;
  int offset_variable_IB;
  int offset_variable_ICA;
  int offset_variable_ICM;
  int offset_variable_ID;
  int offset_variable_Ix;
  int offset_variable_P;
  int offset_variable_S;
  int offset_variable_Sx;
  int offset_variable_T;
  int offset_variable_U;
  double omega;
  double *p_det;
  double p10;
  double p2;
  double *phi;
  double phi0;
  double phi1;
  double pi;
  double *prev_all_pcr;
  double *prev_all_slide;
  double *prev0to10_slide;
  double *prev0to5_pcr;
  double *prev0to5_slide;
  double *prev0to59;
  double *prev2to10;
  double *prev5to10_slide;
  double Q0;
  double r_IRS0;
  double r_ITN0;
  double r_ITN1;
  double rA;
  double rD;
  double *rel_foi;
  double rP;
  double rT;
  double rU;
  int SMCyrs;
  int spor_len;
  double ssa0;
  double ssa1;
  double ssa2;
  double ssa3;
  double ssb1;
  double ssb2;
  double ssb3;
  double tau_v;
  double tau1;
  double tau2;
  double theta_c;
  double *ttt;
  double uB;
  double uCA;
  double uD;
  double *w;
  double *whi;
  double *x_I;
  double *Y;
  double *yy;
  double *z;
  double *zhi;
  bool odin_model_IVM_SMChet_use_dde;
} odin_model_IVM_SMChet_internal;
typedef struct odin_model_metapop_internal {
  double aD;
  double *age;
  double age_20_factor;
  double *age_rate;
  int age05;
  int age20l;
  int age20u;
  int age59;
  double *Ah;
  double *av;
  double *av_human;
  double *av_mosq;
  double *b;
  double b_lambda;
  double b0;
  double b1;
  double *beta_larval;
  double *betaa;
  double betaL;
  double bites_Bed;
  double bites_Indoors;
  double *cA;
  double cD;
  double chi;
  double *clin_inc;
  double *clin_inc0to5;
  double *cov;
  double *cov_;
  double cT;
  double cU;
  double d_IRS0;
  double d_ITN0;
  double d1;
  double dB;
  double dCA;
  double dCM;
  double dE;
  double dEL;
  double *delay_array_av;
  double *delay_array_av_human;
  double *delay_array_av_mosq;
  double *delay_array_b;
  double *delay_array_cA;
  double *delay_array_EIR;
  double *delay_array_FOI_lag;
  double *delay_array_FOIvijk;
  double *delay_array_fv;
  double *delay_array_ince;
  double *delay_array_lag_FOIv;
  double *delay_array_lag_incv;
  double *delay_array_lag_mix_FOIv;
  double *delay_array_mu;
  double *delay_array_p_det;
  double *delay_array_p1;
  double *delay_array_Q;
  double *delay_array_rows;
  double *delay_array_rows_v;
  double *delay_array_surv;
  double *delay_array_w;
  double *delay_array_w_;
  double *delay_array_wbar;
  double *delay_array_wh;
  double *delay_array_whi;
  double *delay_array_yy;
  double *delay_array_yy_;
  double *delay_array_z;
  double *delay_array_z_;
  double *delay_array_zbar;
  double *delay_array_zh;
  double *delay_array_zhi;
  int *delay_index_FOI;
  int *delay_index_FOIv;
  int *delay_index_incv;
  double *delay_state_FOI;
  double *delay_state_FOIv;
  double *delay_state_incv;
  double delayGam;
  double delayMos;
  double *den;
  double *Dh;
  double dID;
  int dim_A;
  int dim_A_1;
  int dim_A_12;
  int dim_A_123;
  int dim_A_2;
  int dim_A_3;
  int dim_A_4;
  int dim_age;
  int dim_age_rate;
  int dim_Ah;
  int dim_Aout;
  int dim_av;
  int dim_av_human;
  int dim_av_human_1;
  int dim_av_human_2;
  int dim_av_mosq;
  int dim_av_mosq_1;
  int dim_av_mosq_2;
  int dim_b;
  int dim_b_1;
  int dim_b_12;
  int dim_b_123;
  int dim_b_2;
  int dim_b_3;
  int dim_b_4;
  int dim_beta_larval;
  int dim_betaa;
  int dim_cA;
  int dim_cA_1;
  int dim_cA_12;
  int dim_cA_123;
  int dim_cA_2;
  int dim_cA_3;
  int dim_cA_4;
  int dim_clin_inc;
  int dim_clin_inc_1;
  int dim_clin_inc_12;
  int dim_clin_inc_123;
  int dim_clin_inc_2;
  int dim_clin_inc_3;
  int dim_clin_inc_4;
  int dim_clin_inc0to5;
  int dim_clin_inc0to5_1;
  int dim_clin_inc0to5_12;
  int dim_clin_inc0to5_123;
  int dim_clin_inc0to5_2;
  int dim_clin_inc0to5_3;
  int dim_clin_inc0to5_4;
  int dim_cov;
  int dim_cov_;
  int dim_cov__1;
  int dim_cov__2;
  int dim_cov_1;
  int dim_cov_2;
  int dim_D;
  int dim_D_1;
  int dim_D_12;
  int dim_D_123;
  int dim_D_2;
  int dim_D_3;
  int dim_D_4;
  int dim_delay_FOI;
  int dim_delay_FOIv;
  int dim_delay_incv;
  int dim_den;
  int dim_Dh;
  int dim_Dout;
  int dim_EIR;
  int dim_EIR_1;
  int dim_EIR_12;
  int dim_EIR_123;
  int dim_EIR_2;
  int dim_EIR_3;
  int dim_EIR_4;
  int dim_EL;
  int dim_eov;
  int dim_Ev;
  int dim_fd;
  int dim_FOI;
  int dim_FOI_1;
  int dim_FOI_12;
  int dim_FOI_123;
  int dim_FOI_2;
  int dim_FOI_3;
  int dim_FOI_4;
  int dim_foi_age;
  int dim_FOI_lag;
  int dim_FOI_lag_1;
  int dim_FOI_lag_12;
  int dim_FOI_lag_123;
  int dim_FOI_lag_2;
  int dim_FOI_lag_3;
  int dim_FOI_lag_4;
  int dim_FOIv;
  int dim_FOIvijk;
  int dim_FOIvijk_1;
  int dim_FOIvijk_12;
  int dim_FOIvijk_123;
  int dim_FOIvijk_2;
  int dim_FOIvijk_3;
  int dim_FOIvijk_4;
  int dim_fv;
  int dim_H;
  int dim_het_wt;
  int dim_IB;
  int dim_IB_1;
  int dim_IB_12;
  int dim_IB_123;
  int dim_IB_2;
  int dim_IB_3;
  int dim_IB_4;
  int dim_IC;
  int dim_IC_1;
  int dim_IC_12;
  int dim_IC_123;
  int dim_IC_2;
  int dim_IC_3;
  int dim_IC_4;
  int dim_ICA;
  int dim_ICA_1;
  int dim_ICA_12;
  int dim_ICA_123;
  int dim_ICA_2;
  int dim_ICA_3;
  int dim_ICA_4;
  int dim_ICM;
  int dim_ICM_1;
  int dim_ICM_12;
  int dim_ICM_123;
  int dim_ICM_2;
  int dim_ICM_3;
  int dim_ICM_4;
  int dim_ID;
  int dim_ID_1;
  int dim_ID_12;
  int dim_ID_123;
  int dim_ID_2;
  int dim_ID_3;
  int dim_ID_4;
  int dim_inc05;
  int dim_ince;
  int dim_incv;
  int dim_init_A;
  int dim_init_A_1;
  int dim_init_A_12;
  int dim_init_A_123;
  int dim_init_A_2;
  int dim_init_A_3;
  int dim_init_A_4;
  int dim_init_D;
  int dim_init_D_1;
  int dim_init_D_12;
  int dim_init_D_123;
  int dim_init_D_2;
  int dim_init_D_3;
  int dim_init_D_4;
  int dim_init_EL;
  int dim_init_Ev;
  int dim_init_IB;
  int dim_init_IB_1;
  int dim_init_IB_12;
  int dim_init_IB_123;
  int dim_init_IB_2;
  int dim_init_IB_3;
  int dim_init_IB_4;
  int dim_init_ICA;
  int dim_init_ICA_1;
  int dim_init_ICA_12;
  int dim_init_ICA_123;
  int dim_init_ICA_2;
  int dim_init_ICA_3;
  int dim_init_ICA_4;
  int dim_init_ICM;
  int dim_init_ICM_1;
  int dim_init_ICM_12;
  int dim_init_ICM_123;
  int dim_init_ICM_2;
  int dim_init_ICM_3;
  int dim_init_ICM_4;
  int dim_init_ICM_pre;
  int dim_init_ICM_pre_1;
  int dim_init_ICM_pre_12;
  int dim_init_ICM_pre_2;
  int dim_init_ICM_pre_3;
  int dim_init_ID;
  int dim_init_ID_1;
  int dim_init_ID_12;
  int dim_init_ID_123;
  int dim_init_ID_2;
  int dim_init_ID_3;
  int dim_init_ID_4;
  int dim_init_Iv;
  int dim_init_LL;
  int dim_init_P;
  int dim_init_P_1;
  int dim_init_P_12;
  int dim_init_P_123;
  int dim_init_P_2;
  int dim_init_P_3;
  int dim_init_P_4;
  int dim_init_PL;
  int dim_init_S;
  int dim_init_S_1;
  int dim_init_S_12;
  int dim_init_S_123;
  int dim_init_S_2;
  int dim_init_S_3;
  int dim_init_S_4;
  int dim_init_Sv;
  int dim_init_T;
  int dim_init_T_1;
  int dim_init_T_12;
  int dim_init_T_123;
  int dim_init_T_2;
  int dim_init_T_3;
  int dim_init_T_4;
  int dim_init_U;
  int dim_init_U_1;
  int dim_init_U_12;
  int dim_init_U_123;
  int dim_init_U_2;
  int dim_init_U_3;
  int dim_init_U_4;
  int dim_irs_cov;
  int dim_itn_cov;
  int dim_Iv;
  int dim_Ivout;
  int dim_K0;
  int dim_KL;
  int dim_lag_FOIv;
  int dim_lag_incv;
  int dim_lag_mix_FOIv;
  int dim_lambda;
  int dim_LL;
  int dim_mix;
  int dim_mix_1;
  int dim_mix_2;
  int dim_mu;
  int dim_mv;
  int dim_mv0;
  int dim_P;
  int dim_P_1;
  int dim_P_12;
  int dim_P_123;
  int dim_P_2;
  int dim_P_3;
  int dim_P_4;
  int dim_p_det;
  int dim_p_det_1;
  int dim_p_det_12;
  int dim_p_det_123;
  int dim_p_det_2;
  int dim_p_det_3;
  int dim_p_det_4;
  int dim_p1;
  int dim_Ph;
  int dim_phi;
  int dim_phi_1;
  int dim_phi_12;
  int dim_phi_123;
  int dim_phi_2;
  int dim_phi_3;
  int dim_phi_4;
  int dim_PL;
  int dim_Pout;
  int dim_prev;
  int dim_prev0to59;
  int dim_prev0to59_1;
  int dim_prev0to59_12;
  int dim_prev0to59_123;
  int dim_prev0to59_2;
  int dim_prev0to59_3;
  int dim_prev0to59_4;
  int dim_Q;
  int dim_rel_foi;
  int dim_rows;
  int dim_rows_1;
  int dim_rows_2;
  int dim_rows_v;
  int dim_rows_v_1;
  int dim_rows_v_2;
  int dim_S;
  int dim_S_1;
  int dim_S_12;
  int dim_S_123;
  int dim_S_2;
  int dim_S_3;
  int dim_S_4;
  int dim_Sh;
  int dim_Sout;
  int dim_surv;
  int dim_Sv;
  int dim_T;
  int dim_T_1;
  int dim_T_12;
  int dim_T_123;
  int dim_T_2;
  int dim_T_3;
  int dim_T_4;
  int dim_Th;
  int dim_Tout;
  int dim_U;
  int dim_U_1;
  int dim_U_12;
  int dim_U_123;
  int dim_U_2;
  int dim_U_3;
  int dim_U_4;
  int dim_Uh;
  int dim_Uout;
  int dim_w;
  int dim_w_;
  int dim_wbar;
  int dim_wh;
  int dim_whi;
  int dim_whi_1;
  int dim_whi_2;
  int dim_x_I;
  int dim_Y;
  int dim_Y_1;
  int dim_Y_12;
  int dim_Y_123;
  int dim_Y_2;
  int dim_Y_3;
  int dim_Y_4;
  int dim_yy;
  int dim_yy_;
  int dim_z;
  int dim_z_;
  int dim_zbar;
  int dim_zh;
  int dim_zhi;
  int dim_zhi_1;
  int dim_zhi_2;
  double dLL;
  double dPL;
  double *EIR;
  double *eov;
  double eta;
  double *fd;
  double fD0;
  double *FOI;
  double *foi_age;
  double *FOI_lag;
  double *FOIv;
  double *FOIvijk;
  double ft;
  double *fv;
  double gamma1;
  double gammaD;
  double gammaL;
  double *H;
  double *het_wt;
  double IB0;
  double *IC;
  double IC0;
  double ID0;
  double *ince;
  double *incv;
  double *init_A;
  double *init_D;
  double *init_EL;
  double *init_Ev;
  double *init_IB;
  double *init_ICA;
  double *init_ICM;
  double *init_ICM_pre;
  double *init_ID;
  double *init_Iv;
  double *init_LL;
  double *init_P;
  double *init_PL;
  double *init_S;
  double *init_Sv;
  double *init_T;
  double *init_U;
  double *initial_A;
  double *initial_D;
  double *initial_EL;
  double *initial_Ev;
  double *initial_IB;
  double *initial_ICA;
  double *initial_ICM;
  double *initial_ID;
  double *initial_Iv;
  double *initial_LL;
  double *initial_P;
  double *initial_PL;
  double *initial_S;
  double *initial_Sv;
  double initial_t;
  double *initial_T;
  double *initial_U;
  double *irs_cov;
  double IRS_interval;
  double irs_loss;
  double *itn_cov;
  double ITN_interval;
  double ITN_IRS_on;
  double itn_loss;
  double *K0;
  double kB;
  double kC;
  double kD;
  double *KL;
  double *lag_FOIv;
  double *lag_incv;
  double *lag_mix_FOIv;
  double *lambda;
  double *mix;
  double *mu;
  double mu0;
  double muEL;
  double muLL;
  double muPL;
  double *mv;
  double *mv0;
  int na;
  int nh;
  int np;
  int num_int;
  int offset_FOIv_A;
  int offset_FOIv_ID;
  int offset_FOIv_U;
  int offset_output_Aout;
  int offset_output_beta_larval;
  int offset_output_cov;
  int offset_output_Dout;
  int offset_output_inc05;
  int offset_output_K0;
  int offset_output_KL;
  int offset_output_mu;
  int offset_output_mv;
  int offset_output_Pout;
  int offset_output_prev;
  int offset_output_Q;
  int offset_output_Sout;
  int offset_output_Tout;
  int offset_output_Uout;
  int offset_output_wh;
  int offset_variable_A;
  int offset_variable_D;
  int offset_variable_EL;
  int offset_variable_IB;
  int offset_variable_ICA;
  int offset_variable_ICM;
  int offset_variable_ID;
  int offset_variable_Iv;
  int offset_variable_LL;
  int offset_variable_P;
  int offset_variable_PL;
  int offset_variable_S;
  int offset_variable_T;
  int offset_variable_U;
  double omega;
  double *p_det;
  double *p1;
  double p10;
  double p2;
  double *Ph;
  double *phi;
  double phi0;
  double phi1;
  double pi;
  double PM;
  double *prev0to59;
  double *Q;
  double Q0;
  double r_IRS0;
  double r_ITN0;
  double r_ITN1;
  double rA;
  double rD;
  double *rel_foi;
  double *rows;
  double *rows_v;
  double rP;
  double rT;
  double rU;
  double *Sh;
  double ssa0;
  double ssa1;
  double ssa2;
  double ssa3;
  double ssb1;
  double ssb2;
  double ssb3;
  double *surv;
  double tau1;
  double tau2;
  double *Th;
  double theta_c;
  double uB;
  double uCA;
  double uD;
  double *Uh;
  double *w;
  double *w_;
  double *wbar;
  double *wh;
  double *whi;
  double *x_I;
  double *Y;
  double *yy;
  double *yy_;
  double *z;
  double *z_;
  double *zbar;
  double *zh;
  double *zhi;
  bool odin_model_metapop_use_dde;
} odin_model_metapop_internal;
typedef struct odin_model_TBV_internal {
  double aD;
  double *age;
  double age_20_factor;
  int age_max_rts;
  int age_max_tbv;
  int age_min_rts;
  int age_min_tbv;
  double *age_rate;
  int age05;
  int age20l;
  int age20u;
  int age59;
  double *ainf;
  double alpha_RTS;
  double *av_human;
  double *av_mosq;
  double *avisinf;
  double *b;
  double *b_fun;
  double b_lambda;
  double b0;
  double b1;
  double beta_RTS;
  double betaL;
  double bites_Bed;
  double bites_Indoors;
  double *cA;
  double *cA_fcn;
  double cD;
  double *cD_fcn;
  double chi;
  double *clin_inc;
  double *clin_inc0to5;
  double *cov;
  double *cov_;
  double CS_boost;
  double CS_peak;
  double cT;
  double *cT_fcn;
  double cU;
  double *cU_fcn;
  double d_IRS0;
  double d_ITN0;
  double d1;
  double dB;
  double dCA;
  double dCM;
  double dE;
  double dEL;
  double *delay_array_av_human;
  double *delay_array_av_mosq;
  double *delay_array_b;
  double *delay_array_b_fun;
  double *delay_array_cA;
  double *delay_array_cA_fcn;
  double *delay_array_cD_fcn;
  double *delay_array_cT_fcn;
  double *delay_array_cU_fcn;
  double *delay_array_EIR;
  double *delay_array_FOI_lag;
  double *delay_array_FOIvijk;
  double *delay_array_p_det;
  double *delay_array_w;
  double *delay_array_w_;
  double *delay_array_whi;
  double *delay_array_yy;
  double *delay_array_yy_;
  double *delay_array_z;
  double *delay_array_z_;
  double *delay_array_zhi;
  int *delay_index_FOI;
  int *delay_index_FOIv;
  int *delay_index_incv;
  double *delay_state_FOI;
  double *delay_state_FOIv;
  double *delay_state_incv;
  double delayGam;
  double delayMos;
  double *den;
  double dID;
  int dim_A;
  int dim_A_1;
  int dim_A_12;
  int dim_A_2;
  int dim_A_3;
  int dim_age;
  int dim_age_rate;
  int dim_ainf;
  int dim_ainf_1;
  int dim_ainf_12;
  int dim_ainf_2;
  int dim_ainf_3;
  int dim_ainf_Age;
  int dim_av_human;
  int dim_av_mosq;
  int dim_avisinf;
  int dim_avisinf_1;
  int dim_avisinf_12;
  int dim_avisinf_2;
  int dim_avisinf_3;
  int dim_avisinf_Age;
  int dim_b;
  int dim_b_1;
  int dim_b_12;
  int dim_b_2;
  int dim_b_3;
  int dim_b_fun;
  int dim_b_fun_1;
  int dim_b_fun_12;
  int dim_b_fun_2;
  int dim_b_fun_3;
  int dim_cA;
  int dim_cA_1;
  int dim_cA_12;
  int dim_cA_2;
  int dim_cA_3;
  int dim_cA_fcn;
  int dim_cA_fcn_1;
  int dim_cA_fcn_12;
  int dim_cA_fcn_2;
  int dim_cA_fcn_3;
  int dim_cD_fcn;
  int dim_cD_fcn_1;
  int dim_cD_fcn_2;
  int dim_clin_inc;
  int dim_clin_inc_1;
  int dim_clin_inc_12;
  int dim_clin_inc_2;
  int dim_clin_inc_3;
  int dim_clin_inc0to5;
  int dim_clin_inc0to5_1;
  int dim_clin_inc0to5_12;
  int dim_clin_inc0to5_2;
  int dim_clin_inc0to5_3;
  int dim_cov;
  int dim_cov_;
  int dim_cT_fcn;
  int dim_cT_fcn_1;
  int dim_cT_fcn_2;
  int dim_cU_fcn;
  int dim_cU_fcn_1;
  int dim_cU_fcn_2;
  int dim_D;
  int dim_D_1;
  int dim_D_12;
  int dim_D_2;
  int dim_D_3;
  int dim_delay_FOI;
  int dim_delay_FOIv;
  int dim_den;
  int dim_dinf;
  int dim_dinf_1;
  int dim_dinf_12;
  int dim_dinf_2;
  int dim_dinf_3;
  int dim_dinf_Age;
  int dim_EIR;
  int dim_EIR_1;
  int dim_EIR_12;
  int dim_EIR_2;
  int dim_EIR_3;
  int dim_EIRweight;
  int dim_EIRweight_1;
  int dim_EIRweight_12;
  int dim_EIRweight_2;
  int dim_EIRweight_3;
  int dim_fd;
  int dim_FOI;
  int dim_FOI_1;
  int dim_FOI_12;
  int dim_FOI_2;
  int dim_FOI_3;
  int dim_foi_age;
  int dim_FOI_lag;
  int dim_FOI_lag_1;
  int dim_FOI_lag_12;
  int dim_FOI_lag_2;
  int dim_FOI_lag_3;
  int dim_FOIvijk;
  int dim_FOIvijk_1;
  int dim_FOIvijk_12;
  int dim_FOIvijk_2;
  int dim_FOIvijk_3;
  int dim_het_wt;
  int dim_IB;
  int dim_IB_1;
  int dim_IB_12;
  int dim_IB_2;
  int dim_IB_3;
  int dim_IC;
  int dim_IC_1;
  int dim_IC_12;
  int dim_IC_2;
  int dim_IC_3;
  int dim_ICA;
  int dim_ICA_1;
  int dim_ICA_12;
  int dim_ICA_2;
  int dim_ICA_3;
  int dim_ICM;
  int dim_ICM_1;
  int dim_ICM_12;
  int dim_ICM_2;
  int dim_ICM_3;
  int dim_ID;
  int dim_ID_1;
  int dim_ID_12;
  int dim_ID_2;
  int dim_ID_3;
  int dim_init_A;
  int dim_init_A_1;
  int dim_init_A_12;
  int dim_init_A_2;
  int dim_init_A_3;
  int dim_init_D;
  int dim_init_D_1;
  int dim_init_D_12;
  int dim_init_D_2;
  int dim_init_D_3;
  int dim_init_IB;
  int dim_init_IB_1;
  int dim_init_IB_12;
  int dim_init_IB_2;
  int dim_init_IB_3;
  int dim_init_ICA;
  int dim_init_ICA_1;
  int dim_init_ICA_12;
  int dim_init_ICA_2;
  int dim_init_ICA_3;
  int dim_init_ICM;
  int dim_init_ICM_1;
  int dim_init_ICM_12;
  int dim_init_ICM_2;
  int dim_init_ICM_3;
  int dim_init_ICM_pre;
  int dim_init_ICM_pre_1;
  int dim_init_ICM_pre_2;
  int dim_init_ID;
  int dim_init_ID_1;
  int dim_init_ID_12;
  int dim_init_ID_2;
  int dim_init_ID_3;
  int dim_init_P;
  int dim_init_P_1;
  int dim_init_P_12;
  int dim_init_P_2;
  int dim_init_P_3;
  int dim_init_S;
  int dim_init_S_1;
  int dim_init_S_12;
  int dim_init_S_2;
  int dim_init_S_3;
  int dim_init_T;
  int dim_init_T_1;
  int dim_init_T_12;
  int dim_init_T_2;
  int dim_init_T_3;
  int dim_init_U;
  int dim_init_U_1;
  int dim_init_U_12;
  int dim_init_U_2;
  int dim_init_U_3;
  int dim_P;
  int dim_P_1;
  int dim_P_12;
  int dim_P_2;
  int dim_P_3;
  int dim_p_det;
  int dim_p_det_1;
  int dim_p_det_12;
  int dim_p_det_2;
  int dim_p_det_3;
  int dim_phi;
  int dim_phi_1;
  int dim_phi_12;
  int dim_phi_2;
  int dim_phi_3;
  int dim_prev;
  int dim_prev_1;
  int dim_prev_12;
  int dim_prev_2;
  int dim_prev_3;
  int dim_prev0to59;
  int dim_prev0to59_1;
  int dim_prev0to59_12;
  int dim_prev0to59_2;
  int dim_prev0to59_3;
  int dim_rel_foi;
  int dim_S;
  int dim_S_1;
  int dim_S_12;
  int dim_S_2;
  int dim_S_3;
  int dim_T;
  int dim_T_1;
  int dim_T_12;
  int dim_T_2;
  int dim_T_3;
  int dim_tinf;
  int dim_tinf_1;
  int dim_tinf_12;
  int dim_tinf_2;
  int dim_tinf_3;
  int dim_tinf_Age;
  int dim_U;
  int dim_U_1;
  int dim_U_12;
  int dim_U_2;
  int dim_U_3;
  int dim_uinf;
  int dim_uinf_1;
  int dim_uinf_12;
  int dim_uinf_2;
  int dim_uinf_3;
  int dim_uinf_Age;
  int dim_vis_A;
  int dim_vis_A_1;
  int dim_vis_A_12;
  int dim_vis_A_2;
  int dim_vis_A_3;
  int dim_w;
  int dim_w_;
  int dim_whi;
  int dim_x_I;
  int dim_Y;
  int dim_Y_1;
  int dim_Y_12;
  int dim_Y_2;
  int dim_Y_3;
  int dim_yy;
  int dim_yy_;
  int dim_z;
  int dim_z_;
  int dim_zhi;
  double *dinf;
  double dl;
  double dl25;
  double dLL;
  double dPL;
  double ds;
  double ds25;
  double *EIR;
  double *EIRweight;
  double eta;
  double *fd;
  double fD0;
  double *FOI;
  double *foi_age;
  double *FOI_lag;
  double *FOIvijk;
  double ft;
  double gamma1;
  double gammaD;
  double gammaL;
  double *het_wt;
  double hill1;
  double hill2;
  double IB0;
  double *IC;
  double IC0;
  double ID0;
  double *init_A;
  double *init_D;
  double init_EL;
  double init_Ev;
  double *init_IB;
  double *init_ICA;
  double *init_ICM;
  double *init_ICM_pre;
  double *init_ID;
  double init_Iv;
  double init_LL;
  double *init_P;
  double init_PL;
  double *init_S;
  double init_Sv;
  double *init_T;
  double *init_U;
  double *initial_A;
  double *initial_D;
  double initial_EL;
  double initial_Ev;
  double *initial_IB;
  double *initial_ICA;
  double *initial_ICM;
  double *initial_ID;
  double initial_Iv;
  double initial_LL;
  double *initial_P;
  double initial_PL;
  double *initial_S;
  double initial_Sv;
  double initial_t;
  double *initial_T;
  double *initial_U;
  double irs_cov;
  double IRS_interval;
  double irs_loss;
  double itn_cov;
  double ITN_interval;
  double ITN_IRS_on;
  double itn_loss;
  double kB;
  double kC;
  double kD;
  double mA;
  double mD;
  double mT;
  double mU;
  double mu0;
  double mu25;
  double muEL;
  double muLL;
  double muPL;
  double mv0;
  int na;
  int nh;
  int num_int;
  int offset_FOIv_A;
  int offset_FOIv_ID;
  int offset_FOIv_U;
  int offset_output_avisinf_Age;
  int offset_output_cov;
  int offset_output_dinf_Age;
  int offset_output_tinf_Age;
  int offset_output_uinf_Age;
  int offset_variable_A;
  int offset_variable_D;
  int offset_variable_IB;
  int offset_variable_ICA;
  int offset_variable_ICM;
  int offset_variable_ID;
  int offset_variable_P;
  int offset_variable_T;
  int offset_variable_U;
  double omega;
  double p_boost;
  double *p_det;
  double p_peak;
  double p10;
  double p2;
  double *phi;
  double phi0;
  double phi1;
  double pi;
  double PM;
  double *prev;
  double *prev0to59;
  double Q0;
  double r_IRS0;
  double r_ITN0;
  double r_ITN1;
  double r_l;
  double r_s;
  double rA;
  double rD;
  double *rel_foi;
  double rho25;
  double rl25;
  double rP;
  double rrA;
  double rrD;
  double rrT;
  double rrU;
  double rs25;
  double rT;
  double RTS_switch;
  double rU;
  double ssa0;
  double ssa1;
  double ssa2;
  double ssa3;
  double ssb1;
  double ssb2;
  double ssb3;
  double switch_TBV;
  double switch_TRA_to_TBA;
  double t_boost_rts;
  double tau1;
  double tau2;
  double tau25;
  double theta_c;
  double *tinf;
  double uB;
  double uCA;
  double uD;
  double *uinf;
  double v_interval;
  double V_max_RTS;
  double vacc_lag;
  double vacc_on;
  double *vis_A;
  double *w;
  double *w_;
  double *whi;
  double *x_I;
  double *Y;
  double *yy;
  double *yy_;
  double *z;
  double *z_;
  double *zhi;
  bool odin_model_TBV_use_dde;
} odin_model_TBV_internal;
odin_model_internal* odin_model_get_internal(SEXP internal_p, int closed_error);
static void odin_model_finalise(SEXP internal_p);
SEXP odin_model_create(SEXP user);
void odin_model_initmod_desolve(void(* odeparms) (int *, double *));
SEXP odin_model_contents(SEXP internal_p);
SEXP odin_model_set_user(SEXP internal_p, SEXP user);
SEXP odin_model_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_use_dde_ptr);
SEXP odin_model_metadata(SEXP internal_p);
SEXP odin_model_initial_conditions(SEXP internal_p, SEXP t_ptr);
void odin_model_rhs(odin_model_internal* internal, double t, double * state, double * dstatedt, double * output);
void odin_model_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal);
void odin_model_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np);
void odin_model_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p);
SEXP odin_model_rhs_r(SEXP internal_p, SEXP t, SEXP state);
odin_model_emanators_internal* odin_model_emanators_get_internal(SEXP internal_p, int closed_error);
static void odin_model_emanators_finalise(SEXP internal_p);
SEXP odin_model_emanators_create(SEXP user);
void odin_model_emanators_initmod_desolve(void(* odeparms) (int *, double *));
SEXP odin_model_emanators_contents(SEXP internal_p);
SEXP odin_model_emanators_set_user(SEXP internal_p, SEXP user);
SEXP odin_model_emanators_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_emanators_use_dde_ptr);
SEXP odin_model_emanators_metadata(SEXP internal_p);
SEXP odin_model_emanators_initial_conditions(SEXP internal_p, SEXP t_ptr);
void odin_model_emanators_rhs(odin_model_emanators_internal* internal, double t, double * state, double * dstatedt, double * output);
void odin_model_emanators_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal);
void odin_model_emanators_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np);
void odin_model_emanators_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p);
SEXP odin_model_emanators_rhs_r(SEXP internal_p, SEXP t, SEXP state);
odin_model_hrp2_internal* odin_model_hrp2_get_internal(SEXP internal_p, int closed_error);
static void odin_model_hrp2_finalise(SEXP internal_p);
SEXP odin_model_hrp2_create(SEXP user);
void odin_model_hrp2_initmod_desolve(void(* odeparms) (int *, double *));
SEXP odin_model_hrp2_contents(SEXP internal_p);
SEXP odin_model_hrp2_set_user(SEXP internal_p, SEXP user);
SEXP odin_model_hrp2_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_hrp2_use_dde_ptr);
SEXP odin_model_hrp2_metadata(SEXP internal_p);
SEXP odin_model_hrp2_initial_conditions(SEXP internal_p, SEXP t_ptr);
void odin_model_hrp2_rhs(odin_model_hrp2_internal* internal, double t, double * state, double * dstatedt, double * output);
void odin_model_hrp2_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal);
void odin_model_hrp2_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np);
void odin_model_hrp2_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p);
SEXP odin_model_hrp2_rhs_r(SEXP internal_p, SEXP t, SEXP state);
odin_model_IVM_SMChet_internal* odin_model_IVM_SMChet_get_internal(SEXP internal_p, int closed_error);
static void odin_model_IVM_SMChet_finalise(SEXP internal_p);
SEXP odin_model_IVM_SMChet_create(SEXP user);
void odin_model_IVM_SMChet_initmod_desolve(void(* odeparms) (int *, double *));
SEXP odin_model_IVM_SMChet_contents(SEXP internal_p);
SEXP odin_model_IVM_SMChet_set_user(SEXP internal_p, SEXP user);
SEXP odin_model_IVM_SMChet_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_IVM_SMChet_use_dde_ptr);
SEXP odin_model_IVM_SMChet_metadata(SEXP internal_p);
SEXP odin_model_IVM_SMChet_initial_conditions(SEXP internal_p, SEXP t_ptr);
void odin_model_IVM_SMChet_rhs(odin_model_IVM_SMChet_internal* internal, double t, double * state, double * dstatedt, double * output);
void odin_model_IVM_SMChet_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal);
void odin_model_IVM_SMChet_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np);
void odin_model_IVM_SMChet_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p);
SEXP odin_model_IVM_SMChet_rhs_r(SEXP internal_p, SEXP t, SEXP state);
odin_model_metapop_internal* odin_model_metapop_get_internal(SEXP internal_p, int closed_error);
static void odin_model_metapop_finalise(SEXP internal_p);
SEXP odin_model_metapop_create(SEXP user);
void odin_model_metapop_initmod_desolve(void(* odeparms) (int *, double *));
SEXP odin_model_metapop_contents(SEXP internal_p);
SEXP odin_model_metapop_set_user(SEXP internal_p, SEXP user);
SEXP odin_model_metapop_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_metapop_use_dde_ptr);
SEXP odin_model_metapop_metadata(SEXP internal_p);
SEXP odin_model_metapop_initial_conditions(SEXP internal_p, SEXP t_ptr);
void odin_model_metapop_rhs(odin_model_metapop_internal* internal, double t, double * state, double * dstatedt, double * output);
void odin_model_metapop_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal);
void odin_model_metapop_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np);
void odin_model_metapop_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p);
SEXP odin_model_metapop_rhs_r(SEXP internal_p, SEXP t, SEXP state);
odin_model_TBV_internal* odin_model_TBV_get_internal(SEXP internal_p, int closed_error);
static void odin_model_TBV_finalise(SEXP internal_p);
SEXP odin_model_TBV_create(SEXP user);
void odin_model_TBV_initmod_desolve(void(* odeparms) (int *, double *));
SEXP odin_model_TBV_contents(SEXP internal_p);
SEXP odin_model_TBV_set_user(SEXP internal_p, SEXP user);
SEXP odin_model_TBV_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_TBV_use_dde_ptr);
SEXP odin_model_TBV_metadata(SEXP internal_p);
SEXP odin_model_TBV_initial_conditions(SEXP internal_p, SEXP t_ptr);
void odin_model_TBV_rhs(odin_model_TBV_internal* internal, double t, double * state, double * dstatedt, double * output);
void odin_model_TBV_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal);
void odin_model_TBV_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np);
void odin_model_TBV_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p);
SEXP odin_model_TBV_rhs_r(SEXP internal_p, SEXP t, SEXP state);
double user_get_scalar_double(SEXP user, const char *name,
                              double default_value, double min, double max);
int user_get_scalar_int(SEXP user, const char *name,
                        int default_value, double min, double max);
void user_check_values_double(double * value, size_t len,
                                  double min, double max, const char *name);
void user_check_values_int(int * value, size_t len,
                               double min, double max, const char *name);
void user_check_values(SEXP value, double min, double max,
                           const char *name);
SEXP user_list_element(SEXP list, const char *name);
void odin_set_dim(SEXP target, int rank, ...);
void* user_get_array_dim(SEXP user, bool is_integer, void * previous,
                         const char *name, int rank,
                         double min, double max, int *dest_dim);
void* user_get_array(SEXP user, bool is_integer, void * previous,
                     const char *name, double min, double max,
                     int rank, ...);
SEXP user_get_array_check(SEXP el, bool is_integer, const char *name,
                          double min, double max);
SEXP user_get_array_check_rank(SEXP user, const char *name, int rank,
                               bool required);
void lagvalue(double t, bool use_dde, int *idx, int dim_idx, double *state);
void lagvalue_dde(double t, int *idx, size_t dim_idx, double *state);
void lagvalue_ds(double t, int *idx, int dim_idx, double *state);
double fmodr(double x, double y);
double odin_sum1(double *x, size_t from, size_t to);
int odin_isum1(int *x, size_t from, size_t to);
double scalar_real(SEXP x, const char * name);
double odin_sum2(double* x, int from_i, int to_i, int from_j, int to_j, int dim_x_1);
double odin_sum3(double* x, int from_i, int to_i, int from_j, int to_j, int from_k, int to_k, int dim_x_1, int dim_x_12);
void interpolate_check_y(size_t nx, size_t ny, size_t i, const char *name_arg, const char *name_target);
double odin_sum4(double* x, int from_i, int to_i, int from_j, int to_j, int from_k, int to_k, int from_l, int to_l, int dim_x_1, int dim_x_12, int dim_x_123);
odin_model_internal* odin_model_get_internal(SEXP internal_p, int closed_error) {
  odin_model_internal *internal = NULL;
  if (TYPEOF(internal_p) != EXTPTRSXP) {
    Rf_error("Expected an external pointer");
  }
  internal = (odin_model_internal*) R_ExternalPtrAddr(internal_p);
  if (!internal && closed_error) {
    Rf_error("Pointer has been invalidated");
  }
  return internal;
}
void odin_model_finalise(SEXP internal_p) {
  odin_model_internal *internal = odin_model_get_internal(internal_p, 0);
  if (internal_p) {
    Free(internal->age);
    Free(internal->age_rate);
    Free(internal->av_human);
    Free(internal->av_mosq);
    Free(internal->b);
    Free(internal->cA);
    Free(internal->clin_inc);
    Free(internal->clin_inc0to5);
    Free(internal->cov);
    Free(internal->cov_);
    Free(internal->delay_array_av_human);
    Free(internal->delay_array_av_mosq);
    Free(internal->delay_array_b);
    Free(internal->delay_array_cA);
    Free(internal->delay_array_EIR);
    Free(internal->delay_array_FOI_lag);
    Free(internal->delay_array_FOIvijk);
    Free(internal->delay_array_p_det);
    Free(internal->delay_array_w);
    Free(internal->delay_array_w_);
    Free(internal->delay_array_whi);
    Free(internal->delay_array_yy);
    Free(internal->delay_array_yy_);
    Free(internal->delay_array_z);
    Free(internal->delay_array_z_);
    Free(internal->delay_array_zhi);
    Free(internal->delay_index_FOI);
    Free(internal->delay_index_FOIv);
    Free(internal->delay_index_incv);
    Free(internal->delay_state_FOI);
    Free(internal->delay_state_FOIv);
    Free(internal->delay_state_incv);
    Free(internal->den);
    Free(internal->EIR);
    Free(internal->fd);
    Free(internal->FOI);
    Free(internal->foi_age);
    Free(internal->FOI_lag);
    Free(internal->FOIvijk);
    Free(internal->het_wt);
    Free(internal->IC);
    Free(internal->init_A);
    Free(internal->init_D);
    Free(internal->init_IB);
    Free(internal->init_ICA);
    Free(internal->init_ICM);
    Free(internal->init_ICM_pre);
    Free(internal->init_ID);
    Free(internal->init_P);
    Free(internal->init_S);
    Free(internal->init_T);
    Free(internal->init_U);
    Free(internal->initial_A);
    Free(internal->initial_D);
    Free(internal->initial_IB);
    Free(internal->initial_ICA);
    Free(internal->initial_ICM);
    Free(internal->initial_ID);
    Free(internal->initial_P);
    Free(internal->initial_S);
    Free(internal->initial_T);
    Free(internal->initial_U);
    Free(internal->p_det);
    Free(internal->phi);
    Free(internal->prev0to59);
    Free(internal->rel_foi);
    Free(internal->w);
    Free(internal->w_);
    Free(internal->whi);
    Free(internal->x_I);
    Free(internal->Y);
    Free(internal->yy);
    Free(internal->yy_);
    Free(internal->z);
    Free(internal->z_);
    Free(internal->zhi);
    Free(internal);
    R_ClearExternalPtr(internal_p);
  }
}
SEXP odin_model_create(SEXP user) {
  odin_model_internal *internal = (odin_model_internal*) Calloc(1, odin_model_internal);
  internal->age = NULL;
  internal->age_rate = NULL;
  internal->av_human = NULL;
  internal->av_mosq = NULL;
  internal->b = NULL;
  internal->cA = NULL;
  internal->clin_inc = NULL;
  internal->clin_inc0to5 = NULL;
  internal->cov = NULL;
  internal->cov_ = NULL;
  internal->delay_array_av_human = NULL;
  internal->delay_array_av_mosq = NULL;
  internal->delay_array_b = NULL;
  internal->delay_array_cA = NULL;
  internal->delay_array_EIR = NULL;
  internal->delay_array_FOI_lag = NULL;
  internal->delay_array_FOIvijk = NULL;
  internal->delay_array_p_det = NULL;
  internal->delay_array_w = NULL;
  internal->delay_array_w_ = NULL;
  internal->delay_array_whi = NULL;
  internal->delay_array_yy = NULL;
  internal->delay_array_yy_ = NULL;
  internal->delay_array_z = NULL;
  internal->delay_array_z_ = NULL;
  internal->delay_array_zhi = NULL;
  internal->delay_index_FOI = NULL;
  internal->delay_index_FOIv = NULL;
  internal->delay_index_incv = NULL;
  internal->delay_state_FOI = NULL;
  internal->delay_state_FOIv = NULL;
  internal->delay_state_incv = NULL;
  internal->den = NULL;
  internal->EIR = NULL;
  internal->fd = NULL;
  internal->FOI = NULL;
  internal->foi_age = NULL;
  internal->FOI_lag = NULL;
  internal->FOIvijk = NULL;
  internal->het_wt = NULL;
  internal->IC = NULL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ICM_pre = NULL;
  internal->init_ID = NULL;
  internal->init_P = NULL;
  internal->init_S = NULL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->initial_A = NULL;
  internal->initial_D = NULL;
  internal->initial_IB = NULL;
  internal->initial_ICA = NULL;
  internal->initial_ICM = NULL;
  internal->initial_ID = NULL;
  internal->initial_P = NULL;
  internal->initial_S = NULL;
  internal->initial_T = NULL;
  internal->initial_U = NULL;
  internal->p_det = NULL;
  internal->phi = NULL;
  internal->prev0to59 = NULL;
  internal->rel_foi = NULL;
  internal->w = NULL;
  internal->w_ = NULL;
  internal->whi = NULL;
  internal->x_I = NULL;
  internal->Y = NULL;
  internal->yy = NULL;
  internal->yy_ = NULL;
  internal->z = NULL;
  internal->z_ = NULL;
  internal->zhi = NULL;
  Free(internal->delay_index_incv);
  internal->delay_index_incv = Calloc(1, int);
  Free(internal->delay_state_incv);
  internal->delay_state_incv = Calloc(1, double);
  internal->delay_index_incv[0] = 0;
  internal->dim_cov_ = 4;
  internal->dim_w_ = 4;
  internal->dim_yy_ = 4;
  internal->dim_z_ = 4;
  Free(internal->cov_);
  internal->cov_ = (double*) Calloc(internal->dim_cov_, double);
  Free(internal->w_);
  internal->w_ = (double*) Calloc(internal->dim_w_, double);
  Free(internal->yy_);
  internal->yy_ = (double*) Calloc(internal->dim_yy_, double);
  Free(internal->z_);
  internal->z_ = (double*) Calloc(internal->dim_z_, double);
  Free(internal->delay_array_w_);
  internal->delay_array_w_ = (double*) Calloc(internal->dim_w_, double);
  Free(internal->delay_array_yy_);
  internal->delay_array_yy_ = (double*) Calloc(internal->dim_yy_, double);
  Free(internal->delay_array_z_);
  internal->delay_array_z_ = (double*) Calloc(internal->dim_z_, double);
  internal->aD = NA_REAL;
  internal->age = NULL;
  internal->age_20_factor = NA_REAL;
  internal->age_rate = NULL;
  internal->age05 = NA_INTEGER;
  internal->age20l = NA_INTEGER;
  internal->age20u = NA_INTEGER;
  internal->age59 = NA_INTEGER;
  internal->b0 = NA_REAL;
  internal->b1 = NA_REAL;
  internal->betaL = NA_REAL;
  internal->bites_Bed = NA_REAL;
  internal->bites_Indoors = NA_REAL;
  internal->cD = NA_REAL;
  internal->chi = NA_REAL;
  internal->cT = NA_REAL;
  internal->cU = NA_REAL;
  internal->d_IRS0 = NA_REAL;
  internal->d_ITN0 = NA_REAL;
  internal->d1 = NA_REAL;
  internal->dB = NA_REAL;
  internal->dCA = NA_REAL;
  internal->dCM = NA_REAL;
  internal->dE = NA_REAL;
  internal->dEL = NA_REAL;
  internal->delayGam = NA_REAL;
  internal->delayMos = NA_REAL;
  internal->den = NULL;
  internal->dID = NA_REAL;
  internal->dLL = NA_REAL;
  internal->dPL = NA_REAL;
  internal->eta = NA_REAL;
  internal->fD0 = NA_REAL;
  internal->foi_age = NULL;
  internal->ft = NA_REAL;
  internal->gamma1 = NA_REAL;
  internal->gammaD = NA_REAL;
  internal->gammaL = NA_REAL;
  internal->het_wt = NULL;
  internal->IB0 = NA_REAL;
  internal->IC0 = NA_REAL;
  internal->ID0 = NA_REAL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_EL = NA_REAL;
  internal->init_Ev = NA_REAL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ID = NULL;
  internal->init_Iv = NA_REAL;
  internal->init_LL = NA_REAL;
  internal->init_P = NULL;
  internal->init_PL = NA_REAL;
  internal->init_S = NULL;
  internal->init_Sv = NA_REAL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->irs_cov = NA_REAL;
  internal->IRS_interval = NA_REAL;
  internal->irs_loss = NA_REAL;
  internal->itn_cov = NA_REAL;
  internal->ITN_interval = NA_REAL;
  internal->ITN_IRS_on = NA_REAL;
  internal->itn_loss = NA_REAL;
  internal->kB = NA_REAL;
  internal->kC = NA_REAL;
  internal->kD = NA_REAL;
  internal->mu0 = NA_REAL;
  internal->muEL = NA_REAL;
  internal->muLL = NA_REAL;
  internal->muPL = NA_REAL;
  internal->mv0 = NA_REAL;
  internal->na = NA_INTEGER;
  internal->nh = NA_INTEGER;
  internal->num_int = NA_INTEGER;
  internal->omega = NA_REAL;
  internal->p10 = NA_REAL;
  internal->p2 = NA_REAL;
  internal->phi0 = NA_REAL;
  internal->phi1 = NA_REAL;
  internal->pi = NA_REAL;
  internal->PM = NA_REAL;
  internal->Q0 = NA_REAL;
  internal->r_IRS0 = NA_REAL;
  internal->r_ITN0 = NA_REAL;
  internal->r_ITN1 = NA_REAL;
  internal->rA = NA_REAL;
  internal->rD = NA_REAL;
  internal->rel_foi = NULL;
  internal->rP = NA_REAL;
  internal->rT = NA_REAL;
  internal->rU = NA_REAL;
  internal->ssa0 = NA_REAL;
  internal->ssa1 = NA_REAL;
  internal->ssa2 = NA_REAL;
  internal->ssa3 = NA_REAL;
  internal->ssb1 = NA_REAL;
  internal->ssb2 = NA_REAL;
  internal->ssb3 = NA_REAL;
  internal->tau1 = NA_REAL;
  internal->tau2 = NA_REAL;
  internal->theta_c = NA_REAL;
  internal->uB = NA_REAL;
  internal->uCA = NA_REAL;
  internal->uD = NA_REAL;
  internal->x_I = NULL;
  internal->initial_t = NA_REAL;
  SEXP ptr = PROTECT(R_MakeExternalPtr(internal, R_NilValue, R_NilValue));
  R_RegisterCFinalizer(ptr, odin_model_finalise);
  UNPROTECT(1);
  return ptr;
}
static odin_model_internal *odin_model_internal_ds;
void odin_model_initmod_desolve(void(* odeparms) (int *, double *)) {
  static DL_FUNC get_desolve_gparms = NULL;
  if (get_desolve_gparms == NULL) {
    get_desolve_gparms =
      R_GetCCallable("deSolve", "get_deSolve_gparms");
  }
  odin_model_internal_ds = odin_model_get_internal(get_desolve_gparms(), 1);
}
SEXP odin_model_contents(SEXP internal_p) {
  odin_model_internal *internal = odin_model_get_internal(internal_p, 1);
  SEXP contents = PROTECT(allocVector(VECSXP, 377));
  SET_VECTOR_ELT(contents, 0, ScalarReal(internal->aD));
  SEXP age = PROTECT(allocVector(REALSXP, internal->dim_age));
  memcpy(REAL(age), internal->age, internal->dim_age * sizeof(double));
  SET_VECTOR_ELT(contents, 1, age);
  SET_VECTOR_ELT(contents, 2, ScalarReal(internal->age_20_factor));
  SEXP age_rate = PROTECT(allocVector(REALSXP, internal->dim_age_rate));
  memcpy(REAL(age_rate), internal->age_rate, internal->dim_age_rate * sizeof(double));
  SET_VECTOR_ELT(contents, 3, age_rate);
  SET_VECTOR_ELT(contents, 4, ScalarInteger(internal->age05));
  SET_VECTOR_ELT(contents, 5, ScalarInteger(internal->age20l));
  SET_VECTOR_ELT(contents, 6, ScalarInteger(internal->age20u));
  SET_VECTOR_ELT(contents, 7, ScalarInteger(internal->age59));
  SEXP av_human = PROTECT(allocVector(REALSXP, internal->dim_av_human));
  memcpy(REAL(av_human), internal->av_human, internal->dim_av_human * sizeof(double));
  SET_VECTOR_ELT(contents, 8, av_human);
  SEXP av_mosq = PROTECT(allocVector(REALSXP, internal->dim_av_mosq));
  memcpy(REAL(av_mosq), internal->av_mosq, internal->dim_av_mosq * sizeof(double));
  SET_VECTOR_ELT(contents, 9, av_mosq);
  SEXP b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(b), internal->b, internal->dim_b * sizeof(double));
  odin_set_dim(b, 3, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3);
  SET_VECTOR_ELT(contents, 10, b);
  SET_VECTOR_ELT(contents, 11, ScalarReal(internal->b_lambda));
  SET_VECTOR_ELT(contents, 12, ScalarReal(internal->b0));
  SET_VECTOR_ELT(contents, 13, ScalarReal(internal->b1));
  SET_VECTOR_ELT(contents, 14, ScalarReal(internal->betaL));
  SET_VECTOR_ELT(contents, 15, ScalarReal(internal->bites_Bed));
  SET_VECTOR_ELT(contents, 16, ScalarReal(internal->bites_Indoors));
  SEXP cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(cA), internal->cA, internal->dim_cA * sizeof(double));
  odin_set_dim(cA, 3, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3);
  SET_VECTOR_ELT(contents, 17, cA);
  SET_VECTOR_ELT(contents, 18, ScalarReal(internal->cD));
  SET_VECTOR_ELT(contents, 19, ScalarReal(internal->chi));
  SEXP clin_inc = PROTECT(allocVector(REALSXP, internal->dim_clin_inc));
  memcpy(REAL(clin_inc), internal->clin_inc, internal->dim_clin_inc * sizeof(double));
  odin_set_dim(clin_inc, 3, internal->dim_clin_inc_1, internal->dim_clin_inc_2, internal->dim_clin_inc_3);
  SET_VECTOR_ELT(contents, 20, clin_inc);
  SEXP clin_inc0to5 = PROTECT(allocVector(REALSXP, internal->dim_clin_inc0to5));
  memcpy(REAL(clin_inc0to5), internal->clin_inc0to5, internal->dim_clin_inc0to5 * sizeof(double));
  odin_set_dim(clin_inc0to5, 3, internal->dim_clin_inc0to5_1, internal->dim_clin_inc0to5_2, internal->dim_clin_inc0to5_3);
  SET_VECTOR_ELT(contents, 21, clin_inc0to5);
  SEXP cov = PROTECT(allocVector(REALSXP, internal->dim_cov));
  memcpy(REAL(cov), internal->cov, internal->dim_cov * sizeof(double));
  SET_VECTOR_ELT(contents, 22, cov);
  SEXP cov_ = PROTECT(allocVector(REALSXP, internal->dim_cov_));
  memcpy(REAL(cov_), internal->cov_, internal->dim_cov_ * sizeof(double));
  SET_VECTOR_ELT(contents, 23, cov_);
  SET_VECTOR_ELT(contents, 24, ScalarReal(internal->cT));
  SET_VECTOR_ELT(contents, 25, ScalarReal(internal->cU));
  SET_VECTOR_ELT(contents, 26, ScalarReal(internal->d_IRS0));
  SET_VECTOR_ELT(contents, 27, ScalarReal(internal->d_ITN0));
  SET_VECTOR_ELT(contents, 28, ScalarReal(internal->d1));
  SET_VECTOR_ELT(contents, 29, ScalarReal(internal->dB));
  SET_VECTOR_ELT(contents, 30, ScalarReal(internal->dCA));
  SET_VECTOR_ELT(contents, 31, ScalarReal(internal->dCM));
  SET_VECTOR_ELT(contents, 32, ScalarReal(internal->dE));
  SET_VECTOR_ELT(contents, 33, ScalarReal(internal->dEL));
  SEXP delay_array_av_human = PROTECT(allocVector(REALSXP, internal->dim_av_human));
  memcpy(REAL(delay_array_av_human), internal->delay_array_av_human, internal->dim_av_human * sizeof(double));
  SET_VECTOR_ELT(contents, 34, delay_array_av_human);
  SEXP delay_array_av_mosq = PROTECT(allocVector(REALSXP, internal->dim_av_mosq));
  memcpy(REAL(delay_array_av_mosq), internal->delay_array_av_mosq, internal->dim_av_mosq * sizeof(double));
  SET_VECTOR_ELT(contents, 35, delay_array_av_mosq);
  SEXP delay_array_b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(delay_array_b), internal->delay_array_b, internal->dim_b * sizeof(double));
  odin_set_dim(delay_array_b, 3, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3);
  SET_VECTOR_ELT(contents, 36, delay_array_b);
  SEXP delay_array_cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(delay_array_cA), internal->delay_array_cA, internal->dim_cA * sizeof(double));
  odin_set_dim(delay_array_cA, 3, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3);
  SET_VECTOR_ELT(contents, 37, delay_array_cA);
  SEXP delay_array_EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(delay_array_EIR), internal->delay_array_EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(delay_array_EIR, 3, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3);
  SET_VECTOR_ELT(contents, 38, delay_array_EIR);
  SEXP delay_array_FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(delay_array_FOI_lag), internal->delay_array_FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(delay_array_FOI_lag, 3, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3);
  SET_VECTOR_ELT(contents, 39, delay_array_FOI_lag);
  SEXP delay_array_FOIvijk = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk));
  memcpy(REAL(delay_array_FOIvijk), internal->delay_array_FOIvijk, internal->dim_FOIvijk * sizeof(double));
  odin_set_dim(delay_array_FOIvijk, 3, internal->dim_FOIvijk_1, internal->dim_FOIvijk_2, internal->dim_FOIvijk_3);
  SET_VECTOR_ELT(contents, 40, delay_array_FOIvijk);
  SEXP delay_array_p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(delay_array_p_det), internal->delay_array_p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(delay_array_p_det, 3, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3);
  SET_VECTOR_ELT(contents, 41, delay_array_p_det);
  SEXP delay_array_w = PROTECT(allocVector(REALSXP, internal->dim_w));
  memcpy(REAL(delay_array_w), internal->delay_array_w, internal->dim_w * sizeof(double));
  SET_VECTOR_ELT(contents, 42, delay_array_w);
  SEXP delay_array_w_ = PROTECT(allocVector(REALSXP, internal->dim_w_));
  memcpy(REAL(delay_array_w_), internal->delay_array_w_, internal->dim_w_ * sizeof(double));
  SET_VECTOR_ELT(contents, 43, delay_array_w_);
  SEXP delay_array_whi = PROTECT(allocVector(REALSXP, internal->dim_whi));
  memcpy(REAL(delay_array_whi), internal->delay_array_whi, internal->dim_whi * sizeof(double));
  SET_VECTOR_ELT(contents, 44, delay_array_whi);
  SEXP delay_array_yy = PROTECT(allocVector(REALSXP, internal->dim_yy));
  memcpy(REAL(delay_array_yy), internal->delay_array_yy, internal->dim_yy * sizeof(double));
  SET_VECTOR_ELT(contents, 45, delay_array_yy);
  SEXP delay_array_yy_ = PROTECT(allocVector(REALSXP, internal->dim_yy_));
  memcpy(REAL(delay_array_yy_), internal->delay_array_yy_, internal->dim_yy_ * sizeof(double));
  SET_VECTOR_ELT(contents, 46, delay_array_yy_);
  SEXP delay_array_z = PROTECT(allocVector(REALSXP, internal->dim_z));
  memcpy(REAL(delay_array_z), internal->delay_array_z, internal->dim_z * sizeof(double));
  SET_VECTOR_ELT(contents, 47, delay_array_z);
  SEXP delay_array_z_ = PROTECT(allocVector(REALSXP, internal->dim_z_));
  memcpy(REAL(delay_array_z_), internal->delay_array_z_, internal->dim_z_ * sizeof(double));
  SET_VECTOR_ELT(contents, 48, delay_array_z_);
  SEXP delay_array_zhi = PROTECT(allocVector(REALSXP, internal->dim_zhi));
  memcpy(REAL(delay_array_zhi), internal->delay_array_zhi, internal->dim_zhi * sizeof(double));
  SET_VECTOR_ELT(contents, 49, delay_array_zhi);
  SEXP delay_index_FOI = PROTECT(allocVector(INTSXP, internal->dim_delay_FOI));
  memcpy(INTEGER(delay_index_FOI), internal->delay_index_FOI, internal->dim_delay_FOI * sizeof(int));
  SET_VECTOR_ELT(contents, 50, delay_index_FOI);
  SEXP delay_index_FOIv = PROTECT(allocVector(INTSXP, internal->dim_delay_FOIv));
  memcpy(INTEGER(delay_index_FOIv), internal->delay_index_FOIv, internal->dim_delay_FOIv * sizeof(int));
  SET_VECTOR_ELT(contents, 51, delay_index_FOIv);
  SEXP delay_index_incv = PROTECT(allocVector(INTSXP, 1));
  memcpy(INTEGER(delay_index_incv), internal->delay_index_incv, 1 * sizeof(int));
  SET_VECTOR_ELT(contents, 52, delay_index_incv);
  SEXP delay_state_FOI = PROTECT(allocVector(REALSXP, internal->dim_delay_FOI));
  memcpy(REAL(delay_state_FOI), internal->delay_state_FOI, internal->dim_delay_FOI * sizeof(double));
  SET_VECTOR_ELT(contents, 53, delay_state_FOI);
  SEXP delay_state_FOIv = PROTECT(allocVector(REALSXP, internal->dim_delay_FOIv));
  memcpy(REAL(delay_state_FOIv), internal->delay_state_FOIv, internal->dim_delay_FOIv * sizeof(double));
  SET_VECTOR_ELT(contents, 54, delay_state_FOIv);
  SEXP delay_state_incv = PROTECT(allocVector(REALSXP, 1));
  memcpy(REAL(delay_state_incv), internal->delay_state_incv, 1 * sizeof(double));
  SET_VECTOR_ELT(contents, 55, delay_state_incv);
  SET_VECTOR_ELT(contents, 56, ScalarReal(internal->delayGam));
  SET_VECTOR_ELT(contents, 57, ScalarReal(internal->delayMos));
  SEXP den = PROTECT(allocVector(REALSXP, internal->dim_den));
  memcpy(REAL(den), internal->den, internal->dim_den * sizeof(double));
  SET_VECTOR_ELT(contents, 58, den);
  SET_VECTOR_ELT(contents, 59, ScalarReal(internal->dID));
  SET_VECTOR_ELT(contents, 60, ScalarInteger(internal->dim_A));
  SET_VECTOR_ELT(contents, 61, ScalarInteger(internal->dim_A_1));
  SET_VECTOR_ELT(contents, 62, ScalarInteger(internal->dim_A_12));
  SET_VECTOR_ELT(contents, 63, ScalarInteger(internal->dim_A_2));
  SET_VECTOR_ELT(contents, 64, ScalarInteger(internal->dim_A_3));
  SET_VECTOR_ELT(contents, 65, ScalarInteger(internal->dim_age));
  SET_VECTOR_ELT(contents, 66, ScalarInteger(internal->dim_age_rate));
  SET_VECTOR_ELT(contents, 67, ScalarInteger(internal->dim_av_human));
  SET_VECTOR_ELT(contents, 68, ScalarInteger(internal->dim_av_mosq));
  SET_VECTOR_ELT(contents, 69, ScalarInteger(internal->dim_b));
  SET_VECTOR_ELT(contents, 70, ScalarInteger(internal->dim_b_1));
  SET_VECTOR_ELT(contents, 71, ScalarInteger(internal->dim_b_12));
  SET_VECTOR_ELT(contents, 72, ScalarInteger(internal->dim_b_2));
  SET_VECTOR_ELT(contents, 73, ScalarInteger(internal->dim_b_3));
  SET_VECTOR_ELT(contents, 74, ScalarInteger(internal->dim_cA));
  SET_VECTOR_ELT(contents, 75, ScalarInteger(internal->dim_cA_1));
  SET_VECTOR_ELT(contents, 76, ScalarInteger(internal->dim_cA_12));
  SET_VECTOR_ELT(contents, 77, ScalarInteger(internal->dim_cA_2));
  SET_VECTOR_ELT(contents, 78, ScalarInteger(internal->dim_cA_3));
  SET_VECTOR_ELT(contents, 79, ScalarInteger(internal->dim_clin_inc));
  SET_VECTOR_ELT(contents, 80, ScalarInteger(internal->dim_clin_inc_1));
  SET_VECTOR_ELT(contents, 81, ScalarInteger(internal->dim_clin_inc_12));
  SET_VECTOR_ELT(contents, 82, ScalarInteger(internal->dim_clin_inc_2));
  SET_VECTOR_ELT(contents, 83, ScalarInteger(internal->dim_clin_inc_3));
  SET_VECTOR_ELT(contents, 84, ScalarInteger(internal->dim_clin_inc0to5));
  SET_VECTOR_ELT(contents, 85, ScalarInteger(internal->dim_clin_inc0to5_1));
  SET_VECTOR_ELT(contents, 86, ScalarInteger(internal->dim_clin_inc0to5_12));
  SET_VECTOR_ELT(contents, 87, ScalarInteger(internal->dim_clin_inc0to5_2));
  SET_VECTOR_ELT(contents, 88, ScalarInteger(internal->dim_clin_inc0to5_3));
  SET_VECTOR_ELT(contents, 89, ScalarInteger(internal->dim_cov));
  SET_VECTOR_ELT(contents, 90, ScalarInteger(internal->dim_cov_));
  SET_VECTOR_ELT(contents, 91, ScalarInteger(internal->dim_D));
  SET_VECTOR_ELT(contents, 92, ScalarInteger(internal->dim_D_1));
  SET_VECTOR_ELT(contents, 93, ScalarInteger(internal->dim_D_12));
  SET_VECTOR_ELT(contents, 94, ScalarInteger(internal->dim_D_2));
  SET_VECTOR_ELT(contents, 95, ScalarInteger(internal->dim_D_3));
  SET_VECTOR_ELT(contents, 96, ScalarInteger(internal->dim_delay_FOI));
  SET_VECTOR_ELT(contents, 97, ScalarInteger(internal->dim_delay_FOIv));
  SET_VECTOR_ELT(contents, 98, ScalarInteger(internal->dim_den));
  SET_VECTOR_ELT(contents, 99, ScalarInteger(internal->dim_EIR));
  SET_VECTOR_ELT(contents, 100, ScalarInteger(internal->dim_EIR_1));
  SET_VECTOR_ELT(contents, 101, ScalarInteger(internal->dim_EIR_12));
  SET_VECTOR_ELT(contents, 102, ScalarInteger(internal->dim_EIR_2));
  SET_VECTOR_ELT(contents, 103, ScalarInteger(internal->dim_EIR_3));
  SET_VECTOR_ELT(contents, 104, ScalarInteger(internal->dim_fd));
  SET_VECTOR_ELT(contents, 105, ScalarInteger(internal->dim_FOI));
  SET_VECTOR_ELT(contents, 106, ScalarInteger(internal->dim_FOI_1));
  SET_VECTOR_ELT(contents, 107, ScalarInteger(internal->dim_FOI_12));
  SET_VECTOR_ELT(contents, 108, ScalarInteger(internal->dim_FOI_2));
  SET_VECTOR_ELT(contents, 109, ScalarInteger(internal->dim_FOI_3));
  SET_VECTOR_ELT(contents, 110, ScalarInteger(internal->dim_foi_age));
  SET_VECTOR_ELT(contents, 111, ScalarInteger(internal->dim_FOI_lag));
  SET_VECTOR_ELT(contents, 112, ScalarInteger(internal->dim_FOI_lag_1));
  SET_VECTOR_ELT(contents, 113, ScalarInteger(internal->dim_FOI_lag_12));
  SET_VECTOR_ELT(contents, 114, ScalarInteger(internal->dim_FOI_lag_2));
  SET_VECTOR_ELT(contents, 115, ScalarInteger(internal->dim_FOI_lag_3));
  SET_VECTOR_ELT(contents, 116, ScalarInteger(internal->dim_FOIvijk));
  SET_VECTOR_ELT(contents, 117, ScalarInteger(internal->dim_FOIvijk_1));
  SET_VECTOR_ELT(contents, 118, ScalarInteger(internal->dim_FOIvijk_12));
  SET_VECTOR_ELT(contents, 119, ScalarInteger(internal->dim_FOIvijk_2));
  SET_VECTOR_ELT(contents, 120, ScalarInteger(internal->dim_FOIvijk_3));
  SET_VECTOR_ELT(contents, 121, ScalarInteger(internal->dim_het_wt));
  SET_VECTOR_ELT(contents, 122, ScalarInteger(internal->dim_IB));
  SET_VECTOR_ELT(contents, 123, ScalarInteger(internal->dim_IB_1));
  SET_VECTOR_ELT(contents, 124, ScalarInteger(internal->dim_IB_12));
  SET_VECTOR_ELT(contents, 125, ScalarInteger(internal->dim_IB_2));
  SET_VECTOR_ELT(contents, 126, ScalarInteger(internal->dim_IB_3));
  SET_VECTOR_ELT(contents, 127, ScalarInteger(internal->dim_IC));
  SET_VECTOR_ELT(contents, 128, ScalarInteger(internal->dim_IC_1));
  SET_VECTOR_ELT(contents, 129, ScalarInteger(internal->dim_IC_12));
  SET_VECTOR_ELT(contents, 130, ScalarInteger(internal->dim_IC_2));
  SET_VECTOR_ELT(contents, 131, ScalarInteger(internal->dim_IC_3));
  SET_VECTOR_ELT(contents, 132, ScalarInteger(internal->dim_ICA));
  SET_VECTOR_ELT(contents, 133, ScalarInteger(internal->dim_ICA_1));
  SET_VECTOR_ELT(contents, 134, ScalarInteger(internal->dim_ICA_12));
  SET_VECTOR_ELT(contents, 135, ScalarInteger(internal->dim_ICA_2));
  SET_VECTOR_ELT(contents, 136, ScalarInteger(internal->dim_ICA_3));
  SET_VECTOR_ELT(contents, 137, ScalarInteger(internal->dim_ICM));
  SET_VECTOR_ELT(contents, 138, ScalarInteger(internal->dim_ICM_1));
  SET_VECTOR_ELT(contents, 139, ScalarInteger(internal->dim_ICM_12));
  SET_VECTOR_ELT(contents, 140, ScalarInteger(internal->dim_ICM_2));
  SET_VECTOR_ELT(contents, 141, ScalarInteger(internal->dim_ICM_3));
  SET_VECTOR_ELT(contents, 142, ScalarInteger(internal->dim_ID));
  SET_VECTOR_ELT(contents, 143, ScalarInteger(internal->dim_ID_1));
  SET_VECTOR_ELT(contents, 144, ScalarInteger(internal->dim_ID_12));
  SET_VECTOR_ELT(contents, 145, ScalarInteger(internal->dim_ID_2));
  SET_VECTOR_ELT(contents, 146, ScalarInteger(internal->dim_ID_3));
  SET_VECTOR_ELT(contents, 147, ScalarInteger(internal->dim_init_A));
  SET_VECTOR_ELT(contents, 148, ScalarInteger(internal->dim_init_A_1));
  SET_VECTOR_ELT(contents, 149, ScalarInteger(internal->dim_init_A_12));
  SET_VECTOR_ELT(contents, 150, ScalarInteger(internal->dim_init_A_2));
  SET_VECTOR_ELT(contents, 151, ScalarInteger(internal->dim_init_A_3));
  SET_VECTOR_ELT(contents, 152, ScalarInteger(internal->dim_init_D));
  SET_VECTOR_ELT(contents, 153, ScalarInteger(internal->dim_init_D_1));
  SET_VECTOR_ELT(contents, 154, ScalarInteger(internal->dim_init_D_12));
  SET_VECTOR_ELT(contents, 155, ScalarInteger(internal->dim_init_D_2));
  SET_VECTOR_ELT(contents, 156, ScalarInteger(internal->dim_init_D_3));
  SET_VECTOR_ELT(contents, 157, ScalarInteger(internal->dim_init_IB));
  SET_VECTOR_ELT(contents, 158, ScalarInteger(internal->dim_init_IB_1));
  SET_VECTOR_ELT(contents, 159, ScalarInteger(internal->dim_init_IB_12));
  SET_VECTOR_ELT(contents, 160, ScalarInteger(internal->dim_init_IB_2));
  SET_VECTOR_ELT(contents, 161, ScalarInteger(internal->dim_init_IB_3));
  SET_VECTOR_ELT(contents, 162, ScalarInteger(internal->dim_init_ICA));
  SET_VECTOR_ELT(contents, 163, ScalarInteger(internal->dim_init_ICA_1));
  SET_VECTOR_ELT(contents, 164, ScalarInteger(internal->dim_init_ICA_12));
  SET_VECTOR_ELT(contents, 165, ScalarInteger(internal->dim_init_ICA_2));
  SET_VECTOR_ELT(contents, 166, ScalarInteger(internal->dim_init_ICA_3));
  SET_VECTOR_ELT(contents, 167, ScalarInteger(internal->dim_init_ICM));
  SET_VECTOR_ELT(contents, 168, ScalarInteger(internal->dim_init_ICM_1));
  SET_VECTOR_ELT(contents, 169, ScalarInteger(internal->dim_init_ICM_12));
  SET_VECTOR_ELT(contents, 170, ScalarInteger(internal->dim_init_ICM_2));
  SET_VECTOR_ELT(contents, 171, ScalarInteger(internal->dim_init_ICM_3));
  SET_VECTOR_ELT(contents, 172, ScalarInteger(internal->dim_init_ICM_pre));
  SET_VECTOR_ELT(contents, 173, ScalarInteger(internal->dim_init_ICM_pre_1));
  SET_VECTOR_ELT(contents, 174, ScalarInteger(internal->dim_init_ICM_pre_2));
  SET_VECTOR_ELT(contents, 175, ScalarInteger(internal->dim_init_ID));
  SET_VECTOR_ELT(contents, 176, ScalarInteger(internal->dim_init_ID_1));
  SET_VECTOR_ELT(contents, 177, ScalarInteger(internal->dim_init_ID_12));
  SET_VECTOR_ELT(contents, 178, ScalarInteger(internal->dim_init_ID_2));
  SET_VECTOR_ELT(contents, 179, ScalarInteger(internal->dim_init_ID_3));
  SET_VECTOR_ELT(contents, 180, ScalarInteger(internal->dim_init_P));
  SET_VECTOR_ELT(contents, 181, ScalarInteger(internal->dim_init_P_1));
  SET_VECTOR_ELT(contents, 182, ScalarInteger(internal->dim_init_P_12));
  SET_VECTOR_ELT(contents, 183, ScalarInteger(internal->dim_init_P_2));
  SET_VECTOR_ELT(contents, 184, ScalarInteger(internal->dim_init_P_3));
  SET_VECTOR_ELT(contents, 185, ScalarInteger(internal->dim_init_S));
  SET_VECTOR_ELT(contents, 186, ScalarInteger(internal->dim_init_S_1));
  SET_VECTOR_ELT(contents, 187, ScalarInteger(internal->dim_init_S_12));
  SET_VECTOR_ELT(contents, 188, ScalarInteger(internal->dim_init_S_2));
  SET_VECTOR_ELT(contents, 189, ScalarInteger(internal->dim_init_S_3));
  SET_VECTOR_ELT(contents, 190, ScalarInteger(internal->dim_init_T));
  SET_VECTOR_ELT(contents, 191, ScalarInteger(internal->dim_init_T_1));
  SET_VECTOR_ELT(contents, 192, ScalarInteger(internal->dim_init_T_12));
  SET_VECTOR_ELT(contents, 193, ScalarInteger(internal->dim_init_T_2));
  SET_VECTOR_ELT(contents, 194, ScalarInteger(internal->dim_init_T_3));
  SET_VECTOR_ELT(contents, 195, ScalarInteger(internal->dim_init_U));
  SET_VECTOR_ELT(contents, 196, ScalarInteger(internal->dim_init_U_1));
  SET_VECTOR_ELT(contents, 197, ScalarInteger(internal->dim_init_U_12));
  SET_VECTOR_ELT(contents, 198, ScalarInteger(internal->dim_init_U_2));
  SET_VECTOR_ELT(contents, 199, ScalarInteger(internal->dim_init_U_3));
  SET_VECTOR_ELT(contents, 200, ScalarInteger(internal->dim_P));
  SET_VECTOR_ELT(contents, 201, ScalarInteger(internal->dim_P_1));
  SET_VECTOR_ELT(contents, 202, ScalarInteger(internal->dim_P_12));
  SET_VECTOR_ELT(contents, 203, ScalarInteger(internal->dim_P_2));
  SET_VECTOR_ELT(contents, 204, ScalarInteger(internal->dim_P_3));
  SET_VECTOR_ELT(contents, 205, ScalarInteger(internal->dim_p_det));
  SET_VECTOR_ELT(contents, 206, ScalarInteger(internal->dim_p_det_1));
  SET_VECTOR_ELT(contents, 207, ScalarInteger(internal->dim_p_det_12));
  SET_VECTOR_ELT(contents, 208, ScalarInteger(internal->dim_p_det_2));
  SET_VECTOR_ELT(contents, 209, ScalarInteger(internal->dim_p_det_3));
  SET_VECTOR_ELT(contents, 210, ScalarInteger(internal->dim_phi));
  SET_VECTOR_ELT(contents, 211, ScalarInteger(internal->dim_phi_1));
  SET_VECTOR_ELT(contents, 212, ScalarInteger(internal->dim_phi_12));
  SET_VECTOR_ELT(contents, 213, ScalarInteger(internal->dim_phi_2));
  SET_VECTOR_ELT(contents, 214, ScalarInteger(internal->dim_phi_3));
  SET_VECTOR_ELT(contents, 215, ScalarInteger(internal->dim_prev0to59));
  SET_VECTOR_ELT(contents, 216, ScalarInteger(internal->dim_prev0to59_1));
  SET_VECTOR_ELT(contents, 217, ScalarInteger(internal->dim_prev0to59_12));
  SET_VECTOR_ELT(contents, 218, ScalarInteger(internal->dim_prev0to59_2));
  SET_VECTOR_ELT(contents, 219, ScalarInteger(internal->dim_prev0to59_3));
  SET_VECTOR_ELT(contents, 220, ScalarInteger(internal->dim_rel_foi));
  SET_VECTOR_ELT(contents, 221, ScalarInteger(internal->dim_S));
  SET_VECTOR_ELT(contents, 222, ScalarInteger(internal->dim_S_1));
  SET_VECTOR_ELT(contents, 223, ScalarInteger(internal->dim_S_12));
  SET_VECTOR_ELT(contents, 224, ScalarInteger(internal->dim_S_2));
  SET_VECTOR_ELT(contents, 225, ScalarInteger(internal->dim_S_3));
  SET_VECTOR_ELT(contents, 226, ScalarInteger(internal->dim_T));
  SET_VECTOR_ELT(contents, 227, ScalarInteger(internal->dim_T_1));
  SET_VECTOR_ELT(contents, 228, ScalarInteger(internal->dim_T_12));
  SET_VECTOR_ELT(contents, 229, ScalarInteger(internal->dim_T_2));
  SET_VECTOR_ELT(contents, 230, ScalarInteger(internal->dim_T_3));
  SET_VECTOR_ELT(contents, 231, ScalarInteger(internal->dim_U));
  SET_VECTOR_ELT(contents, 232, ScalarInteger(internal->dim_U_1));
  SET_VECTOR_ELT(contents, 233, ScalarInteger(internal->dim_U_12));
  SET_VECTOR_ELT(contents, 234, ScalarInteger(internal->dim_U_2));
  SET_VECTOR_ELT(contents, 235, ScalarInteger(internal->dim_U_3));
  SET_VECTOR_ELT(contents, 236, ScalarInteger(internal->dim_w));
  SET_VECTOR_ELT(contents, 237, ScalarInteger(internal->dim_w_));
  SET_VECTOR_ELT(contents, 238, ScalarInteger(internal->dim_whi));
  SET_VECTOR_ELT(contents, 239, ScalarInteger(internal->dim_x_I));
  SET_VECTOR_ELT(contents, 240, ScalarInteger(internal->dim_Y));
  SET_VECTOR_ELT(contents, 241, ScalarInteger(internal->dim_Y_1));
  SET_VECTOR_ELT(contents, 242, ScalarInteger(internal->dim_Y_12));
  SET_VECTOR_ELT(contents, 243, ScalarInteger(internal->dim_Y_2));
  SET_VECTOR_ELT(contents, 244, ScalarInteger(internal->dim_Y_3));
  SET_VECTOR_ELT(contents, 245, ScalarInteger(internal->dim_yy));
  SET_VECTOR_ELT(contents, 246, ScalarInteger(internal->dim_yy_));
  SET_VECTOR_ELT(contents, 247, ScalarInteger(internal->dim_z));
  SET_VECTOR_ELT(contents, 248, ScalarInteger(internal->dim_z_));
  SET_VECTOR_ELT(contents, 249, ScalarInteger(internal->dim_zhi));
  SET_VECTOR_ELT(contents, 250, ScalarReal(internal->dLL));
  SET_VECTOR_ELT(contents, 251, ScalarReal(internal->dPL));
  SEXP EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(EIR), internal->EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(EIR, 3, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3);
  SET_VECTOR_ELT(contents, 252, EIR);
  SET_VECTOR_ELT(contents, 253, ScalarReal(internal->eta));
  SEXP fd = PROTECT(allocVector(REALSXP, internal->dim_fd));
  memcpy(REAL(fd), internal->fd, internal->dim_fd * sizeof(double));
  SET_VECTOR_ELT(contents, 254, fd);
  SET_VECTOR_ELT(contents, 255, ScalarReal(internal->fD0));
  SEXP FOI = PROTECT(allocVector(REALSXP, internal->dim_FOI));
  memcpy(REAL(FOI), internal->FOI, internal->dim_FOI * sizeof(double));
  odin_set_dim(FOI, 3, internal->dim_FOI_1, internal->dim_FOI_2, internal->dim_FOI_3);
  SET_VECTOR_ELT(contents, 256, FOI);
  SEXP foi_age = PROTECT(allocVector(REALSXP, internal->dim_foi_age));
  memcpy(REAL(foi_age), internal->foi_age, internal->dim_foi_age * sizeof(double));
  SET_VECTOR_ELT(contents, 257, foi_age);
  SEXP FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(FOI_lag), internal->FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(FOI_lag, 3, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3);
  SET_VECTOR_ELT(contents, 258, FOI_lag);
  SEXP FOIvijk = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk));
  memcpy(REAL(FOIvijk), internal->FOIvijk, internal->dim_FOIvijk * sizeof(double));
  odin_set_dim(FOIvijk, 3, internal->dim_FOIvijk_1, internal->dim_FOIvijk_2, internal->dim_FOIvijk_3);
  SET_VECTOR_ELT(contents, 259, FOIvijk);
  SET_VECTOR_ELT(contents, 260, ScalarReal(internal->ft));
  SET_VECTOR_ELT(contents, 261, ScalarReal(internal->gamma1));
  SET_VECTOR_ELT(contents, 262, ScalarReal(internal->gammaD));
  SET_VECTOR_ELT(contents, 263, ScalarReal(internal->gammaL));
  SEXP het_wt = PROTECT(allocVector(REALSXP, internal->dim_het_wt));
  memcpy(REAL(het_wt), internal->het_wt, internal->dim_het_wt * sizeof(double));
  SET_VECTOR_ELT(contents, 264, het_wt);
  SET_VECTOR_ELT(contents, 265, ScalarReal(internal->IB0));
  SEXP IC = PROTECT(allocVector(REALSXP, internal->dim_IC));
  memcpy(REAL(IC), internal->IC, internal->dim_IC * sizeof(double));
  odin_set_dim(IC, 3, internal->dim_IC_1, internal->dim_IC_2, internal->dim_IC_3);
  SET_VECTOR_ELT(contents, 266, IC);
  SET_VECTOR_ELT(contents, 267, ScalarReal(internal->IC0));
  SET_VECTOR_ELT(contents, 268, ScalarReal(internal->ID0));
  SEXP init_A = PROTECT(allocVector(REALSXP, internal->dim_init_A));
  memcpy(REAL(init_A), internal->init_A, internal->dim_init_A * sizeof(double));
  odin_set_dim(init_A, 3, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3);
  SET_VECTOR_ELT(contents, 269, init_A);
  SEXP init_D = PROTECT(allocVector(REALSXP, internal->dim_init_D));
  memcpy(REAL(init_D), internal->init_D, internal->dim_init_D * sizeof(double));
  odin_set_dim(init_D, 3, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3);
  SET_VECTOR_ELT(contents, 270, init_D);
  SET_VECTOR_ELT(contents, 271, ScalarReal(internal->init_EL));
  SET_VECTOR_ELT(contents, 272, ScalarReal(internal->init_Ev));
  SEXP init_IB = PROTECT(allocVector(REALSXP, internal->dim_init_IB));
  memcpy(REAL(init_IB), internal->init_IB, internal->dim_init_IB * sizeof(double));
  odin_set_dim(init_IB, 3, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3);
  SET_VECTOR_ELT(contents, 273, init_IB);
  SEXP init_ICA = PROTECT(allocVector(REALSXP, internal->dim_init_ICA));
  memcpy(REAL(init_ICA), internal->init_ICA, internal->dim_init_ICA * sizeof(double));
  odin_set_dim(init_ICA, 3, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3);
  SET_VECTOR_ELT(contents, 274, init_ICA);
  SEXP init_ICM = PROTECT(allocVector(REALSXP, internal->dim_init_ICM));
  memcpy(REAL(init_ICM), internal->init_ICM, internal->dim_init_ICM * sizeof(double));
  odin_set_dim(init_ICM, 3, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3);
  SET_VECTOR_ELT(contents, 275, init_ICM);
  SEXP init_ICM_pre = PROTECT(allocVector(REALSXP, internal->dim_init_ICM_pre));
  memcpy(REAL(init_ICM_pre), internal->init_ICM_pre, internal->dim_init_ICM_pre * sizeof(double));
  odin_set_dim(init_ICM_pre, 2, internal->dim_init_ICM_pre_1, internal->dim_init_ICM_pre_2);
  SET_VECTOR_ELT(contents, 276, init_ICM_pre);
  SEXP init_ID = PROTECT(allocVector(REALSXP, internal->dim_init_ID));
  memcpy(REAL(init_ID), internal->init_ID, internal->dim_init_ID * sizeof(double));
  odin_set_dim(init_ID, 3, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3);
  SET_VECTOR_ELT(contents, 277, init_ID);
  SET_VECTOR_ELT(contents, 278, ScalarReal(internal->init_Iv));
  SET_VECTOR_ELT(contents, 279, ScalarReal(internal->init_LL));
  SEXP init_P = PROTECT(allocVector(REALSXP, internal->dim_init_P));
  memcpy(REAL(init_P), internal->init_P, internal->dim_init_P * sizeof(double));
  odin_set_dim(init_P, 3, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3);
  SET_VECTOR_ELT(contents, 280, init_P);
  SET_VECTOR_ELT(contents, 281, ScalarReal(internal->init_PL));
  SEXP init_S = PROTECT(allocVector(REALSXP, internal->dim_init_S));
  memcpy(REAL(init_S), internal->init_S, internal->dim_init_S * sizeof(double));
  odin_set_dim(init_S, 3, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3);
  SET_VECTOR_ELT(contents, 282, init_S);
  SET_VECTOR_ELT(contents, 283, ScalarReal(internal->init_Sv));
  SEXP init_T = PROTECT(allocVector(REALSXP, internal->dim_init_T));
  memcpy(REAL(init_T), internal->init_T, internal->dim_init_T * sizeof(double));
  odin_set_dim(init_T, 3, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3);
  SET_VECTOR_ELT(contents, 284, init_T);
  SEXP init_U = PROTECT(allocVector(REALSXP, internal->dim_init_U));
  memcpy(REAL(init_U), internal->init_U, internal->dim_init_U * sizeof(double));
  odin_set_dim(init_U, 3, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3);
  SET_VECTOR_ELT(contents, 285, init_U);
  SEXP initial_A = PROTECT(allocVector(REALSXP, internal->dim_A));
  memcpy(REAL(initial_A), internal->initial_A, internal->dim_A * sizeof(double));
  odin_set_dim(initial_A, 3, internal->dim_A_1, internal->dim_A_2, internal->dim_A_3);
  SET_VECTOR_ELT(contents, 286, initial_A);
  SEXP initial_D = PROTECT(allocVector(REALSXP, internal->dim_D));
  memcpy(REAL(initial_D), internal->initial_D, internal->dim_D * sizeof(double));
  odin_set_dim(initial_D, 3, internal->dim_D_1, internal->dim_D_2, internal->dim_D_3);
  SET_VECTOR_ELT(contents, 287, initial_D);
  SET_VECTOR_ELT(contents, 288, ScalarReal(internal->initial_EL));
  SET_VECTOR_ELT(contents, 289, ScalarReal(internal->initial_Ev));
  SEXP initial_IB = PROTECT(allocVector(REALSXP, internal->dim_IB));
  memcpy(REAL(initial_IB), internal->initial_IB, internal->dim_IB * sizeof(double));
  odin_set_dim(initial_IB, 3, internal->dim_IB_1, internal->dim_IB_2, internal->dim_IB_3);
  SET_VECTOR_ELT(contents, 290, initial_IB);
  SEXP initial_ICA = PROTECT(allocVector(REALSXP, internal->dim_ICA));
  memcpy(REAL(initial_ICA), internal->initial_ICA, internal->dim_ICA * sizeof(double));
  odin_set_dim(initial_ICA, 3, internal->dim_ICA_1, internal->dim_ICA_2, internal->dim_ICA_3);
  SET_VECTOR_ELT(contents, 291, initial_ICA);
  SEXP initial_ICM = PROTECT(allocVector(REALSXP, internal->dim_ICM));
  memcpy(REAL(initial_ICM), internal->initial_ICM, internal->dim_ICM * sizeof(double));
  odin_set_dim(initial_ICM, 3, internal->dim_ICM_1, internal->dim_ICM_2, internal->dim_ICM_3);
  SET_VECTOR_ELT(contents, 292, initial_ICM);
  SEXP initial_ID = PROTECT(allocVector(REALSXP, internal->dim_ID));
  memcpy(REAL(initial_ID), internal->initial_ID, internal->dim_ID * sizeof(double));
  odin_set_dim(initial_ID, 3, internal->dim_ID_1, internal->dim_ID_2, internal->dim_ID_3);
  SET_VECTOR_ELT(contents, 293, initial_ID);
  SET_VECTOR_ELT(contents, 294, ScalarReal(internal->initial_Iv));
  SET_VECTOR_ELT(contents, 295, ScalarReal(internal->initial_LL));
  SEXP initial_P = PROTECT(allocVector(REALSXP, internal->dim_P));
  memcpy(REAL(initial_P), internal->initial_P, internal->dim_P * sizeof(double));
  odin_set_dim(initial_P, 3, internal->dim_P_1, internal->dim_P_2, internal->dim_P_3);
  SET_VECTOR_ELT(contents, 296, initial_P);
  SET_VECTOR_ELT(contents, 297, ScalarReal(internal->initial_PL));
  SEXP initial_S = PROTECT(allocVector(REALSXP, internal->dim_S));
  memcpy(REAL(initial_S), internal->initial_S, internal->dim_S * sizeof(double));
  odin_set_dim(initial_S, 3, internal->dim_S_1, internal->dim_S_2, internal->dim_S_3);
  SET_VECTOR_ELT(contents, 298, initial_S);
  SET_VECTOR_ELT(contents, 299, ScalarReal(internal->initial_Sv));
  SET_VECTOR_ELT(contents, 300, ScalarReal(internal->initial_t));
  SEXP initial_T = PROTECT(allocVector(REALSXP, internal->dim_T));
  memcpy(REAL(initial_T), internal->initial_T, internal->dim_T * sizeof(double));
  odin_set_dim(initial_T, 3, internal->dim_T_1, internal->dim_T_2, internal->dim_T_3);
  SET_VECTOR_ELT(contents, 301, initial_T);
  SEXP initial_U = PROTECT(allocVector(REALSXP, internal->dim_U));
  memcpy(REAL(initial_U), internal->initial_U, internal->dim_U * sizeof(double));
  odin_set_dim(initial_U, 3, internal->dim_U_1, internal->dim_U_2, internal->dim_U_3);
  SET_VECTOR_ELT(contents, 302, initial_U);
  SET_VECTOR_ELT(contents, 303, ScalarReal(internal->irs_cov));
  SET_VECTOR_ELT(contents, 304, ScalarReal(internal->IRS_interval));
  SET_VECTOR_ELT(contents, 305, ScalarReal(internal->irs_loss));
  SET_VECTOR_ELT(contents, 306, ScalarReal(internal->itn_cov));
  SET_VECTOR_ELT(contents, 307, ScalarReal(internal->ITN_interval));
  SET_VECTOR_ELT(contents, 308, ScalarReal(internal->ITN_IRS_on));
  SET_VECTOR_ELT(contents, 309, ScalarReal(internal->itn_loss));
  SET_VECTOR_ELT(contents, 310, ScalarReal(internal->kB));
  SET_VECTOR_ELT(contents, 311, ScalarReal(internal->kC));
  SET_VECTOR_ELT(contents, 312, ScalarReal(internal->kD));
  SET_VECTOR_ELT(contents, 313, ScalarReal(internal->mu0));
  SET_VECTOR_ELT(contents, 314, ScalarReal(internal->muEL));
  SET_VECTOR_ELT(contents, 315, ScalarReal(internal->muLL));
  SET_VECTOR_ELT(contents, 316, ScalarReal(internal->muPL));
  SET_VECTOR_ELT(contents, 317, ScalarReal(internal->mv0));
  SET_VECTOR_ELT(contents, 318, ScalarInteger(internal->na));
  SET_VECTOR_ELT(contents, 319, ScalarInteger(internal->nh));
  SET_VECTOR_ELT(contents, 320, ScalarInteger(internal->num_int));
  SET_VECTOR_ELT(contents, 321, ScalarInteger(internal->offset_FOIv_A));
  SET_VECTOR_ELT(contents, 322, ScalarInteger(internal->offset_FOIv_ID));
  SET_VECTOR_ELT(contents, 323, ScalarInteger(internal->offset_FOIv_U));
  SET_VECTOR_ELT(contents, 324, ScalarInteger(internal->offset_variable_A));
  SET_VECTOR_ELT(contents, 325, ScalarInteger(internal->offset_variable_D));
  SET_VECTOR_ELT(contents, 326, ScalarInteger(internal->offset_variable_IB));
  SET_VECTOR_ELT(contents, 327, ScalarInteger(internal->offset_variable_ICA));
  SET_VECTOR_ELT(contents, 328, ScalarInteger(internal->offset_variable_ICM));
  SET_VECTOR_ELT(contents, 329, ScalarInteger(internal->offset_variable_ID));
  SET_VECTOR_ELT(contents, 330, ScalarInteger(internal->offset_variable_P));
  SET_VECTOR_ELT(contents, 331, ScalarInteger(internal->offset_variable_T));
  SET_VECTOR_ELT(contents, 332, ScalarInteger(internal->offset_variable_U));
  SET_VECTOR_ELT(contents, 333, ScalarReal(internal->omega));
  SEXP p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(p_det), internal->p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(p_det, 3, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3);
  SET_VECTOR_ELT(contents, 334, p_det);
  SET_VECTOR_ELT(contents, 335, ScalarReal(internal->p10));
  SET_VECTOR_ELT(contents, 336, ScalarReal(internal->p2));
  SEXP phi = PROTECT(allocVector(REALSXP, internal->dim_phi));
  memcpy(REAL(phi), internal->phi, internal->dim_phi * sizeof(double));
  odin_set_dim(phi, 3, internal->dim_phi_1, internal->dim_phi_2, internal->dim_phi_3);
  SET_VECTOR_ELT(contents, 337, phi);
  SET_VECTOR_ELT(contents, 338, ScalarReal(internal->phi0));
  SET_VECTOR_ELT(contents, 339, ScalarReal(internal->phi1));
  SET_VECTOR_ELT(contents, 340, ScalarReal(internal->pi));
  SET_VECTOR_ELT(contents, 341, ScalarReal(internal->PM));
  SEXP prev0to59 = PROTECT(allocVector(REALSXP, internal->dim_prev0to59));
  memcpy(REAL(prev0to59), internal->prev0to59, internal->dim_prev0to59 * sizeof(double));
  odin_set_dim(prev0to59, 3, internal->dim_prev0to59_1, internal->dim_prev0to59_2, internal->dim_prev0to59_3);
  SET_VECTOR_ELT(contents, 342, prev0to59);
  SET_VECTOR_ELT(contents, 343, ScalarReal(internal->Q0));
  SET_VECTOR_ELT(contents, 344, ScalarReal(internal->r_IRS0));
  SET_VECTOR_ELT(contents, 345, ScalarReal(internal->r_ITN0));
  SET_VECTOR_ELT(contents, 346, ScalarReal(internal->r_ITN1));
  SET_VECTOR_ELT(contents, 347, ScalarReal(internal->rA));
  SET_VECTOR_ELT(contents, 348, ScalarReal(internal->rD));
  SEXP rel_foi = PROTECT(allocVector(REALSXP, internal->dim_rel_foi));
  memcpy(REAL(rel_foi), internal->rel_foi, internal->dim_rel_foi * sizeof(double));
  SET_VECTOR_ELT(contents, 349, rel_foi);
  SET_VECTOR_ELT(contents, 350, ScalarReal(internal->rP));
  SET_VECTOR_ELT(contents, 351, ScalarReal(internal->rT));
  SET_VECTOR_ELT(contents, 352, ScalarReal(internal->rU));
  SET_VECTOR_ELT(contents, 353, ScalarReal(internal->ssa0));
  SET_VECTOR_ELT(contents, 354, ScalarReal(internal->ssa1));
  SET_VECTOR_ELT(contents, 355, ScalarReal(internal->ssa2));
  SET_VECTOR_ELT(contents, 356, ScalarReal(internal->ssa3));
  SET_VECTOR_ELT(contents, 357, ScalarReal(internal->ssb1));
  SET_VECTOR_ELT(contents, 358, ScalarReal(internal->ssb2));
  SET_VECTOR_ELT(contents, 359, ScalarReal(internal->ssb3));
  SET_VECTOR_ELT(contents, 360, ScalarReal(internal->tau1));
  SET_VECTOR_ELT(contents, 361, ScalarReal(internal->tau2));
  SET_VECTOR_ELT(contents, 362, ScalarReal(internal->theta_c));
  SET_VECTOR_ELT(contents, 363, ScalarReal(internal->uB));
  SET_VECTOR_ELT(contents, 364, ScalarReal(internal->uCA));
  SET_VECTOR_ELT(contents, 365, ScalarReal(internal->uD));
  SEXP w = PROTECT(allocVector(REALSXP, internal->dim_w));
  memcpy(REAL(w), internal->w, internal->dim_w * sizeof(double));
  SET_VECTOR_ELT(contents, 366, w);
  SEXP w_ = PROTECT(allocVector(REALSXP, internal->dim_w_));
  memcpy(REAL(w_), internal->w_, internal->dim_w_ * sizeof(double));
  SET_VECTOR_ELT(contents, 367, w_);
  SEXP whi = PROTECT(allocVector(REALSXP, internal->dim_whi));
  memcpy(REAL(whi), internal->whi, internal->dim_whi * sizeof(double));
  SET_VECTOR_ELT(contents, 368, whi);
  SEXP x_I = PROTECT(allocVector(REALSXP, internal->dim_x_I));
  memcpy(REAL(x_I), internal->x_I, internal->dim_x_I * sizeof(double));
  SET_VECTOR_ELT(contents, 369, x_I);
  SEXP Y = PROTECT(allocVector(REALSXP, internal->dim_Y));
  memcpy(REAL(Y), internal->Y, internal->dim_Y * sizeof(double));
  odin_set_dim(Y, 3, internal->dim_Y_1, internal->dim_Y_2, internal->dim_Y_3);
  SET_VECTOR_ELT(contents, 370, Y);
  SEXP yy = PROTECT(allocVector(REALSXP, internal->dim_yy));
  memcpy(REAL(yy), internal->yy, internal->dim_yy * sizeof(double));
  SET_VECTOR_ELT(contents, 371, yy);
  SEXP yy_ = PROTECT(allocVector(REALSXP, internal->dim_yy_));
  memcpy(REAL(yy_), internal->yy_, internal->dim_yy_ * sizeof(double));
  SET_VECTOR_ELT(contents, 372, yy_);
  SEXP z = PROTECT(allocVector(REALSXP, internal->dim_z));
  memcpy(REAL(z), internal->z, internal->dim_z * sizeof(double));
  SET_VECTOR_ELT(contents, 373, z);
  SEXP z_ = PROTECT(allocVector(REALSXP, internal->dim_z_));
  memcpy(REAL(z_), internal->z_, internal->dim_z_ * sizeof(double));
  SET_VECTOR_ELT(contents, 374, z_);
  SEXP zhi = PROTECT(allocVector(REALSXP, internal->dim_zhi));
  memcpy(REAL(zhi), internal->zhi, internal->dim_zhi * sizeof(double));
  SET_VECTOR_ELT(contents, 375, zhi);
  SET_VECTOR_ELT(contents, 376, ScalarLogical(internal->odin_model_use_dde));
  SEXP nms = PROTECT(allocVector(STRSXP, 377));
  SET_STRING_ELT(nms, 0, mkChar("aD"));
  SET_STRING_ELT(nms, 1, mkChar("age"));
  SET_STRING_ELT(nms, 2, mkChar("age_20_factor"));
  SET_STRING_ELT(nms, 3, mkChar("age_rate"));
  SET_STRING_ELT(nms, 4, mkChar("age05"));
  SET_STRING_ELT(nms, 5, mkChar("age20l"));
  SET_STRING_ELT(nms, 6, mkChar("age20u"));
  SET_STRING_ELT(nms, 7, mkChar("age59"));
  SET_STRING_ELT(nms, 8, mkChar("av_human"));
  SET_STRING_ELT(nms, 9, mkChar("av_mosq"));
  SET_STRING_ELT(nms, 10, mkChar("b"));
  SET_STRING_ELT(nms, 11, mkChar("b_lambda"));
  SET_STRING_ELT(nms, 12, mkChar("b0"));
  SET_STRING_ELT(nms, 13, mkChar("b1"));
  SET_STRING_ELT(nms, 14, mkChar("betaL"));
  SET_STRING_ELT(nms, 15, mkChar("bites_Bed"));
  SET_STRING_ELT(nms, 16, mkChar("bites_Indoors"));
  SET_STRING_ELT(nms, 17, mkChar("cA"));
  SET_STRING_ELT(nms, 18, mkChar("cD"));
  SET_STRING_ELT(nms, 19, mkChar("chi"));
  SET_STRING_ELT(nms, 20, mkChar("clin_inc"));
  SET_STRING_ELT(nms, 21, mkChar("clin_inc0to5"));
  SET_STRING_ELT(nms, 22, mkChar("cov"));
  SET_STRING_ELT(nms, 23, mkChar("cov_"));
  SET_STRING_ELT(nms, 24, mkChar("cT"));
  SET_STRING_ELT(nms, 25, mkChar("cU"));
  SET_STRING_ELT(nms, 26, mkChar("d_IRS0"));
  SET_STRING_ELT(nms, 27, mkChar("d_ITN0"));
  SET_STRING_ELT(nms, 28, mkChar("d1"));
  SET_STRING_ELT(nms, 29, mkChar("dB"));
  SET_STRING_ELT(nms, 30, mkChar("dCA"));
  SET_STRING_ELT(nms, 31, mkChar("dCM"));
  SET_STRING_ELT(nms, 32, mkChar("dE"));
  SET_STRING_ELT(nms, 33, mkChar("dEL"));
  SET_STRING_ELT(nms, 34, mkChar("delay_array_av_human"));
  SET_STRING_ELT(nms, 35, mkChar("delay_array_av_mosq"));
  SET_STRING_ELT(nms, 36, mkChar("delay_array_b"));
  SET_STRING_ELT(nms, 37, mkChar("delay_array_cA"));
  SET_STRING_ELT(nms, 38, mkChar("delay_array_EIR"));
  SET_STRING_ELT(nms, 39, mkChar("delay_array_FOI_lag"));
  SET_STRING_ELT(nms, 40, mkChar("delay_array_FOIvijk"));
  SET_STRING_ELT(nms, 41, mkChar("delay_array_p_det"));
  SET_STRING_ELT(nms, 42, mkChar("delay_array_w"));
  SET_STRING_ELT(nms, 43, mkChar("delay_array_w_"));
  SET_STRING_ELT(nms, 44, mkChar("delay_array_whi"));
  SET_STRING_ELT(nms, 45, mkChar("delay_array_yy"));
  SET_STRING_ELT(nms, 46, mkChar("delay_array_yy_"));
  SET_STRING_ELT(nms, 47, mkChar("delay_array_z"));
  SET_STRING_ELT(nms, 48, mkChar("delay_array_z_"));
  SET_STRING_ELT(nms, 49, mkChar("delay_array_zhi"));
  SET_STRING_ELT(nms, 50, mkChar("delay_index_FOI"));
  SET_STRING_ELT(nms, 51, mkChar("delay_index_FOIv"));
  SET_STRING_ELT(nms, 52, mkChar("delay_index_incv"));
  SET_STRING_ELT(nms, 53, mkChar("delay_state_FOI"));
  SET_STRING_ELT(nms, 54, mkChar("delay_state_FOIv"));
  SET_STRING_ELT(nms, 55, mkChar("delay_state_incv"));
  SET_STRING_ELT(nms, 56, mkChar("delayGam"));
  SET_STRING_ELT(nms, 57, mkChar("delayMos"));
  SET_STRING_ELT(nms, 58, mkChar("den"));
  SET_STRING_ELT(nms, 59, mkChar("dID"));
  SET_STRING_ELT(nms, 60, mkChar("dim_A"));
  SET_STRING_ELT(nms, 61, mkChar("dim_A_1"));
  SET_STRING_ELT(nms, 62, mkChar("dim_A_12"));
  SET_STRING_ELT(nms, 63, mkChar("dim_A_2"));
  SET_STRING_ELT(nms, 64, mkChar("dim_A_3"));
  SET_STRING_ELT(nms, 65, mkChar("dim_age"));
  SET_STRING_ELT(nms, 66, mkChar("dim_age_rate"));
  SET_STRING_ELT(nms, 67, mkChar("dim_av_human"));
  SET_STRING_ELT(nms, 68, mkChar("dim_av_mosq"));
  SET_STRING_ELT(nms, 69, mkChar("dim_b"));
  SET_STRING_ELT(nms, 70, mkChar("dim_b_1"));
  SET_STRING_ELT(nms, 71, mkChar("dim_b_12"));
  SET_STRING_ELT(nms, 72, mkChar("dim_b_2"));
  SET_STRING_ELT(nms, 73, mkChar("dim_b_3"));
  SET_STRING_ELT(nms, 74, mkChar("dim_cA"));
  SET_STRING_ELT(nms, 75, mkChar("dim_cA_1"));
  SET_STRING_ELT(nms, 76, mkChar("dim_cA_12"));
  SET_STRING_ELT(nms, 77, mkChar("dim_cA_2"));
  SET_STRING_ELT(nms, 78, mkChar("dim_cA_3"));
  SET_STRING_ELT(nms, 79, mkChar("dim_clin_inc"));
  SET_STRING_ELT(nms, 80, mkChar("dim_clin_inc_1"));
  SET_STRING_ELT(nms, 81, mkChar("dim_clin_inc_12"));
  SET_STRING_ELT(nms, 82, mkChar("dim_clin_inc_2"));
  SET_STRING_ELT(nms, 83, mkChar("dim_clin_inc_3"));
  SET_STRING_ELT(nms, 84, mkChar("dim_clin_inc0to5"));
  SET_STRING_ELT(nms, 85, mkChar("dim_clin_inc0to5_1"));
  SET_STRING_ELT(nms, 86, mkChar("dim_clin_inc0to5_12"));
  SET_STRING_ELT(nms, 87, mkChar("dim_clin_inc0to5_2"));
  SET_STRING_ELT(nms, 88, mkChar("dim_clin_inc0to5_3"));
  SET_STRING_ELT(nms, 89, mkChar("dim_cov"));
  SET_STRING_ELT(nms, 90, mkChar("dim_cov_"));
  SET_STRING_ELT(nms, 91, mkChar("dim_D"));
  SET_STRING_ELT(nms, 92, mkChar("dim_D_1"));
  SET_STRING_ELT(nms, 93, mkChar("dim_D_12"));
  SET_STRING_ELT(nms, 94, mkChar("dim_D_2"));
  SET_STRING_ELT(nms, 95, mkChar("dim_D_3"));
  SET_STRING_ELT(nms, 96, mkChar("dim_delay_FOI"));
  SET_STRING_ELT(nms, 97, mkChar("dim_delay_FOIv"));
  SET_STRING_ELT(nms, 98, mkChar("dim_den"));
  SET_STRING_ELT(nms, 99, mkChar("dim_EIR"));
  SET_STRING_ELT(nms, 100, mkChar("dim_EIR_1"));
  SET_STRING_ELT(nms, 101, mkChar("dim_EIR_12"));
  SET_STRING_ELT(nms, 102, mkChar("dim_EIR_2"));
  SET_STRING_ELT(nms, 103, mkChar("dim_EIR_3"));
  SET_STRING_ELT(nms, 104, mkChar("dim_fd"));
  SET_STRING_ELT(nms, 105, mkChar("dim_FOI"));
  SET_STRING_ELT(nms, 106, mkChar("dim_FOI_1"));
  SET_STRING_ELT(nms, 107, mkChar("dim_FOI_12"));
  SET_STRING_ELT(nms, 108, mkChar("dim_FOI_2"));
  SET_STRING_ELT(nms, 109, mkChar("dim_FOI_3"));
  SET_STRING_ELT(nms, 110, mkChar("dim_foi_age"));
  SET_STRING_ELT(nms, 111, mkChar("dim_FOI_lag"));
  SET_STRING_ELT(nms, 112, mkChar("dim_FOI_lag_1"));
  SET_STRING_ELT(nms, 113, mkChar("dim_FOI_lag_12"));
  SET_STRING_ELT(nms, 114, mkChar("dim_FOI_lag_2"));
  SET_STRING_ELT(nms, 115, mkChar("dim_FOI_lag_3"));
  SET_STRING_ELT(nms, 116, mkChar("dim_FOIvijk"));
  SET_STRING_ELT(nms, 117, mkChar("dim_FOIvijk_1"));
  SET_STRING_ELT(nms, 118, mkChar("dim_FOIvijk_12"));
  SET_STRING_ELT(nms, 119, mkChar("dim_FOIvijk_2"));
  SET_STRING_ELT(nms, 120, mkChar("dim_FOIvijk_3"));
  SET_STRING_ELT(nms, 121, mkChar("dim_het_wt"));
  SET_STRING_ELT(nms, 122, mkChar("dim_IB"));
  SET_STRING_ELT(nms, 123, mkChar("dim_IB_1"));
  SET_STRING_ELT(nms, 124, mkChar("dim_IB_12"));
  SET_STRING_ELT(nms, 125, mkChar("dim_IB_2"));
  SET_STRING_ELT(nms, 126, mkChar("dim_IB_3"));
  SET_STRING_ELT(nms, 127, mkChar("dim_IC"));
  SET_STRING_ELT(nms, 128, mkChar("dim_IC_1"));
  SET_STRING_ELT(nms, 129, mkChar("dim_IC_12"));
  SET_STRING_ELT(nms, 130, mkChar("dim_IC_2"));
  SET_STRING_ELT(nms, 131, mkChar("dim_IC_3"));
  SET_STRING_ELT(nms, 132, mkChar("dim_ICA"));
  SET_STRING_ELT(nms, 133, mkChar("dim_ICA_1"));
  SET_STRING_ELT(nms, 134, mkChar("dim_ICA_12"));
  SET_STRING_ELT(nms, 135, mkChar("dim_ICA_2"));
  SET_STRING_ELT(nms, 136, mkChar("dim_ICA_3"));
  SET_STRING_ELT(nms, 137, mkChar("dim_ICM"));
  SET_STRING_ELT(nms, 138, mkChar("dim_ICM_1"));
  SET_STRING_ELT(nms, 139, mkChar("dim_ICM_12"));
  SET_STRING_ELT(nms, 140, mkChar("dim_ICM_2"));
  SET_STRING_ELT(nms, 141, mkChar("dim_ICM_3"));
  SET_STRING_ELT(nms, 142, mkChar("dim_ID"));
  SET_STRING_ELT(nms, 143, mkChar("dim_ID_1"));
  SET_STRING_ELT(nms, 144, mkChar("dim_ID_12"));
  SET_STRING_ELT(nms, 145, mkChar("dim_ID_2"));
  SET_STRING_ELT(nms, 146, mkChar("dim_ID_3"));
  SET_STRING_ELT(nms, 147, mkChar("dim_init_A"));
  SET_STRING_ELT(nms, 148, mkChar("dim_init_A_1"));
  SET_STRING_ELT(nms, 149, mkChar("dim_init_A_12"));
  SET_STRING_ELT(nms, 150, mkChar("dim_init_A_2"));
  SET_STRING_ELT(nms, 151, mkChar("dim_init_A_3"));
  SET_STRING_ELT(nms, 152, mkChar("dim_init_D"));
  SET_STRING_ELT(nms, 153, mkChar("dim_init_D_1"));
  SET_STRING_ELT(nms, 154, mkChar("dim_init_D_12"));
  SET_STRING_ELT(nms, 155, mkChar("dim_init_D_2"));
  SET_STRING_ELT(nms, 156, mkChar("dim_init_D_3"));
  SET_STRING_ELT(nms, 157, mkChar("dim_init_IB"));
  SET_STRING_ELT(nms, 158, mkChar("dim_init_IB_1"));
  SET_STRING_ELT(nms, 159, mkChar("dim_init_IB_12"));
  SET_STRING_ELT(nms, 160, mkChar("dim_init_IB_2"));
  SET_STRING_ELT(nms, 161, mkChar("dim_init_IB_3"));
  SET_STRING_ELT(nms, 162, mkChar("dim_init_ICA"));
  SET_STRING_ELT(nms, 163, mkChar("dim_init_ICA_1"));
  SET_STRING_ELT(nms, 164, mkChar("dim_init_ICA_12"));
  SET_STRING_ELT(nms, 165, mkChar("dim_init_ICA_2"));
  SET_STRING_ELT(nms, 166, mkChar("dim_init_ICA_3"));
  SET_STRING_ELT(nms, 167, mkChar("dim_init_ICM"));
  SET_STRING_ELT(nms, 168, mkChar("dim_init_ICM_1"));
  SET_STRING_ELT(nms, 169, mkChar("dim_init_ICM_12"));
  SET_STRING_ELT(nms, 170, mkChar("dim_init_ICM_2"));
  SET_STRING_ELT(nms, 171, mkChar("dim_init_ICM_3"));
  SET_STRING_ELT(nms, 172, mkChar("dim_init_ICM_pre"));
  SET_STRING_ELT(nms, 173, mkChar("dim_init_ICM_pre_1"));
  SET_STRING_ELT(nms, 174, mkChar("dim_init_ICM_pre_2"));
  SET_STRING_ELT(nms, 175, mkChar("dim_init_ID"));
  SET_STRING_ELT(nms, 176, mkChar("dim_init_ID_1"));
  SET_STRING_ELT(nms, 177, mkChar("dim_init_ID_12"));
  SET_STRING_ELT(nms, 178, mkChar("dim_init_ID_2"));
  SET_STRING_ELT(nms, 179, mkChar("dim_init_ID_3"));
  SET_STRING_ELT(nms, 180, mkChar("dim_init_P"));
  SET_STRING_ELT(nms, 181, mkChar("dim_init_P_1"));
  SET_STRING_ELT(nms, 182, mkChar("dim_init_P_12"));
  SET_STRING_ELT(nms, 183, mkChar("dim_init_P_2"));
  SET_STRING_ELT(nms, 184, mkChar("dim_init_P_3"));
  SET_STRING_ELT(nms, 185, mkChar("dim_init_S"));
  SET_STRING_ELT(nms, 186, mkChar("dim_init_S_1"));
  SET_STRING_ELT(nms, 187, mkChar("dim_init_S_12"));
  SET_STRING_ELT(nms, 188, mkChar("dim_init_S_2"));
  SET_STRING_ELT(nms, 189, mkChar("dim_init_S_3"));
  SET_STRING_ELT(nms, 190, mkChar("dim_init_T"));
  SET_STRING_ELT(nms, 191, mkChar("dim_init_T_1"));
  SET_STRING_ELT(nms, 192, mkChar("dim_init_T_12"));
  SET_STRING_ELT(nms, 193, mkChar("dim_init_T_2"));
  SET_STRING_ELT(nms, 194, mkChar("dim_init_T_3"));
  SET_STRING_ELT(nms, 195, mkChar("dim_init_U"));
  SET_STRING_ELT(nms, 196, mkChar("dim_init_U_1"));
  SET_STRING_ELT(nms, 197, mkChar("dim_init_U_12"));
  SET_STRING_ELT(nms, 198, mkChar("dim_init_U_2"));
  SET_STRING_ELT(nms, 199, mkChar("dim_init_U_3"));
  SET_STRING_ELT(nms, 200, mkChar("dim_P"));
  SET_STRING_ELT(nms, 201, mkChar("dim_P_1"));
  SET_STRING_ELT(nms, 202, mkChar("dim_P_12"));
  SET_STRING_ELT(nms, 203, mkChar("dim_P_2"));
  SET_STRING_ELT(nms, 204, mkChar("dim_P_3"));
  SET_STRING_ELT(nms, 205, mkChar("dim_p_det"));
  SET_STRING_ELT(nms, 206, mkChar("dim_p_det_1"));
  SET_STRING_ELT(nms, 207, mkChar("dim_p_det_12"));
  SET_STRING_ELT(nms, 208, mkChar("dim_p_det_2"));
  SET_STRING_ELT(nms, 209, mkChar("dim_p_det_3"));
  SET_STRING_ELT(nms, 210, mkChar("dim_phi"));
  SET_STRING_ELT(nms, 211, mkChar("dim_phi_1"));
  SET_STRING_ELT(nms, 212, mkChar("dim_phi_12"));
  SET_STRING_ELT(nms, 213, mkChar("dim_phi_2"));
  SET_STRING_ELT(nms, 214, mkChar("dim_phi_3"));
  SET_STRING_ELT(nms, 215, mkChar("dim_prev0to59"));
  SET_STRING_ELT(nms, 216, mkChar("dim_prev0to59_1"));
  SET_STRING_ELT(nms, 217, mkChar("dim_prev0to59_12"));
  SET_STRING_ELT(nms, 218, mkChar("dim_prev0to59_2"));
  SET_STRING_ELT(nms, 219, mkChar("dim_prev0to59_3"));
  SET_STRING_ELT(nms, 220, mkChar("dim_rel_foi"));
  SET_STRING_ELT(nms, 221, mkChar("dim_S"));
  SET_STRING_ELT(nms, 222, mkChar("dim_S_1"));
  SET_STRING_ELT(nms, 223, mkChar("dim_S_12"));
  SET_STRING_ELT(nms, 224, mkChar("dim_S_2"));
  SET_STRING_ELT(nms, 225, mkChar("dim_S_3"));
  SET_STRING_ELT(nms, 226, mkChar("dim_T"));
  SET_STRING_ELT(nms, 227, mkChar("dim_T_1"));
  SET_STRING_ELT(nms, 228, mkChar("dim_T_12"));
  SET_STRING_ELT(nms, 229, mkChar("dim_T_2"));
  SET_STRING_ELT(nms, 230, mkChar("dim_T_3"));
  SET_STRING_ELT(nms, 231, mkChar("dim_U"));
  SET_STRING_ELT(nms, 232, mkChar("dim_U_1"));
  SET_STRING_ELT(nms, 233, mkChar("dim_U_12"));
  SET_STRING_ELT(nms, 234, mkChar("dim_U_2"));
  SET_STRING_ELT(nms, 235, mkChar("dim_U_3"));
  SET_STRING_ELT(nms, 236, mkChar("dim_w"));
  SET_STRING_ELT(nms, 237, mkChar("dim_w_"));
  SET_STRING_ELT(nms, 238, mkChar("dim_whi"));
  SET_STRING_ELT(nms, 239, mkChar("dim_x_I"));
  SET_STRING_ELT(nms, 240, mkChar("dim_Y"));
  SET_STRING_ELT(nms, 241, mkChar("dim_Y_1"));
  SET_STRING_ELT(nms, 242, mkChar("dim_Y_12"));
  SET_STRING_ELT(nms, 243, mkChar("dim_Y_2"));
  SET_STRING_ELT(nms, 244, mkChar("dim_Y_3"));
  SET_STRING_ELT(nms, 245, mkChar("dim_yy"));
  SET_STRING_ELT(nms, 246, mkChar("dim_yy_"));
  SET_STRING_ELT(nms, 247, mkChar("dim_z"));
  SET_STRING_ELT(nms, 248, mkChar("dim_z_"));
  SET_STRING_ELT(nms, 249, mkChar("dim_zhi"));
  SET_STRING_ELT(nms, 250, mkChar("dLL"));
  SET_STRING_ELT(nms, 251, mkChar("dPL"));
  SET_STRING_ELT(nms, 252, mkChar("EIR"));
  SET_STRING_ELT(nms, 253, mkChar("eta"));
  SET_STRING_ELT(nms, 254, mkChar("fd"));
  SET_STRING_ELT(nms, 255, mkChar("fD0"));
  SET_STRING_ELT(nms, 256, mkChar("FOI"));
  SET_STRING_ELT(nms, 257, mkChar("foi_age"));
  SET_STRING_ELT(nms, 258, mkChar("FOI_lag"));
  SET_STRING_ELT(nms, 259, mkChar("FOIvijk"));
  SET_STRING_ELT(nms, 260, mkChar("ft"));
  SET_STRING_ELT(nms, 261, mkChar("gamma1"));
  SET_STRING_ELT(nms, 262, mkChar("gammaD"));
  SET_STRING_ELT(nms, 263, mkChar("gammaL"));
  SET_STRING_ELT(nms, 264, mkChar("het_wt"));
  SET_STRING_ELT(nms, 265, mkChar("IB0"));
  SET_STRING_ELT(nms, 266, mkChar("IC"));
  SET_STRING_ELT(nms, 267, mkChar("IC0"));
  SET_STRING_ELT(nms, 268, mkChar("ID0"));
  SET_STRING_ELT(nms, 269, mkChar("init_A"));
  SET_STRING_ELT(nms, 270, mkChar("init_D"));
  SET_STRING_ELT(nms, 271, mkChar("init_EL"));
  SET_STRING_ELT(nms, 272, mkChar("init_Ev"));
  SET_STRING_ELT(nms, 273, mkChar("init_IB"));
  SET_STRING_ELT(nms, 274, mkChar("init_ICA"));
  SET_STRING_ELT(nms, 275, mkChar("init_ICM"));
  SET_STRING_ELT(nms, 276, mkChar("init_ICM_pre"));
  SET_STRING_ELT(nms, 277, mkChar("init_ID"));
  SET_STRING_ELT(nms, 278, mkChar("init_Iv"));
  SET_STRING_ELT(nms, 279, mkChar("init_LL"));
  SET_STRING_ELT(nms, 280, mkChar("init_P"));
  SET_STRING_ELT(nms, 281, mkChar("init_PL"));
  SET_STRING_ELT(nms, 282, mkChar("init_S"));
  SET_STRING_ELT(nms, 283, mkChar("init_Sv"));
  SET_STRING_ELT(nms, 284, mkChar("init_T"));
  SET_STRING_ELT(nms, 285, mkChar("init_U"));
  SET_STRING_ELT(nms, 286, mkChar("initial_A"));
  SET_STRING_ELT(nms, 287, mkChar("initial_D"));
  SET_STRING_ELT(nms, 288, mkChar("initial_EL"));
  SET_STRING_ELT(nms, 289, mkChar("initial_Ev"));
  SET_STRING_ELT(nms, 290, mkChar("initial_IB"));
  SET_STRING_ELT(nms, 291, mkChar("initial_ICA"));
  SET_STRING_ELT(nms, 292, mkChar("initial_ICM"));
  SET_STRING_ELT(nms, 293, mkChar("initial_ID"));
  SET_STRING_ELT(nms, 294, mkChar("initial_Iv"));
  SET_STRING_ELT(nms, 295, mkChar("initial_LL"));
  SET_STRING_ELT(nms, 296, mkChar("initial_P"));
  SET_STRING_ELT(nms, 297, mkChar("initial_PL"));
  SET_STRING_ELT(nms, 298, mkChar("initial_S"));
  SET_STRING_ELT(nms, 299, mkChar("initial_Sv"));
  SET_STRING_ELT(nms, 300, mkChar("initial_t"));
  SET_STRING_ELT(nms, 301, mkChar("initial_T"));
  SET_STRING_ELT(nms, 302, mkChar("initial_U"));
  SET_STRING_ELT(nms, 303, mkChar("irs_cov"));
  SET_STRING_ELT(nms, 304, mkChar("IRS_interval"));
  SET_STRING_ELT(nms, 305, mkChar("irs_loss"));
  SET_STRING_ELT(nms, 306, mkChar("itn_cov"));
  SET_STRING_ELT(nms, 307, mkChar("ITN_interval"));
  SET_STRING_ELT(nms, 308, mkChar("ITN_IRS_on"));
  SET_STRING_ELT(nms, 309, mkChar("itn_loss"));
  SET_STRING_ELT(nms, 310, mkChar("kB"));
  SET_STRING_ELT(nms, 311, mkChar("kC"));
  SET_STRING_ELT(nms, 312, mkChar("kD"));
  SET_STRING_ELT(nms, 313, mkChar("mu0"));
  SET_STRING_ELT(nms, 314, mkChar("muEL"));
  SET_STRING_ELT(nms, 315, mkChar("muLL"));
  SET_STRING_ELT(nms, 316, mkChar("muPL"));
  SET_STRING_ELT(nms, 317, mkChar("mv0"));
  SET_STRING_ELT(nms, 318, mkChar("na"));
  SET_STRING_ELT(nms, 319, mkChar("nh"));
  SET_STRING_ELT(nms, 320, mkChar("num_int"));
  SET_STRING_ELT(nms, 321, mkChar("offset_FOIv_A"));
  SET_STRING_ELT(nms, 322, mkChar("offset_FOIv_ID"));
  SET_STRING_ELT(nms, 323, mkChar("offset_FOIv_U"));
  SET_STRING_ELT(nms, 324, mkChar("offset_variable_A"));
  SET_STRING_ELT(nms, 325, mkChar("offset_variable_D"));
  SET_STRING_ELT(nms, 326, mkChar("offset_variable_IB"));
  SET_STRING_ELT(nms, 327, mkChar("offset_variable_ICA"));
  SET_STRING_ELT(nms, 328, mkChar("offset_variable_ICM"));
  SET_STRING_ELT(nms, 329, mkChar("offset_variable_ID"));
  SET_STRING_ELT(nms, 330, mkChar("offset_variable_P"));
  SET_STRING_ELT(nms, 331, mkChar("offset_variable_T"));
  SET_STRING_ELT(nms, 332, mkChar("offset_variable_U"));
  SET_STRING_ELT(nms, 333, mkChar("omega"));
  SET_STRING_ELT(nms, 334, mkChar("p_det"));
  SET_STRING_ELT(nms, 335, mkChar("p10"));
  SET_STRING_ELT(nms, 336, mkChar("p2"));
  SET_STRING_ELT(nms, 337, mkChar("phi"));
  SET_STRING_ELT(nms, 338, mkChar("phi0"));
  SET_STRING_ELT(nms, 339, mkChar("phi1"));
  SET_STRING_ELT(nms, 340, mkChar("pi"));
  SET_STRING_ELT(nms, 341, mkChar("PM"));
  SET_STRING_ELT(nms, 342, mkChar("prev0to59"));
  SET_STRING_ELT(nms, 343, mkChar("Q0"));
  SET_STRING_ELT(nms, 344, mkChar("r_IRS0"));
  SET_STRING_ELT(nms, 345, mkChar("r_ITN0"));
  SET_STRING_ELT(nms, 346, mkChar("r_ITN1"));
  SET_STRING_ELT(nms, 347, mkChar("rA"));
  SET_STRING_ELT(nms, 348, mkChar("rD"));
  SET_STRING_ELT(nms, 349, mkChar("rel_foi"));
  SET_STRING_ELT(nms, 350, mkChar("rP"));
  SET_STRING_ELT(nms, 351, mkChar("rT"));
  SET_STRING_ELT(nms, 352, mkChar("rU"));
  SET_STRING_ELT(nms, 353, mkChar("ssa0"));
  SET_STRING_ELT(nms, 354, mkChar("ssa1"));
  SET_STRING_ELT(nms, 355, mkChar("ssa2"));
  SET_STRING_ELT(nms, 356, mkChar("ssa3"));
  SET_STRING_ELT(nms, 357, mkChar("ssb1"));
  SET_STRING_ELT(nms, 358, mkChar("ssb2"));
  SET_STRING_ELT(nms, 359, mkChar("ssb3"));
  SET_STRING_ELT(nms, 360, mkChar("tau1"));
  SET_STRING_ELT(nms, 361, mkChar("tau2"));
  SET_STRING_ELT(nms, 362, mkChar("theta_c"));
  SET_STRING_ELT(nms, 363, mkChar("uB"));
  SET_STRING_ELT(nms, 364, mkChar("uCA"));
  SET_STRING_ELT(nms, 365, mkChar("uD"));
  SET_STRING_ELT(nms, 366, mkChar("w"));
  SET_STRING_ELT(nms, 367, mkChar("w_"));
  SET_STRING_ELT(nms, 368, mkChar("whi"));
  SET_STRING_ELT(nms, 369, mkChar("x_I"));
  SET_STRING_ELT(nms, 370, mkChar("Y"));
  SET_STRING_ELT(nms, 371, mkChar("yy"));
  SET_STRING_ELT(nms, 372, mkChar("yy_"));
  SET_STRING_ELT(nms, 373, mkChar("z"));
  SET_STRING_ELT(nms, 374, mkChar("z_"));
  SET_STRING_ELT(nms, 375, mkChar("zhi"));
  SET_STRING_ELT(nms, 376, mkChar("odin_model_use_dde"));
  setAttrib(contents, R_NamesSymbol, nms);
  UNPROTECT(78);
  return contents;
}
SEXP odin_model_set_user(SEXP internal_p, SEXP user) {
  odin_model_internal *internal = odin_model_get_internal(internal_p, 1);
  internal->aD = user_get_scalar_double(user, "aD", internal->aD, NA_REAL, NA_REAL);
  internal->age_20_factor = user_get_scalar_double(user, "age_20_factor", internal->age_20_factor, NA_REAL, NA_REAL);
  internal->age05 = user_get_scalar_int(user, "age05", internal->age05, NA_REAL, NA_REAL);
  internal->age20l = user_get_scalar_int(user, "age20l", internal->age20l, NA_REAL, NA_REAL);
  internal->age20u = user_get_scalar_int(user, "age20u", internal->age20u, NA_REAL, NA_REAL);
  internal->age59 = user_get_scalar_int(user, "age59", internal->age59, NA_REAL, NA_REAL);
  internal->b0 = user_get_scalar_double(user, "b0", internal->b0, NA_REAL, NA_REAL);
  internal->b1 = user_get_scalar_double(user, "b1", internal->b1, NA_REAL, NA_REAL);
  internal->betaL = user_get_scalar_double(user, "betaL", internal->betaL, NA_REAL, NA_REAL);
  internal->bites_Bed = user_get_scalar_double(user, "bites_Bed", internal->bites_Bed, NA_REAL, NA_REAL);
  internal->bites_Indoors = user_get_scalar_double(user, "bites_Indoors", internal->bites_Indoors, NA_REAL, NA_REAL);
  internal->cD = user_get_scalar_double(user, "cD", internal->cD, NA_REAL, NA_REAL);
  internal->chi = user_get_scalar_double(user, "chi", internal->chi, NA_REAL, NA_REAL);
  internal->cT = user_get_scalar_double(user, "cT", internal->cT, NA_REAL, NA_REAL);
  internal->cU = user_get_scalar_double(user, "cU", internal->cU, NA_REAL, NA_REAL);
  internal->d_IRS0 = user_get_scalar_double(user, "d_IRS0", internal->d_IRS0, NA_REAL, NA_REAL);
  internal->d_ITN0 = user_get_scalar_double(user, "d_ITN0", internal->d_ITN0, NA_REAL, NA_REAL);
  internal->d1 = user_get_scalar_double(user, "d1", internal->d1, NA_REAL, NA_REAL);
  internal->dB = user_get_scalar_double(user, "dB", internal->dB, NA_REAL, NA_REAL);
  internal->dCA = user_get_scalar_double(user, "dCA", internal->dCA, NA_REAL, NA_REAL);
  internal->dCM = user_get_scalar_double(user, "dCM", internal->dCM, NA_REAL, NA_REAL);
  internal->dE = user_get_scalar_double(user, "dE", internal->dE, NA_REAL, NA_REAL);
  internal->dEL = user_get_scalar_double(user, "dEL", internal->dEL, NA_REAL, NA_REAL);
  internal->delayGam = user_get_scalar_double(user, "delayGam", internal->delayGam, NA_REAL, NA_REAL);
  internal->delayMos = user_get_scalar_double(user, "delayMos", internal->delayMos, NA_REAL, NA_REAL);
  internal->dID = user_get_scalar_double(user, "dID", internal->dID, NA_REAL, NA_REAL);
  internal->dLL = user_get_scalar_double(user, "dLL", internal->dLL, NA_REAL, NA_REAL);
  internal->dPL = user_get_scalar_double(user, "dPL", internal->dPL, NA_REAL, NA_REAL);
  internal->eta = user_get_scalar_double(user, "eta", internal->eta, NA_REAL, NA_REAL);
  internal->fD0 = user_get_scalar_double(user, "fD0", internal->fD0, NA_REAL, NA_REAL);
  internal->ft = user_get_scalar_double(user, "ft", internal->ft, NA_REAL, NA_REAL);
  internal->gamma1 = user_get_scalar_double(user, "gamma1", internal->gamma1, NA_REAL, NA_REAL);
  internal->gammaD = user_get_scalar_double(user, "gammaD", internal->gammaD, NA_REAL, NA_REAL);
  internal->gammaL = user_get_scalar_double(user, "gammaL", internal->gammaL, NA_REAL, NA_REAL);
  internal->IB0 = user_get_scalar_double(user, "IB0", internal->IB0, NA_REAL, NA_REAL);
  internal->IC0 = user_get_scalar_double(user, "IC0", internal->IC0, NA_REAL, NA_REAL);
  internal->ID0 = user_get_scalar_double(user, "ID0", internal->ID0, NA_REAL, NA_REAL);
  internal->init_EL = user_get_scalar_double(user, "init_EL", internal->init_EL, NA_REAL, NA_REAL);
  internal->init_Ev = user_get_scalar_double(user, "init_Ev", internal->init_Ev, NA_REAL, NA_REAL);
  internal->init_Iv = user_get_scalar_double(user, "init_Iv", internal->init_Iv, NA_REAL, NA_REAL);
  internal->init_LL = user_get_scalar_double(user, "init_LL", internal->init_LL, NA_REAL, NA_REAL);
  internal->init_PL = user_get_scalar_double(user, "init_PL", internal->init_PL, NA_REAL, NA_REAL);
  internal->init_Sv = user_get_scalar_double(user, "init_Sv", internal->init_Sv, NA_REAL, NA_REAL);
  internal->irs_cov = user_get_scalar_double(user, "irs_cov", internal->irs_cov, NA_REAL, NA_REAL);
  internal->IRS_interval = user_get_scalar_double(user, "IRS_interval", internal->IRS_interval, NA_REAL, NA_REAL);
  internal->irs_loss = user_get_scalar_double(user, "irs_loss", internal->irs_loss, NA_REAL, NA_REAL);
  internal->itn_cov = user_get_scalar_double(user, "itn_cov", internal->itn_cov, NA_REAL, NA_REAL);
  internal->ITN_interval = user_get_scalar_double(user, "ITN_interval", internal->ITN_interval, NA_REAL, NA_REAL);
  internal->ITN_IRS_on = user_get_scalar_double(user, "ITN_IRS_on", internal->ITN_IRS_on, NA_REAL, NA_REAL);
  internal->itn_loss = user_get_scalar_double(user, "itn_loss", internal->itn_loss, NA_REAL, NA_REAL);
  internal->kB = user_get_scalar_double(user, "kB", internal->kB, NA_REAL, NA_REAL);
  internal->kC = user_get_scalar_double(user, "kC", internal->kC, NA_REAL, NA_REAL);
  internal->kD = user_get_scalar_double(user, "kD", internal->kD, NA_REAL, NA_REAL);
  internal->mu0 = user_get_scalar_double(user, "mu0", internal->mu0, NA_REAL, NA_REAL);
  internal->muEL = user_get_scalar_double(user, "muEL", internal->muEL, NA_REAL, NA_REAL);
  internal->muLL = user_get_scalar_double(user, "muLL", internal->muLL, NA_REAL, NA_REAL);
  internal->muPL = user_get_scalar_double(user, "muPL", internal->muPL, NA_REAL, NA_REAL);
  internal->mv0 = user_get_scalar_double(user, "mv0", internal->mv0, NA_REAL, NA_REAL);
  internal->na = user_get_scalar_int(user, "na", internal->na, NA_REAL, NA_REAL);
  internal->nh = user_get_scalar_int(user, "nh", internal->nh, NA_REAL, NA_REAL);
  internal->num_int = user_get_scalar_int(user, "num_int", internal->num_int, NA_REAL, NA_REAL);
  internal->omega = user_get_scalar_double(user, "omega", internal->omega, NA_REAL, NA_REAL);
  internal->p10 = user_get_scalar_double(user, "p10", internal->p10, NA_REAL, NA_REAL);
  internal->p2 = user_get_scalar_double(user, "p2", internal->p2, NA_REAL, NA_REAL);
  internal->phi0 = user_get_scalar_double(user, "phi0", internal->phi0, NA_REAL, NA_REAL);
  internal->phi1 = user_get_scalar_double(user, "phi1", internal->phi1, NA_REAL, NA_REAL);
  internal->pi = user_get_scalar_double(user, "pi", internal->pi, NA_REAL, NA_REAL);
  internal->PM = user_get_scalar_double(user, "PM", internal->PM, NA_REAL, NA_REAL);
  internal->Q0 = user_get_scalar_double(user, "Q0", internal->Q0, NA_REAL, NA_REAL);
  internal->r_IRS0 = user_get_scalar_double(user, "r_IRS0", internal->r_IRS0, NA_REAL, NA_REAL);
  internal->r_ITN0 = user_get_scalar_double(user, "r_ITN0", internal->r_ITN0, NA_REAL, NA_REAL);
  internal->r_ITN1 = user_get_scalar_double(user, "r_ITN1", internal->r_ITN1, NA_REAL, NA_REAL);
  internal->rA = user_get_scalar_double(user, "rA", internal->rA, NA_REAL, NA_REAL);
  internal->rD = user_get_scalar_double(user, "rD", internal->rD, NA_REAL, NA_REAL);
  internal->rP = user_get_scalar_double(user, "rP", internal->rP, NA_REAL, NA_REAL);
  internal->rT = user_get_scalar_double(user, "rT", internal->rT, NA_REAL, NA_REAL);
  internal->rU = user_get_scalar_double(user, "rU", internal->rU, NA_REAL, NA_REAL);
  internal->ssa0 = user_get_scalar_double(user, "ssa0", internal->ssa0, NA_REAL, NA_REAL);
  internal->ssa1 = user_get_scalar_double(user, "ssa1", internal->ssa1, NA_REAL, NA_REAL);
  internal->ssa2 = user_get_scalar_double(user, "ssa2", internal->ssa2, NA_REAL, NA_REAL);
  internal->ssa3 = user_get_scalar_double(user, "ssa3", internal->ssa3, NA_REAL, NA_REAL);
  internal->ssb1 = user_get_scalar_double(user, "ssb1", internal->ssb1, NA_REAL, NA_REAL);
  internal->ssb2 = user_get_scalar_double(user, "ssb2", internal->ssb2, NA_REAL, NA_REAL);
  internal->ssb3 = user_get_scalar_double(user, "ssb3", internal->ssb3, NA_REAL, NA_REAL);
  internal->tau1 = user_get_scalar_double(user, "tau1", internal->tau1, NA_REAL, NA_REAL);
  internal->tau2 = user_get_scalar_double(user, "tau2", internal->tau2, NA_REAL, NA_REAL);
  internal->theta_c = user_get_scalar_double(user, "theta_c", internal->theta_c, NA_REAL, NA_REAL);
  internal->uB = user_get_scalar_double(user, "uB", internal->uB, NA_REAL, NA_REAL);
  internal->uCA = user_get_scalar_double(user, "uCA", internal->uCA, NA_REAL, NA_REAL);
  internal->uD = user_get_scalar_double(user, "uD", internal->uD, NA_REAL, NA_REAL);
  internal->b_lambda = (internal->gammaL * internal->muLL / (double) internal->muEL - internal->dEL / (double) internal->dLL + (internal->gammaL - 1) * internal->muLL * internal->dEL);
  internal->dim_A_1 = internal->na;
  internal->dim_A_2 = internal->nh;
  internal->dim_A_3 = internal->num_int;
  internal->dim_age = internal->na;
  internal->dim_age_rate = internal->na;
  internal->dim_av_human = internal->num_int;
  internal->dim_av_mosq = internal->num_int;
  internal->dim_b_1 = internal->na;
  internal->dim_b_2 = internal->nh;
  internal->dim_b_3 = internal->num_int;
  internal->dim_cA_1 = internal->na;
  internal->dim_cA_2 = internal->nh;
  internal->dim_cA_3 = internal->num_int;
  internal->dim_clin_inc_1 = internal->na;
  internal->dim_clin_inc_2 = internal->nh;
  internal->dim_clin_inc_3 = internal->num_int;
  internal->dim_clin_inc0to5_1 = internal->age05;
  internal->dim_clin_inc0to5_2 = internal->nh;
  internal->dim_clin_inc0to5_3 = internal->num_int;
  internal->dim_cov = internal->num_int;
  internal->dim_D_1 = internal->na;
  internal->dim_D_2 = internal->nh;
  internal->dim_D_3 = internal->num_int;
  internal->dim_den = internal->na;
  internal->dim_EIR_1 = internal->na;
  internal->dim_EIR_2 = internal->nh;
  internal->dim_EIR_3 = internal->num_int;
  internal->dim_fd = internal->na;
  internal->dim_FOI_1 = internal->na;
  internal->dim_FOI_2 = internal->nh;
  internal->dim_FOI_3 = internal->num_int;
  internal->dim_foi_age = internal->na;
  internal->dim_FOI_lag_1 = internal->na;
  internal->dim_FOI_lag_2 = internal->nh;
  internal->dim_FOI_lag_3 = internal->num_int;
  internal->dim_FOIvijk_1 = internal->na;
  internal->dim_FOIvijk_2 = internal->nh;
  internal->dim_FOIvijk_3 = internal->num_int;
  internal->dim_het_wt = internal->nh;
  internal->dim_IB_1 = internal->na;
  internal->dim_IB_2 = internal->nh;
  internal->dim_IB_3 = internal->num_int;
  internal->dim_IC_1 = internal->na;
  internal->dim_IC_2 = internal->nh;
  internal->dim_IC_3 = internal->num_int;
  internal->dim_ICA_1 = internal->na;
  internal->dim_ICA_2 = internal->nh;
  internal->dim_ICA_3 = internal->num_int;
  internal->dim_ICM_1 = internal->na;
  internal->dim_ICM_2 = internal->nh;
  internal->dim_ICM_3 = internal->num_int;
  internal->dim_ID_1 = internal->na;
  internal->dim_ID_2 = internal->nh;
  internal->dim_ID_3 = internal->num_int;
  internal->dim_init_A_1 = internal->na;
  internal->dim_init_A_2 = internal->nh;
  internal->dim_init_A_3 = internal->num_int;
  internal->dim_init_D_1 = internal->na;
  internal->dim_init_D_2 = internal->nh;
  internal->dim_init_D_3 = internal->num_int;
  internal->dim_init_IB_1 = internal->na;
  internal->dim_init_IB_2 = internal->nh;
  internal->dim_init_IB_3 = internal->num_int;
  internal->dim_init_ICA_1 = internal->na;
  internal->dim_init_ICA_2 = internal->nh;
  internal->dim_init_ICA_3 = internal->num_int;
  internal->dim_init_ICM_1 = internal->na;
  internal->dim_init_ICM_2 = internal->nh;
  internal->dim_init_ICM_3 = internal->num_int;
  internal->dim_init_ICM_pre_1 = internal->nh;
  internal->dim_init_ICM_pre_2 = internal->num_int;
  internal->dim_init_ID_1 = internal->na;
  internal->dim_init_ID_2 = internal->nh;
  internal->dim_init_ID_3 = internal->num_int;
  internal->dim_init_P_1 = internal->na;
  internal->dim_init_P_2 = internal->nh;
  internal->dim_init_P_3 = internal->num_int;
  internal->dim_init_S_1 = internal->na;
  internal->dim_init_S_2 = internal->nh;
  internal->dim_init_S_3 = internal->num_int;
  internal->dim_init_T_1 = internal->na;
  internal->dim_init_T_2 = internal->nh;
  internal->dim_init_T_3 = internal->num_int;
  internal->dim_init_U_1 = internal->na;
  internal->dim_init_U_2 = internal->nh;
  internal->dim_init_U_3 = internal->num_int;
  internal->dim_P_1 = internal->na;
  internal->dim_P_2 = internal->nh;
  internal->dim_P_3 = internal->num_int;
  internal->dim_p_det_1 = internal->na;
  internal->dim_p_det_2 = internal->nh;
  internal->dim_p_det_3 = internal->num_int;
  internal->dim_phi_1 = internal->na;
  internal->dim_phi_2 = internal->nh;
  internal->dim_phi_3 = internal->num_int;
  internal->dim_prev0to59_1 = internal->age59;
  internal->dim_prev0to59_2 = internal->nh;
  internal->dim_prev0to59_3 = internal->num_int;
  internal->dim_rel_foi = internal->nh;
  internal->dim_S_1 = internal->na;
  internal->dim_S_2 = internal->nh;
  internal->dim_S_3 = internal->num_int;
  internal->dim_T_1 = internal->na;
  internal->dim_T_2 = internal->nh;
  internal->dim_T_3 = internal->num_int;
  internal->dim_U_1 = internal->na;
  internal->dim_U_2 = internal->nh;
  internal->dim_U_3 = internal->num_int;
  internal->dim_w = internal->num_int;
  internal->dim_whi = internal->num_int;
  internal->dim_x_I = internal->na;
  internal->dim_Y_1 = internal->na;
  internal->dim_Y_2 = internal->nh;
  internal->dim_Y_3 = internal->num_int;
  internal->dim_yy = internal->num_int;
  internal->dim_z = internal->num_int;
  internal->dim_zhi = internal->num_int;
  internal->initial_EL = internal->init_EL;
  internal->initial_Ev = internal->init_Ev * internal->mv0;
  internal->initial_Iv = internal->init_Iv * internal->mv0;
  internal->initial_LL = internal->init_LL;
  internal->initial_PL = internal->init_PL;
  internal->initial_Sv = internal->init_Sv * internal->mv0;
  internal->age = (double*) user_get_array(user, false, internal->age, "age", NA_REAL, NA_REAL, 1, internal->dim_age);
  internal->age_rate = (double*) user_get_array(user, false, internal->age_rate, "age_rate", NA_REAL, NA_REAL, 1, internal->dim_age_rate);
  Free(internal->av_human);
  internal->av_human = (double*) Calloc(internal->dim_av_human, double);
  Free(internal->av_mosq);
  internal->av_mosq = (double*) Calloc(internal->dim_av_mosq, double);
  Free(internal->cov);
  internal->cov = (double*) Calloc(internal->dim_cov, double);
  Free(internal->fd);
  internal->fd = (double*) Calloc(internal->dim_fd, double);
  Free(internal->w);
  internal->w = (double*) Calloc(internal->dim_w, double);
  Free(internal->whi);
  internal->whi = (double*) Calloc(internal->dim_whi, double);
  Free(internal->yy);
  internal->yy = (double*) Calloc(internal->dim_yy, double);
  Free(internal->z);
  internal->z = (double*) Calloc(internal->dim_z, double);
  Free(internal->zhi);
  internal->zhi = (double*) Calloc(internal->dim_zhi, double);
  {
     int i = 1;
     internal->cov_[i - 1] = (1 - internal->itn_cov) * (1 - internal->irs_cov);
  }
  {
     int i = 2;
     internal->cov_[i - 1] = internal->itn_cov * (1 - internal->irs_cov);
  }
  {
     int i = 3;
     internal->cov_[i - 1] = (1 - internal->itn_cov) * internal->irs_cov;
  }
  {
     int i = 4;
     internal->cov_[i - 1] = internal->itn_cov * internal->irs_cov;
  }
  Free(internal->delay_array_av_human);
  internal->delay_array_av_human = (double*) Calloc(internal->dim_av_human, double);
  Free(internal->delay_array_av_mosq);
  internal->delay_array_av_mosq = (double*) Calloc(internal->dim_av_mosq, double);
  Free(internal->delay_array_w);
  internal->delay_array_w = (double*) Calloc(internal->dim_w, double);
  Free(internal->delay_array_whi);
  internal->delay_array_whi = (double*) Calloc(internal->dim_whi, double);
  Free(internal->delay_array_yy);
  internal->delay_array_yy = (double*) Calloc(internal->dim_yy, double);
  Free(internal->delay_array_z);
  internal->delay_array_z = (double*) Calloc(internal->dim_z, double);
  Free(internal->delay_array_zhi);
  internal->delay_array_zhi = (double*) Calloc(internal->dim_zhi, double);
  internal->den = (double*) user_get_array(user, false, internal->den, "den", NA_REAL, NA_REAL, 1, internal->dim_den);
  internal->dim_A = internal->dim_A_1 * internal->dim_A_2 * internal->dim_A_3;
  internal->dim_A_12 = internal->dim_A_1 * internal->dim_A_2;
  internal->dim_b = internal->dim_b_1 * internal->dim_b_2 * internal->dim_b_3;
  internal->dim_b_12 = internal->dim_b_1 * internal->dim_b_2;
  internal->dim_cA = internal->dim_cA_1 * internal->dim_cA_2 * internal->dim_cA_3;
  internal->dim_cA_12 = internal->dim_cA_1 * internal->dim_cA_2;
  internal->dim_clin_inc = internal->dim_clin_inc_1 * internal->dim_clin_inc_2 * internal->dim_clin_inc_3;
  internal->dim_clin_inc_12 = internal->dim_clin_inc_1 * internal->dim_clin_inc_2;
  internal->dim_clin_inc0to5 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2 * internal->dim_clin_inc0to5_3;
  internal->dim_clin_inc0to5_12 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2;
  internal->dim_D = internal->dim_D_1 * internal->dim_D_2 * internal->dim_D_3;
  internal->dim_D_12 = internal->dim_D_1 * internal->dim_D_2;
  internal->dim_EIR = internal->dim_EIR_1 * internal->dim_EIR_2 * internal->dim_EIR_3;
  internal->dim_EIR_12 = internal->dim_EIR_1 * internal->dim_EIR_2;
  internal->dim_FOI = internal->dim_FOI_1 * internal->dim_FOI_2 * internal->dim_FOI_3;
  internal->dim_FOI_12 = internal->dim_FOI_1 * internal->dim_FOI_2;
  internal->dim_FOI_lag = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2 * internal->dim_FOI_lag_3;
  internal->dim_FOI_lag_12 = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2;
  internal->dim_FOIvijk = internal->dim_FOIvijk_1 * internal->dim_FOIvijk_2 * internal->dim_FOIvijk_3;
  internal->dim_FOIvijk_12 = internal->dim_FOIvijk_1 * internal->dim_FOIvijk_2;
  internal->dim_IB = internal->dim_IB_1 * internal->dim_IB_2 * internal->dim_IB_3;
  internal->dim_IB_12 = internal->dim_IB_1 * internal->dim_IB_2;
  internal->dim_IC = internal->dim_IC_1 * internal->dim_IC_2 * internal->dim_IC_3;
  internal->dim_IC_12 = internal->dim_IC_1 * internal->dim_IC_2;
  internal->dim_ICA = internal->dim_ICA_1 * internal->dim_ICA_2 * internal->dim_ICA_3;
  internal->dim_ICA_12 = internal->dim_ICA_1 * internal->dim_ICA_2;
  internal->dim_ICM = internal->dim_ICM_1 * internal->dim_ICM_2 * internal->dim_ICM_3;
  internal->dim_ICM_12 = internal->dim_ICM_1 * internal->dim_ICM_2;
  internal->dim_ID = internal->dim_ID_1 * internal->dim_ID_2 * internal->dim_ID_3;
  internal->dim_ID_12 = internal->dim_ID_1 * internal->dim_ID_2;
  internal->dim_init_A = internal->dim_init_A_1 * internal->dim_init_A_2 * internal->dim_init_A_3;
  internal->dim_init_A_12 = internal->dim_init_A_1 * internal->dim_init_A_2;
  internal->dim_init_D = internal->dim_init_D_1 * internal->dim_init_D_2 * internal->dim_init_D_3;
  internal->dim_init_D_12 = internal->dim_init_D_1 * internal->dim_init_D_2;
  internal->dim_init_IB = internal->dim_init_IB_1 * internal->dim_init_IB_2 * internal->dim_init_IB_3;
  internal->dim_init_IB_12 = internal->dim_init_IB_1 * internal->dim_init_IB_2;
  internal->dim_init_ICA = internal->dim_init_ICA_1 * internal->dim_init_ICA_2 * internal->dim_init_ICA_3;
  internal->dim_init_ICA_12 = internal->dim_init_ICA_1 * internal->dim_init_ICA_2;
  internal->dim_init_ICM = internal->dim_init_ICM_1 * internal->dim_init_ICM_2 * internal->dim_init_ICM_3;
  internal->dim_init_ICM_12 = internal->dim_init_ICM_1 * internal->dim_init_ICM_2;
  internal->dim_init_ICM_pre = internal->dim_init_ICM_pre_1 * internal->dim_init_ICM_pre_2;
  internal->dim_init_ID = internal->dim_init_ID_1 * internal->dim_init_ID_2 * internal->dim_init_ID_3;
  internal->dim_init_ID_12 = internal->dim_init_ID_1 * internal->dim_init_ID_2;
  internal->dim_init_P = internal->dim_init_P_1 * internal->dim_init_P_2 * internal->dim_init_P_3;
  internal->dim_init_P_12 = internal->dim_init_P_1 * internal->dim_init_P_2;
  internal->dim_init_S = internal->dim_init_S_1 * internal->dim_init_S_2 * internal->dim_init_S_3;
  internal->dim_init_S_12 = internal->dim_init_S_1 * internal->dim_init_S_2;
  internal->dim_init_T = internal->dim_init_T_1 * internal->dim_init_T_2 * internal->dim_init_T_3;
  internal->dim_init_T_12 = internal->dim_init_T_1 * internal->dim_init_T_2;
  internal->dim_init_U = internal->dim_init_U_1 * internal->dim_init_U_2 * internal->dim_init_U_3;
  internal->dim_init_U_12 = internal->dim_init_U_1 * internal->dim_init_U_2;
  internal->dim_P = internal->dim_P_1 * internal->dim_P_2 * internal->dim_P_3;
  internal->dim_P_12 = internal->dim_P_1 * internal->dim_P_2;
  internal->dim_p_det = internal->dim_p_det_1 * internal->dim_p_det_2 * internal->dim_p_det_3;
  internal->dim_p_det_12 = internal->dim_p_det_1 * internal->dim_p_det_2;
  internal->dim_phi = internal->dim_phi_1 * internal->dim_phi_2 * internal->dim_phi_3;
  internal->dim_phi_12 = internal->dim_phi_1 * internal->dim_phi_2;
  internal->dim_prev0to59 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2 * internal->dim_prev0to59_3;
  internal->dim_prev0to59_12 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2;
  internal->dim_S = internal->dim_S_1 * internal->dim_S_2 * internal->dim_S_3;
  internal->dim_S_12 = internal->dim_S_1 * internal->dim_S_2;
  internal->dim_T = internal->dim_T_1 * internal->dim_T_2 * internal->dim_T_3;
  internal->dim_T_12 = internal->dim_T_1 * internal->dim_T_2;
  internal->dim_U = internal->dim_U_1 * internal->dim_U_2 * internal->dim_U_3;
  internal->dim_U_12 = internal->dim_U_1 * internal->dim_U_2;
  internal->dim_Y = internal->dim_Y_1 * internal->dim_Y_2 * internal->dim_Y_3;
  internal->dim_Y_12 = internal->dim_Y_1 * internal->dim_Y_2;
  internal->foi_age = (double*) user_get_array(user, false, internal->foi_age, "foi_age", NA_REAL, NA_REAL, 1, internal->dim_foi_age);
  internal->het_wt = (double*) user_get_array(user, false, internal->het_wt, "het_wt", NA_REAL, NA_REAL, 1, internal->dim_het_wt);
  internal->rel_foi = (double*) user_get_array(user, false, internal->rel_foi, "rel_foi", NA_REAL, NA_REAL, 1, internal->dim_rel_foi);
  internal->x_I = (double*) user_get_array(user, false, internal->x_I, "x_I", NA_REAL, NA_REAL, 1, internal->dim_x_I);
  Free(internal->b);
  internal->b = (double*) Calloc(internal->dim_b, double);
  Free(internal->cA);
  internal->cA = (double*) Calloc(internal->dim_cA, double);
  Free(internal->clin_inc);
  internal->clin_inc = (double*) Calloc(internal->dim_clin_inc, double);
  Free(internal->clin_inc0to5);
  internal->clin_inc0to5 = (double*) Calloc(internal->dim_clin_inc0to5, double);
  Free(internal->EIR);
  internal->EIR = (double*) Calloc(internal->dim_EIR, double);
  Free(internal->FOI);
  internal->FOI = (double*) Calloc(internal->dim_FOI, double);
  Free(internal->FOI_lag);
  internal->FOI_lag = (double*) Calloc(internal->dim_FOI_lag, double);
  Free(internal->FOIvijk);
  internal->FOIvijk = (double*) Calloc(internal->dim_FOIvijk, double);
  Free(internal->IC);
  internal->IC = (double*) Calloc(internal->dim_IC, double);
  Free(internal->init_ICM_pre);
  internal->init_ICM_pre = (double*) Calloc(internal->dim_init_ICM_pre, double);
  Free(internal->initial_A);
  internal->initial_A = (double*) Calloc(internal->dim_A, double);
  Free(internal->initial_D);
  internal->initial_D = (double*) Calloc(internal->dim_D, double);
  Free(internal->initial_IB);
  internal->initial_IB = (double*) Calloc(internal->dim_IB, double);
  Free(internal->initial_ICA);
  internal->initial_ICA = (double*) Calloc(internal->dim_ICA, double);
  Free(internal->initial_ICM);
  internal->initial_ICM = (double*) Calloc(internal->dim_ICM, double);
  Free(internal->initial_ID);
  internal->initial_ID = (double*) Calloc(internal->dim_ID, double);
  Free(internal->initial_P);
  internal->initial_P = (double*) Calloc(internal->dim_P, double);
  Free(internal->initial_S);
  internal->initial_S = (double*) Calloc(internal->dim_S, double);
  Free(internal->initial_T);
  internal->initial_T = (double*) Calloc(internal->dim_T, double);
  Free(internal->initial_U);
  internal->initial_U = (double*) Calloc(internal->dim_U, double);
  Free(internal->p_det);
  internal->p_det = (double*) Calloc(internal->dim_p_det, double);
  Free(internal->phi);
  internal->phi = (double*) Calloc(internal->dim_phi, double);
  Free(internal->prev0to59);
  internal->prev0to59 = (double*) Calloc(internal->dim_prev0to59, double);
  Free(internal->Y);
  internal->Y = (double*) Calloc(internal->dim_Y, double);
  for (int i = 1; i <= internal->dim_cov; ++i) {
    internal->cov[i - 1] = internal->cov_[i - 1];
  }
  Free(internal->delay_array_b);
  internal->delay_array_b = (double*) Calloc(internal->dim_b, double);
  Free(internal->delay_array_cA);
  internal->delay_array_cA = (double*) Calloc(internal->dim_cA, double);
  Free(internal->delay_array_EIR);
  internal->delay_array_EIR = (double*) Calloc(internal->dim_EIR, double);
  Free(internal->delay_array_FOI_lag);
  internal->delay_array_FOI_lag = (double*) Calloc(internal->dim_FOI_lag, double);
  Free(internal->delay_array_FOIvijk);
  internal->delay_array_FOIvijk = (double*) Calloc(internal->dim_FOIvijk, double);
  Free(internal->delay_array_p_det);
  internal->delay_array_p_det = (double*) Calloc(internal->dim_p_det, double);
  internal->dim_delay_FOI = internal->dim_IB + 1;
  internal->dim_delay_FOIv = internal->dim_A + internal->dim_D + internal->dim_ID + internal->dim_T + internal->dim_U;
  for (int i = 1; i <= internal->na; ++i) {
    internal->fd[i - 1] = 1 - (1 - internal->fD0) / (double) (1 + pow((internal->age[i - 1] / (double) internal->aD), internal->gammaD));
  }
  internal->init_A = (double*) user_get_array(user, false, internal->init_A, "init_A", NA_REAL, NA_REAL, 3, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3);
  internal->init_D = (double*) user_get_array(user, false, internal->init_D, "init_D", NA_REAL, NA_REAL, 3, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3);
  internal->init_IB = (double*) user_get_array(user, false, internal->init_IB, "init_IB", NA_REAL, NA_REAL, 3, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3);
  internal->init_ICA = (double*) user_get_array(user, false, internal->init_ICA, "init_ICA", NA_REAL, NA_REAL, 3, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3);
  internal->init_ICM = (double*) user_get_array(user, false, internal->init_ICM, "init_ICM", NA_REAL, NA_REAL, 3, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3);
  internal->init_ID = (double*) user_get_array(user, false, internal->init_ID, "init_ID", NA_REAL, NA_REAL, 3, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3);
  internal->init_P = (double*) user_get_array(user, false, internal->init_P, "init_P", NA_REAL, NA_REAL, 3, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3);
  internal->init_S = (double*) user_get_array(user, false, internal->init_S, "init_S", NA_REAL, NA_REAL, 3, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3);
  internal->init_T = (double*) user_get_array(user, false, internal->init_T, "init_T", NA_REAL, NA_REAL, 3, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3);
  internal->init_U = (double*) user_get_array(user, false, internal->init_U, "init_U", NA_REAL, NA_REAL, 3, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3);
  internal->offset_FOIv_A = internal->dim_D + internal->dim_T;
  internal->offset_FOIv_ID = internal->dim_A + internal->dim_D + internal->dim_T + internal->dim_U;
  internal->offset_FOIv_U = internal->dim_A + internal->dim_D + internal->dim_T;
  internal->offset_variable_A = internal->dim_D + internal->dim_S + internal->dim_T + 6;
  internal->offset_variable_D = internal->dim_S + internal->dim_T + 6;
  internal->offset_variable_IB = internal->dim_A + internal->dim_D + internal->dim_ICA + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_ICA = internal->dim_A + internal->dim_D + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_ICM = internal->dim_A + internal->dim_D + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_ID = internal->dim_A + internal->dim_D + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_P = internal->dim_A + internal->dim_D + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_T = internal->dim_S + 6;
  internal->offset_variable_U = internal->dim_A + internal->dim_D + internal->dim_S + internal->dim_T + 6;
  Free(internal->delay_index_FOI);
  internal->delay_index_FOI = Calloc(internal->dim_delay_FOI, int);
  Free(internal->delay_state_FOI);
  internal->delay_state_FOI = Calloc(internal->dim_delay_FOI, double);
  internal->delay_index_FOI[0] = 2;
  for (int i = 0, j = internal->offset_variable_IB; i < internal->dim_IB; ++i, ++j) {
    internal->delay_index_FOI[1 + i] = j;
  }
  Free(internal->delay_index_FOIv);
  internal->delay_index_FOIv = Calloc(internal->dim_delay_FOIv, int);
  Free(internal->delay_state_FOIv);
  internal->delay_state_FOIv = Calloc(internal->dim_delay_FOIv, double);
  for (int i = 0, j = internal->offset_variable_T; i < internal->dim_T; ++i, ++j) {
    internal->delay_index_FOIv[0 + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_D; i < internal->dim_D; ++i, ++j) {
    internal->delay_index_FOIv[internal->dim_T + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_A; i < internal->dim_A; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_A + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_U; i < internal->dim_U; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_U + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_ID; i < internal->dim_ID; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_ID + i] = j;
  }
  for (int i = 1; i <= internal->dim_A_1; ++i) {
    for (int j = 1; j <= internal->dim_A_2; ++j) {
      for (int k = 1; k <= internal->dim_A_3; ++k) {
        internal->initial_A[i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = internal->init_A[internal->dim_init_A_12 * (k - 1) + internal->dim_init_A_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_D_1; ++i) {
    for (int j = 1; j <= internal->dim_D_2; ++j) {
      for (int k = 1; k <= internal->dim_D_3; ++k) {
        internal->initial_D[i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = internal->init_D[internal->dim_init_D_12 * (k - 1) + internal->dim_init_D_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_IB_1; ++i) {
    for (int j = 1; j <= internal->dim_IB_2; ++j) {
      for (int k = 1; k <= internal->dim_IB_3; ++k) {
        internal->initial_IB[i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->init_IB[internal->dim_init_IB_12 * (k - 1) + internal->dim_init_IB_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICA_1; ++i) {
    for (int j = 1; j <= internal->dim_ICA_2; ++j) {
      for (int k = 1; k <= internal->dim_ICA_3; ++k) {
        internal->initial_ICA[i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->init_ICA[internal->dim_init_ICA_12 * (k - 1) + internal->dim_init_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICM_1; ++i) {
    for (int j = 1; j <= internal->dim_ICM_2; ++j) {
      for (int k = 1; k <= internal->dim_ICM_3; ++k) {
        internal->initial_ICM[i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = internal->init_ICM[internal->dim_init_ICM_12 * (k - 1) + internal->dim_init_ICM_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ID_1; ++i) {
    for (int j = 1; j <= internal->dim_ID_2; ++j) {
      for (int k = 1; k <= internal->dim_ID_3; ++k) {
        internal->initial_ID[i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->init_ID[internal->dim_init_ID_12 * (k - 1) + internal->dim_init_ID_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_P_1; ++i) {
    for (int j = 1; j <= internal->dim_P_2; ++j) {
      for (int k = 1; k <= internal->dim_P_3; ++k) {
        internal->initial_P[i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->init_P[internal->dim_init_P_12 * (k - 1) + internal->dim_init_P_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_S_1; ++i) {
    for (int j = 1; j <= internal->dim_S_2; ++j) {
      for (int k = 1; k <= internal->dim_S_3; ++k) {
        internal->initial_S[i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = internal->init_S[internal->dim_init_S_12 * (k - 1) + internal->dim_init_S_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_T_1; ++i) {
    for (int j = 1; j <= internal->dim_T_2; ++j) {
      for (int k = 1; k <= internal->dim_T_3; ++k) {
        internal->initial_T[i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->init_T[internal->dim_init_T_12 * (k - 1) + internal->dim_init_T_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_U_1; ++i) {
    for (int j = 1; j <= internal->dim_U_2; ++j) {
      for (int k = 1; k <= internal->dim_U_3; ++k) {
        internal->initial_U[i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->init_U[internal->dim_init_U_12 * (k - 1) + internal->dim_init_U_1 * (j - 1) + i - 1];
      }
    }
  }
  return R_NilValue;
}
SEXP odin_model_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_use_dde_ptr) {
  odin_model_internal *internal = odin_model_get_internal(internal_p, 1);
  const double t = REAL(t_ptr)[0];
  internal->initial_t = t;
  internal->odin_model_use_dde = INTEGER(odin_model_use_dde_ptr)[0];
  if (state_ptr != R_NilValue) {
    double * state = REAL(state_ptr);
    internal->initial_Sv = state[0];
    internal->initial_Ev = state[1];
    internal->initial_Iv = state[2];
    internal->initial_PL = state[3];
    internal->initial_LL = state[4];
    internal->initial_EL = state[5];
    memcpy(internal->initial_S, state + 6, internal->dim_S * sizeof(double));
    memcpy(internal->initial_T, state + internal->offset_variable_T, internal->dim_T * sizeof(double));
    memcpy(internal->initial_D, state + internal->offset_variable_D, internal->dim_D * sizeof(double));
    memcpy(internal->initial_A, state + internal->offset_variable_A, internal->dim_A * sizeof(double));
    memcpy(internal->initial_U, state + internal->offset_variable_U, internal->dim_U * sizeof(double));
    memcpy(internal->initial_P, state + internal->offset_variable_P, internal->dim_P * sizeof(double));
    memcpy(internal->initial_ICM, state + internal->offset_variable_ICM, internal->dim_ICM * sizeof(double));
    memcpy(internal->initial_ICA, state + internal->offset_variable_ICA, internal->dim_ICA * sizeof(double));
    memcpy(internal->initial_IB, state + internal->offset_variable_IB, internal->dim_IB * sizeof(double));
    memcpy(internal->initial_ID, state + internal->offset_variable_ID, internal->dim_ID * sizeof(double));
  }
  return R_NilValue;
}
SEXP odin_model_metadata(SEXP internal_p) {
  odin_model_internal *internal = odin_model_get_internal(internal_p, 1);
  SEXP ret = PROTECT(allocVector(VECSXP, 4));
  SEXP nms = PROTECT(allocVector(STRSXP, 4));
  SET_STRING_ELT(nms, 0, mkChar("variable_order"));
  SET_STRING_ELT(nms, 1, mkChar("output_order"));
  SET_STRING_ELT(nms, 2, mkChar("n_out"));
  SET_STRING_ELT(nms, 3, mkChar("interpolate_t"));
  setAttrib(ret, R_NamesSymbol, nms);
  SEXP variable_length = PROTECT(allocVector(VECSXP, 16));
  SEXP variable_names = PROTECT(allocVector(STRSXP, 16));
  setAttrib(variable_length, R_NamesSymbol, variable_names);
  SET_VECTOR_ELT(variable_length, 0, R_NilValue);
  SET_VECTOR_ELT(variable_length, 1, R_NilValue);
  SET_VECTOR_ELT(variable_length, 2, R_NilValue);
  SET_VECTOR_ELT(variable_length, 3, R_NilValue);
  SET_VECTOR_ELT(variable_length, 4, R_NilValue);
  SET_VECTOR_ELT(variable_length, 5, R_NilValue);
  SET_VECTOR_ELT(variable_length, 6, allocVector(INTSXP, 3));
  int * dim_S = INTEGER(VECTOR_ELT(variable_length, 6));
  dim_S[0] = internal->dim_S_1;
  dim_S[1] = internal->dim_S_2;
  dim_S[2] = internal->dim_S_3;
  SET_VECTOR_ELT(variable_length, 7, allocVector(INTSXP, 3));
  int * dim_T = INTEGER(VECTOR_ELT(variable_length, 7));
  dim_T[0] = internal->dim_T_1;
  dim_T[1] = internal->dim_T_2;
  dim_T[2] = internal->dim_T_3;
  SET_VECTOR_ELT(variable_length, 8, allocVector(INTSXP, 3));
  int * dim_D = INTEGER(VECTOR_ELT(variable_length, 8));
  dim_D[0] = internal->dim_D_1;
  dim_D[1] = internal->dim_D_2;
  dim_D[2] = internal->dim_D_3;
  SET_VECTOR_ELT(variable_length, 9, allocVector(INTSXP, 3));
  int * dim_A = INTEGER(VECTOR_ELT(variable_length, 9));
  dim_A[0] = internal->dim_A_1;
  dim_A[1] = internal->dim_A_2;
  dim_A[2] = internal->dim_A_3;
  SET_VECTOR_ELT(variable_length, 10, allocVector(INTSXP, 3));
  int * dim_U = INTEGER(VECTOR_ELT(variable_length, 10));
  dim_U[0] = internal->dim_U_1;
  dim_U[1] = internal->dim_U_2;
  dim_U[2] = internal->dim_U_3;
  SET_VECTOR_ELT(variable_length, 11, allocVector(INTSXP, 3));
  int * dim_P = INTEGER(VECTOR_ELT(variable_length, 11));
  dim_P[0] = internal->dim_P_1;
  dim_P[1] = internal->dim_P_2;
  dim_P[2] = internal->dim_P_3;
  SET_VECTOR_ELT(variable_length, 12, allocVector(INTSXP, 3));
  int * dim_ICM = INTEGER(VECTOR_ELT(variable_length, 12));
  dim_ICM[0] = internal->dim_ICM_1;
  dim_ICM[1] = internal->dim_ICM_2;
  dim_ICM[2] = internal->dim_ICM_3;
  SET_VECTOR_ELT(variable_length, 13, allocVector(INTSXP, 3));
  int * dim_ICA = INTEGER(VECTOR_ELT(variable_length, 13));
  dim_ICA[0] = internal->dim_ICA_1;
  dim_ICA[1] = internal->dim_ICA_2;
  dim_ICA[2] = internal->dim_ICA_3;
  SET_VECTOR_ELT(variable_length, 14, allocVector(INTSXP, 3));
  int * dim_IB = INTEGER(VECTOR_ELT(variable_length, 14));
  dim_IB[0] = internal->dim_IB_1;
  dim_IB[1] = internal->dim_IB_2;
  dim_IB[2] = internal->dim_IB_3;
  SET_VECTOR_ELT(variable_length, 15, allocVector(INTSXP, 3));
  int * dim_ID = INTEGER(VECTOR_ELT(variable_length, 15));
  dim_ID[0] = internal->dim_ID_1;
  dim_ID[1] = internal->dim_ID_2;
  dim_ID[2] = internal->dim_ID_3;
  SET_STRING_ELT(variable_names, 0, mkChar("Sv"));
  SET_STRING_ELT(variable_names, 1, mkChar("Ev"));
  SET_STRING_ELT(variable_names, 2, mkChar("Iv"));
  SET_STRING_ELT(variable_names, 3, mkChar("PL"));
  SET_STRING_ELT(variable_names, 4, mkChar("LL"));
  SET_STRING_ELT(variable_names, 5, mkChar("EL"));
  SET_STRING_ELT(variable_names, 6, mkChar("S"));
  SET_STRING_ELT(variable_names, 7, mkChar("T"));
  SET_STRING_ELT(variable_names, 8, mkChar("D"));
  SET_STRING_ELT(variable_names, 9, mkChar("A"));
  SET_STRING_ELT(variable_names, 10, mkChar("U"));
  SET_STRING_ELT(variable_names, 11, mkChar("P"));
  SET_STRING_ELT(variable_names, 12, mkChar("ICM"));
  SET_STRING_ELT(variable_names, 13, mkChar("ICA"));
  SET_STRING_ELT(variable_names, 14, mkChar("IB"));
  SET_STRING_ELT(variable_names, 15, mkChar("ID"));
  SET_VECTOR_ELT(ret, 0, variable_length);
  UNPROTECT(2);
  SEXP output_length = PROTECT(allocVector(VECSXP, 25));
  SEXP output_names = PROTECT(allocVector(STRSXP, 25));
  setAttrib(output_length, R_NamesSymbol, output_names);
  SET_VECTOR_ELT(output_length, 0, R_NilValue);
  SET_VECTOR_ELT(output_length, 1, R_NilValue);
  SET_VECTOR_ELT(output_length, 2, R_NilValue);
  SET_VECTOR_ELT(output_length, 3, R_NilValue);
  SET_VECTOR_ELT(output_length, 4, R_NilValue);
  SET_VECTOR_ELT(output_length, 5, R_NilValue);
  SET_VECTOR_ELT(output_length, 6, R_NilValue);
  SET_VECTOR_ELT(output_length, 7, R_NilValue);
  SET_VECTOR_ELT(output_length, 8, R_NilValue);
  SET_VECTOR_ELT(output_length, 9, R_NilValue);
  SET_VECTOR_ELT(output_length, 10, R_NilValue);
  SET_VECTOR_ELT(output_length, 11, R_NilValue);
  SET_VECTOR_ELT(output_length, 12, R_NilValue);
  SET_VECTOR_ELT(output_length, 13, R_NilValue);
  SET_VECTOR_ELT(output_length, 14, R_NilValue);
  SET_VECTOR_ELT(output_length, 15, R_NilValue);
  SET_VECTOR_ELT(output_length, 16, R_NilValue);
  SET_VECTOR_ELT(output_length, 17, R_NilValue);
  SET_VECTOR_ELT(output_length, 18, R_NilValue);
  SET_VECTOR_ELT(output_length, 19, R_NilValue);
  SET_VECTOR_ELT(output_length, 20, R_NilValue);
  SET_VECTOR_ELT(output_length, 21, R_NilValue);
  SET_VECTOR_ELT(output_length, 22, R_NilValue);
  SET_VECTOR_ELT(output_length, 23, R_NilValue);
  SET_VECTOR_ELT(output_length, 24, ScalarInteger(internal->dim_cov));
  SET_STRING_ELT(output_names, 0, mkChar("Ivout"));
  SET_STRING_ELT(output_names, 1, mkChar("omega"));
  SET_STRING_ELT(output_names, 2, mkChar("Sout"));
  SET_STRING_ELT(output_names, 3, mkChar("Tout"));
  SET_STRING_ELT(output_names, 4, mkChar("Dout"));
  SET_STRING_ELT(output_names, 5, mkChar("Aout"));
  SET_STRING_ELT(output_names, 6, mkChar("Uout"));
  SET_STRING_ELT(output_names, 7, mkChar("Pout"));
  SET_STRING_ELT(output_names, 8, mkChar("prev"));
  SET_STRING_ELT(output_names, 9, mkChar("inc05"));
  SET_STRING_ELT(output_names, 10, mkChar("inc"));
  SET_STRING_ELT(output_names, 11, mkChar("mu"));
  SET_STRING_ELT(output_names, 12, mkChar("beta_larval"));
  SET_STRING_ELT(output_names, 13, mkChar("KL"));
  SET_STRING_ELT(output_names, 14, mkChar("mv"));
  SET_STRING_ELT(output_names, 15, mkChar("Q"));
  SET_STRING_ELT(output_names, 16, mkChar("wh"));
  SET_STRING_ELT(output_names, 17, mkChar("d_ITN"));
  SET_STRING_ELT(output_names, 18, mkChar("r_ITN"));
  SET_STRING_ELT(output_names, 19, mkChar("s_ITN"));
  SET_STRING_ELT(output_names, 20, mkChar("d_IRS"));
  SET_STRING_ELT(output_names, 21, mkChar("r_IRS"));
  SET_STRING_ELT(output_names, 22, mkChar("s_IRS"));
  SET_STRING_ELT(output_names, 23, mkChar("K0"));
  SET_STRING_ELT(output_names, 24, mkChar("cov"));
  SET_VECTOR_ELT(ret, 1, output_length);
  UNPROTECT(2);
  SET_VECTOR_ELT(ret, 2, ScalarInteger(internal->dim_cov + 24));
  UNPROTECT(2);
  return ret;
}
SEXP odin_model_initial_conditions(SEXP internal_p, SEXP t_ptr) {
  double t = scalar_real(t_ptr, "t");
  odin_model_internal *internal = odin_model_get_internal(internal_p, 1);
  SEXP r_state = PROTECT(allocVector(REALSXP, internal->dim_A + internal->dim_D + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_ID + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6));
  double * state = REAL(r_state);
  state[0] = internal->initial_Sv;
  state[1] = internal->initial_Ev;
  state[2] = internal->initial_Iv;
  state[3] = internal->initial_PL;
  state[4] = internal->initial_LL;
  state[5] = internal->initial_EL;
  memcpy(state + 6, internal->initial_S, internal->dim_S * sizeof(double));
  memcpy(state + internal->offset_variable_T, internal->initial_T, internal->dim_T * sizeof(double));
  memcpy(state + internal->offset_variable_D, internal->initial_D, internal->dim_D * sizeof(double));
  memcpy(state + internal->offset_variable_A, internal->initial_A, internal->dim_A * sizeof(double));
  memcpy(state + internal->offset_variable_U, internal->initial_U, internal->dim_U * sizeof(double));
  memcpy(state + internal->offset_variable_P, internal->initial_P, internal->dim_P * sizeof(double));
  memcpy(state + internal->offset_variable_ICM, internal->initial_ICM, internal->dim_ICM * sizeof(double));
  memcpy(state + internal->offset_variable_ICA, internal->initial_ICA, internal->dim_ICA * sizeof(double));
  memcpy(state + internal->offset_variable_IB, internal->initial_IB, internal->dim_IB * sizeof(double));
  memcpy(state + internal->offset_variable_ID, internal->initial_ID, internal->dim_ID * sizeof(double));
  UNPROTECT(1);
  return r_state;
}
void odin_model_rhs(odin_model_internal* internal, double t, double * state, double * dstatedt, double * output) {
  double * S = state + 6;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * IB = state + internal->offset_variable_IB;
  double * ID = state + internal->offset_variable_ID;
  double Sv = state[0];
  double Ev = state[1];
  double Iv = state[2];
  double EL = state[5];
  double LL = state[4];
  double PL = state[3];
  double betaa = 0.5 * PL / (double) internal->dPL;
  dstatedt[3] = LL / (double) internal->dLL - internal->muPL * PL - PL / (double) internal->dPL;
  double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
  double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
  double mv = Sv + Ev + Iv;
  double theta2 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
  double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
  double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
  double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
  double Ah = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double Dh = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  // delay block for incv
  double incv;
  {
    const double t_true = t;
    const double t = t_true - internal->delayMos;
    double Sv;
    if (t <= internal->initial_t) {
      Sv = internal->initial_Sv;
    } else {
      lagvalue(t, internal->odin_model_use_dde, internal->delay_index_incv, 1, internal->delay_state_incv);
      Sv = internal->delay_state_incv[0];
    }
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    // delay block for FOIv
    double FOIv;
    {
      const double t_true = t;
      const double t = t_true - internal->delayGam;
      double *T;
      double *D;
      double *A;
      double *U;
      double *ID;
      if (t <= internal->initial_t) {
        T = internal->initial_T;
        D = internal->initial_D;
        A = internal->initial_A;
        U = internal->initial_U;
        ID = internal->initial_ID;
      } else {
        lagvalue(t, internal->odin_model_use_dde, internal->delay_index_FOIv, internal->dim_delay_FOIv, internal->delay_state_FOIv);
        T = internal->delay_state_FOIv + 0;
        D = internal->delay_state_FOIv + internal->dim_T;
        A = internal->delay_state_FOIv + internal->offset_FOIv_A;
        U = internal->delay_state_FOIv + internal->offset_FOIv_U;
        ID = internal->delay_state_FOIv + internal->offset_FOIv_ID;
      }
      double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
      double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
      double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
      double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
      double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
      double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
      double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
      double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
      {
         int i = 1;
         internal->delay_array_z_[i - 1] = 0;
      }
      {
         int i = 2;
         internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
      }
      {
         int i = 3;
         internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
      }
      {
         int i = 4;
         internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
      }
      for (int i = 1; i <= internal->dim_p_det_1; ++i) {
        for (int j = 1; j <= internal->dim_p_det_2; ++j) {
          for (int k = 1; k <= internal->dim_p_det_3; ++k) {
            internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
          }
        }
      }
      {
         int i = 1;
         internal->delay_array_w_[i - 1] = 1;
      }
      {
         int i = 2;
         internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
      }
      {
         int i = 3;
         internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
      }
      {
         int i = 4;
         internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
      }
      for (int i = 1; i <= internal->dim_z; ++i) {
        internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
      }
      for (int i = 1; i <= internal->dim_cA_1; ++i) {
        for (int j = 1; j <= internal->dim_cA_2; ++j) {
          for (int k = 1; k <= internal->dim_cA_3; ++k) {
            internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
          }
        }
      }
      for (int i = 1; i <= internal->dim_w; ++i) {
        internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
      }
      double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
      double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
      double zbar = internal->Q0 * zh;
      double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
      double wbar = 1 - internal->Q0 + internal->Q0 * wh;
      double Q = 1 - (1 - internal->Q0) / (double) wbar;
      double av = fv * Q;
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_av_mosq[i - 1] = av * internal->delay_array_w[i - 1] / (double) wh;
      }
      for (int i = 1; i <= internal->na; ++i) {
        for (int j = 1; j <= internal->nh; ++j) {
          for (int k = 1; k <= internal->num_int; ++k) {
            internal->delay_array_FOIvijk[i - 1 + internal->dim_FOIvijk_1 * (j - 1) + internal->dim_FOIvijk_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
          }
        }
      }
      double lag_FOIv = odin_sum1(internal->delay_array_FOIvijk, 0, internal->dim_FOIvijk);
      FOIv = lag_FOIv;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    double ince = FOIv * Sv;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zbar = internal->Q0 * zh;
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double p1 = wbar * internal->p10 / (double) (1 - zbar * internal->p10);
    double mu = -(fv) * log(p1 * internal->p2);
    double surv = exp(-(mu) * internal->delayMos);
    double lag_incv = ince * surv;
    incv = lag_incv;
  }
  double Ph = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
  double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
  double Sh = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  double Th = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  double Uh = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  {
     int i = 1;
     internal->z_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z_[i - 1] = internal->bites_Bed * r_ITN;
  }
  {
     int i = 3;
     internal->z_[i - 1] = internal->bites_Indoors * r_IRS;
  }
  {
     int i = 4;
     internal->z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
  }
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double Iv;
    double *IB;
    if (t <= internal->initial_t) {
      Iv = internal->initial_Iv;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv = internal->delay_state_FOI[0];
      IB = internal->delay_state_FOI + 1;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_yy_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy_[i - 1] = internal->delay_array_w_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS);
    }
    {
       int i = 4;
       internal->delay_array_yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS);
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy; ++i) {
      internal->delay_array_yy[i - 1] = internal->delay_array_yy_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human[i - 1] = av * internal->delay_array_yy[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->delay_array_av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv / (double) internal->omega;
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1)] = internal->delay_array_EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * ((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  // delay block for FOIv
  double FOIv;
  {
    const double t_true = t;
    const double t = t_true - internal->delayGam;
    double *T;
    double *D;
    double *A;
    double *U;
    double *ID;
    if (t <= internal->initial_t) {
      T = internal->initial_T;
      D = internal->initial_D;
      A = internal->initial_A;
      U = internal->initial_U;
      ID = internal->initial_ID;
    } else {
      lagvalue(t, internal->odin_model_use_dde, internal->delay_index_FOIv, internal->dim_delay_FOIv, internal->delay_state_FOIv);
      T = internal->delay_state_FOIv + 0;
      D = internal->delay_state_FOIv + internal->dim_T;
      A = internal->delay_state_FOIv + internal->offset_FOIv_A;
      U = internal->delay_state_FOIv + internal->offset_FOIv_U;
      ID = internal->delay_state_FOIv + internal->offset_FOIv_ID;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
        }
      }
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_mosq[i - 1] = av * internal->delay_array_w[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOIvijk[i - 1 + internal->dim_FOIvijk_1 * (j - 1) + internal->dim_FOIvijk_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
        }
      }
    }
    double lag_FOIv = odin_sum1(internal->delay_array_FOIvijk, 0, internal->dim_FOIvijk);
    FOIv = lag_FOIv;
  }
  double H = Sh + Th + Dh + Ah + Uh + Ph;
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1)] = ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->nh; ++i) {
    for (int j = 1; j <= internal->num_int; ++j) {
      internal->init_ICM_pre[i - 1 + internal->dim_init_ICM_pre_1 * (j - 1)] = internal->PM * (ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20l - 1] + internal->age_20_factor * (ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20u - 1] - ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20l - 1]));
    }
  }
  {
     int i = 1;
     internal->w_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
  }
  {
     int i = 3;
     internal->w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
  }
  {
     int i = 4;
     internal->w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1)] = S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_z; ++i) {
    internal->z[i - 1] = internal->z_[i - 1];
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - (ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + (internal->init_ICM_pre[internal->dim_init_ICM_pre_1 * (k - 1) + j - 1] - ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1]) / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - (ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - (ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[6 + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->cov[k - 1] * internal->eta * H * internal->het_wt[j - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[6 + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double ince = FOIv * Sv;
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
      }
    }
  }
  for (int i = 1; i <= internal->dim_w; ++i) {
    internal->w[i - 1] = internal->w_[i - 1];
  }
  {
     int i = 1;
     internal->yy_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy_[i - 1] = internal->w_[1];
  }
  {
     int i = 3;
     internal->yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS);
  }
  {
     int i = 4;
     internal->yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS);
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi[i - 1] = internal->cov[i - 1] * internal->z[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1)] = internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = (1 - internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = (1 - internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi[i - 1] = internal->cov[i - 1] * internal->w[i - 1];
  }
  for (int i = 1; i <= internal->dim_yy; ++i) {
    internal->yy[i - 1] = internal->yy_[i - 1];
  }
  double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi, 0, internal->dim_zhi));
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = (1 - internal->ft) * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = (1 - internal->ft) * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->ft * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->ft * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi, 0, internal->dim_whi));
  double zbar = internal->Q0 * zh;
  double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
  double wbar = 1 - internal->Q0 + internal->Q0 * wh;
  double p1 = wbar * internal->p10 / (double) (1 - zbar * internal->p10);
  double Q = 1 - (1 - internal->Q0) / (double) wbar;
  double av = fv * Q;
  double mu = -(fv) * log(p1 * internal->p2);
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human[i - 1] = av * internal->yy[i - 1] / (double) wh;
  }
  dstatedt[1] = ince - incv - mu * Ev;
  dstatedt[2] = incv - mu * Iv;
  dstatedt[0] = -(ince) - mu * Sv + betaa;
  double eov = internal->betaL / (double) mu * (exp(mu / (double) fv) - 1);
  double beta_larval = eov * mu * exp(-(mu) / (double) fv) / (double) (1 - exp(-(mu) / (double) fv));
  for (int i = 1; i <= internal->dim_EIR_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_3; ++k) {
        internal->EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv / (double) internal->omega;
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - (IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  double lambda = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  double K0 = 2 * internal->mv0 * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda + 1) / (double) (lambda / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1);
  double KL = K0 * theta2;
  dstatedt[5] = beta_larval * mv - internal->muEL * (1 + (EL + LL) / (double) KL) * EL - EL / (double) internal->dEL;
  dstatedt[4] = EL / (double) internal->dEL - internal->muLL * (1 + internal->gammaL * (EL + LL) / (double) KL) * LL - LL / (double) internal->dLL;
  if (output) {
    output[0] = Iv;
    output[1] = internal->omega;
    output[14] = mv;
    output[5] = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
    output[20] = d_IRS;
    output[17] = d_ITN;
    output[4] = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
    output[7] = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
    output[21] = r_IRS;
    output[18] = r_ITN;
    output[2] = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
    output[3] = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
    output[6] = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
    memcpy(output + 24, internal->cov, internal->dim_cov * sizeof(double));
    output[22] = s_IRS;
    output[19] = s_ITN;
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    for (int i = 1; i <= internal->age59; ++i) {
      for (int j = 1; j <= internal->dim_prev0to59_2; ++j) {
        for (int k = 1; k <= internal->dim_prev0to59_3; ++k) {
          internal->prev0to59[i - 1 + internal->dim_prev0to59_1 * (j - 1) + internal->dim_prev0to59_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
    output[8] = odin_sum3(internal->prev0to59, 0, internal->dim_prev0to59_1, 0, internal->dim_prev0to59_2, 0, internal->dim_prev0to59_3, internal->dim_prev0to59_1, internal->dim_prev0to59_12) / (double) odin_sum1(internal->den, 0, internal->age59);
    for (int i = 1; i <= internal->age05; ++i) {
      for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
        for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
          internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1)] = internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
        }
      }
    }
    output[10] = odin_sum3(internal->clin_inc, 0, internal->dim_clin_inc_1, 0, internal->dim_clin_inc_2, 0, internal->dim_clin_inc_3, internal->dim_clin_inc_1, internal->dim_clin_inc_12);
    output[9] = odin_sum1(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5) / (double) odin_sum1(internal->den, 0, internal->age05);
    output[16] = wh;
    output[15] = Q;
    output[11] = mu;
    output[12] = beta_larval;
    output[23] = K0;
    output[13] = KL;
  }
}
void odin_model_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal) {
  odin_model_rhs((odin_model_internal*)internal, t, state, dstatedt, NULL);
}
void odin_model_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np) {
  odin_model_rhs(odin_model_internal_ds, *t, state, dstatedt, output);
}
void odin_model_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p) {
  odin_model_internal *internal = (odin_model_internal*) internal_p;
  double * S = state + 6;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * ID = state + internal->offset_variable_ID;
  double Sv = state[0];
  double Ev = state[1];
  double Iv = state[2];
  double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
  double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
  double mv = Sv + Ev + Iv;
  output[0] = Iv;
  output[1] = internal->omega;
  double theta2 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
  double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
  output[14] = mv;
  double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
  double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
  output[5] = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  output[20] = d_IRS;
  output[17] = d_ITN;
  output[4] = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  output[7] = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  output[21] = r_IRS;
  output[18] = r_ITN;
  output[2] = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  output[3] = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  output[6] = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
  double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
  {
     int i = 1;
     internal->z_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z_[i - 1] = internal->bites_Bed * r_ITN;
  }
  {
     int i = 3;
     internal->z_[i - 1] = internal->bites_Indoors * r_IRS;
  }
  {
     int i = 4;
     internal->z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
  }
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double Iv;
    double *IB;
    if (t <= internal->initial_t) {
      Iv = internal->initial_Iv;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv = internal->delay_state_FOI[0];
      IB = internal->delay_state_FOI + 1;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_yy_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy_[i - 1] = internal->delay_array_w_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS);
    }
    {
       int i = 4;
       internal->delay_array_yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS);
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy; ++i) {
      internal->delay_array_yy[i - 1] = internal->delay_array_yy_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human[i - 1] = av * internal->delay_array_yy[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->delay_array_av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv / (double) internal->omega;
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1)] = internal->delay_array_EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * ((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1)] = ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  memcpy(output + 24, internal->cov, internal->dim_cov * sizeof(double));
  output[22] = s_IRS;
  output[19] = s_ITN;
  for (int i = 1; i <= internal->dim_p_det_1; ++i) {
    for (int j = 1; j <= internal->dim_p_det_2; ++j) {
      for (int k = 1; k <= internal->dim_p_det_3; ++k) {
        internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
      }
    }
  }
  {
     int i = 1;
     internal->w_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
  }
  {
     int i = 3;
     internal->w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
  }
  {
     int i = 4;
     internal->w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1)] = S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_z; ++i) {
    internal->z[i - 1] = internal->z_[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
      }
    }
  }
  for (int i = 1; i <= internal->age59; ++i) {
    for (int j = 1; j <= internal->dim_prev0to59_2; ++j) {
      for (int k = 1; k <= internal->dim_prev0to59_3; ++k) {
        internal->prev0to59[i - 1 + internal->dim_prev0to59_1 * (j - 1) + internal->dim_prev0to59_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_w; ++i) {
    internal->w[i - 1] = internal->w_[i - 1];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi[i - 1] = internal->cov[i - 1] * internal->z[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1)] = internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
      }
    }
  }
  output[8] = odin_sum3(internal->prev0to59, 0, internal->dim_prev0to59_1, 0, internal->dim_prev0to59_2, 0, internal->dim_prev0to59_3, internal->dim_prev0to59_1, internal->dim_prev0to59_12) / (double) odin_sum1(internal->den, 0, internal->age59);
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi[i - 1] = internal->cov[i - 1] * internal->w[i - 1];
  }
  double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi, 0, internal->dim_zhi));
  for (int i = 1; i <= internal->age05; ++i) {
    for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
      for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
        internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1)] = internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
      }
    }
  }
  output[10] = odin_sum3(internal->clin_inc, 0, internal->dim_clin_inc_1, 0, internal->dim_clin_inc_2, 0, internal->dim_clin_inc_3, internal->dim_clin_inc_1, internal->dim_clin_inc_12);
  double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi, 0, internal->dim_whi));
  double zbar = internal->Q0 * zh;
  double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
  output[9] = odin_sum1(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5) / (double) odin_sum1(internal->den, 0, internal->age05);
  output[16] = wh;
  double wbar = 1 - internal->Q0 + internal->Q0 * wh;
  double p1 = wbar * internal->p10 / (double) (1 - zbar * internal->p10);
  double Q = 1 - (1 - internal->Q0) / (double) wbar;
  double mu = -(fv) * log(p1 * internal->p2);
  output[15] = Q;
  double eov = internal->betaL / (double) mu * (exp(mu / (double) fv) - 1);
  output[11] = mu;
  double beta_larval = eov * mu * exp(-(mu) / (double) fv) / (double) (1 - exp(-(mu) / (double) fv));
  double lambda = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  output[12] = beta_larval;
  double K0 = 2 * internal->mv0 * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda + 1) / (double) (lambda / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1);
  double KL = K0 * theta2;
  output[23] = K0;
  output[13] = KL;
}
SEXP odin_model_rhs_r(SEXP internal_p, SEXP t, SEXP state) {
  SEXP dstatedt = PROTECT(allocVector(REALSXP, LENGTH(state)));
  odin_model_internal *internal = odin_model_get_internal(internal_p, 1);
  SEXP output_ptr = PROTECT(allocVector(REALSXP, internal->dim_cov + 24));
  setAttrib(dstatedt, install("output"), output_ptr);
  UNPROTECT(1);
  double *output = REAL(output_ptr);
  const double initial_t = internal->initial_t;
  if (ISNA(initial_t)) {
    internal->initial_t = scalar_real(t, "t");
  }
  odin_model_rhs(internal, scalar_real(t, "t"), REAL(state), REAL(dstatedt), output);
  if (ISNA(initial_t)) {
    internal->initial_t = initial_t;
  }
  UNPROTECT(1);
  return dstatedt;
}
odin_model_emanators_internal* odin_model_emanators_get_internal(SEXP internal_p, int closed_error) {
  odin_model_emanators_internal *internal = NULL;
  if (TYPEOF(internal_p) != EXTPTRSXP) {
    Rf_error("Expected an external pointer");
  }
  internal = (odin_model_emanators_internal*) R_ExternalPtrAddr(internal_p);
  if (!internal && closed_error) {
    Rf_error("Pointer has been invalidated");
  }
  return internal;
}
void odin_model_emanators_finalise(SEXP internal_p) {
  odin_model_emanators_internal *internal = odin_model_emanators_get_internal(internal_p, 0);
  if (internal_p) {
    Free(internal->age);
    Free(internal->age_rate);
    Free(internal->av_human);
    Free(internal->av_mosq);
    Free(internal->b);
    Free(internal->cA);
    Free(internal->clin_inc);
    Free(internal->clin_inc0to5);
    Free(internal->cov);
    Free(internal->cov_);
    Free(internal->delay_array_av_human);
    Free(internal->delay_array_av_mosq);
    Free(internal->delay_array_b);
    Free(internal->delay_array_cA);
    Free(internal->delay_array_EIR);
    Free(internal->delay_array_FOI_lag);
    Free(internal->delay_array_FOIvijk);
    Free(internal->delay_array_p_det);
    Free(internal->delay_array_w);
    Free(internal->delay_array_w_);
    Free(internal->delay_array_whi);
    Free(internal->delay_array_yy);
    Free(internal->delay_array_yy_);
    Free(internal->delay_array_z);
    Free(internal->delay_array_z_);
    Free(internal->delay_array_zhi);
    Free(internal->delay_index_FOI);
    Free(internal->delay_index_FOIv);
    Free(internal->delay_index_incv);
    Free(internal->delay_state_FOI);
    Free(internal->delay_state_FOIv);
    Free(internal->delay_state_incv);
    Free(internal->den);
    Free(internal->derivS);
    Free(internal->EIR);
    Free(internal->fd);
    Free(internal->FOI);
    Free(internal->foi_age);
    Free(internal->FOI_lag);
    Free(internal->FOIvijk);
    Free(internal->het_wt);
    Free(internal->IC);
    Free(internal->init_A);
    Free(internal->init_D);
    Free(internal->init_IB);
    Free(internal->init_ICA);
    Free(internal->init_ICM);
    Free(internal->init_ICM_pre);
    Free(internal->init_ID);
    Free(internal->init_P);
    Free(internal->init_S);
    Free(internal->init_T);
    Free(internal->init_U);
    Free(internal->initial_A);
    Free(internal->initial_D);
    Free(internal->initial_IB);
    Free(internal->initial_ICA);
    Free(internal->initial_ICM);
    Free(internal->initial_ID);
    Free(internal->initial_P);
    Free(internal->initial_S);
    Free(internal->initial_T);
    Free(internal->initial_U);
    Free(internal->p_det);
    Free(internal->phi);
    Free(internal->prev0to59);
    Free(internal->prevall);
    Free(internal->rel_foi);
    Free(internal->w);
    Free(internal->w_);
    Free(internal->whi);
    Free(internal->x_I);
    Free(internal->Y);
    Free(internal->yy);
    Free(internal->yy_);
    Free(internal->z);
    Free(internal->z_);
    Free(internal->zhi);
    Free(internal);
    R_ClearExternalPtr(internal_p);
  }
}
SEXP odin_model_emanators_create(SEXP user) {
  odin_model_emanators_internal *internal = (odin_model_emanators_internal*) Calloc(1, odin_model_emanators_internal);
  internal->age = NULL;
  internal->age_rate = NULL;
  internal->av_human = NULL;
  internal->av_mosq = NULL;
  internal->b = NULL;
  internal->cA = NULL;
  internal->clin_inc = NULL;
  internal->clin_inc0to5 = NULL;
  internal->cov = NULL;
  internal->cov_ = NULL;
  internal->delay_array_av_human = NULL;
  internal->delay_array_av_mosq = NULL;
  internal->delay_array_b = NULL;
  internal->delay_array_cA = NULL;
  internal->delay_array_EIR = NULL;
  internal->delay_array_FOI_lag = NULL;
  internal->delay_array_FOIvijk = NULL;
  internal->delay_array_p_det = NULL;
  internal->delay_array_w = NULL;
  internal->delay_array_w_ = NULL;
  internal->delay_array_whi = NULL;
  internal->delay_array_yy = NULL;
  internal->delay_array_yy_ = NULL;
  internal->delay_array_z = NULL;
  internal->delay_array_z_ = NULL;
  internal->delay_array_zhi = NULL;
  internal->delay_index_FOI = NULL;
  internal->delay_index_FOIv = NULL;
  internal->delay_index_incv = NULL;
  internal->delay_state_FOI = NULL;
  internal->delay_state_FOIv = NULL;
  internal->delay_state_incv = NULL;
  internal->den = NULL;
  internal->derivS = NULL;
  internal->EIR = NULL;
  internal->fd = NULL;
  internal->FOI = NULL;
  internal->foi_age = NULL;
  internal->FOI_lag = NULL;
  internal->FOIvijk = NULL;
  internal->het_wt = NULL;
  internal->IC = NULL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ICM_pre = NULL;
  internal->init_ID = NULL;
  internal->init_P = NULL;
  internal->init_S = NULL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->initial_A = NULL;
  internal->initial_D = NULL;
  internal->initial_IB = NULL;
  internal->initial_ICA = NULL;
  internal->initial_ICM = NULL;
  internal->initial_ID = NULL;
  internal->initial_P = NULL;
  internal->initial_S = NULL;
  internal->initial_T = NULL;
  internal->initial_U = NULL;
  internal->p_det = NULL;
  internal->phi = NULL;
  internal->prev0to59 = NULL;
  internal->prevall = NULL;
  internal->rel_foi = NULL;
  internal->w = NULL;
  internal->w_ = NULL;
  internal->whi = NULL;
  internal->x_I = NULL;
  internal->Y = NULL;
  internal->yy = NULL;
  internal->yy_ = NULL;
  internal->z = NULL;
  internal->z_ = NULL;
  internal->zhi = NULL;
  Free(internal->delay_index_incv);
  internal->delay_index_incv = Calloc(1, int);
  Free(internal->delay_state_incv);
  internal->delay_state_incv = Calloc(1, double);
  internal->delay_index_incv[0] = 0;
  internal->dim_cov_ = 4;
  internal->dim_w_ = 4;
  internal->dim_yy_ = 4;
  internal->dim_z_ = 4;
  internal->hut_max_a = 0.63380000000000003 + 3.9969999999999999 * (1 - 0.5);
  internal->num_int = 4;
  internal->r_ITN_min = 0.23999999999999999;
  Free(internal->cov_);
  internal->cov_ = (double*) Calloc(internal->dim_cov_, double);
  Free(internal->w_);
  internal->w_ = (double*) Calloc(internal->dim_w_, double);
  Free(internal->yy_);
  internal->yy_ = (double*) Calloc(internal->dim_yy_, double);
  Free(internal->z_);
  internal->z_ = (double*) Calloc(internal->dim_z_, double);
  Free(internal->delay_array_w_);
  internal->delay_array_w_ = (double*) Calloc(internal->dim_w_, double);
  Free(internal->delay_array_yy_);
  internal->delay_array_yy_ = (double*) Calloc(internal->dim_yy_, double);
  Free(internal->delay_array_z_);
  internal->delay_array_z_ = (double*) Calloc(internal->dim_z_, double);
  internal->dim_av_human = internal->num_int;
  internal->dim_av_mosq = internal->num_int;
  internal->dim_cov = internal->num_int;
  internal->dim_w = internal->num_int;
  internal->dim_whi = internal->num_int;
  internal->dim_yy = internal->num_int;
  internal->dim_z = internal->num_int;
  internal->dim_zhi = internal->num_int;
  internal->hut_max = exp(internal->hut_max_a) / (double) (1 + exp(internal->hut_max_a));
  Free(internal->av_human);
  internal->av_human = (double*) Calloc(internal->dim_av_human, double);
  Free(internal->av_mosq);
  internal->av_mosq = (double*) Calloc(internal->dim_av_mosq, double);
  Free(internal->cov);
  internal->cov = (double*) Calloc(internal->dim_cov, double);
  Free(internal->w);
  internal->w = (double*) Calloc(internal->dim_w, double);
  Free(internal->whi);
  internal->whi = (double*) Calloc(internal->dim_whi, double);
  Free(internal->yy);
  internal->yy = (double*) Calloc(internal->dim_yy, double);
  Free(internal->z);
  internal->z = (double*) Calloc(internal->dim_z, double);
  Free(internal->zhi);
  internal->zhi = (double*) Calloc(internal->dim_zhi, double);
  Free(internal->delay_array_av_human);
  internal->delay_array_av_human = (double*) Calloc(internal->dim_av_human, double);
  Free(internal->delay_array_av_mosq);
  internal->delay_array_av_mosq = (double*) Calloc(internal->dim_av_mosq, double);
  Free(internal->delay_array_w);
  internal->delay_array_w = (double*) Calloc(internal->dim_w, double);
  Free(internal->delay_array_whi);
  internal->delay_array_whi = (double*) Calloc(internal->dim_whi, double);
  Free(internal->delay_array_yy);
  internal->delay_array_yy = (double*) Calloc(internal->dim_yy, double);
  Free(internal->delay_array_z);
  internal->delay_array_z = (double*) Calloc(internal->dim_z, double);
  Free(internal->delay_array_zhi);
  internal->delay_array_zhi = (double*) Calloc(internal->dim_zhi, double);
  internal->my_max_washes_a = -(2.3599999999999999) - 3.048 * (internal->hut_max - 0.5);
  internal->offset_output_av_mosq = internal->dim_cov + internal->dim_whi + internal->dim_zhi + 28;
  internal->offset_output_cov = internal->dim_whi + internal->dim_zhi + 28;
  internal->offset_output_derivS = internal->dim_av_mosq + internal->dim_cov + internal->dim_whi + internal->dim_zhi + 28;
  internal->offset_output_zhi = internal->dim_whi + 28;
  internal->my_max_washes = log(2) / (double) (exp(internal->my_max_washes_a) / (double) (1 + exp(internal->my_max_washes_a)));
  internal->aD = NA_REAL;
  internal->age = NULL;
  internal->age_20_factor = NA_REAL;
  internal->age_rate = NULL;
  internal->age05 = NA_INTEGER;
  internal->age20l = NA_INTEGER;
  internal->age20u = NA_INTEGER;
  internal->age59 = NA_INTEGER;
  internal->b0 = NA_REAL;
  internal->b1 = NA_REAL;
  internal->betaL = NA_REAL;
  internal->bites_Bed = NA_REAL;
  internal->bites_Indoors = NA_REAL;
  internal->cD = NA_REAL;
  internal->cT = NA_REAL;
  internal->cU = NA_REAL;
  internal->d_EM0 = NA_REAL;
  internal->d1 = NA_REAL;
  internal->dB = NA_REAL;
  internal->dCA = NA_REAL;
  internal->dCM = NA_REAL;
  internal->dE = NA_REAL;
  internal->dEL = NA_REAL;
  internal->delayGam = NA_REAL;
  internal->delayMos = NA_REAL;
  internal->den = NULL;
  internal->dID = NA_REAL;
  internal->dLL = NA_REAL;
  internal->dPL = NA_REAL;
  internal->em_cov = NA_REAL;
  internal->EM_interval = NA_REAL;
  internal->em_loss = NA_REAL;
  internal->EM_on = NA_REAL;
  internal->eta = NA_REAL;
  internal->fD0 = NA_REAL;
  internal->foi_age = NULL;
  internal->ft = NA_REAL;
  internal->gamma1 = NA_REAL;
  internal->gammaD = NA_REAL;
  internal->gammaL = NA_REAL;
  internal->het_wt = NULL;
  internal->IB0 = NA_REAL;
  internal->IC0 = NA_REAL;
  internal->ID0 = NA_REAL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_EL = NA_REAL;
  internal->init_Ev = NA_REAL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ID = NULL;
  internal->init_Iv = NA_REAL;
  internal->init_LL = NA_REAL;
  internal->init_P = NULL;
  internal->init_PL = NA_REAL;
  internal->init_S = NULL;
  internal->init_Sv = NA_REAL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->itn_cov = NA_REAL;
  internal->ITN_interval = NA_REAL;
  internal->ITN_on = NA_REAL;
  internal->kB = NA_REAL;
  internal->kC = NA_REAL;
  internal->kD = NA_REAL;
  internal->mu0 = NA_REAL;
  internal->muEL = NA_REAL;
  internal->muLL = NA_REAL;
  internal->muPL = NA_REAL;
  internal->mv0 = NA_REAL;
  internal->na = NA_INTEGER;
  internal->nh = NA_INTEGER;
  internal->omega = NA_REAL;
  internal->p10 = NA_REAL;
  internal->p2 = NA_REAL;
  internal->phi0 = NA_REAL;
  internal->phi1 = NA_REAL;
  internal->pi = NA_REAL;
  internal->PM = NA_REAL;
  internal->Q0 = NA_REAL;
  internal->r_EM0 = NA_REAL;
  internal->rA = NA_REAL;
  internal->rD = NA_REAL;
  internal->rel_foi = NULL;
  internal->rP = NA_REAL;
  internal->rT = NA_REAL;
  internal->rU = NA_REAL;
  internal->ssa0 = NA_REAL;
  internal->ssa1 = NA_REAL;
  internal->ssa2 = NA_REAL;
  internal->ssa3 = NA_REAL;
  internal->ssb1 = NA_REAL;
  internal->ssb2 = NA_REAL;
  internal->ssb3 = NA_REAL;
  internal->surv_bioassay = NA_REAL;
  internal->tau1 = NA_REAL;
  internal->tau2 = NA_REAL;
  internal->theta_c = NA_REAL;
  internal->uB = NA_REAL;
  internal->uCA = NA_REAL;
  internal->uD = NA_REAL;
  internal->x_I = NULL;
  internal->initial_t = NA_REAL;
  SEXP ptr = PROTECT(R_MakeExternalPtr(internal, R_NilValue, R_NilValue));
  R_RegisterCFinalizer(ptr, odin_model_emanators_finalise);
  UNPROTECT(1);
  return ptr;
}
static odin_model_emanators_internal *odin_model_emanators_internal_ds;
void odin_model_emanators_initmod_desolve(void(* odeparms) (int *, double *)) {
  static DL_FUNC get_desolve_gparms = NULL;
  if (get_desolve_gparms == NULL) {
    get_desolve_gparms =
      R_GetCCallable("deSolve", "get_deSolve_gparms");
  }
  odin_model_emanators_internal_ds = odin_model_emanators_get_internal(get_desolve_gparms(), 1);
}
SEXP odin_model_emanators_contents(SEXP internal_p) {
  odin_model_emanators_internal *internal = odin_model_emanators_get_internal(internal_p, 1);
  SEXP contents = PROTECT(allocVector(VECSXP, 413));
  SET_VECTOR_ELT(contents, 0, ScalarReal(internal->aD));
  SEXP age = PROTECT(allocVector(REALSXP, internal->dim_age));
  memcpy(REAL(age), internal->age, internal->dim_age * sizeof(double));
  SET_VECTOR_ELT(contents, 1, age);
  SET_VECTOR_ELT(contents, 2, ScalarReal(internal->age_20_factor));
  SEXP age_rate = PROTECT(allocVector(REALSXP, internal->dim_age_rate));
  memcpy(REAL(age_rate), internal->age_rate, internal->dim_age_rate * sizeof(double));
  SET_VECTOR_ELT(contents, 3, age_rate);
  SET_VECTOR_ELT(contents, 4, ScalarInteger(internal->age05));
  SET_VECTOR_ELT(contents, 5, ScalarInteger(internal->age20l));
  SET_VECTOR_ELT(contents, 6, ScalarInteger(internal->age20u));
  SET_VECTOR_ELT(contents, 7, ScalarInteger(internal->age59));
  SEXP av_human = PROTECT(allocVector(REALSXP, internal->dim_av_human));
  memcpy(REAL(av_human), internal->av_human, internal->dim_av_human * sizeof(double));
  SET_VECTOR_ELT(contents, 8, av_human);
  SEXP av_mosq = PROTECT(allocVector(REALSXP, internal->dim_av_mosq));
  memcpy(REAL(av_mosq), internal->av_mosq, internal->dim_av_mosq * sizeof(double));
  SET_VECTOR_ELT(contents, 9, av_mosq);
  SEXP b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(b), internal->b, internal->dim_b * sizeof(double));
  odin_set_dim(b, 3, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3);
  SET_VECTOR_ELT(contents, 10, b);
  SET_VECTOR_ELT(contents, 11, ScalarReal(internal->b_lambda));
  SET_VECTOR_ELT(contents, 12, ScalarReal(internal->b0));
  SET_VECTOR_ELT(contents, 13, ScalarReal(internal->b1));
  SET_VECTOR_ELT(contents, 14, ScalarReal(internal->betaL));
  SET_VECTOR_ELT(contents, 15, ScalarReal(internal->bites_Bed));
  SET_VECTOR_ELT(contents, 16, ScalarReal(internal->bites_Emanator));
  SET_VECTOR_ELT(contents, 17, ScalarReal(internal->bites_Indoors));
  SEXP cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(cA), internal->cA, internal->dim_cA * sizeof(double));
  odin_set_dim(cA, 3, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3);
  SET_VECTOR_ELT(contents, 18, cA);
  SET_VECTOR_ELT(contents, 19, ScalarReal(internal->cD));
  SEXP clin_inc = PROTECT(allocVector(REALSXP, internal->dim_clin_inc));
  memcpy(REAL(clin_inc), internal->clin_inc, internal->dim_clin_inc * sizeof(double));
  odin_set_dim(clin_inc, 3, internal->dim_clin_inc_1, internal->dim_clin_inc_2, internal->dim_clin_inc_3);
  SET_VECTOR_ELT(contents, 20, clin_inc);
  SEXP clin_inc0to5 = PROTECT(allocVector(REALSXP, internal->dim_clin_inc0to5));
  memcpy(REAL(clin_inc0to5), internal->clin_inc0to5, internal->dim_clin_inc0to5 * sizeof(double));
  odin_set_dim(clin_inc0to5, 3, internal->dim_clin_inc0to5_1, internal->dim_clin_inc0to5_2, internal->dim_clin_inc0to5_3);
  SET_VECTOR_ELT(contents, 21, clin_inc0to5);
  SEXP cov = PROTECT(allocVector(REALSXP, internal->dim_cov));
  memcpy(REAL(cov), internal->cov, internal->dim_cov * sizeof(double));
  SET_VECTOR_ELT(contents, 22, cov);
  SEXP cov_ = PROTECT(allocVector(REALSXP, internal->dim_cov_));
  memcpy(REAL(cov_), internal->cov_, internal->dim_cov_ * sizeof(double));
  SET_VECTOR_ELT(contents, 23, cov_);
  SET_VECTOR_ELT(contents, 24, ScalarReal(internal->cT));
  SET_VECTOR_ELT(contents, 25, ScalarReal(internal->cU));
  SET_VECTOR_ELT(contents, 26, ScalarReal(internal->d_EM0));
  SET_VECTOR_ELT(contents, 27, ScalarReal(internal->d_ITN0));
  SET_VECTOR_ELT(contents, 28, ScalarReal(internal->d1));
  SET_VECTOR_ELT(contents, 29, ScalarReal(internal->dB));
  SET_VECTOR_ELT(contents, 30, ScalarReal(internal->dCA));
  SET_VECTOR_ELT(contents, 31, ScalarReal(internal->dCM));
  SET_VECTOR_ELT(contents, 32, ScalarReal(internal->dE));
  SET_VECTOR_ELT(contents, 33, ScalarReal(internal->dEL));
  SEXP delay_array_av_human = PROTECT(allocVector(REALSXP, internal->dim_av_human));
  memcpy(REAL(delay_array_av_human), internal->delay_array_av_human, internal->dim_av_human * sizeof(double));
  SET_VECTOR_ELT(contents, 34, delay_array_av_human);
  SEXP delay_array_av_mosq = PROTECT(allocVector(REALSXP, internal->dim_av_mosq));
  memcpy(REAL(delay_array_av_mosq), internal->delay_array_av_mosq, internal->dim_av_mosq * sizeof(double));
  SET_VECTOR_ELT(contents, 35, delay_array_av_mosq);
  SEXP delay_array_b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(delay_array_b), internal->delay_array_b, internal->dim_b * sizeof(double));
  odin_set_dim(delay_array_b, 3, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3);
  SET_VECTOR_ELT(contents, 36, delay_array_b);
  SEXP delay_array_cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(delay_array_cA), internal->delay_array_cA, internal->dim_cA * sizeof(double));
  odin_set_dim(delay_array_cA, 3, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3);
  SET_VECTOR_ELT(contents, 37, delay_array_cA);
  SEXP delay_array_EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(delay_array_EIR), internal->delay_array_EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(delay_array_EIR, 3, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3);
  SET_VECTOR_ELT(contents, 38, delay_array_EIR);
  SEXP delay_array_FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(delay_array_FOI_lag), internal->delay_array_FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(delay_array_FOI_lag, 3, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3);
  SET_VECTOR_ELT(contents, 39, delay_array_FOI_lag);
  SEXP delay_array_FOIvijk = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk));
  memcpy(REAL(delay_array_FOIvijk), internal->delay_array_FOIvijk, internal->dim_FOIvijk * sizeof(double));
  odin_set_dim(delay_array_FOIvijk, 3, internal->dim_FOIvijk_1, internal->dim_FOIvijk_2, internal->dim_FOIvijk_3);
  SET_VECTOR_ELT(contents, 40, delay_array_FOIvijk);
  SEXP delay_array_p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(delay_array_p_det), internal->delay_array_p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(delay_array_p_det, 3, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3);
  SET_VECTOR_ELT(contents, 41, delay_array_p_det);
  SEXP delay_array_w = PROTECT(allocVector(REALSXP, internal->dim_w));
  memcpy(REAL(delay_array_w), internal->delay_array_w, internal->dim_w * sizeof(double));
  SET_VECTOR_ELT(contents, 42, delay_array_w);
  SEXP delay_array_w_ = PROTECT(allocVector(REALSXP, internal->dim_w_));
  memcpy(REAL(delay_array_w_), internal->delay_array_w_, internal->dim_w_ * sizeof(double));
  SET_VECTOR_ELT(contents, 43, delay_array_w_);
  SEXP delay_array_whi = PROTECT(allocVector(REALSXP, internal->dim_whi));
  memcpy(REAL(delay_array_whi), internal->delay_array_whi, internal->dim_whi * sizeof(double));
  SET_VECTOR_ELT(contents, 44, delay_array_whi);
  SEXP delay_array_yy = PROTECT(allocVector(REALSXP, internal->dim_yy));
  memcpy(REAL(delay_array_yy), internal->delay_array_yy, internal->dim_yy * sizeof(double));
  SET_VECTOR_ELT(contents, 45, delay_array_yy);
  SEXP delay_array_yy_ = PROTECT(allocVector(REALSXP, internal->dim_yy_));
  memcpy(REAL(delay_array_yy_), internal->delay_array_yy_, internal->dim_yy_ * sizeof(double));
  SET_VECTOR_ELT(contents, 46, delay_array_yy_);
  SEXP delay_array_z = PROTECT(allocVector(REALSXP, internal->dim_z));
  memcpy(REAL(delay_array_z), internal->delay_array_z, internal->dim_z * sizeof(double));
  SET_VECTOR_ELT(contents, 47, delay_array_z);
  SEXP delay_array_z_ = PROTECT(allocVector(REALSXP, internal->dim_z_));
  memcpy(REAL(delay_array_z_), internal->delay_array_z_, internal->dim_z_ * sizeof(double));
  SET_VECTOR_ELT(contents, 48, delay_array_z_);
  SEXP delay_array_zhi = PROTECT(allocVector(REALSXP, internal->dim_zhi));
  memcpy(REAL(delay_array_zhi), internal->delay_array_zhi, internal->dim_zhi * sizeof(double));
  SET_VECTOR_ELT(contents, 49, delay_array_zhi);
  SEXP delay_index_FOI = PROTECT(allocVector(INTSXP, internal->dim_delay_FOI));
  memcpy(INTEGER(delay_index_FOI), internal->delay_index_FOI, internal->dim_delay_FOI * sizeof(int));
  SET_VECTOR_ELT(contents, 50, delay_index_FOI);
  SEXP delay_index_FOIv = PROTECT(allocVector(INTSXP, internal->dim_delay_FOIv));
  memcpy(INTEGER(delay_index_FOIv), internal->delay_index_FOIv, internal->dim_delay_FOIv * sizeof(int));
  SET_VECTOR_ELT(contents, 51, delay_index_FOIv);
  SEXP delay_index_incv = PROTECT(allocVector(INTSXP, 1));
  memcpy(INTEGER(delay_index_incv), internal->delay_index_incv, 1 * sizeof(int));
  SET_VECTOR_ELT(contents, 52, delay_index_incv);
  SEXP delay_state_FOI = PROTECT(allocVector(REALSXP, internal->dim_delay_FOI));
  memcpy(REAL(delay_state_FOI), internal->delay_state_FOI, internal->dim_delay_FOI * sizeof(double));
  SET_VECTOR_ELT(contents, 53, delay_state_FOI);
  SEXP delay_state_FOIv = PROTECT(allocVector(REALSXP, internal->dim_delay_FOIv));
  memcpy(REAL(delay_state_FOIv), internal->delay_state_FOIv, internal->dim_delay_FOIv * sizeof(double));
  SET_VECTOR_ELT(contents, 54, delay_state_FOIv);
  SEXP delay_state_incv = PROTECT(allocVector(REALSXP, 1));
  memcpy(REAL(delay_state_incv), internal->delay_state_incv, 1 * sizeof(double));
  SET_VECTOR_ELT(contents, 55, delay_state_incv);
  SET_VECTOR_ELT(contents, 56, ScalarReal(internal->delayGam));
  SET_VECTOR_ELT(contents, 57, ScalarReal(internal->delayMos));
  SEXP den = PROTECT(allocVector(REALSXP, internal->dim_den));
  memcpy(REAL(den), internal->den, internal->dim_den * sizeof(double));
  SET_VECTOR_ELT(contents, 58, den);
  SEXP derivS = PROTECT(allocVector(REALSXP, internal->dim_derivS));
  memcpy(REAL(derivS), internal->derivS, internal->dim_derivS * sizeof(double));
  odin_set_dim(derivS, 3, internal->dim_derivS_1, internal->dim_derivS_2, internal->dim_derivS_3);
  SET_VECTOR_ELT(contents, 59, derivS);
  SET_VECTOR_ELT(contents, 60, ScalarReal(internal->det_hut));
  SET_VECTOR_ELT(contents, 61, ScalarReal(internal->det_hut_a));
  SET_VECTOR_ELT(contents, 62, ScalarReal(internal->dID));
  SET_VECTOR_ELT(contents, 63, ScalarInteger(internal->dim_A));
  SET_VECTOR_ELT(contents, 64, ScalarInteger(internal->dim_A_1));
  SET_VECTOR_ELT(contents, 65, ScalarInteger(internal->dim_A_12));
  SET_VECTOR_ELT(contents, 66, ScalarInteger(internal->dim_A_2));
  SET_VECTOR_ELT(contents, 67, ScalarInteger(internal->dim_A_3));
  SET_VECTOR_ELT(contents, 68, ScalarInteger(internal->dim_age));
  SET_VECTOR_ELT(contents, 69, ScalarInteger(internal->dim_age_rate));
  SET_VECTOR_ELT(contents, 70, ScalarInteger(internal->dim_av_human));
  SET_VECTOR_ELT(contents, 71, ScalarInteger(internal->dim_av_mosq));
  SET_VECTOR_ELT(contents, 72, ScalarInteger(internal->dim_b));
  SET_VECTOR_ELT(contents, 73, ScalarInteger(internal->dim_b_1));
  SET_VECTOR_ELT(contents, 74, ScalarInteger(internal->dim_b_12));
  SET_VECTOR_ELT(contents, 75, ScalarInteger(internal->dim_b_2));
  SET_VECTOR_ELT(contents, 76, ScalarInteger(internal->dim_b_3));
  SET_VECTOR_ELT(contents, 77, ScalarInteger(internal->dim_cA));
  SET_VECTOR_ELT(contents, 78, ScalarInteger(internal->dim_cA_1));
  SET_VECTOR_ELT(contents, 79, ScalarInteger(internal->dim_cA_12));
  SET_VECTOR_ELT(contents, 80, ScalarInteger(internal->dim_cA_2));
  SET_VECTOR_ELT(contents, 81, ScalarInteger(internal->dim_cA_3));
  SET_VECTOR_ELT(contents, 82, ScalarInteger(internal->dim_clin_inc));
  SET_VECTOR_ELT(contents, 83, ScalarInteger(internal->dim_clin_inc_1));
  SET_VECTOR_ELT(contents, 84, ScalarInteger(internal->dim_clin_inc_12));
  SET_VECTOR_ELT(contents, 85, ScalarInteger(internal->dim_clin_inc_2));
  SET_VECTOR_ELT(contents, 86, ScalarInteger(internal->dim_clin_inc_3));
  SET_VECTOR_ELT(contents, 87, ScalarInteger(internal->dim_clin_inc0to5));
  SET_VECTOR_ELT(contents, 88, ScalarInteger(internal->dim_clin_inc0to5_1));
  SET_VECTOR_ELT(contents, 89, ScalarInteger(internal->dim_clin_inc0to5_12));
  SET_VECTOR_ELT(contents, 90, ScalarInteger(internal->dim_clin_inc0to5_2));
  SET_VECTOR_ELT(contents, 91, ScalarInteger(internal->dim_clin_inc0to5_3));
  SET_VECTOR_ELT(contents, 92, ScalarInteger(internal->dim_cov));
  SET_VECTOR_ELT(contents, 93, ScalarInteger(internal->dim_cov_));
  SET_VECTOR_ELT(contents, 94, ScalarInteger(internal->dim_D));
  SET_VECTOR_ELT(contents, 95, ScalarInteger(internal->dim_D_1));
  SET_VECTOR_ELT(contents, 96, ScalarInteger(internal->dim_D_12));
  SET_VECTOR_ELT(contents, 97, ScalarInteger(internal->dim_D_2));
  SET_VECTOR_ELT(contents, 98, ScalarInteger(internal->dim_D_3));
  SET_VECTOR_ELT(contents, 99, ScalarInteger(internal->dim_delay_FOI));
  SET_VECTOR_ELT(contents, 100, ScalarInteger(internal->dim_delay_FOIv));
  SET_VECTOR_ELT(contents, 101, ScalarInteger(internal->dim_den));
  SET_VECTOR_ELT(contents, 102, ScalarInteger(internal->dim_derivS));
  SET_VECTOR_ELT(contents, 103, ScalarInteger(internal->dim_derivS_1));
  SET_VECTOR_ELT(contents, 104, ScalarInteger(internal->dim_derivS_12));
  SET_VECTOR_ELT(contents, 105, ScalarInteger(internal->dim_derivS_2));
  SET_VECTOR_ELT(contents, 106, ScalarInteger(internal->dim_derivS_3));
  SET_VECTOR_ELT(contents, 107, ScalarInteger(internal->dim_EIR));
  SET_VECTOR_ELT(contents, 108, ScalarInteger(internal->dim_EIR_1));
  SET_VECTOR_ELT(contents, 109, ScalarInteger(internal->dim_EIR_12));
  SET_VECTOR_ELT(contents, 110, ScalarInteger(internal->dim_EIR_2));
  SET_VECTOR_ELT(contents, 111, ScalarInteger(internal->dim_EIR_3));
  SET_VECTOR_ELT(contents, 112, ScalarInteger(internal->dim_fd));
  SET_VECTOR_ELT(contents, 113, ScalarInteger(internal->dim_FOI));
  SET_VECTOR_ELT(contents, 114, ScalarInteger(internal->dim_FOI_1));
  SET_VECTOR_ELT(contents, 115, ScalarInteger(internal->dim_FOI_12));
  SET_VECTOR_ELT(contents, 116, ScalarInteger(internal->dim_FOI_2));
  SET_VECTOR_ELT(contents, 117, ScalarInteger(internal->dim_FOI_3));
  SET_VECTOR_ELT(contents, 118, ScalarInteger(internal->dim_foi_age));
  SET_VECTOR_ELT(contents, 119, ScalarInteger(internal->dim_FOI_lag));
  SET_VECTOR_ELT(contents, 120, ScalarInteger(internal->dim_FOI_lag_1));
  SET_VECTOR_ELT(contents, 121, ScalarInteger(internal->dim_FOI_lag_12));
  SET_VECTOR_ELT(contents, 122, ScalarInteger(internal->dim_FOI_lag_2));
  SET_VECTOR_ELT(contents, 123, ScalarInteger(internal->dim_FOI_lag_3));
  SET_VECTOR_ELT(contents, 124, ScalarInteger(internal->dim_FOIvijk));
  SET_VECTOR_ELT(contents, 125, ScalarInteger(internal->dim_FOIvijk_1));
  SET_VECTOR_ELT(contents, 126, ScalarInteger(internal->dim_FOIvijk_12));
  SET_VECTOR_ELT(contents, 127, ScalarInteger(internal->dim_FOIvijk_2));
  SET_VECTOR_ELT(contents, 128, ScalarInteger(internal->dim_FOIvijk_3));
  SET_VECTOR_ELT(contents, 129, ScalarInteger(internal->dim_het_wt));
  SET_VECTOR_ELT(contents, 130, ScalarInteger(internal->dim_IB));
  SET_VECTOR_ELT(contents, 131, ScalarInteger(internal->dim_IB_1));
  SET_VECTOR_ELT(contents, 132, ScalarInteger(internal->dim_IB_12));
  SET_VECTOR_ELT(contents, 133, ScalarInteger(internal->dim_IB_2));
  SET_VECTOR_ELT(contents, 134, ScalarInteger(internal->dim_IB_3));
  SET_VECTOR_ELT(contents, 135, ScalarInteger(internal->dim_IC));
  SET_VECTOR_ELT(contents, 136, ScalarInteger(internal->dim_IC_1));
  SET_VECTOR_ELT(contents, 137, ScalarInteger(internal->dim_IC_12));
  SET_VECTOR_ELT(contents, 138, ScalarInteger(internal->dim_IC_2));
  SET_VECTOR_ELT(contents, 139, ScalarInteger(internal->dim_IC_3));
  SET_VECTOR_ELT(contents, 140, ScalarInteger(internal->dim_ICA));
  SET_VECTOR_ELT(contents, 141, ScalarInteger(internal->dim_ICA_1));
  SET_VECTOR_ELT(contents, 142, ScalarInteger(internal->dim_ICA_12));
  SET_VECTOR_ELT(contents, 143, ScalarInteger(internal->dim_ICA_2));
  SET_VECTOR_ELT(contents, 144, ScalarInteger(internal->dim_ICA_3));
  SET_VECTOR_ELT(contents, 145, ScalarInteger(internal->dim_ICM));
  SET_VECTOR_ELT(contents, 146, ScalarInteger(internal->dim_ICM_1));
  SET_VECTOR_ELT(contents, 147, ScalarInteger(internal->dim_ICM_12));
  SET_VECTOR_ELT(contents, 148, ScalarInteger(internal->dim_ICM_2));
  SET_VECTOR_ELT(contents, 149, ScalarInteger(internal->dim_ICM_3));
  SET_VECTOR_ELT(contents, 150, ScalarInteger(internal->dim_ID));
  SET_VECTOR_ELT(contents, 151, ScalarInteger(internal->dim_ID_1));
  SET_VECTOR_ELT(contents, 152, ScalarInteger(internal->dim_ID_12));
  SET_VECTOR_ELT(contents, 153, ScalarInteger(internal->dim_ID_2));
  SET_VECTOR_ELT(contents, 154, ScalarInteger(internal->dim_ID_3));
  SET_VECTOR_ELT(contents, 155, ScalarInteger(internal->dim_init_A));
  SET_VECTOR_ELT(contents, 156, ScalarInteger(internal->dim_init_A_1));
  SET_VECTOR_ELT(contents, 157, ScalarInteger(internal->dim_init_A_12));
  SET_VECTOR_ELT(contents, 158, ScalarInteger(internal->dim_init_A_2));
  SET_VECTOR_ELT(contents, 159, ScalarInteger(internal->dim_init_A_3));
  SET_VECTOR_ELT(contents, 160, ScalarInteger(internal->dim_init_D));
  SET_VECTOR_ELT(contents, 161, ScalarInteger(internal->dim_init_D_1));
  SET_VECTOR_ELT(contents, 162, ScalarInteger(internal->dim_init_D_12));
  SET_VECTOR_ELT(contents, 163, ScalarInteger(internal->dim_init_D_2));
  SET_VECTOR_ELT(contents, 164, ScalarInteger(internal->dim_init_D_3));
  SET_VECTOR_ELT(contents, 165, ScalarInteger(internal->dim_init_IB));
  SET_VECTOR_ELT(contents, 166, ScalarInteger(internal->dim_init_IB_1));
  SET_VECTOR_ELT(contents, 167, ScalarInteger(internal->dim_init_IB_12));
  SET_VECTOR_ELT(contents, 168, ScalarInteger(internal->dim_init_IB_2));
  SET_VECTOR_ELT(contents, 169, ScalarInteger(internal->dim_init_IB_3));
  SET_VECTOR_ELT(contents, 170, ScalarInteger(internal->dim_init_ICA));
  SET_VECTOR_ELT(contents, 171, ScalarInteger(internal->dim_init_ICA_1));
  SET_VECTOR_ELT(contents, 172, ScalarInteger(internal->dim_init_ICA_12));
  SET_VECTOR_ELT(contents, 173, ScalarInteger(internal->dim_init_ICA_2));
  SET_VECTOR_ELT(contents, 174, ScalarInteger(internal->dim_init_ICA_3));
  SET_VECTOR_ELT(contents, 175, ScalarInteger(internal->dim_init_ICM));
  SET_VECTOR_ELT(contents, 176, ScalarInteger(internal->dim_init_ICM_1));
  SET_VECTOR_ELT(contents, 177, ScalarInteger(internal->dim_init_ICM_12));
  SET_VECTOR_ELT(contents, 178, ScalarInteger(internal->dim_init_ICM_2));
  SET_VECTOR_ELT(contents, 179, ScalarInteger(internal->dim_init_ICM_3));
  SET_VECTOR_ELT(contents, 180, ScalarInteger(internal->dim_init_ICM_pre));
  SET_VECTOR_ELT(contents, 181, ScalarInteger(internal->dim_init_ICM_pre_1));
  SET_VECTOR_ELT(contents, 182, ScalarInteger(internal->dim_init_ICM_pre_2));
  SET_VECTOR_ELT(contents, 183, ScalarInteger(internal->dim_init_ID));
  SET_VECTOR_ELT(contents, 184, ScalarInteger(internal->dim_init_ID_1));
  SET_VECTOR_ELT(contents, 185, ScalarInteger(internal->dim_init_ID_12));
  SET_VECTOR_ELT(contents, 186, ScalarInteger(internal->dim_init_ID_2));
  SET_VECTOR_ELT(contents, 187, ScalarInteger(internal->dim_init_ID_3));
  SET_VECTOR_ELT(contents, 188, ScalarInteger(internal->dim_init_P));
  SET_VECTOR_ELT(contents, 189, ScalarInteger(internal->dim_init_P_1));
  SET_VECTOR_ELT(contents, 190, ScalarInteger(internal->dim_init_P_12));
  SET_VECTOR_ELT(contents, 191, ScalarInteger(internal->dim_init_P_2));
  SET_VECTOR_ELT(contents, 192, ScalarInteger(internal->dim_init_P_3));
  SET_VECTOR_ELT(contents, 193, ScalarInteger(internal->dim_init_S));
  SET_VECTOR_ELT(contents, 194, ScalarInteger(internal->dim_init_S_1));
  SET_VECTOR_ELT(contents, 195, ScalarInteger(internal->dim_init_S_12));
  SET_VECTOR_ELT(contents, 196, ScalarInteger(internal->dim_init_S_2));
  SET_VECTOR_ELT(contents, 197, ScalarInteger(internal->dim_init_S_3));
  SET_VECTOR_ELT(contents, 198, ScalarInteger(internal->dim_init_T));
  SET_VECTOR_ELT(contents, 199, ScalarInteger(internal->dim_init_T_1));
  SET_VECTOR_ELT(contents, 200, ScalarInteger(internal->dim_init_T_12));
  SET_VECTOR_ELT(contents, 201, ScalarInteger(internal->dim_init_T_2));
  SET_VECTOR_ELT(contents, 202, ScalarInteger(internal->dim_init_T_3));
  SET_VECTOR_ELT(contents, 203, ScalarInteger(internal->dim_init_U));
  SET_VECTOR_ELT(contents, 204, ScalarInteger(internal->dim_init_U_1));
  SET_VECTOR_ELT(contents, 205, ScalarInteger(internal->dim_init_U_12));
  SET_VECTOR_ELT(contents, 206, ScalarInteger(internal->dim_init_U_2));
  SET_VECTOR_ELT(contents, 207, ScalarInteger(internal->dim_init_U_3));
  SET_VECTOR_ELT(contents, 208, ScalarInteger(internal->dim_P));
  SET_VECTOR_ELT(contents, 209, ScalarInteger(internal->dim_P_1));
  SET_VECTOR_ELT(contents, 210, ScalarInteger(internal->dim_P_12));
  SET_VECTOR_ELT(contents, 211, ScalarInteger(internal->dim_P_2));
  SET_VECTOR_ELT(contents, 212, ScalarInteger(internal->dim_P_3));
  SET_VECTOR_ELT(contents, 213, ScalarInteger(internal->dim_p_det));
  SET_VECTOR_ELT(contents, 214, ScalarInteger(internal->dim_p_det_1));
  SET_VECTOR_ELT(contents, 215, ScalarInteger(internal->dim_p_det_12));
  SET_VECTOR_ELT(contents, 216, ScalarInteger(internal->dim_p_det_2));
  SET_VECTOR_ELT(contents, 217, ScalarInteger(internal->dim_p_det_3));
  SET_VECTOR_ELT(contents, 218, ScalarInteger(internal->dim_phi));
  SET_VECTOR_ELT(contents, 219, ScalarInteger(internal->dim_phi_1));
  SET_VECTOR_ELT(contents, 220, ScalarInteger(internal->dim_phi_12));
  SET_VECTOR_ELT(contents, 221, ScalarInteger(internal->dim_phi_2));
  SET_VECTOR_ELT(contents, 222, ScalarInteger(internal->dim_phi_3));
  SET_VECTOR_ELT(contents, 223, ScalarInteger(internal->dim_prev0to59));
  SET_VECTOR_ELT(contents, 224, ScalarInteger(internal->dim_prev0to59_1));
  SET_VECTOR_ELT(contents, 225, ScalarInteger(internal->dim_prev0to59_12));
  SET_VECTOR_ELT(contents, 226, ScalarInteger(internal->dim_prev0to59_2));
  SET_VECTOR_ELT(contents, 227, ScalarInteger(internal->dim_prev0to59_3));
  SET_VECTOR_ELT(contents, 228, ScalarInteger(internal->dim_prevall));
  SET_VECTOR_ELT(contents, 229, ScalarInteger(internal->dim_prevall_1));
  SET_VECTOR_ELT(contents, 230, ScalarInteger(internal->dim_prevall_12));
  SET_VECTOR_ELT(contents, 231, ScalarInteger(internal->dim_prevall_2));
  SET_VECTOR_ELT(contents, 232, ScalarInteger(internal->dim_prevall_3));
  SET_VECTOR_ELT(contents, 233, ScalarInteger(internal->dim_rel_foi));
  SET_VECTOR_ELT(contents, 234, ScalarInteger(internal->dim_S));
  SET_VECTOR_ELT(contents, 235, ScalarInteger(internal->dim_S_1));
  SET_VECTOR_ELT(contents, 236, ScalarInteger(internal->dim_S_12));
  SET_VECTOR_ELT(contents, 237, ScalarInteger(internal->dim_S_2));
  SET_VECTOR_ELT(contents, 238, ScalarInteger(internal->dim_S_3));
  SET_VECTOR_ELT(contents, 239, ScalarInteger(internal->dim_T));
  SET_VECTOR_ELT(contents, 240, ScalarInteger(internal->dim_T_1));
  SET_VECTOR_ELT(contents, 241, ScalarInteger(internal->dim_T_12));
  SET_VECTOR_ELT(contents, 242, ScalarInteger(internal->dim_T_2));
  SET_VECTOR_ELT(contents, 243, ScalarInteger(internal->dim_T_3));
  SET_VECTOR_ELT(contents, 244, ScalarInteger(internal->dim_U));
  SET_VECTOR_ELT(contents, 245, ScalarInteger(internal->dim_U_1));
  SET_VECTOR_ELT(contents, 246, ScalarInteger(internal->dim_U_12));
  SET_VECTOR_ELT(contents, 247, ScalarInteger(internal->dim_U_2));
  SET_VECTOR_ELT(contents, 248, ScalarInteger(internal->dim_U_3));
  SET_VECTOR_ELT(contents, 249, ScalarInteger(internal->dim_w));
  SET_VECTOR_ELT(contents, 250, ScalarInteger(internal->dim_w_));
  SET_VECTOR_ELT(contents, 251, ScalarInteger(internal->dim_whi));
  SET_VECTOR_ELT(contents, 252, ScalarInteger(internal->dim_x_I));
  SET_VECTOR_ELT(contents, 253, ScalarInteger(internal->dim_Y));
  SET_VECTOR_ELT(contents, 254, ScalarInteger(internal->dim_Y_1));
  SET_VECTOR_ELT(contents, 255, ScalarInteger(internal->dim_Y_12));
  SET_VECTOR_ELT(contents, 256, ScalarInteger(internal->dim_Y_2));
  SET_VECTOR_ELT(contents, 257, ScalarInteger(internal->dim_Y_3));
  SET_VECTOR_ELT(contents, 258, ScalarInteger(internal->dim_yy));
  SET_VECTOR_ELT(contents, 259, ScalarInteger(internal->dim_yy_));
  SET_VECTOR_ELT(contents, 260, ScalarInteger(internal->dim_z));
  SET_VECTOR_ELT(contents, 261, ScalarInteger(internal->dim_z_));
  SET_VECTOR_ELT(contents, 262, ScalarInteger(internal->dim_zhi));
  SET_VECTOR_ELT(contents, 263, ScalarReal(internal->dLL));
  SET_VECTOR_ELT(contents, 264, ScalarReal(internal->dPL));
  SEXP EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(EIR), internal->EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(EIR, 3, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3);
  SET_VECTOR_ELT(contents, 265, EIR);
  SET_VECTOR_ELT(contents, 266, ScalarReal(internal->em_cov));
  SET_VECTOR_ELT(contents, 267, ScalarReal(internal->EM_interval));
  SET_VECTOR_ELT(contents, 268, ScalarReal(internal->em_loss));
  SET_VECTOR_ELT(contents, 269, ScalarReal(internal->EM_on));
  SET_VECTOR_ELT(contents, 270, ScalarReal(internal->eta));
  SEXP fd = PROTECT(allocVector(REALSXP, internal->dim_fd));
  memcpy(REAL(fd), internal->fd, internal->dim_fd * sizeof(double));
  SET_VECTOR_ELT(contents, 271, fd);
  SET_VECTOR_ELT(contents, 272, ScalarReal(internal->fD0));
  SEXP FOI = PROTECT(allocVector(REALSXP, internal->dim_FOI));
  memcpy(REAL(FOI), internal->FOI, internal->dim_FOI * sizeof(double));
  odin_set_dim(FOI, 3, internal->dim_FOI_1, internal->dim_FOI_2, internal->dim_FOI_3);
  SET_VECTOR_ELT(contents, 273, FOI);
  SEXP foi_age = PROTECT(allocVector(REALSXP, internal->dim_foi_age));
  memcpy(REAL(foi_age), internal->foi_age, internal->dim_foi_age * sizeof(double));
  SET_VECTOR_ELT(contents, 274, foi_age);
  SEXP FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(FOI_lag), internal->FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(FOI_lag, 3, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3);
  SET_VECTOR_ELT(contents, 275, FOI_lag);
  SEXP FOIvijk = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk));
  memcpy(REAL(FOIvijk), internal->FOIvijk, internal->dim_FOIvijk * sizeof(double));
  odin_set_dim(FOIvijk, 3, internal->dim_FOIvijk_1, internal->dim_FOIvijk_2, internal->dim_FOIvijk_3);
  SET_VECTOR_ELT(contents, 276, FOIvijk);
  SET_VECTOR_ELT(contents, 277, ScalarReal(internal->ft));
  SET_VECTOR_ELT(contents, 278, ScalarReal(internal->gamma1));
  SET_VECTOR_ELT(contents, 279, ScalarReal(internal->gammaD));
  SET_VECTOR_ELT(contents, 280, ScalarReal(internal->gammaL));
  SEXP het_wt = PROTECT(allocVector(REALSXP, internal->dim_het_wt));
  memcpy(REAL(het_wt), internal->het_wt, internal->dim_het_wt * sizeof(double));
  SET_VECTOR_ELT(contents, 281, het_wt);
  SET_VECTOR_ELT(contents, 282, ScalarReal(internal->hut_max));
  SET_VECTOR_ELT(contents, 283, ScalarReal(internal->hut_max_a));
  SET_VECTOR_ELT(contents, 284, ScalarReal(internal->IB0));
  SEXP IC = PROTECT(allocVector(REALSXP, internal->dim_IC));
  memcpy(REAL(IC), internal->IC, internal->dim_IC * sizeof(double));
  odin_set_dim(IC, 3, internal->dim_IC_1, internal->dim_IC_2, internal->dim_IC_3);
  SET_VECTOR_ELT(contents, 285, IC);
  SET_VECTOR_ELT(contents, 286, ScalarReal(internal->IC0));
  SET_VECTOR_ELT(contents, 287, ScalarReal(internal->ID0));
  SEXP init_A = PROTECT(allocVector(REALSXP, internal->dim_init_A));
  memcpy(REAL(init_A), internal->init_A, internal->dim_init_A * sizeof(double));
  odin_set_dim(init_A, 3, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3);
  SET_VECTOR_ELT(contents, 288, init_A);
  SEXP init_D = PROTECT(allocVector(REALSXP, internal->dim_init_D));
  memcpy(REAL(init_D), internal->init_D, internal->dim_init_D * sizeof(double));
  odin_set_dim(init_D, 3, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3);
  SET_VECTOR_ELT(contents, 289, init_D);
  SET_VECTOR_ELT(contents, 290, ScalarReal(internal->init_EL));
  SET_VECTOR_ELT(contents, 291, ScalarReal(internal->init_Ev));
  SEXP init_IB = PROTECT(allocVector(REALSXP, internal->dim_init_IB));
  memcpy(REAL(init_IB), internal->init_IB, internal->dim_init_IB * sizeof(double));
  odin_set_dim(init_IB, 3, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3);
  SET_VECTOR_ELT(contents, 292, init_IB);
  SEXP init_ICA = PROTECT(allocVector(REALSXP, internal->dim_init_ICA));
  memcpy(REAL(init_ICA), internal->init_ICA, internal->dim_init_ICA * sizeof(double));
  odin_set_dim(init_ICA, 3, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3);
  SET_VECTOR_ELT(contents, 293, init_ICA);
  SEXP init_ICM = PROTECT(allocVector(REALSXP, internal->dim_init_ICM));
  memcpy(REAL(init_ICM), internal->init_ICM, internal->dim_init_ICM * sizeof(double));
  odin_set_dim(init_ICM, 3, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3);
  SET_VECTOR_ELT(contents, 294, init_ICM);
  SEXP init_ICM_pre = PROTECT(allocVector(REALSXP, internal->dim_init_ICM_pre));
  memcpy(REAL(init_ICM_pre), internal->init_ICM_pre, internal->dim_init_ICM_pre * sizeof(double));
  odin_set_dim(init_ICM_pre, 2, internal->dim_init_ICM_pre_1, internal->dim_init_ICM_pre_2);
  SET_VECTOR_ELT(contents, 295, init_ICM_pre);
  SEXP init_ID = PROTECT(allocVector(REALSXP, internal->dim_init_ID));
  memcpy(REAL(init_ID), internal->init_ID, internal->dim_init_ID * sizeof(double));
  odin_set_dim(init_ID, 3, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3);
  SET_VECTOR_ELT(contents, 296, init_ID);
  SET_VECTOR_ELT(contents, 297, ScalarReal(internal->init_Iv));
  SET_VECTOR_ELT(contents, 298, ScalarReal(internal->init_LL));
  SEXP init_P = PROTECT(allocVector(REALSXP, internal->dim_init_P));
  memcpy(REAL(init_P), internal->init_P, internal->dim_init_P * sizeof(double));
  odin_set_dim(init_P, 3, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3);
  SET_VECTOR_ELT(contents, 299, init_P);
  SET_VECTOR_ELT(contents, 300, ScalarReal(internal->init_PL));
  SEXP init_S = PROTECT(allocVector(REALSXP, internal->dim_init_S));
  memcpy(REAL(init_S), internal->init_S, internal->dim_init_S * sizeof(double));
  odin_set_dim(init_S, 3, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3);
  SET_VECTOR_ELT(contents, 301, init_S);
  SET_VECTOR_ELT(contents, 302, ScalarReal(internal->init_Sv));
  SEXP init_T = PROTECT(allocVector(REALSXP, internal->dim_init_T));
  memcpy(REAL(init_T), internal->init_T, internal->dim_init_T * sizeof(double));
  odin_set_dim(init_T, 3, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3);
  SET_VECTOR_ELT(contents, 303, init_T);
  SEXP init_U = PROTECT(allocVector(REALSXP, internal->dim_init_U));
  memcpy(REAL(init_U), internal->init_U, internal->dim_init_U * sizeof(double));
  odin_set_dim(init_U, 3, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3);
  SET_VECTOR_ELT(contents, 304, init_U);
  SEXP initial_A = PROTECT(allocVector(REALSXP, internal->dim_A));
  memcpy(REAL(initial_A), internal->initial_A, internal->dim_A * sizeof(double));
  odin_set_dim(initial_A, 3, internal->dim_A_1, internal->dim_A_2, internal->dim_A_3);
  SET_VECTOR_ELT(contents, 305, initial_A);
  SEXP initial_D = PROTECT(allocVector(REALSXP, internal->dim_D));
  memcpy(REAL(initial_D), internal->initial_D, internal->dim_D * sizeof(double));
  odin_set_dim(initial_D, 3, internal->dim_D_1, internal->dim_D_2, internal->dim_D_3);
  SET_VECTOR_ELT(contents, 306, initial_D);
  SET_VECTOR_ELT(contents, 307, ScalarReal(internal->initial_EL));
  SET_VECTOR_ELT(contents, 308, ScalarReal(internal->initial_Ev));
  SEXP initial_IB = PROTECT(allocVector(REALSXP, internal->dim_IB));
  memcpy(REAL(initial_IB), internal->initial_IB, internal->dim_IB * sizeof(double));
  odin_set_dim(initial_IB, 3, internal->dim_IB_1, internal->dim_IB_2, internal->dim_IB_3);
  SET_VECTOR_ELT(contents, 309, initial_IB);
  SEXP initial_ICA = PROTECT(allocVector(REALSXP, internal->dim_ICA));
  memcpy(REAL(initial_ICA), internal->initial_ICA, internal->dim_ICA * sizeof(double));
  odin_set_dim(initial_ICA, 3, internal->dim_ICA_1, internal->dim_ICA_2, internal->dim_ICA_3);
  SET_VECTOR_ELT(contents, 310, initial_ICA);
  SEXP initial_ICM = PROTECT(allocVector(REALSXP, internal->dim_ICM));
  memcpy(REAL(initial_ICM), internal->initial_ICM, internal->dim_ICM * sizeof(double));
  odin_set_dim(initial_ICM, 3, internal->dim_ICM_1, internal->dim_ICM_2, internal->dim_ICM_3);
  SET_VECTOR_ELT(contents, 311, initial_ICM);
  SEXP initial_ID = PROTECT(allocVector(REALSXP, internal->dim_ID));
  memcpy(REAL(initial_ID), internal->initial_ID, internal->dim_ID * sizeof(double));
  odin_set_dim(initial_ID, 3, internal->dim_ID_1, internal->dim_ID_2, internal->dim_ID_3);
  SET_VECTOR_ELT(contents, 312, initial_ID);
  SET_VECTOR_ELT(contents, 313, ScalarReal(internal->initial_Iv));
  SET_VECTOR_ELT(contents, 314, ScalarReal(internal->initial_LL));
  SEXP initial_P = PROTECT(allocVector(REALSXP, internal->dim_P));
  memcpy(REAL(initial_P), internal->initial_P, internal->dim_P * sizeof(double));
  odin_set_dim(initial_P, 3, internal->dim_P_1, internal->dim_P_2, internal->dim_P_3);
  SET_VECTOR_ELT(contents, 315, initial_P);
  SET_VECTOR_ELT(contents, 316, ScalarReal(internal->initial_PL));
  SEXP initial_S = PROTECT(allocVector(REALSXP, internal->dim_S));
  memcpy(REAL(initial_S), internal->initial_S, internal->dim_S * sizeof(double));
  odin_set_dim(initial_S, 3, internal->dim_S_1, internal->dim_S_2, internal->dim_S_3);
  SET_VECTOR_ELT(contents, 317, initial_S);
  SET_VECTOR_ELT(contents, 318, ScalarReal(internal->initial_Sv));
  SET_VECTOR_ELT(contents, 319, ScalarReal(internal->initial_t));
  SEXP initial_T = PROTECT(allocVector(REALSXP, internal->dim_T));
  memcpy(REAL(initial_T), internal->initial_T, internal->dim_T * sizeof(double));
  odin_set_dim(initial_T, 3, internal->dim_T_1, internal->dim_T_2, internal->dim_T_3);
  SET_VECTOR_ELT(contents, 320, initial_T);
  SEXP initial_U = PROTECT(allocVector(REALSXP, internal->dim_U));
  memcpy(REAL(initial_U), internal->initial_U, internal->dim_U * sizeof(double));
  odin_set_dim(initial_U, 3, internal->dim_U_1, internal->dim_U_2, internal->dim_U_3);
  SET_VECTOR_ELT(contents, 321, initial_U);
  SET_VECTOR_ELT(contents, 322, ScalarReal(internal->itn_cov));
  SET_VECTOR_ELT(contents, 323, ScalarReal(internal->itn_half_life));
  SET_VECTOR_ELT(contents, 324, ScalarReal(internal->ITN_interval));
  SET_VECTOR_ELT(contents, 325, ScalarReal(internal->itn_loss));
  SET_VECTOR_ELT(contents, 326, ScalarReal(internal->ITN_on));
  SET_VECTOR_ELT(contents, 327, ScalarReal(internal->jp1));
  SET_VECTOR_ELT(contents, 328, ScalarReal(internal->kB));
  SET_VECTOR_ELT(contents, 329, ScalarReal(internal->kC));
  SET_VECTOR_ELT(contents, 330, ScalarReal(internal->kD));
  SET_VECTOR_ELT(contents, 331, ScalarReal(internal->kp1));
  SET_VECTOR_ELT(contents, 332, ScalarReal(internal->lp1));
  SET_VECTOR_ELT(contents, 333, ScalarReal(internal->mort_assay));
  SET_VECTOR_ELT(contents, 334, ScalarReal(internal->mort_hut));
  SET_VECTOR_ELT(contents, 335, ScalarReal(internal->mort_hut_a));
  SET_VECTOR_ELT(contents, 336, ScalarReal(internal->mu0));
  SET_VECTOR_ELT(contents, 337, ScalarReal(internal->muEL));
  SET_VECTOR_ELT(contents, 338, ScalarReal(internal->muLL));
  SET_VECTOR_ELT(contents, 339, ScalarReal(internal->muPL));
  SET_VECTOR_ELT(contents, 340, ScalarReal(internal->mv0));
  SET_VECTOR_ELT(contents, 341, ScalarReal(internal->my_max_washes));
  SET_VECTOR_ELT(contents, 342, ScalarReal(internal->my_max_washes_a));
  SET_VECTOR_ELT(contents, 343, ScalarReal(internal->n1n0));
  SET_VECTOR_ELT(contents, 344, ScalarInteger(internal->na));
  SET_VECTOR_ELT(contents, 345, ScalarInteger(internal->nh));
  SET_VECTOR_ELT(contents, 346, ScalarInteger(internal->num_int));
  SET_VECTOR_ELT(contents, 347, ScalarInteger(internal->offset_FOIv_A));
  SET_VECTOR_ELT(contents, 348, ScalarInteger(internal->offset_FOIv_ID));
  SET_VECTOR_ELT(contents, 349, ScalarInteger(internal->offset_FOIv_U));
  SET_VECTOR_ELT(contents, 350, ScalarInteger(internal->offset_output_av_mosq));
  SET_VECTOR_ELT(contents, 351, ScalarInteger(internal->offset_output_cov));
  SET_VECTOR_ELT(contents, 352, ScalarInteger(internal->offset_output_derivS));
  SET_VECTOR_ELT(contents, 353, ScalarInteger(internal->offset_output_zhi));
  SET_VECTOR_ELT(contents, 354, ScalarInteger(internal->offset_variable_A));
  SET_VECTOR_ELT(contents, 355, ScalarInteger(internal->offset_variable_D));
  SET_VECTOR_ELT(contents, 356, ScalarInteger(internal->offset_variable_IB));
  SET_VECTOR_ELT(contents, 357, ScalarInteger(internal->offset_variable_ICA));
  SET_VECTOR_ELT(contents, 358, ScalarInteger(internal->offset_variable_ICM));
  SET_VECTOR_ELT(contents, 359, ScalarInteger(internal->offset_variable_ID));
  SET_VECTOR_ELT(contents, 360, ScalarInteger(internal->offset_variable_P));
  SET_VECTOR_ELT(contents, 361, ScalarInteger(internal->offset_variable_T));
  SET_VECTOR_ELT(contents, 362, ScalarInteger(internal->offset_variable_U));
  SET_VECTOR_ELT(contents, 363, ScalarReal(internal->omega));
  SEXP p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(p_det), internal->p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(p_det, 3, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3);
  SET_VECTOR_ELT(contents, 364, p_det);
  SET_VECTOR_ELT(contents, 365, ScalarReal(internal->p10));
  SET_VECTOR_ELT(contents, 366, ScalarReal(internal->p2));
  SEXP phi = PROTECT(allocVector(REALSXP, internal->dim_phi));
  memcpy(REAL(phi), internal->phi, internal->dim_phi * sizeof(double));
  odin_set_dim(phi, 3, internal->dim_phi_1, internal->dim_phi_2, internal->dim_phi_3);
  SET_VECTOR_ELT(contents, 367, phi);
  SET_VECTOR_ELT(contents, 368, ScalarReal(internal->phi0));
  SET_VECTOR_ELT(contents, 369, ScalarReal(internal->phi1));
  SET_VECTOR_ELT(contents, 370, ScalarReal(internal->pi));
  SET_VECTOR_ELT(contents, 371, ScalarReal(internal->PM));
  SEXP prev0to59 = PROTECT(allocVector(REALSXP, internal->dim_prev0to59));
  memcpy(REAL(prev0to59), internal->prev0to59, internal->dim_prev0to59 * sizeof(double));
  odin_set_dim(prev0to59, 3, internal->dim_prev0to59_1, internal->dim_prev0to59_2, internal->dim_prev0to59_3);
  SET_VECTOR_ELT(contents, 372, prev0to59);
  SEXP prevall = PROTECT(allocVector(REALSXP, internal->dim_prevall));
  memcpy(REAL(prevall), internal->prevall, internal->dim_prevall * sizeof(double));
  odin_set_dim(prevall, 3, internal->dim_prevall_1, internal->dim_prevall_2, internal->dim_prevall_3);
  SET_VECTOR_ELT(contents, 373, prevall);
  SET_VECTOR_ELT(contents, 374, ScalarReal(internal->Q0));
  SET_VECTOR_ELT(contents, 375, ScalarReal(internal->r_EM0));
  SET_VECTOR_ELT(contents, 376, ScalarReal(internal->r_ITN_min));
  SET_VECTOR_ELT(contents, 377, ScalarReal(internal->r_ITN0));
  SET_VECTOR_ELT(contents, 378, ScalarReal(internal->rA));
  SET_VECTOR_ELT(contents, 379, ScalarReal(internal->rD));
  SEXP rel_foi = PROTECT(allocVector(REALSXP, internal->dim_rel_foi));
  memcpy(REAL(rel_foi), internal->rel_foi, internal->dim_rel_foi * sizeof(double));
  SET_VECTOR_ELT(contents, 380, rel_foi);
  SET_VECTOR_ELT(contents, 381, ScalarReal(internal->rep_hut));
  SET_VECTOR_ELT(contents, 382, ScalarReal(internal->rP));
  SET_VECTOR_ELT(contents, 383, ScalarReal(internal->rT));
  SET_VECTOR_ELT(contents, 384, ScalarReal(internal->rU));
  SET_VECTOR_ELT(contents, 385, ScalarReal(internal->ssa0));
  SET_VECTOR_ELT(contents, 386, ScalarReal(internal->ssa1));
  SET_VECTOR_ELT(contents, 387, ScalarReal(internal->ssa2));
  SET_VECTOR_ELT(contents, 388, ScalarReal(internal->ssa3));
  SET_VECTOR_ELT(contents, 389, ScalarReal(internal->ssb1));
  SET_VECTOR_ELT(contents, 390, ScalarReal(internal->ssb2));
  SET_VECTOR_ELT(contents, 391, ScalarReal(internal->ssb3));
  SET_VECTOR_ELT(contents, 392, ScalarReal(internal->suc_hut));
  SET_VECTOR_ELT(contents, 393, ScalarReal(internal->surv_bioassay));
  SET_VECTOR_ELT(contents, 394, ScalarReal(internal->tau1));
  SET_VECTOR_ELT(contents, 395, ScalarReal(internal->tau2));
  SET_VECTOR_ELT(contents, 396, ScalarReal(internal->theta_c));
  SET_VECTOR_ELT(contents, 397, ScalarReal(internal->uB));
  SET_VECTOR_ELT(contents, 398, ScalarReal(internal->uCA));
  SET_VECTOR_ELT(contents, 399, ScalarReal(internal->uD));
  SEXP w = PROTECT(allocVector(REALSXP, internal->dim_w));
  memcpy(REAL(w), internal->w, internal->dim_w * sizeof(double));
  SET_VECTOR_ELT(contents, 400, w);
  SEXP w_ = PROTECT(allocVector(REALSXP, internal->dim_w_));
  memcpy(REAL(w_), internal->w_, internal->dim_w_ * sizeof(double));
  SET_VECTOR_ELT(contents, 401, w_);
  SET_VECTOR_ELT(contents, 402, ScalarReal(internal->wash_decay_rate));
  SET_VECTOR_ELT(contents, 403, ScalarReal(internal->wash_decay_rate_a));
  SEXP whi = PROTECT(allocVector(REALSXP, internal->dim_whi));
  memcpy(REAL(whi), internal->whi, internal->dim_whi * sizeof(double));
  SET_VECTOR_ELT(contents, 404, whi);
  SEXP x_I = PROTECT(allocVector(REALSXP, internal->dim_x_I));
  memcpy(REAL(x_I), internal->x_I, internal->dim_x_I * sizeof(double));
  SET_VECTOR_ELT(contents, 405, x_I);
  SEXP Y = PROTECT(allocVector(REALSXP, internal->dim_Y));
  memcpy(REAL(Y), internal->Y, internal->dim_Y * sizeof(double));
  odin_set_dim(Y, 3, internal->dim_Y_1, internal->dim_Y_2, internal->dim_Y_3);
  SET_VECTOR_ELT(contents, 406, Y);
  SEXP yy = PROTECT(allocVector(REALSXP, internal->dim_yy));
  memcpy(REAL(yy), internal->yy, internal->dim_yy * sizeof(double));
  SET_VECTOR_ELT(contents, 407, yy);
  SEXP yy_ = PROTECT(allocVector(REALSXP, internal->dim_yy_));
  memcpy(REAL(yy_), internal->yy_, internal->dim_yy_ * sizeof(double));
  SET_VECTOR_ELT(contents, 408, yy_);
  SEXP z = PROTECT(allocVector(REALSXP, internal->dim_z));
  memcpy(REAL(z), internal->z, internal->dim_z * sizeof(double));
  SET_VECTOR_ELT(contents, 409, z);
  SEXP z_ = PROTECT(allocVector(REALSXP, internal->dim_z_));
  memcpy(REAL(z_), internal->z_, internal->dim_z_ * sizeof(double));
  SET_VECTOR_ELT(contents, 410, z_);
  SEXP zhi = PROTECT(allocVector(REALSXP, internal->dim_zhi));
  memcpy(REAL(zhi), internal->zhi, internal->dim_zhi * sizeof(double));
  SET_VECTOR_ELT(contents, 411, zhi);
  SET_VECTOR_ELT(contents, 412, ScalarLogical(internal->odin_model_emanators_use_dde));
  SEXP nms = PROTECT(allocVector(STRSXP, 413));
  SET_STRING_ELT(nms, 0, mkChar("aD"));
  SET_STRING_ELT(nms, 1, mkChar("age"));
  SET_STRING_ELT(nms, 2, mkChar("age_20_factor"));
  SET_STRING_ELT(nms, 3, mkChar("age_rate"));
  SET_STRING_ELT(nms, 4, mkChar("age05"));
  SET_STRING_ELT(nms, 5, mkChar("age20l"));
  SET_STRING_ELT(nms, 6, mkChar("age20u"));
  SET_STRING_ELT(nms, 7, mkChar("age59"));
  SET_STRING_ELT(nms, 8, mkChar("av_human"));
  SET_STRING_ELT(nms, 9, mkChar("av_mosq"));
  SET_STRING_ELT(nms, 10, mkChar("b"));
  SET_STRING_ELT(nms, 11, mkChar("b_lambda"));
  SET_STRING_ELT(nms, 12, mkChar("b0"));
  SET_STRING_ELT(nms, 13, mkChar("b1"));
  SET_STRING_ELT(nms, 14, mkChar("betaL"));
  SET_STRING_ELT(nms, 15, mkChar("bites_Bed"));
  SET_STRING_ELT(nms, 16, mkChar("bites_Emanator"));
  SET_STRING_ELT(nms, 17, mkChar("bites_Indoors"));
  SET_STRING_ELT(nms, 18, mkChar("cA"));
  SET_STRING_ELT(nms, 19, mkChar("cD"));
  SET_STRING_ELT(nms, 20, mkChar("clin_inc"));
  SET_STRING_ELT(nms, 21, mkChar("clin_inc0to5"));
  SET_STRING_ELT(nms, 22, mkChar("cov"));
  SET_STRING_ELT(nms, 23, mkChar("cov_"));
  SET_STRING_ELT(nms, 24, mkChar("cT"));
  SET_STRING_ELT(nms, 25, mkChar("cU"));
  SET_STRING_ELT(nms, 26, mkChar("d_EM0"));
  SET_STRING_ELT(nms, 27, mkChar("d_ITN0"));
  SET_STRING_ELT(nms, 28, mkChar("d1"));
  SET_STRING_ELT(nms, 29, mkChar("dB"));
  SET_STRING_ELT(nms, 30, mkChar("dCA"));
  SET_STRING_ELT(nms, 31, mkChar("dCM"));
  SET_STRING_ELT(nms, 32, mkChar("dE"));
  SET_STRING_ELT(nms, 33, mkChar("dEL"));
  SET_STRING_ELT(nms, 34, mkChar("delay_array_av_human"));
  SET_STRING_ELT(nms, 35, mkChar("delay_array_av_mosq"));
  SET_STRING_ELT(nms, 36, mkChar("delay_array_b"));
  SET_STRING_ELT(nms, 37, mkChar("delay_array_cA"));
  SET_STRING_ELT(nms, 38, mkChar("delay_array_EIR"));
  SET_STRING_ELT(nms, 39, mkChar("delay_array_FOI_lag"));
  SET_STRING_ELT(nms, 40, mkChar("delay_array_FOIvijk"));
  SET_STRING_ELT(nms, 41, mkChar("delay_array_p_det"));
  SET_STRING_ELT(nms, 42, mkChar("delay_array_w"));
  SET_STRING_ELT(nms, 43, mkChar("delay_array_w_"));
  SET_STRING_ELT(nms, 44, mkChar("delay_array_whi"));
  SET_STRING_ELT(nms, 45, mkChar("delay_array_yy"));
  SET_STRING_ELT(nms, 46, mkChar("delay_array_yy_"));
  SET_STRING_ELT(nms, 47, mkChar("delay_array_z"));
  SET_STRING_ELT(nms, 48, mkChar("delay_array_z_"));
  SET_STRING_ELT(nms, 49, mkChar("delay_array_zhi"));
  SET_STRING_ELT(nms, 50, mkChar("delay_index_FOI"));
  SET_STRING_ELT(nms, 51, mkChar("delay_index_FOIv"));
  SET_STRING_ELT(nms, 52, mkChar("delay_index_incv"));
  SET_STRING_ELT(nms, 53, mkChar("delay_state_FOI"));
  SET_STRING_ELT(nms, 54, mkChar("delay_state_FOIv"));
  SET_STRING_ELT(nms, 55, mkChar("delay_state_incv"));
  SET_STRING_ELT(nms, 56, mkChar("delayGam"));
  SET_STRING_ELT(nms, 57, mkChar("delayMos"));
  SET_STRING_ELT(nms, 58, mkChar("den"));
  SET_STRING_ELT(nms, 59, mkChar("derivS"));
  SET_STRING_ELT(nms, 60, mkChar("det_hut"));
  SET_STRING_ELT(nms, 61, mkChar("det_hut_a"));
  SET_STRING_ELT(nms, 62, mkChar("dID"));
  SET_STRING_ELT(nms, 63, mkChar("dim_A"));
  SET_STRING_ELT(nms, 64, mkChar("dim_A_1"));
  SET_STRING_ELT(nms, 65, mkChar("dim_A_12"));
  SET_STRING_ELT(nms, 66, mkChar("dim_A_2"));
  SET_STRING_ELT(nms, 67, mkChar("dim_A_3"));
  SET_STRING_ELT(nms, 68, mkChar("dim_age"));
  SET_STRING_ELT(nms, 69, mkChar("dim_age_rate"));
  SET_STRING_ELT(nms, 70, mkChar("dim_av_human"));
  SET_STRING_ELT(nms, 71, mkChar("dim_av_mosq"));
  SET_STRING_ELT(nms, 72, mkChar("dim_b"));
  SET_STRING_ELT(nms, 73, mkChar("dim_b_1"));
  SET_STRING_ELT(nms, 74, mkChar("dim_b_12"));
  SET_STRING_ELT(nms, 75, mkChar("dim_b_2"));
  SET_STRING_ELT(nms, 76, mkChar("dim_b_3"));
  SET_STRING_ELT(nms, 77, mkChar("dim_cA"));
  SET_STRING_ELT(nms, 78, mkChar("dim_cA_1"));
  SET_STRING_ELT(nms, 79, mkChar("dim_cA_12"));
  SET_STRING_ELT(nms, 80, mkChar("dim_cA_2"));
  SET_STRING_ELT(nms, 81, mkChar("dim_cA_3"));
  SET_STRING_ELT(nms, 82, mkChar("dim_clin_inc"));
  SET_STRING_ELT(nms, 83, mkChar("dim_clin_inc_1"));
  SET_STRING_ELT(nms, 84, mkChar("dim_clin_inc_12"));
  SET_STRING_ELT(nms, 85, mkChar("dim_clin_inc_2"));
  SET_STRING_ELT(nms, 86, mkChar("dim_clin_inc_3"));
  SET_STRING_ELT(nms, 87, mkChar("dim_clin_inc0to5"));
  SET_STRING_ELT(nms, 88, mkChar("dim_clin_inc0to5_1"));
  SET_STRING_ELT(nms, 89, mkChar("dim_clin_inc0to5_12"));
  SET_STRING_ELT(nms, 90, mkChar("dim_clin_inc0to5_2"));
  SET_STRING_ELT(nms, 91, mkChar("dim_clin_inc0to5_3"));
  SET_STRING_ELT(nms, 92, mkChar("dim_cov"));
  SET_STRING_ELT(nms, 93, mkChar("dim_cov_"));
  SET_STRING_ELT(nms, 94, mkChar("dim_D"));
  SET_STRING_ELT(nms, 95, mkChar("dim_D_1"));
  SET_STRING_ELT(nms, 96, mkChar("dim_D_12"));
  SET_STRING_ELT(nms, 97, mkChar("dim_D_2"));
  SET_STRING_ELT(nms, 98, mkChar("dim_D_3"));
  SET_STRING_ELT(nms, 99, mkChar("dim_delay_FOI"));
  SET_STRING_ELT(nms, 100, mkChar("dim_delay_FOIv"));
  SET_STRING_ELT(nms, 101, mkChar("dim_den"));
  SET_STRING_ELT(nms, 102, mkChar("dim_derivS"));
  SET_STRING_ELT(nms, 103, mkChar("dim_derivS_1"));
  SET_STRING_ELT(nms, 104, mkChar("dim_derivS_12"));
  SET_STRING_ELT(nms, 105, mkChar("dim_derivS_2"));
  SET_STRING_ELT(nms, 106, mkChar("dim_derivS_3"));
  SET_STRING_ELT(nms, 107, mkChar("dim_EIR"));
  SET_STRING_ELT(nms, 108, mkChar("dim_EIR_1"));
  SET_STRING_ELT(nms, 109, mkChar("dim_EIR_12"));
  SET_STRING_ELT(nms, 110, mkChar("dim_EIR_2"));
  SET_STRING_ELT(nms, 111, mkChar("dim_EIR_3"));
  SET_STRING_ELT(nms, 112, mkChar("dim_fd"));
  SET_STRING_ELT(nms, 113, mkChar("dim_FOI"));
  SET_STRING_ELT(nms, 114, mkChar("dim_FOI_1"));
  SET_STRING_ELT(nms, 115, mkChar("dim_FOI_12"));
  SET_STRING_ELT(nms, 116, mkChar("dim_FOI_2"));
  SET_STRING_ELT(nms, 117, mkChar("dim_FOI_3"));
  SET_STRING_ELT(nms, 118, mkChar("dim_foi_age"));
  SET_STRING_ELT(nms, 119, mkChar("dim_FOI_lag"));
  SET_STRING_ELT(nms, 120, mkChar("dim_FOI_lag_1"));
  SET_STRING_ELT(nms, 121, mkChar("dim_FOI_lag_12"));
  SET_STRING_ELT(nms, 122, mkChar("dim_FOI_lag_2"));
  SET_STRING_ELT(nms, 123, mkChar("dim_FOI_lag_3"));
  SET_STRING_ELT(nms, 124, mkChar("dim_FOIvijk"));
  SET_STRING_ELT(nms, 125, mkChar("dim_FOIvijk_1"));
  SET_STRING_ELT(nms, 126, mkChar("dim_FOIvijk_12"));
  SET_STRING_ELT(nms, 127, mkChar("dim_FOIvijk_2"));
  SET_STRING_ELT(nms, 128, mkChar("dim_FOIvijk_3"));
  SET_STRING_ELT(nms, 129, mkChar("dim_het_wt"));
  SET_STRING_ELT(nms, 130, mkChar("dim_IB"));
  SET_STRING_ELT(nms, 131, mkChar("dim_IB_1"));
  SET_STRING_ELT(nms, 132, mkChar("dim_IB_12"));
  SET_STRING_ELT(nms, 133, mkChar("dim_IB_2"));
  SET_STRING_ELT(nms, 134, mkChar("dim_IB_3"));
  SET_STRING_ELT(nms, 135, mkChar("dim_IC"));
  SET_STRING_ELT(nms, 136, mkChar("dim_IC_1"));
  SET_STRING_ELT(nms, 137, mkChar("dim_IC_12"));
  SET_STRING_ELT(nms, 138, mkChar("dim_IC_2"));
  SET_STRING_ELT(nms, 139, mkChar("dim_IC_3"));
  SET_STRING_ELT(nms, 140, mkChar("dim_ICA"));
  SET_STRING_ELT(nms, 141, mkChar("dim_ICA_1"));
  SET_STRING_ELT(nms, 142, mkChar("dim_ICA_12"));
  SET_STRING_ELT(nms, 143, mkChar("dim_ICA_2"));
  SET_STRING_ELT(nms, 144, mkChar("dim_ICA_3"));
  SET_STRING_ELT(nms, 145, mkChar("dim_ICM"));
  SET_STRING_ELT(nms, 146, mkChar("dim_ICM_1"));
  SET_STRING_ELT(nms, 147, mkChar("dim_ICM_12"));
  SET_STRING_ELT(nms, 148, mkChar("dim_ICM_2"));
  SET_STRING_ELT(nms, 149, mkChar("dim_ICM_3"));
  SET_STRING_ELT(nms, 150, mkChar("dim_ID"));
  SET_STRING_ELT(nms, 151, mkChar("dim_ID_1"));
  SET_STRING_ELT(nms, 152, mkChar("dim_ID_12"));
  SET_STRING_ELT(nms, 153, mkChar("dim_ID_2"));
  SET_STRING_ELT(nms, 154, mkChar("dim_ID_3"));
  SET_STRING_ELT(nms, 155, mkChar("dim_init_A"));
  SET_STRING_ELT(nms, 156, mkChar("dim_init_A_1"));
  SET_STRING_ELT(nms, 157, mkChar("dim_init_A_12"));
  SET_STRING_ELT(nms, 158, mkChar("dim_init_A_2"));
  SET_STRING_ELT(nms, 159, mkChar("dim_init_A_3"));
  SET_STRING_ELT(nms, 160, mkChar("dim_init_D"));
  SET_STRING_ELT(nms, 161, mkChar("dim_init_D_1"));
  SET_STRING_ELT(nms, 162, mkChar("dim_init_D_12"));
  SET_STRING_ELT(nms, 163, mkChar("dim_init_D_2"));
  SET_STRING_ELT(nms, 164, mkChar("dim_init_D_3"));
  SET_STRING_ELT(nms, 165, mkChar("dim_init_IB"));
  SET_STRING_ELT(nms, 166, mkChar("dim_init_IB_1"));
  SET_STRING_ELT(nms, 167, mkChar("dim_init_IB_12"));
  SET_STRING_ELT(nms, 168, mkChar("dim_init_IB_2"));
  SET_STRING_ELT(nms, 169, mkChar("dim_init_IB_3"));
  SET_STRING_ELT(nms, 170, mkChar("dim_init_ICA"));
  SET_STRING_ELT(nms, 171, mkChar("dim_init_ICA_1"));
  SET_STRING_ELT(nms, 172, mkChar("dim_init_ICA_12"));
  SET_STRING_ELT(nms, 173, mkChar("dim_init_ICA_2"));
  SET_STRING_ELT(nms, 174, mkChar("dim_init_ICA_3"));
  SET_STRING_ELT(nms, 175, mkChar("dim_init_ICM"));
  SET_STRING_ELT(nms, 176, mkChar("dim_init_ICM_1"));
  SET_STRING_ELT(nms, 177, mkChar("dim_init_ICM_12"));
  SET_STRING_ELT(nms, 178, mkChar("dim_init_ICM_2"));
  SET_STRING_ELT(nms, 179, mkChar("dim_init_ICM_3"));
  SET_STRING_ELT(nms, 180, mkChar("dim_init_ICM_pre"));
  SET_STRING_ELT(nms, 181, mkChar("dim_init_ICM_pre_1"));
  SET_STRING_ELT(nms, 182, mkChar("dim_init_ICM_pre_2"));
  SET_STRING_ELT(nms, 183, mkChar("dim_init_ID"));
  SET_STRING_ELT(nms, 184, mkChar("dim_init_ID_1"));
  SET_STRING_ELT(nms, 185, mkChar("dim_init_ID_12"));
  SET_STRING_ELT(nms, 186, mkChar("dim_init_ID_2"));
  SET_STRING_ELT(nms, 187, mkChar("dim_init_ID_3"));
  SET_STRING_ELT(nms, 188, mkChar("dim_init_P"));
  SET_STRING_ELT(nms, 189, mkChar("dim_init_P_1"));
  SET_STRING_ELT(nms, 190, mkChar("dim_init_P_12"));
  SET_STRING_ELT(nms, 191, mkChar("dim_init_P_2"));
  SET_STRING_ELT(nms, 192, mkChar("dim_init_P_3"));
  SET_STRING_ELT(nms, 193, mkChar("dim_init_S"));
  SET_STRING_ELT(nms, 194, mkChar("dim_init_S_1"));
  SET_STRING_ELT(nms, 195, mkChar("dim_init_S_12"));
  SET_STRING_ELT(nms, 196, mkChar("dim_init_S_2"));
  SET_STRING_ELT(nms, 197, mkChar("dim_init_S_3"));
  SET_STRING_ELT(nms, 198, mkChar("dim_init_T"));
  SET_STRING_ELT(nms, 199, mkChar("dim_init_T_1"));
  SET_STRING_ELT(nms, 200, mkChar("dim_init_T_12"));
  SET_STRING_ELT(nms, 201, mkChar("dim_init_T_2"));
  SET_STRING_ELT(nms, 202, mkChar("dim_init_T_3"));
  SET_STRING_ELT(nms, 203, mkChar("dim_init_U"));
  SET_STRING_ELT(nms, 204, mkChar("dim_init_U_1"));
  SET_STRING_ELT(nms, 205, mkChar("dim_init_U_12"));
  SET_STRING_ELT(nms, 206, mkChar("dim_init_U_2"));
  SET_STRING_ELT(nms, 207, mkChar("dim_init_U_3"));
  SET_STRING_ELT(nms, 208, mkChar("dim_P"));
  SET_STRING_ELT(nms, 209, mkChar("dim_P_1"));
  SET_STRING_ELT(nms, 210, mkChar("dim_P_12"));
  SET_STRING_ELT(nms, 211, mkChar("dim_P_2"));
  SET_STRING_ELT(nms, 212, mkChar("dim_P_3"));
  SET_STRING_ELT(nms, 213, mkChar("dim_p_det"));
  SET_STRING_ELT(nms, 214, mkChar("dim_p_det_1"));
  SET_STRING_ELT(nms, 215, mkChar("dim_p_det_12"));
  SET_STRING_ELT(nms, 216, mkChar("dim_p_det_2"));
  SET_STRING_ELT(nms, 217, mkChar("dim_p_det_3"));
  SET_STRING_ELT(nms, 218, mkChar("dim_phi"));
  SET_STRING_ELT(nms, 219, mkChar("dim_phi_1"));
  SET_STRING_ELT(nms, 220, mkChar("dim_phi_12"));
  SET_STRING_ELT(nms, 221, mkChar("dim_phi_2"));
  SET_STRING_ELT(nms, 222, mkChar("dim_phi_3"));
  SET_STRING_ELT(nms, 223, mkChar("dim_prev0to59"));
  SET_STRING_ELT(nms, 224, mkChar("dim_prev0to59_1"));
  SET_STRING_ELT(nms, 225, mkChar("dim_prev0to59_12"));
  SET_STRING_ELT(nms, 226, mkChar("dim_prev0to59_2"));
  SET_STRING_ELT(nms, 227, mkChar("dim_prev0to59_3"));
  SET_STRING_ELT(nms, 228, mkChar("dim_prevall"));
  SET_STRING_ELT(nms, 229, mkChar("dim_prevall_1"));
  SET_STRING_ELT(nms, 230, mkChar("dim_prevall_12"));
  SET_STRING_ELT(nms, 231, mkChar("dim_prevall_2"));
  SET_STRING_ELT(nms, 232, mkChar("dim_prevall_3"));
  SET_STRING_ELT(nms, 233, mkChar("dim_rel_foi"));
  SET_STRING_ELT(nms, 234, mkChar("dim_S"));
  SET_STRING_ELT(nms, 235, mkChar("dim_S_1"));
  SET_STRING_ELT(nms, 236, mkChar("dim_S_12"));
  SET_STRING_ELT(nms, 237, mkChar("dim_S_2"));
  SET_STRING_ELT(nms, 238, mkChar("dim_S_3"));
  SET_STRING_ELT(nms, 239, mkChar("dim_T"));
  SET_STRING_ELT(nms, 240, mkChar("dim_T_1"));
  SET_STRING_ELT(nms, 241, mkChar("dim_T_12"));
  SET_STRING_ELT(nms, 242, mkChar("dim_T_2"));
  SET_STRING_ELT(nms, 243, mkChar("dim_T_3"));
  SET_STRING_ELT(nms, 244, mkChar("dim_U"));
  SET_STRING_ELT(nms, 245, mkChar("dim_U_1"));
  SET_STRING_ELT(nms, 246, mkChar("dim_U_12"));
  SET_STRING_ELT(nms, 247, mkChar("dim_U_2"));
  SET_STRING_ELT(nms, 248, mkChar("dim_U_3"));
  SET_STRING_ELT(nms, 249, mkChar("dim_w"));
  SET_STRING_ELT(nms, 250, mkChar("dim_w_"));
  SET_STRING_ELT(nms, 251, mkChar("dim_whi"));
  SET_STRING_ELT(nms, 252, mkChar("dim_x_I"));
  SET_STRING_ELT(nms, 253, mkChar("dim_Y"));
  SET_STRING_ELT(nms, 254, mkChar("dim_Y_1"));
  SET_STRING_ELT(nms, 255, mkChar("dim_Y_12"));
  SET_STRING_ELT(nms, 256, mkChar("dim_Y_2"));
  SET_STRING_ELT(nms, 257, mkChar("dim_Y_3"));
  SET_STRING_ELT(nms, 258, mkChar("dim_yy"));
  SET_STRING_ELT(nms, 259, mkChar("dim_yy_"));
  SET_STRING_ELT(nms, 260, mkChar("dim_z"));
  SET_STRING_ELT(nms, 261, mkChar("dim_z_"));
  SET_STRING_ELT(nms, 262, mkChar("dim_zhi"));
  SET_STRING_ELT(nms, 263, mkChar("dLL"));
  SET_STRING_ELT(nms, 264, mkChar("dPL"));
  SET_STRING_ELT(nms, 265, mkChar("EIR"));
  SET_STRING_ELT(nms, 266, mkChar("em_cov"));
  SET_STRING_ELT(nms, 267, mkChar("EM_interval"));
  SET_STRING_ELT(nms, 268, mkChar("em_loss"));
  SET_STRING_ELT(nms, 269, mkChar("EM_on"));
  SET_STRING_ELT(nms, 270, mkChar("eta"));
  SET_STRING_ELT(nms, 271, mkChar("fd"));
  SET_STRING_ELT(nms, 272, mkChar("fD0"));
  SET_STRING_ELT(nms, 273, mkChar("FOI"));
  SET_STRING_ELT(nms, 274, mkChar("foi_age"));
  SET_STRING_ELT(nms, 275, mkChar("FOI_lag"));
  SET_STRING_ELT(nms, 276, mkChar("FOIvijk"));
  SET_STRING_ELT(nms, 277, mkChar("ft"));
  SET_STRING_ELT(nms, 278, mkChar("gamma1"));
  SET_STRING_ELT(nms, 279, mkChar("gammaD"));
  SET_STRING_ELT(nms, 280, mkChar("gammaL"));
  SET_STRING_ELT(nms, 281, mkChar("het_wt"));
  SET_STRING_ELT(nms, 282, mkChar("hut_max"));
  SET_STRING_ELT(nms, 283, mkChar("hut_max_a"));
  SET_STRING_ELT(nms, 284, mkChar("IB0"));
  SET_STRING_ELT(nms, 285, mkChar("IC"));
  SET_STRING_ELT(nms, 286, mkChar("IC0"));
  SET_STRING_ELT(nms, 287, mkChar("ID0"));
  SET_STRING_ELT(nms, 288, mkChar("init_A"));
  SET_STRING_ELT(nms, 289, mkChar("init_D"));
  SET_STRING_ELT(nms, 290, mkChar("init_EL"));
  SET_STRING_ELT(nms, 291, mkChar("init_Ev"));
  SET_STRING_ELT(nms, 292, mkChar("init_IB"));
  SET_STRING_ELT(nms, 293, mkChar("init_ICA"));
  SET_STRING_ELT(nms, 294, mkChar("init_ICM"));
  SET_STRING_ELT(nms, 295, mkChar("init_ICM_pre"));
  SET_STRING_ELT(nms, 296, mkChar("init_ID"));
  SET_STRING_ELT(nms, 297, mkChar("init_Iv"));
  SET_STRING_ELT(nms, 298, mkChar("init_LL"));
  SET_STRING_ELT(nms, 299, mkChar("init_P"));
  SET_STRING_ELT(nms, 300, mkChar("init_PL"));
  SET_STRING_ELT(nms, 301, mkChar("init_S"));
  SET_STRING_ELT(nms, 302, mkChar("init_Sv"));
  SET_STRING_ELT(nms, 303, mkChar("init_T"));
  SET_STRING_ELT(nms, 304, mkChar("init_U"));
  SET_STRING_ELT(nms, 305, mkChar("initial_A"));
  SET_STRING_ELT(nms, 306, mkChar("initial_D"));
  SET_STRING_ELT(nms, 307, mkChar("initial_EL"));
  SET_STRING_ELT(nms, 308, mkChar("initial_Ev"));
  SET_STRING_ELT(nms, 309, mkChar("initial_IB"));
  SET_STRING_ELT(nms, 310, mkChar("initial_ICA"));
  SET_STRING_ELT(nms, 311, mkChar("initial_ICM"));
  SET_STRING_ELT(nms, 312, mkChar("initial_ID"));
  SET_STRING_ELT(nms, 313, mkChar("initial_Iv"));
  SET_STRING_ELT(nms, 314, mkChar("initial_LL"));
  SET_STRING_ELT(nms, 315, mkChar("initial_P"));
  SET_STRING_ELT(nms, 316, mkChar("initial_PL"));
  SET_STRING_ELT(nms, 317, mkChar("initial_S"));
  SET_STRING_ELT(nms, 318, mkChar("initial_Sv"));
  SET_STRING_ELT(nms, 319, mkChar("initial_t"));
  SET_STRING_ELT(nms, 320, mkChar("initial_T"));
  SET_STRING_ELT(nms, 321, mkChar("initial_U"));
  SET_STRING_ELT(nms, 322, mkChar("itn_cov"));
  SET_STRING_ELT(nms, 323, mkChar("itn_half_life"));
  SET_STRING_ELT(nms, 324, mkChar("ITN_interval"));
  SET_STRING_ELT(nms, 325, mkChar("itn_loss"));
  SET_STRING_ELT(nms, 326, mkChar("ITN_on"));
  SET_STRING_ELT(nms, 327, mkChar("jp1"));
  SET_STRING_ELT(nms, 328, mkChar("kB"));
  SET_STRING_ELT(nms, 329, mkChar("kC"));
  SET_STRING_ELT(nms, 330, mkChar("kD"));
  SET_STRING_ELT(nms, 331, mkChar("kp1"));
  SET_STRING_ELT(nms, 332, mkChar("lp1"));
  SET_STRING_ELT(nms, 333, mkChar("mort_assay"));
  SET_STRING_ELT(nms, 334, mkChar("mort_hut"));
  SET_STRING_ELT(nms, 335, mkChar("mort_hut_a"));
  SET_STRING_ELT(nms, 336, mkChar("mu0"));
  SET_STRING_ELT(nms, 337, mkChar("muEL"));
  SET_STRING_ELT(nms, 338, mkChar("muLL"));
  SET_STRING_ELT(nms, 339, mkChar("muPL"));
  SET_STRING_ELT(nms, 340, mkChar("mv0"));
  SET_STRING_ELT(nms, 341, mkChar("my_max_washes"));
  SET_STRING_ELT(nms, 342, mkChar("my_max_washes_a"));
  SET_STRING_ELT(nms, 343, mkChar("n1n0"));
  SET_STRING_ELT(nms, 344, mkChar("na"));
  SET_STRING_ELT(nms, 345, mkChar("nh"));
  SET_STRING_ELT(nms, 346, mkChar("num_int"));
  SET_STRING_ELT(nms, 347, mkChar("offset_FOIv_A"));
  SET_STRING_ELT(nms, 348, mkChar("offset_FOIv_ID"));
  SET_STRING_ELT(nms, 349, mkChar("offset_FOIv_U"));
  SET_STRING_ELT(nms, 350, mkChar("offset_output_av_mosq"));
  SET_STRING_ELT(nms, 351, mkChar("offset_output_cov"));
  SET_STRING_ELT(nms, 352, mkChar("offset_output_derivS"));
  SET_STRING_ELT(nms, 353, mkChar("offset_output_zhi"));
  SET_STRING_ELT(nms, 354, mkChar("offset_variable_A"));
  SET_STRING_ELT(nms, 355, mkChar("offset_variable_D"));
  SET_STRING_ELT(nms, 356, mkChar("offset_variable_IB"));
  SET_STRING_ELT(nms, 357, mkChar("offset_variable_ICA"));
  SET_STRING_ELT(nms, 358, mkChar("offset_variable_ICM"));
  SET_STRING_ELT(nms, 359, mkChar("offset_variable_ID"));
  SET_STRING_ELT(nms, 360, mkChar("offset_variable_P"));
  SET_STRING_ELT(nms, 361, mkChar("offset_variable_T"));
  SET_STRING_ELT(nms, 362, mkChar("offset_variable_U"));
  SET_STRING_ELT(nms, 363, mkChar("omega"));
  SET_STRING_ELT(nms, 364, mkChar("p_det"));
  SET_STRING_ELT(nms, 365, mkChar("p10"));
  SET_STRING_ELT(nms, 366, mkChar("p2"));
  SET_STRING_ELT(nms, 367, mkChar("phi"));
  SET_STRING_ELT(nms, 368, mkChar("phi0"));
  SET_STRING_ELT(nms, 369, mkChar("phi1"));
  SET_STRING_ELT(nms, 370, mkChar("pi"));
  SET_STRING_ELT(nms, 371, mkChar("PM"));
  SET_STRING_ELT(nms, 372, mkChar("prev0to59"));
  SET_STRING_ELT(nms, 373, mkChar("prevall"));
  SET_STRING_ELT(nms, 374, mkChar("Q0"));
  SET_STRING_ELT(nms, 375, mkChar("r_EM0"));
  SET_STRING_ELT(nms, 376, mkChar("r_ITN_min"));
  SET_STRING_ELT(nms, 377, mkChar("r_ITN0"));
  SET_STRING_ELT(nms, 378, mkChar("rA"));
  SET_STRING_ELT(nms, 379, mkChar("rD"));
  SET_STRING_ELT(nms, 380, mkChar("rel_foi"));
  SET_STRING_ELT(nms, 381, mkChar("rep_hut"));
  SET_STRING_ELT(nms, 382, mkChar("rP"));
  SET_STRING_ELT(nms, 383, mkChar("rT"));
  SET_STRING_ELT(nms, 384, mkChar("rU"));
  SET_STRING_ELT(nms, 385, mkChar("ssa0"));
  SET_STRING_ELT(nms, 386, mkChar("ssa1"));
  SET_STRING_ELT(nms, 387, mkChar("ssa2"));
  SET_STRING_ELT(nms, 388, mkChar("ssa3"));
  SET_STRING_ELT(nms, 389, mkChar("ssb1"));
  SET_STRING_ELT(nms, 390, mkChar("ssb2"));
  SET_STRING_ELT(nms, 391, mkChar("ssb3"));
  SET_STRING_ELT(nms, 392, mkChar("suc_hut"));
  SET_STRING_ELT(nms, 393, mkChar("surv_bioassay"));
  SET_STRING_ELT(nms, 394, mkChar("tau1"));
  SET_STRING_ELT(nms, 395, mkChar("tau2"));
  SET_STRING_ELT(nms, 396, mkChar("theta_c"));
  SET_STRING_ELT(nms, 397, mkChar("uB"));
  SET_STRING_ELT(nms, 398, mkChar("uCA"));
  SET_STRING_ELT(nms, 399, mkChar("uD"));
  SET_STRING_ELT(nms, 400, mkChar("w"));
  SET_STRING_ELT(nms, 401, mkChar("w_"));
  SET_STRING_ELT(nms, 402, mkChar("wash_decay_rate"));
  SET_STRING_ELT(nms, 403, mkChar("wash_decay_rate_a"));
  SET_STRING_ELT(nms, 404, mkChar("whi"));
  SET_STRING_ELT(nms, 405, mkChar("x_I"));
  SET_STRING_ELT(nms, 406, mkChar("Y"));
  SET_STRING_ELT(nms, 407, mkChar("yy"));
  SET_STRING_ELT(nms, 408, mkChar("yy_"));
  SET_STRING_ELT(nms, 409, mkChar("z"));
  SET_STRING_ELT(nms, 410, mkChar("z_"));
  SET_STRING_ELT(nms, 411, mkChar("zhi"));
  SET_STRING_ELT(nms, 412, mkChar("odin_model_emanators_use_dde"));
  setAttrib(contents, R_NamesSymbol, nms);
  UNPROTECT(80);
  return contents;
}
SEXP odin_model_emanators_set_user(SEXP internal_p, SEXP user) {
  odin_model_emanators_internal *internal = odin_model_emanators_get_internal(internal_p, 1);
  internal->aD = user_get_scalar_double(user, "aD", internal->aD, NA_REAL, NA_REAL);
  internal->age_20_factor = user_get_scalar_double(user, "age_20_factor", internal->age_20_factor, NA_REAL, NA_REAL);
  internal->age05 = user_get_scalar_int(user, "age05", internal->age05, NA_REAL, NA_REAL);
  internal->age20l = user_get_scalar_int(user, "age20l", internal->age20l, NA_REAL, NA_REAL);
  internal->age20u = user_get_scalar_int(user, "age20u", internal->age20u, NA_REAL, NA_REAL);
  internal->age59 = user_get_scalar_int(user, "age59", internal->age59, NA_REAL, NA_REAL);
  internal->b0 = user_get_scalar_double(user, "b0", internal->b0, NA_REAL, NA_REAL);
  internal->b1 = user_get_scalar_double(user, "b1", internal->b1, NA_REAL, NA_REAL);
  internal->betaL = user_get_scalar_double(user, "betaL", internal->betaL, NA_REAL, NA_REAL);
  internal->bites_Bed = user_get_scalar_double(user, "bites_Bed", internal->bites_Bed, NA_REAL, NA_REAL);
  internal->bites_Indoors = user_get_scalar_double(user, "bites_Indoors", internal->bites_Indoors, NA_REAL, NA_REAL);
  internal->cD = user_get_scalar_double(user, "cD", internal->cD, NA_REAL, NA_REAL);
  internal->cT = user_get_scalar_double(user, "cT", internal->cT, NA_REAL, NA_REAL);
  internal->cU = user_get_scalar_double(user, "cU", internal->cU, NA_REAL, NA_REAL);
  internal->d_EM0 = user_get_scalar_double(user, "d_EM0", internal->d_EM0, NA_REAL, NA_REAL);
  internal->d1 = user_get_scalar_double(user, "d1", internal->d1, NA_REAL, NA_REAL);
  internal->dB = user_get_scalar_double(user, "dB", internal->dB, NA_REAL, NA_REAL);
  internal->dCA = user_get_scalar_double(user, "dCA", internal->dCA, NA_REAL, NA_REAL);
  internal->dCM = user_get_scalar_double(user, "dCM", internal->dCM, NA_REAL, NA_REAL);
  internal->dE = user_get_scalar_double(user, "dE", internal->dE, NA_REAL, NA_REAL);
  internal->dEL = user_get_scalar_double(user, "dEL", internal->dEL, NA_REAL, NA_REAL);
  internal->delayGam = user_get_scalar_double(user, "delayGam", internal->delayGam, NA_REAL, NA_REAL);
  internal->delayMos = user_get_scalar_double(user, "delayMos", internal->delayMos, NA_REAL, NA_REAL);
  internal->dID = user_get_scalar_double(user, "dID", internal->dID, NA_REAL, NA_REAL);
  internal->dLL = user_get_scalar_double(user, "dLL", internal->dLL, NA_REAL, NA_REAL);
  internal->dPL = user_get_scalar_double(user, "dPL", internal->dPL, NA_REAL, NA_REAL);
  internal->em_cov = user_get_scalar_double(user, "em_cov", internal->em_cov, NA_REAL, NA_REAL);
  internal->EM_interval = user_get_scalar_double(user, "EM_interval", internal->EM_interval, NA_REAL, NA_REAL);
  internal->em_loss = user_get_scalar_double(user, "em_loss", internal->em_loss, NA_REAL, NA_REAL);
  internal->EM_on = user_get_scalar_double(user, "EM_on", internal->EM_on, NA_REAL, NA_REAL);
  internal->eta = user_get_scalar_double(user, "eta", internal->eta, NA_REAL, NA_REAL);
  internal->fD0 = user_get_scalar_double(user, "fD0", internal->fD0, NA_REAL, NA_REAL);
  internal->ft = user_get_scalar_double(user, "ft", internal->ft, NA_REAL, NA_REAL);
  internal->gamma1 = user_get_scalar_double(user, "gamma1", internal->gamma1, NA_REAL, NA_REAL);
  internal->gammaD = user_get_scalar_double(user, "gammaD", internal->gammaD, NA_REAL, NA_REAL);
  internal->gammaL = user_get_scalar_double(user, "gammaL", internal->gammaL, NA_REAL, NA_REAL);
  internal->IB0 = user_get_scalar_double(user, "IB0", internal->IB0, NA_REAL, NA_REAL);
  internal->IC0 = user_get_scalar_double(user, "IC0", internal->IC0, NA_REAL, NA_REAL);
  internal->ID0 = user_get_scalar_double(user, "ID0", internal->ID0, NA_REAL, NA_REAL);
  internal->init_EL = user_get_scalar_double(user, "init_EL", internal->init_EL, NA_REAL, NA_REAL);
  internal->init_Ev = user_get_scalar_double(user, "init_Ev", internal->init_Ev, NA_REAL, NA_REAL);
  internal->init_Iv = user_get_scalar_double(user, "init_Iv", internal->init_Iv, NA_REAL, NA_REAL);
  internal->init_LL = user_get_scalar_double(user, "init_LL", internal->init_LL, NA_REAL, NA_REAL);
  internal->init_PL = user_get_scalar_double(user, "init_PL", internal->init_PL, NA_REAL, NA_REAL);
  internal->init_Sv = user_get_scalar_double(user, "init_Sv", internal->init_Sv, NA_REAL, NA_REAL);
  internal->itn_cov = user_get_scalar_double(user, "itn_cov", internal->itn_cov, NA_REAL, NA_REAL);
  internal->ITN_interval = user_get_scalar_double(user, "ITN_interval", internal->ITN_interval, NA_REAL, NA_REAL);
  internal->ITN_on = user_get_scalar_double(user, "ITN_on", internal->ITN_on, NA_REAL, NA_REAL);
  internal->kB = user_get_scalar_double(user, "kB", internal->kB, NA_REAL, NA_REAL);
  internal->kC = user_get_scalar_double(user, "kC", internal->kC, NA_REAL, NA_REAL);
  internal->kD = user_get_scalar_double(user, "kD", internal->kD, NA_REAL, NA_REAL);
  internal->mu0 = user_get_scalar_double(user, "mu0", internal->mu0, NA_REAL, NA_REAL);
  internal->muEL = user_get_scalar_double(user, "muEL", internal->muEL, NA_REAL, NA_REAL);
  internal->muLL = user_get_scalar_double(user, "muLL", internal->muLL, NA_REAL, NA_REAL);
  internal->muPL = user_get_scalar_double(user, "muPL", internal->muPL, NA_REAL, NA_REAL);
  internal->mv0 = user_get_scalar_double(user, "mv0", internal->mv0, NA_REAL, NA_REAL);
  internal->na = user_get_scalar_int(user, "na", internal->na, NA_REAL, NA_REAL);
  internal->nh = user_get_scalar_int(user, "nh", internal->nh, NA_REAL, NA_REAL);
  internal->omega = user_get_scalar_double(user, "omega", internal->omega, NA_REAL, NA_REAL);
  internal->p10 = user_get_scalar_double(user, "p10", internal->p10, NA_REAL, NA_REAL);
  internal->p2 = user_get_scalar_double(user, "p2", internal->p2, NA_REAL, NA_REAL);
  internal->phi0 = user_get_scalar_double(user, "phi0", internal->phi0, NA_REAL, NA_REAL);
  internal->phi1 = user_get_scalar_double(user, "phi1", internal->phi1, NA_REAL, NA_REAL);
  internal->pi = user_get_scalar_double(user, "pi", internal->pi, NA_REAL, NA_REAL);
  internal->PM = user_get_scalar_double(user, "PM", internal->PM, NA_REAL, NA_REAL);
  internal->Q0 = user_get_scalar_double(user, "Q0", internal->Q0, NA_REAL, NA_REAL);
  internal->r_EM0 = user_get_scalar_double(user, "r_EM0", internal->r_EM0, NA_REAL, NA_REAL);
  internal->rA = user_get_scalar_double(user, "rA", internal->rA, NA_REAL, NA_REAL);
  internal->rD = user_get_scalar_double(user, "rD", internal->rD, NA_REAL, NA_REAL);
  internal->rP = user_get_scalar_double(user, "rP", internal->rP, NA_REAL, NA_REAL);
  internal->rT = user_get_scalar_double(user, "rT", internal->rT, NA_REAL, NA_REAL);
  internal->rU = user_get_scalar_double(user, "rU", internal->rU, NA_REAL, NA_REAL);
  internal->ssa0 = user_get_scalar_double(user, "ssa0", internal->ssa0, NA_REAL, NA_REAL);
  internal->ssa1 = user_get_scalar_double(user, "ssa1", internal->ssa1, NA_REAL, NA_REAL);
  internal->ssa2 = user_get_scalar_double(user, "ssa2", internal->ssa2, NA_REAL, NA_REAL);
  internal->ssa3 = user_get_scalar_double(user, "ssa3", internal->ssa3, NA_REAL, NA_REAL);
  internal->ssb1 = user_get_scalar_double(user, "ssb1", internal->ssb1, NA_REAL, NA_REAL);
  internal->ssb2 = user_get_scalar_double(user, "ssb2", internal->ssb2, NA_REAL, NA_REAL);
  internal->ssb3 = user_get_scalar_double(user, "ssb3", internal->ssb3, NA_REAL, NA_REAL);
  internal->surv_bioassay = user_get_scalar_double(user, "surv_bioassay", internal->surv_bioassay, NA_REAL, NA_REAL);
  internal->tau1 = user_get_scalar_double(user, "tau1", internal->tau1, NA_REAL, NA_REAL);
  internal->tau2 = user_get_scalar_double(user, "tau2", internal->tau2, NA_REAL, NA_REAL);
  internal->theta_c = user_get_scalar_double(user, "theta_c", internal->theta_c, NA_REAL, NA_REAL);
  internal->uB = user_get_scalar_double(user, "uB", internal->uB, NA_REAL, NA_REAL);
  internal->uCA = user_get_scalar_double(user, "uCA", internal->uCA, NA_REAL, NA_REAL);
  internal->uD = user_get_scalar_double(user, "uD", internal->uD, NA_REAL, NA_REAL);
  internal->b_lambda = (internal->gammaL * internal->muLL / (double) internal->muEL - internal->dEL / (double) internal->dLL + (internal->gammaL - 1) * internal->muLL * internal->dEL);
  internal->bites_Emanator = 1 - internal->bites_Indoors;
  internal->dim_A_1 = internal->na;
  internal->dim_A_2 = internal->nh;
  internal->dim_A_3 = internal->num_int;
  internal->dim_age = internal->na;
  internal->dim_age_rate = internal->na;
  internal->dim_b_1 = internal->na;
  internal->dim_b_2 = internal->nh;
  internal->dim_b_3 = internal->num_int;
  internal->dim_cA_1 = internal->na;
  internal->dim_cA_2 = internal->nh;
  internal->dim_cA_3 = internal->num_int;
  internal->dim_clin_inc_1 = internal->na;
  internal->dim_clin_inc_2 = internal->nh;
  internal->dim_clin_inc_3 = internal->num_int;
  internal->dim_clin_inc0to5_1 = internal->age05;
  internal->dim_clin_inc0to5_2 = internal->nh;
  internal->dim_clin_inc0to5_3 = internal->num_int;
  internal->dim_D_1 = internal->na;
  internal->dim_D_2 = internal->nh;
  internal->dim_D_3 = internal->num_int;
  internal->dim_den = internal->na;
  internal->dim_derivS_1 = internal->na;
  internal->dim_derivS_2 = internal->nh;
  internal->dim_derivS_3 = internal->num_int;
  internal->dim_EIR_1 = internal->na;
  internal->dim_EIR_2 = internal->nh;
  internal->dim_EIR_3 = internal->num_int;
  internal->dim_fd = internal->na;
  internal->dim_FOI_1 = internal->na;
  internal->dim_FOI_2 = internal->nh;
  internal->dim_FOI_3 = internal->num_int;
  internal->dim_foi_age = internal->na;
  internal->dim_FOI_lag_1 = internal->na;
  internal->dim_FOI_lag_2 = internal->nh;
  internal->dim_FOI_lag_3 = internal->num_int;
  internal->dim_FOIvijk_1 = internal->na;
  internal->dim_FOIvijk_2 = internal->nh;
  internal->dim_FOIvijk_3 = internal->num_int;
  internal->dim_het_wt = internal->nh;
  internal->dim_IB_1 = internal->na;
  internal->dim_IB_2 = internal->nh;
  internal->dim_IB_3 = internal->num_int;
  internal->dim_IC_1 = internal->na;
  internal->dim_IC_2 = internal->nh;
  internal->dim_IC_3 = internal->num_int;
  internal->dim_ICA_1 = internal->na;
  internal->dim_ICA_2 = internal->nh;
  internal->dim_ICA_3 = internal->num_int;
  internal->dim_ICM_1 = internal->na;
  internal->dim_ICM_2 = internal->nh;
  internal->dim_ICM_3 = internal->num_int;
  internal->dim_ID_1 = internal->na;
  internal->dim_ID_2 = internal->nh;
  internal->dim_ID_3 = internal->num_int;
  internal->dim_init_A_1 = internal->na;
  internal->dim_init_A_2 = internal->nh;
  internal->dim_init_A_3 = internal->num_int;
  internal->dim_init_D_1 = internal->na;
  internal->dim_init_D_2 = internal->nh;
  internal->dim_init_D_3 = internal->num_int;
  internal->dim_init_IB_1 = internal->na;
  internal->dim_init_IB_2 = internal->nh;
  internal->dim_init_IB_3 = internal->num_int;
  internal->dim_init_ICA_1 = internal->na;
  internal->dim_init_ICA_2 = internal->nh;
  internal->dim_init_ICA_3 = internal->num_int;
  internal->dim_init_ICM_1 = internal->na;
  internal->dim_init_ICM_2 = internal->nh;
  internal->dim_init_ICM_3 = internal->num_int;
  internal->dim_init_ICM_pre_1 = internal->nh;
  internal->dim_init_ICM_pre_2 = internal->num_int;
  internal->dim_init_ID_1 = internal->na;
  internal->dim_init_ID_2 = internal->nh;
  internal->dim_init_ID_3 = internal->num_int;
  internal->dim_init_P_1 = internal->na;
  internal->dim_init_P_2 = internal->nh;
  internal->dim_init_P_3 = internal->num_int;
  internal->dim_init_S_1 = internal->na;
  internal->dim_init_S_2 = internal->nh;
  internal->dim_init_S_3 = internal->num_int;
  internal->dim_init_T_1 = internal->na;
  internal->dim_init_T_2 = internal->nh;
  internal->dim_init_T_3 = internal->num_int;
  internal->dim_init_U_1 = internal->na;
  internal->dim_init_U_2 = internal->nh;
  internal->dim_init_U_3 = internal->num_int;
  internal->dim_P_1 = internal->na;
  internal->dim_P_2 = internal->nh;
  internal->dim_P_3 = internal->num_int;
  internal->dim_p_det_1 = internal->na;
  internal->dim_p_det_2 = internal->nh;
  internal->dim_p_det_3 = internal->num_int;
  internal->dim_phi_1 = internal->na;
  internal->dim_phi_2 = internal->nh;
  internal->dim_phi_3 = internal->num_int;
  internal->dim_prev0to59_1 = internal->age59;
  internal->dim_prev0to59_2 = internal->nh;
  internal->dim_prev0to59_3 = internal->num_int;
  internal->dim_prevall_1 = internal->na;
  internal->dim_prevall_2 = internal->nh;
  internal->dim_prevall_3 = internal->num_int;
  internal->dim_rel_foi = internal->nh;
  internal->dim_S_1 = internal->na;
  internal->dim_S_2 = internal->nh;
  internal->dim_S_3 = internal->num_int;
  internal->dim_T_1 = internal->na;
  internal->dim_T_2 = internal->nh;
  internal->dim_T_3 = internal->num_int;
  internal->dim_U_1 = internal->na;
  internal->dim_U_2 = internal->nh;
  internal->dim_U_3 = internal->num_int;
  internal->dim_x_I = internal->na;
  internal->dim_Y_1 = internal->na;
  internal->dim_Y_2 = internal->nh;
  internal->dim_Y_3 = internal->num_int;
  internal->initial_EL = internal->init_EL;
  internal->initial_Ev = internal->init_Ev * internal->mv0;
  internal->initial_Iv = internal->init_Iv * internal->mv0;
  internal->initial_LL = internal->init_LL;
  internal->initial_PL = internal->init_PL;
  internal->initial_Sv = internal->init_Sv * internal->mv0;
  internal->mort_assay = 1 - internal->surv_bioassay;
  internal->age = (double*) user_get_array(user, false, internal->age, "age", NA_REAL, NA_REAL, 1, internal->dim_age);
  internal->age_rate = (double*) user_get_array(user, false, internal->age_rate, "age_rate", NA_REAL, NA_REAL, 1, internal->dim_age_rate);
  Free(internal->fd);
  internal->fd = (double*) Calloc(internal->dim_fd, double);
  {
     int i = 1;
     internal->cov_[i - 1] = (1 - internal->itn_cov) * (1 - internal->em_cov);
  }
  {
     int i = 2;
     internal->cov_[i - 1] = internal->itn_cov * (1 - internal->em_cov);
  }
  {
     int i = 3;
     internal->cov_[i - 1] = (1 - internal->itn_cov) * internal->em_cov;
  }
  {
     int i = 4;
     internal->cov_[i - 1] = internal->itn_cov * internal->em_cov;
  }
  internal->den = (double*) user_get_array(user, false, internal->den, "den", NA_REAL, NA_REAL, 1, internal->dim_den);
  internal->dim_A = internal->dim_A_1 * internal->dim_A_2 * internal->dim_A_3;
  internal->dim_A_12 = internal->dim_A_1 * internal->dim_A_2;
  internal->dim_b = internal->dim_b_1 * internal->dim_b_2 * internal->dim_b_3;
  internal->dim_b_12 = internal->dim_b_1 * internal->dim_b_2;
  internal->dim_cA = internal->dim_cA_1 * internal->dim_cA_2 * internal->dim_cA_3;
  internal->dim_cA_12 = internal->dim_cA_1 * internal->dim_cA_2;
  internal->dim_clin_inc = internal->dim_clin_inc_1 * internal->dim_clin_inc_2 * internal->dim_clin_inc_3;
  internal->dim_clin_inc_12 = internal->dim_clin_inc_1 * internal->dim_clin_inc_2;
  internal->dim_clin_inc0to5 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2 * internal->dim_clin_inc0to5_3;
  internal->dim_clin_inc0to5_12 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2;
  internal->dim_D = internal->dim_D_1 * internal->dim_D_2 * internal->dim_D_3;
  internal->dim_D_12 = internal->dim_D_1 * internal->dim_D_2;
  internal->dim_derivS = internal->dim_derivS_1 * internal->dim_derivS_2 * internal->dim_derivS_3;
  internal->dim_derivS_12 = internal->dim_derivS_1 * internal->dim_derivS_2;
  internal->dim_EIR = internal->dim_EIR_1 * internal->dim_EIR_2 * internal->dim_EIR_3;
  internal->dim_EIR_12 = internal->dim_EIR_1 * internal->dim_EIR_2;
  internal->dim_FOI = internal->dim_FOI_1 * internal->dim_FOI_2 * internal->dim_FOI_3;
  internal->dim_FOI_12 = internal->dim_FOI_1 * internal->dim_FOI_2;
  internal->dim_FOI_lag = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2 * internal->dim_FOI_lag_3;
  internal->dim_FOI_lag_12 = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2;
  internal->dim_FOIvijk = internal->dim_FOIvijk_1 * internal->dim_FOIvijk_2 * internal->dim_FOIvijk_3;
  internal->dim_FOIvijk_12 = internal->dim_FOIvijk_1 * internal->dim_FOIvijk_2;
  internal->dim_IB = internal->dim_IB_1 * internal->dim_IB_2 * internal->dim_IB_3;
  internal->dim_IB_12 = internal->dim_IB_1 * internal->dim_IB_2;
  internal->dim_IC = internal->dim_IC_1 * internal->dim_IC_2 * internal->dim_IC_3;
  internal->dim_IC_12 = internal->dim_IC_1 * internal->dim_IC_2;
  internal->dim_ICA = internal->dim_ICA_1 * internal->dim_ICA_2 * internal->dim_ICA_3;
  internal->dim_ICA_12 = internal->dim_ICA_1 * internal->dim_ICA_2;
  internal->dim_ICM = internal->dim_ICM_1 * internal->dim_ICM_2 * internal->dim_ICM_3;
  internal->dim_ICM_12 = internal->dim_ICM_1 * internal->dim_ICM_2;
  internal->dim_ID = internal->dim_ID_1 * internal->dim_ID_2 * internal->dim_ID_3;
  internal->dim_ID_12 = internal->dim_ID_1 * internal->dim_ID_2;
  internal->dim_init_A = internal->dim_init_A_1 * internal->dim_init_A_2 * internal->dim_init_A_3;
  internal->dim_init_A_12 = internal->dim_init_A_1 * internal->dim_init_A_2;
  internal->dim_init_D = internal->dim_init_D_1 * internal->dim_init_D_2 * internal->dim_init_D_3;
  internal->dim_init_D_12 = internal->dim_init_D_1 * internal->dim_init_D_2;
  internal->dim_init_IB = internal->dim_init_IB_1 * internal->dim_init_IB_2 * internal->dim_init_IB_3;
  internal->dim_init_IB_12 = internal->dim_init_IB_1 * internal->dim_init_IB_2;
  internal->dim_init_ICA = internal->dim_init_ICA_1 * internal->dim_init_ICA_2 * internal->dim_init_ICA_3;
  internal->dim_init_ICA_12 = internal->dim_init_ICA_1 * internal->dim_init_ICA_2;
  internal->dim_init_ICM = internal->dim_init_ICM_1 * internal->dim_init_ICM_2 * internal->dim_init_ICM_3;
  internal->dim_init_ICM_12 = internal->dim_init_ICM_1 * internal->dim_init_ICM_2;
  internal->dim_init_ICM_pre = internal->dim_init_ICM_pre_1 * internal->dim_init_ICM_pre_2;
  internal->dim_init_ID = internal->dim_init_ID_1 * internal->dim_init_ID_2 * internal->dim_init_ID_3;
  internal->dim_init_ID_12 = internal->dim_init_ID_1 * internal->dim_init_ID_2;
  internal->dim_init_P = internal->dim_init_P_1 * internal->dim_init_P_2 * internal->dim_init_P_3;
  internal->dim_init_P_12 = internal->dim_init_P_1 * internal->dim_init_P_2;
  internal->dim_init_S = internal->dim_init_S_1 * internal->dim_init_S_2 * internal->dim_init_S_3;
  internal->dim_init_S_12 = internal->dim_init_S_1 * internal->dim_init_S_2;
  internal->dim_init_T = internal->dim_init_T_1 * internal->dim_init_T_2 * internal->dim_init_T_3;
  internal->dim_init_T_12 = internal->dim_init_T_1 * internal->dim_init_T_2;
  internal->dim_init_U = internal->dim_init_U_1 * internal->dim_init_U_2 * internal->dim_init_U_3;
  internal->dim_init_U_12 = internal->dim_init_U_1 * internal->dim_init_U_2;
  internal->dim_P = internal->dim_P_1 * internal->dim_P_2 * internal->dim_P_3;
  internal->dim_P_12 = internal->dim_P_1 * internal->dim_P_2;
  internal->dim_p_det = internal->dim_p_det_1 * internal->dim_p_det_2 * internal->dim_p_det_3;
  internal->dim_p_det_12 = internal->dim_p_det_1 * internal->dim_p_det_2;
  internal->dim_phi = internal->dim_phi_1 * internal->dim_phi_2 * internal->dim_phi_3;
  internal->dim_phi_12 = internal->dim_phi_1 * internal->dim_phi_2;
  internal->dim_prev0to59 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2 * internal->dim_prev0to59_3;
  internal->dim_prev0to59_12 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2;
  internal->dim_prevall = internal->dim_prevall_1 * internal->dim_prevall_2 * internal->dim_prevall_3;
  internal->dim_prevall_12 = internal->dim_prevall_1 * internal->dim_prevall_2;
  internal->dim_S = internal->dim_S_1 * internal->dim_S_2 * internal->dim_S_3;
  internal->dim_S_12 = internal->dim_S_1 * internal->dim_S_2;
  internal->dim_T = internal->dim_T_1 * internal->dim_T_2 * internal->dim_T_3;
  internal->dim_T_12 = internal->dim_T_1 * internal->dim_T_2;
  internal->dim_U = internal->dim_U_1 * internal->dim_U_2 * internal->dim_U_3;
  internal->dim_U_12 = internal->dim_U_1 * internal->dim_U_2;
  internal->dim_Y = internal->dim_Y_1 * internal->dim_Y_2 * internal->dim_Y_3;
  internal->dim_Y_12 = internal->dim_Y_1 * internal->dim_Y_2;
  internal->foi_age = (double*) user_get_array(user, false, internal->foi_age, "foi_age", NA_REAL, NA_REAL, 1, internal->dim_foi_age);
  internal->het_wt = (double*) user_get_array(user, false, internal->het_wt, "het_wt", NA_REAL, NA_REAL, 1, internal->dim_het_wt);
  internal->mort_hut_a = 0.63380000000000003 + 3.9969999999999999 * (internal->mort_assay - 0.5);
  internal->rel_foi = (double*) user_get_array(user, false, internal->rel_foi, "rel_foi", NA_REAL, NA_REAL, 1, internal->dim_rel_foi);
  internal->x_I = (double*) user_get_array(user, false, internal->x_I, "x_I", NA_REAL, NA_REAL, 1, internal->dim_x_I);
  Free(internal->b);
  internal->b = (double*) Calloc(internal->dim_b, double);
  Free(internal->cA);
  internal->cA = (double*) Calloc(internal->dim_cA, double);
  Free(internal->clin_inc);
  internal->clin_inc = (double*) Calloc(internal->dim_clin_inc, double);
  Free(internal->clin_inc0to5);
  internal->clin_inc0to5 = (double*) Calloc(internal->dim_clin_inc0to5, double);
  Free(internal->derivS);
  internal->derivS = (double*) Calloc(internal->dim_derivS, double);
  Free(internal->EIR);
  internal->EIR = (double*) Calloc(internal->dim_EIR, double);
  Free(internal->FOI);
  internal->FOI = (double*) Calloc(internal->dim_FOI, double);
  Free(internal->FOI_lag);
  internal->FOI_lag = (double*) Calloc(internal->dim_FOI_lag, double);
  Free(internal->FOIvijk);
  internal->FOIvijk = (double*) Calloc(internal->dim_FOIvijk, double);
  Free(internal->IC);
  internal->IC = (double*) Calloc(internal->dim_IC, double);
  Free(internal->init_ICM_pre);
  internal->init_ICM_pre = (double*) Calloc(internal->dim_init_ICM_pre, double);
  Free(internal->initial_A);
  internal->initial_A = (double*) Calloc(internal->dim_A, double);
  Free(internal->initial_D);
  internal->initial_D = (double*) Calloc(internal->dim_D, double);
  Free(internal->initial_IB);
  internal->initial_IB = (double*) Calloc(internal->dim_IB, double);
  Free(internal->initial_ICA);
  internal->initial_ICA = (double*) Calloc(internal->dim_ICA, double);
  Free(internal->initial_ICM);
  internal->initial_ICM = (double*) Calloc(internal->dim_ICM, double);
  Free(internal->initial_ID);
  internal->initial_ID = (double*) Calloc(internal->dim_ID, double);
  Free(internal->initial_P);
  internal->initial_P = (double*) Calloc(internal->dim_P, double);
  Free(internal->initial_S);
  internal->initial_S = (double*) Calloc(internal->dim_S, double);
  Free(internal->initial_T);
  internal->initial_T = (double*) Calloc(internal->dim_T, double);
  Free(internal->initial_U);
  internal->initial_U = (double*) Calloc(internal->dim_U, double);
  Free(internal->p_det);
  internal->p_det = (double*) Calloc(internal->dim_p_det, double);
  Free(internal->phi);
  internal->phi = (double*) Calloc(internal->dim_phi, double);
  Free(internal->prev0to59);
  internal->prev0to59 = (double*) Calloc(internal->dim_prev0to59, double);
  Free(internal->prevall);
  internal->prevall = (double*) Calloc(internal->dim_prevall, double);
  Free(internal->Y);
  internal->Y = (double*) Calloc(internal->dim_Y, double);
  for (int i = 1; i <= internal->dim_cov; ++i) {
    internal->cov[i - 1] = internal->cov_[i - 1];
  }
  Free(internal->delay_array_b);
  internal->delay_array_b = (double*) Calloc(internal->dim_b, double);
  Free(internal->delay_array_cA);
  internal->delay_array_cA = (double*) Calloc(internal->dim_cA, double);
  Free(internal->delay_array_EIR);
  internal->delay_array_EIR = (double*) Calloc(internal->dim_EIR, double);
  Free(internal->delay_array_FOI_lag);
  internal->delay_array_FOI_lag = (double*) Calloc(internal->dim_FOI_lag, double);
  Free(internal->delay_array_FOIvijk);
  internal->delay_array_FOIvijk = (double*) Calloc(internal->dim_FOIvijk, double);
  Free(internal->delay_array_p_det);
  internal->delay_array_p_det = (double*) Calloc(internal->dim_p_det, double);
  internal->dim_delay_FOI = internal->dim_IB + 1;
  internal->dim_delay_FOIv = internal->dim_A + internal->dim_D + internal->dim_ID + internal->dim_T + internal->dim_U;
  for (int i = 1; i <= internal->na; ++i) {
    internal->fd[i - 1] = 1 - (1 - internal->fD0) / (double) (1 + pow((internal->age[i - 1] / (double) internal->aD), internal->gammaD));
  }
  internal->init_A = (double*) user_get_array(user, false, internal->init_A, "init_A", NA_REAL, NA_REAL, 3, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3);
  internal->init_D = (double*) user_get_array(user, false, internal->init_D, "init_D", NA_REAL, NA_REAL, 3, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3);
  internal->init_IB = (double*) user_get_array(user, false, internal->init_IB, "init_IB", NA_REAL, NA_REAL, 3, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3);
  internal->init_ICA = (double*) user_get_array(user, false, internal->init_ICA, "init_ICA", NA_REAL, NA_REAL, 3, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3);
  internal->init_ICM = (double*) user_get_array(user, false, internal->init_ICM, "init_ICM", NA_REAL, NA_REAL, 3, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3);
  internal->init_ID = (double*) user_get_array(user, false, internal->init_ID, "init_ID", NA_REAL, NA_REAL, 3, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3);
  internal->init_P = (double*) user_get_array(user, false, internal->init_P, "init_P", NA_REAL, NA_REAL, 3, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3);
  internal->init_S = (double*) user_get_array(user, false, internal->init_S, "init_S", NA_REAL, NA_REAL, 3, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3);
  internal->init_T = (double*) user_get_array(user, false, internal->init_T, "init_T", NA_REAL, NA_REAL, 3, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3);
  internal->init_U = (double*) user_get_array(user, false, internal->init_U, "init_U", NA_REAL, NA_REAL, 3, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3);
  internal->mort_hut = exp(internal->mort_hut_a) / (double) (1 + exp(internal->mort_hut_a));
  internal->offset_FOIv_A = internal->dim_D + internal->dim_T;
  internal->offset_FOIv_ID = internal->dim_A + internal->dim_D + internal->dim_T + internal->dim_U;
  internal->offset_FOIv_U = internal->dim_A + internal->dim_D + internal->dim_T;
  internal->offset_variable_A = internal->dim_D + internal->dim_S + internal->dim_T + 6;
  internal->offset_variable_D = internal->dim_S + internal->dim_T + 6;
  internal->offset_variable_IB = internal->dim_A + internal->dim_D + internal->dim_ICA + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_ICA = internal->dim_A + internal->dim_D + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_ICM = internal->dim_A + internal->dim_D + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_ID = internal->dim_A + internal->dim_D + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_P = internal->dim_A + internal->dim_D + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_T = internal->dim_S + 6;
  internal->offset_variable_U = internal->dim_A + internal->dim_D + internal->dim_S + internal->dim_T + 6;
  Free(internal->delay_index_FOI);
  internal->delay_index_FOI = Calloc(internal->dim_delay_FOI, int);
  Free(internal->delay_state_FOI);
  internal->delay_state_FOI = Calloc(internal->dim_delay_FOI, double);
  internal->delay_index_FOI[0] = 2;
  for (int i = 0, j = internal->offset_variable_IB; i < internal->dim_IB; ++i, ++j) {
    internal->delay_index_FOI[1 + i] = j;
  }
  Free(internal->delay_index_FOIv);
  internal->delay_index_FOIv = Calloc(internal->dim_delay_FOIv, int);
  Free(internal->delay_state_FOIv);
  internal->delay_state_FOIv = Calloc(internal->dim_delay_FOIv, double);
  for (int i = 0, j = internal->offset_variable_T; i < internal->dim_T; ++i, ++j) {
    internal->delay_index_FOIv[0 + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_D; i < internal->dim_D; ++i, ++j) {
    internal->delay_index_FOIv[internal->dim_T + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_A; i < internal->dim_A; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_A + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_U; i < internal->dim_U; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_U + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_ID; i < internal->dim_ID; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_ID + i] = j;
  }
  internal->det_hut_a = 0.071169999999999997 + 1.2569999999999999 * (internal->mort_hut - 0.5) - 1.5169999999999999 * pow((internal->mort_hut - 0.5), 2);
  for (int i = 1; i <= internal->dim_A_1; ++i) {
    for (int j = 1; j <= internal->dim_A_2; ++j) {
      for (int k = 1; k <= internal->dim_A_3; ++k) {
        internal->initial_A[i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = internal->init_A[internal->dim_init_A_12 * (k - 1) + internal->dim_init_A_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_D_1; ++i) {
    for (int j = 1; j <= internal->dim_D_2; ++j) {
      for (int k = 1; k <= internal->dim_D_3; ++k) {
        internal->initial_D[i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = internal->init_D[internal->dim_init_D_12 * (k - 1) + internal->dim_init_D_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_IB_1; ++i) {
    for (int j = 1; j <= internal->dim_IB_2; ++j) {
      for (int k = 1; k <= internal->dim_IB_3; ++k) {
        internal->initial_IB[i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->init_IB[internal->dim_init_IB_12 * (k - 1) + internal->dim_init_IB_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICA_1; ++i) {
    for (int j = 1; j <= internal->dim_ICA_2; ++j) {
      for (int k = 1; k <= internal->dim_ICA_3; ++k) {
        internal->initial_ICA[i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->init_ICA[internal->dim_init_ICA_12 * (k - 1) + internal->dim_init_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICM_1; ++i) {
    for (int j = 1; j <= internal->dim_ICM_2; ++j) {
      for (int k = 1; k <= internal->dim_ICM_3; ++k) {
        internal->initial_ICM[i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = internal->init_ICM[internal->dim_init_ICM_12 * (k - 1) + internal->dim_init_ICM_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ID_1; ++i) {
    for (int j = 1; j <= internal->dim_ID_2; ++j) {
      for (int k = 1; k <= internal->dim_ID_3; ++k) {
        internal->initial_ID[i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->init_ID[internal->dim_init_ID_12 * (k - 1) + internal->dim_init_ID_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_P_1; ++i) {
    for (int j = 1; j <= internal->dim_P_2; ++j) {
      for (int k = 1; k <= internal->dim_P_3; ++k) {
        internal->initial_P[i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->init_P[internal->dim_init_P_12 * (k - 1) + internal->dim_init_P_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_S_1; ++i) {
    for (int j = 1; j <= internal->dim_S_2; ++j) {
      for (int k = 1; k <= internal->dim_S_3; ++k) {
        internal->initial_S[i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = internal->init_S[internal->dim_init_S_12 * (k - 1) + internal->dim_init_S_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_T_1; ++i) {
    for (int j = 1; j <= internal->dim_T_2; ++j) {
      for (int k = 1; k <= internal->dim_T_3; ++k) {
        internal->initial_T[i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->init_T[internal->dim_init_T_12 * (k - 1) + internal->dim_init_T_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_U_1; ++i) {
    for (int j = 1; j <= internal->dim_U_2; ++j) {
      for (int k = 1; k <= internal->dim_U_3; ++k) {
        internal->initial_U[i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->init_U[internal->dim_init_U_12 * (k - 1) + internal->dim_init_U_1 * (j - 1) + i - 1];
      }
    }
  }
  internal->suc_hut = 0.024910000000000002 * exp(3.3170000000000002 * (1 - internal->mort_hut));
  internal->wash_decay_rate_a = -(2.3599999999999999) + -(3.048) * (internal->mort_hut - 0.5);
  internal->det_hut = (internal->det_hut_a < 0 ? 0 : internal->det_hut_a);
  internal->rep_hut = 1 - internal->suc_hut - internal->mort_hut;
  internal->wash_decay_rate = exp(internal->wash_decay_rate_a) / (double) (1 + exp(internal->wash_decay_rate_a));
  internal->itn_half_life = (log(2) / (double) internal->wash_decay_rate) / (double) internal->my_max_washes * 2.6400000000000001 * 365;
  internal->n1n0 = 1 - internal->det_hut;
  internal->itn_loss = log(2) / (double) internal->itn_half_life;
  internal->jp1 = internal->n1n0 * internal->rep_hut + (internal->n1n0);
  internal->kp1 = internal->n1n0 * internal->suc_hut;
  internal->lp1 = internal->n1n0 * internal->mort_hut;
  internal->d_ITN0 = (1 - internal->kp1 / (double) 0.69899999999999995) * (internal->lp1 / (double) (internal->lp1 + internal->jp1));
  internal->r_ITN0 = (1 - internal->kp1 / (double) 0.69899999999999995) * (internal->jp1 / (double) (internal->lp1 + internal->jp1));
  return R_NilValue;
}
SEXP odin_model_emanators_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_emanators_use_dde_ptr) {
  odin_model_emanators_internal *internal = odin_model_emanators_get_internal(internal_p, 1);
  const double t = REAL(t_ptr)[0];
  internal->initial_t = t;
  internal->odin_model_emanators_use_dde = INTEGER(odin_model_emanators_use_dde_ptr)[0];
  if (state_ptr != R_NilValue) {
    double * state = REAL(state_ptr);
    internal->initial_Sv = state[0];
    internal->initial_Ev = state[1];
    internal->initial_Iv = state[2];
    internal->initial_PL = state[3];
    internal->initial_LL = state[4];
    internal->initial_EL = state[5];
    memcpy(internal->initial_S, state + 6, internal->dim_S * sizeof(double));
    memcpy(internal->initial_T, state + internal->offset_variable_T, internal->dim_T * sizeof(double));
    memcpy(internal->initial_D, state + internal->offset_variable_D, internal->dim_D * sizeof(double));
    memcpy(internal->initial_A, state + internal->offset_variable_A, internal->dim_A * sizeof(double));
    memcpy(internal->initial_U, state + internal->offset_variable_U, internal->dim_U * sizeof(double));
    memcpy(internal->initial_P, state + internal->offset_variable_P, internal->dim_P * sizeof(double));
    memcpy(internal->initial_ICM, state + internal->offset_variable_ICM, internal->dim_ICM * sizeof(double));
    memcpy(internal->initial_ICA, state + internal->offset_variable_ICA, internal->dim_ICA * sizeof(double));
    memcpy(internal->initial_IB, state + internal->offset_variable_IB, internal->dim_IB * sizeof(double));
    memcpy(internal->initial_ID, state + internal->offset_variable_ID, internal->dim_ID * sizeof(double));
  }
  return R_NilValue;
}
SEXP odin_model_emanators_metadata(SEXP internal_p) {
  odin_model_emanators_internal *internal = odin_model_emanators_get_internal(internal_p, 1);
  SEXP ret = PROTECT(allocVector(VECSXP, 4));
  SEXP nms = PROTECT(allocVector(STRSXP, 4));
  SET_STRING_ELT(nms, 0, mkChar("variable_order"));
  SET_STRING_ELT(nms, 1, mkChar("output_order"));
  SET_STRING_ELT(nms, 2, mkChar("n_out"));
  SET_STRING_ELT(nms, 3, mkChar("interpolate_t"));
  setAttrib(ret, R_NamesSymbol, nms);
  SEXP variable_length = PROTECT(allocVector(VECSXP, 16));
  SEXP variable_names = PROTECT(allocVector(STRSXP, 16));
  setAttrib(variable_length, R_NamesSymbol, variable_names);
  SET_VECTOR_ELT(variable_length, 0, R_NilValue);
  SET_VECTOR_ELT(variable_length, 1, R_NilValue);
  SET_VECTOR_ELT(variable_length, 2, R_NilValue);
  SET_VECTOR_ELT(variable_length, 3, R_NilValue);
  SET_VECTOR_ELT(variable_length, 4, R_NilValue);
  SET_VECTOR_ELT(variable_length, 5, R_NilValue);
  SET_VECTOR_ELT(variable_length, 6, allocVector(INTSXP, 3));
  int * dim_S = INTEGER(VECTOR_ELT(variable_length, 6));
  dim_S[0] = internal->dim_S_1;
  dim_S[1] = internal->dim_S_2;
  dim_S[2] = internal->dim_S_3;
  SET_VECTOR_ELT(variable_length, 7, allocVector(INTSXP, 3));
  int * dim_T = INTEGER(VECTOR_ELT(variable_length, 7));
  dim_T[0] = internal->dim_T_1;
  dim_T[1] = internal->dim_T_2;
  dim_T[2] = internal->dim_T_3;
  SET_VECTOR_ELT(variable_length, 8, allocVector(INTSXP, 3));
  int * dim_D = INTEGER(VECTOR_ELT(variable_length, 8));
  dim_D[0] = internal->dim_D_1;
  dim_D[1] = internal->dim_D_2;
  dim_D[2] = internal->dim_D_3;
  SET_VECTOR_ELT(variable_length, 9, allocVector(INTSXP, 3));
  int * dim_A = INTEGER(VECTOR_ELT(variable_length, 9));
  dim_A[0] = internal->dim_A_1;
  dim_A[1] = internal->dim_A_2;
  dim_A[2] = internal->dim_A_3;
  SET_VECTOR_ELT(variable_length, 10, allocVector(INTSXP, 3));
  int * dim_U = INTEGER(VECTOR_ELT(variable_length, 10));
  dim_U[0] = internal->dim_U_1;
  dim_U[1] = internal->dim_U_2;
  dim_U[2] = internal->dim_U_3;
  SET_VECTOR_ELT(variable_length, 11, allocVector(INTSXP, 3));
  int * dim_P = INTEGER(VECTOR_ELT(variable_length, 11));
  dim_P[0] = internal->dim_P_1;
  dim_P[1] = internal->dim_P_2;
  dim_P[2] = internal->dim_P_3;
  SET_VECTOR_ELT(variable_length, 12, allocVector(INTSXP, 3));
  int * dim_ICM = INTEGER(VECTOR_ELT(variable_length, 12));
  dim_ICM[0] = internal->dim_ICM_1;
  dim_ICM[1] = internal->dim_ICM_2;
  dim_ICM[2] = internal->dim_ICM_3;
  SET_VECTOR_ELT(variable_length, 13, allocVector(INTSXP, 3));
  int * dim_ICA = INTEGER(VECTOR_ELT(variable_length, 13));
  dim_ICA[0] = internal->dim_ICA_1;
  dim_ICA[1] = internal->dim_ICA_2;
  dim_ICA[2] = internal->dim_ICA_3;
  SET_VECTOR_ELT(variable_length, 14, allocVector(INTSXP, 3));
  int * dim_IB = INTEGER(VECTOR_ELT(variable_length, 14));
  dim_IB[0] = internal->dim_IB_1;
  dim_IB[1] = internal->dim_IB_2;
  dim_IB[2] = internal->dim_IB_3;
  SET_VECTOR_ELT(variable_length, 15, allocVector(INTSXP, 3));
  int * dim_ID = INTEGER(VECTOR_ELT(variable_length, 15));
  dim_ID[0] = internal->dim_ID_1;
  dim_ID[1] = internal->dim_ID_2;
  dim_ID[2] = internal->dim_ID_3;
  SET_STRING_ELT(variable_names, 0, mkChar("Sv"));
  SET_STRING_ELT(variable_names, 1, mkChar("Ev"));
  SET_STRING_ELT(variable_names, 2, mkChar("Iv"));
  SET_STRING_ELT(variable_names, 3, mkChar("PL"));
  SET_STRING_ELT(variable_names, 4, mkChar("LL"));
  SET_STRING_ELT(variable_names, 5, mkChar("EL"));
  SET_STRING_ELT(variable_names, 6, mkChar("S"));
  SET_STRING_ELT(variable_names, 7, mkChar("T"));
  SET_STRING_ELT(variable_names, 8, mkChar("D"));
  SET_STRING_ELT(variable_names, 9, mkChar("A"));
  SET_STRING_ELT(variable_names, 10, mkChar("U"));
  SET_STRING_ELT(variable_names, 11, mkChar("P"));
  SET_STRING_ELT(variable_names, 12, mkChar("ICM"));
  SET_STRING_ELT(variable_names, 13, mkChar("ICA"));
  SET_STRING_ELT(variable_names, 14, mkChar("IB"));
  SET_STRING_ELT(variable_names, 15, mkChar("ID"));
  SET_VECTOR_ELT(ret, 0, variable_length);
  UNPROTECT(2);
  SEXP output_length = PROTECT(allocVector(VECSXP, 33));
  SEXP output_names = PROTECT(allocVector(STRSXP, 33));
  setAttrib(output_length, R_NamesSymbol, output_names);
  SET_VECTOR_ELT(output_length, 0, R_NilValue);
  SET_VECTOR_ELT(output_length, 1, R_NilValue);
  SET_VECTOR_ELT(output_length, 2, R_NilValue);
  SET_VECTOR_ELT(output_length, 3, R_NilValue);
  SET_VECTOR_ELT(output_length, 4, R_NilValue);
  SET_VECTOR_ELT(output_length, 5, R_NilValue);
  SET_VECTOR_ELT(output_length, 6, R_NilValue);
  SET_VECTOR_ELT(output_length, 7, R_NilValue);
  SET_VECTOR_ELT(output_length, 8, R_NilValue);
  SET_VECTOR_ELT(output_length, 9, R_NilValue);
  SET_VECTOR_ELT(output_length, 10, R_NilValue);
  SET_VECTOR_ELT(output_length, 11, R_NilValue);
  SET_VECTOR_ELT(output_length, 12, R_NilValue);
  SET_VECTOR_ELT(output_length, 13, R_NilValue);
  SET_VECTOR_ELT(output_length, 14, R_NilValue);
  SET_VECTOR_ELT(output_length, 15, R_NilValue);
  SET_VECTOR_ELT(output_length, 16, R_NilValue);
  SET_VECTOR_ELT(output_length, 17, R_NilValue);
  SET_VECTOR_ELT(output_length, 18, R_NilValue);
  SET_VECTOR_ELT(output_length, 19, R_NilValue);
  SET_VECTOR_ELT(output_length, 20, R_NilValue);
  SET_VECTOR_ELT(output_length, 21, R_NilValue);
  SET_VECTOR_ELT(output_length, 22, R_NilValue);
  SET_VECTOR_ELT(output_length, 23, R_NilValue);
  SET_VECTOR_ELT(output_length, 24, R_NilValue);
  SET_VECTOR_ELT(output_length, 25, R_NilValue);
  SET_VECTOR_ELT(output_length, 26, R_NilValue);
  SET_VECTOR_ELT(output_length, 27, R_NilValue);
  SET_VECTOR_ELT(output_length, 28, ScalarInteger(internal->dim_whi));
  SET_VECTOR_ELT(output_length, 29, ScalarInteger(internal->dim_zhi));
  SET_VECTOR_ELT(output_length, 30, ScalarInteger(internal->dim_cov));
  SET_VECTOR_ELT(output_length, 31, ScalarInteger(internal->dim_av_mosq));
  SET_VECTOR_ELT(output_length, 32, allocVector(INTSXP, 3));
  int * dim_derivS = INTEGER(VECTOR_ELT(output_length, 32));
  dim_derivS[0] = internal->dim_derivS_1;
  dim_derivS[1] = internal->dim_derivS_2;
  dim_derivS[2] = internal->dim_derivS_3;
  SET_STRING_ELT(output_names, 0, mkChar("Ivout"));
  SET_STRING_ELT(output_names, 1, mkChar("omega"));
  SET_STRING_ELT(output_names, 2, mkChar("bites_Emanator"));
  SET_STRING_ELT(output_names, 3, mkChar("em_loss"));
  SET_STRING_ELT(output_names, 4, mkChar("EM_decay"));
  SET_STRING_ELT(output_names, 5, mkChar("Sout"));
  SET_STRING_ELT(output_names, 6, mkChar("Tout"));
  SET_STRING_ELT(output_names, 7, mkChar("Dout"));
  SET_STRING_ELT(output_names, 8, mkChar("Aout"));
  SET_STRING_ELT(output_names, 9, mkChar("Uout"));
  SET_STRING_ELT(output_names, 10, mkChar("Pout"));
  SET_STRING_ELT(output_names, 11, mkChar("prev"));
  SET_STRING_ELT(output_names, 12, mkChar("allprev"));
  SET_STRING_ELT(output_names, 13, mkChar("inc05"));
  SET_STRING_ELT(output_names, 14, mkChar("inc"));
  SET_STRING_ELT(output_names, 15, mkChar("mu"));
  SET_STRING_ELT(output_names, 16, mkChar("beta_larval"));
  SET_STRING_ELT(output_names, 17, mkChar("KL"));
  SET_STRING_ELT(output_names, 18, mkChar("mv"));
  SET_STRING_ELT(output_names, 19, mkChar("Q"));
  SET_STRING_ELT(output_names, 20, mkChar("wh"));
  SET_STRING_ELT(output_names, 21, mkChar("d_ITN"));
  SET_STRING_ELT(output_names, 22, mkChar("r_ITN"));
  SET_STRING_ELT(output_names, 23, mkChar("s_ITN"));
  SET_STRING_ELT(output_names, 24, mkChar("r_EM"));
  SET_STRING_ELT(output_names, 25, mkChar("d_EM"));
  SET_STRING_ELT(output_names, 26, mkChar("s_EM"));
  SET_STRING_ELT(output_names, 27, mkChar("K0"));
  SET_STRING_ELT(output_names, 28, mkChar("whi"));
  SET_STRING_ELT(output_names, 29, mkChar("zhi"));
  SET_STRING_ELT(output_names, 30, mkChar("cov"));
  SET_STRING_ELT(output_names, 31, mkChar("av_mosq"));
  SET_STRING_ELT(output_names, 32, mkChar("derivS"));
  SET_VECTOR_ELT(ret, 1, output_length);
  UNPROTECT(2);
  SET_VECTOR_ELT(ret, 2, ScalarInteger(internal->dim_av_mosq + internal->dim_cov + internal->dim_derivS + internal->dim_whi + internal->dim_zhi + 28));
  UNPROTECT(2);
  return ret;
}
SEXP odin_model_emanators_initial_conditions(SEXP internal_p, SEXP t_ptr) {
  double t = scalar_real(t_ptr, "t");
  odin_model_emanators_internal *internal = odin_model_emanators_get_internal(internal_p, 1);
  SEXP r_state = PROTECT(allocVector(REALSXP, internal->dim_A + internal->dim_D + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_ID + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6));
  double * state = REAL(r_state);
  state[0] = internal->initial_Sv;
  state[1] = internal->initial_Ev;
  state[2] = internal->initial_Iv;
  state[3] = internal->initial_PL;
  state[4] = internal->initial_LL;
  state[5] = internal->initial_EL;
  memcpy(state + 6, internal->initial_S, internal->dim_S * sizeof(double));
  memcpy(state + internal->offset_variable_T, internal->initial_T, internal->dim_T * sizeof(double));
  memcpy(state + internal->offset_variable_D, internal->initial_D, internal->dim_D * sizeof(double));
  memcpy(state + internal->offset_variable_A, internal->initial_A, internal->dim_A * sizeof(double));
  memcpy(state + internal->offset_variable_U, internal->initial_U, internal->dim_U * sizeof(double));
  memcpy(state + internal->offset_variable_P, internal->initial_P, internal->dim_P * sizeof(double));
  memcpy(state + internal->offset_variable_ICM, internal->initial_ICM, internal->dim_ICM * sizeof(double));
  memcpy(state + internal->offset_variable_ICA, internal->initial_ICA, internal->dim_ICA * sizeof(double));
  memcpy(state + internal->offset_variable_IB, internal->initial_IB, internal->dim_IB * sizeof(double));
  memcpy(state + internal->offset_variable_ID, internal->initial_ID, internal->dim_ID * sizeof(double));
  UNPROTECT(1);
  return r_state;
}
void odin_model_emanators_rhs(odin_model_emanators_internal* internal, double t, double * state, double * dstatedt, double * output) {
  double * S = state + 6;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * IB = state + internal->offset_variable_IB;
  double * ID = state + internal->offset_variable_ID;
  double Sv = state[0];
  double Ev = state[1];
  double Iv = state[2];
  double EL = state[5];
  double LL = state[4];
  double PL = state[3];
  double betaa = 0.5 * PL / (double) internal->dPL;
  dstatedt[3] = LL / (double) internal->dLL - internal->muPL * PL - PL / (double) internal->dPL;
  double EM_decay = (t < internal->EM_on ? 0 : exp(-((fmodr((t - internal->EM_on), internal->EM_interval))) * internal->em_loss));
  double mv = Sv + Ev + Iv;
  double theta2 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_EM = internal->d_EM0 * EM_decay;
  double r_EM = internal->r_EM0 * EM_decay;
  double Ah = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double Dh = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  // delay block for incv
  double incv;
  {
    const double t_true = t;
    const double t = t_true - internal->delayMos;
    double Sv;
    if (t <= internal->initial_t) {
      Sv = internal->initial_Sv;
    } else {
      lagvalue(t, internal->odin_model_emanators_use_dde, internal->delay_index_incv, 1, internal->delay_state_incv);
      Sv = internal->delay_state_incv[0];
    }
    double EM_decay = (t < internal->EM_on ? 0 : exp(-((fmodr((t - internal->EM_on), internal->EM_interval))) * internal->em_loss));
    double r_EM = internal->r_EM0 * EM_decay;
    double d_EM = internal->d_EM0 * EM_decay;
    double s_EM = 1 - d_EM - r_EM;
    // delay block for FOIv
    double FOIv;
    {
      const double t_true = t;
      const double t = t_true - internal->delayGam;
      double *T;
      double *D;
      double *A;
      double *U;
      double *ID;
      if (t <= internal->initial_t) {
        T = internal->initial_T;
        D = internal->initial_D;
        A = internal->initial_A;
        U = internal->initial_U;
        ID = internal->initial_ID;
      } else {
        lagvalue(t, internal->odin_model_emanators_use_dde, internal->delay_index_FOIv, internal->dim_delay_FOIv, internal->delay_state_FOIv);
        T = internal->delay_state_FOIv + 0;
        D = internal->delay_state_FOIv + internal->dim_T;
        A = internal->delay_state_FOIv + internal->offset_FOIv_A;
        U = internal->delay_state_FOIv + internal->offset_FOIv_U;
        ID = internal->delay_state_FOIv + internal->offset_FOIv_ID;
      }
      double EM_decay = (t < internal->EM_on ? 0 : exp(-((fmodr((t - internal->EM_on), internal->EM_interval))) * internal->em_loss));
      double d_EM = internal->d_EM0 * EM_decay;
      double r_EM = internal->r_EM0 * EM_decay;
      double s_EM = 1 - d_EM - r_EM;
      for (int i = 1; i <= internal->dim_p_det_1; ++i) {
        for (int j = 1; j <= internal->dim_p_det_2; ++j) {
          for (int k = 1; k <= internal->dim_p_det_3; ++k) {
            internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
          }
        }
      }
      for (int i = 1; i <= internal->dim_cA_1; ++i) {
        for (int j = 1; j <= internal->dim_cA_2; ++j) {
          for (int k = 1; k <= internal->dim_cA_3; ++k) {
            internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
          }
        }
      }
      double ITN_decay = (t < internal->ITN_on ? 0 : exp(-((fmodr((t - internal->ITN_on), internal->ITN_interval))) * internal->itn_loss));
      double d_ITN = (t < internal->ITN_on ? 0 : internal->d_ITN0 * ITN_decay);
      double r_ITN = (t < internal->ITN_on ? 0 : internal->r_ITN_min + (internal->r_ITN0 - internal->r_ITN_min) * ITN_decay);
      double s_ITN = (t < internal->ITN_on ? 1 : 1 - d_ITN - r_ITN);
      {
         int i = 1;
         internal->delay_array_z_[i - 1] = 0;
      }
      {
         int i = 2;
         internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
      }
      {
         int i = 3;
         internal->delay_array_z_[i - 1] = r_EM * internal->bites_Emanator;
      }
      {
         int i = 4;
         internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN + r_EM * internal->bites_Emanator;
      }
      {
         int i = 1;
         internal->delay_array_w_[i - 1] = 1;
      }
      {
         int i = 2;
         internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
      }
      {
         int i = 3;
         internal->delay_array_w_[i - 1] = 1 - internal->bites_Emanator + s_EM * internal->bites_Emanator;
      }
      {
         int i = 4;
         internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed - internal->bites_Emanator + internal->bites_Bed * s_ITN + s_EM * internal->bites_Emanator;
      }
      for (int i = 1; i <= internal->dim_z; ++i) {
        internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
      }
      for (int i = 1; i <= internal->dim_w; ++i) {
        internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
      }
      double zh = (t < fmin(internal->ITN_on, internal->EM_on) ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
      double wh = (t < fmin(internal->ITN_on, internal->EM_on) ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
      double zbar = internal->Q0 * zh;
      double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
      double wbar = 1 - internal->Q0 + internal->Q0 * wh;
      double Q = 1 - (1 - internal->Q0) / (double) wbar;
      double av = fv * Q;
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_av_mosq[i - 1] = av * internal->delay_array_w[i - 1] / (double) wh;
      }
      for (int i = 1; i <= internal->na; ++i) {
        for (int j = 1; j <= internal->nh; ++j) {
          for (int k = 1; k <= internal->num_int; ++k) {
            internal->delay_array_FOIvijk[i - 1 + internal->dim_FOIvijk_1 * (j - 1) + internal->dim_FOIvijk_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
          }
        }
      }
      double lag_FOIv = odin_sum1(internal->delay_array_FOIvijk, 0, internal->dim_FOIvijk);
      FOIv = lag_FOIv;
    }
    double ince = FOIv * Sv;
    double ITN_decay = (t < internal->ITN_on ? 0 : exp(-((fmodr((t - internal->ITN_on), internal->ITN_interval))) * internal->itn_loss));
    double r_ITN = (t < internal->ITN_on ? 0 : internal->r_ITN_min + (internal->r_ITN0 - internal->r_ITN_min) * ITN_decay);
    double d_ITN = (t < internal->ITN_on ? 0 : internal->d_ITN0 * ITN_decay);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = r_EM * internal->bites_Emanator;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN + r_EM * internal->bites_Emanator;
    }
    double s_ITN = (t < internal->ITN_on ? 1 : 1 - d_ITN - r_ITN);
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Emanator + s_EM * internal->bites_Emanator;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed - internal->bites_Emanator + internal->bites_Bed * s_ITN + s_EM * internal->bites_Emanator;
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    double zh = (t < fmin(internal->ITN_on, internal->EM_on) ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zbar = internal->Q0 * zh;
    double wh = (t < fmin(internal->ITN_on, internal->EM_on) ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double p1 = wbar * internal->p10 / (double) (1 - zbar * internal->p10);
    double mu = -(fv) * log(p1 * internal->p2);
    double surv = exp(-(mu) * internal->delayMos);
    double lag_incv = ince * surv;
    incv = lag_incv;
  }
  double Ph = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  double s_EM = 1 - d_EM - r_EM;
  double Sh = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  double Th = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  double Uh = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double Iv;
    double *IB;
    if (t <= internal->initial_t) {
      Iv = internal->initial_Iv;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_emanators_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv = internal->delay_state_FOI[0];
      IB = internal->delay_state_FOI + 1;
    }
    double EM_decay = (t < internal->EM_on ? 0 : exp(-((fmodr((t - internal->EM_on), internal->EM_interval))) * internal->em_loss));
    double d_EM = internal->d_EM0 * EM_decay;
    double r_EM = internal->r_EM0 * EM_decay;
    double s_EM = 1 - d_EM - r_EM;
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
        }
      }
    }
    double ITN_decay = (t < internal->ITN_on ? 0 : exp(-((fmodr((t - internal->ITN_on), internal->ITN_interval))) * internal->itn_loss));
    double d_ITN = (t < internal->ITN_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_on ? 0 : internal->r_ITN_min + (internal->r_ITN0 - internal->r_ITN_min) * ITN_decay);
    double s_ITN = (t < internal->ITN_on ? 1 : 1 - d_ITN - r_ITN);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = r_EM * internal->bites_Emanator;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN + r_EM * internal->bites_Emanator;
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Emanator + s_EM * internal->bites_Emanator;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed - internal->bites_Emanator + internal->bites_Bed * s_ITN + s_EM * internal->bites_Emanator;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_yy_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy_[i - 1] = internal->delay_array_w_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy_[i - 1] = internal->delay_array_w_[2];
    }
    {
       int i = 4;
       internal->delay_array_yy_[i - 1] = 1 - internal->bites_Bed - internal->bites_Emanator + internal->bites_Bed * s_ITN + s_EM * internal->bites_Emanator;
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy; ++i) {
      internal->delay_array_yy[i - 1] = internal->delay_array_yy_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < fmin(internal->ITN_on, internal->EM_on) ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    double wh = (t < fmin(internal->ITN_on, internal->EM_on) ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human[i - 1] = av * internal->delay_array_yy[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->delay_array_av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv / (double) internal->omega;
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1)] = internal->delay_array_EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * ((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  // delay block for FOIv
  double FOIv;
  {
    const double t_true = t;
    const double t = t_true - internal->delayGam;
    double *T;
    double *D;
    double *A;
    double *U;
    double *ID;
    if (t <= internal->initial_t) {
      T = internal->initial_T;
      D = internal->initial_D;
      A = internal->initial_A;
      U = internal->initial_U;
      ID = internal->initial_ID;
    } else {
      lagvalue(t, internal->odin_model_emanators_use_dde, internal->delay_index_FOIv, internal->dim_delay_FOIv, internal->delay_state_FOIv);
      T = internal->delay_state_FOIv + 0;
      D = internal->delay_state_FOIv + internal->dim_T;
      A = internal->delay_state_FOIv + internal->offset_FOIv_A;
      U = internal->delay_state_FOIv + internal->offset_FOIv_U;
      ID = internal->delay_state_FOIv + internal->offset_FOIv_ID;
    }
    double EM_decay = (t < internal->EM_on ? 0 : exp(-((fmodr((t - internal->EM_on), internal->EM_interval))) * internal->em_loss));
    double d_EM = internal->d_EM0 * EM_decay;
    double r_EM = internal->r_EM0 * EM_decay;
    double s_EM = 1 - d_EM - r_EM;
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
        }
      }
    }
    double ITN_decay = (t < internal->ITN_on ? 0 : exp(-((fmodr((t - internal->ITN_on), internal->ITN_interval))) * internal->itn_loss));
    double d_ITN = (t < internal->ITN_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_on ? 0 : internal->r_ITN_min + (internal->r_ITN0 - internal->r_ITN_min) * ITN_decay);
    double s_ITN = (t < internal->ITN_on ? 1 : 1 - d_ITN - r_ITN);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = r_EM * internal->bites_Emanator;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN + r_EM * internal->bites_Emanator;
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Emanator + s_EM * internal->bites_Emanator;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed - internal->bites_Emanator + internal->bites_Bed * s_ITN + s_EM * internal->bites_Emanator;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < fmin(internal->ITN_on, internal->EM_on) ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    double wh = (t < fmin(internal->ITN_on, internal->EM_on) ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_mosq[i - 1] = av * internal->delay_array_w[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOIvijk[i - 1 + internal->dim_FOIvijk_1 * (j - 1) + internal->dim_FOIvijk_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
        }
      }
    }
    double lag_FOIv = odin_sum1(internal->delay_array_FOIvijk, 0, internal->dim_FOIvijk);
    FOIv = lag_FOIv;
  }
  double H = Sh + Th + Dh + Ah + Uh + Ph;
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1)] = ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->nh; ++i) {
    for (int j = 1; j <= internal->num_int; ++j) {
      internal->init_ICM_pre[i - 1 + internal->dim_init_ICM_pre_1 * (j - 1)] = internal->PM * (ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20l - 1] + internal->age_20_factor * (ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20u - 1] - ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20l - 1]));
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1)] = S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - (ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + (internal->init_ICM_pre[internal->dim_init_ICM_pre_1 * (k - 1) + j - 1] - ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1]) / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - (ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - (ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[6 + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->cov[k - 1] * internal->eta * H * internal->het_wt[j - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[6 + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double ince = FOIv * Sv;
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1)] = internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = (1 - internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = (1 - internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = (1 - internal->ft) * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = (1 - internal->ft) * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->ft * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->ft * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double ITN_decay = (t < internal->ITN_on ? 0 : exp(-((fmodr((t - internal->ITN_on), internal->ITN_interval))) * internal->itn_loss));
  double d_ITN = (t < internal->ITN_on ? 0 : internal->d_ITN0 * ITN_decay);
  double r_ITN = (t < internal->ITN_on ? 0 : internal->r_ITN_min + (internal->r_ITN0 - internal->r_ITN_min) * ITN_decay);
  double s_ITN = (t < internal->ITN_on ? 1 : 1 - d_ITN - r_ITN);
  {
     int i = 1;
     internal->z_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z_[i - 1] = internal->bites_Bed * r_ITN;
  }
  {
     int i = 3;
     internal->z_[i - 1] = r_EM * internal->bites_Emanator;
  }
  {
     int i = 4;
     internal->z_[i - 1] = internal->bites_Bed * r_ITN + r_EM * internal->bites_Emanator;
  }
  {
     int i = 1;
     internal->w_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
  }
  {
     int i = 3;
     internal->w_[i - 1] = 1 - internal->bites_Emanator + s_EM * internal->bites_Emanator;
  }
  {
     int i = 4;
     internal->w_[i - 1] = 1 - internal->bites_Bed - internal->bites_Emanator + internal->bites_Bed * s_ITN + s_EM * internal->bites_Emanator;
  }
  for (int i = 1; i <= internal->dim_z; ++i) {
    internal->z[i - 1] = internal->z_[i - 1];
  }
  for (int i = 1; i <= internal->dim_w; ++i) {
    internal->w[i - 1] = internal->w_[i - 1];
  }
  {
     int i = 1;
     internal->yy_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy_[i - 1] = internal->w_[1];
  }
  {
     int i = 3;
     internal->yy_[i - 1] = internal->w_[2];
  }
  {
     int i = 4;
     internal->yy_[i - 1] = 1 - internal->bites_Bed - internal->bites_Emanator + internal->bites_Bed * s_ITN + s_EM * internal->bites_Emanator;
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi[i - 1] = internal->cov[i - 1] * internal->z[i - 1];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi[i - 1] = internal->cov[i - 1] * internal->w[i - 1];
  }
  for (int i = 1; i <= internal->dim_yy; ++i) {
    internal->yy[i - 1] = internal->yy_[i - 1];
  }
  double zh = (t < fmin(internal->ITN_on, internal->EM_on) ? 0 : odin_sum1(internal->zhi, 0, internal->dim_zhi));
  double wh = (t < fmin(internal->ITN_on, internal->EM_on) ? 1 : odin_sum1(internal->whi, 0, internal->dim_whi));
  double zbar = internal->Q0 * zh;
  double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
  double wbar = 1 - internal->Q0 + internal->Q0 * wh;
  double p1 = wbar * internal->p10 / (double) (1 - zbar * internal->p10);
  double Q = 1 - (1 - internal->Q0) / (double) wbar;
  double av = fv * Q;
  double mu = -(fv) * log(p1 * internal->p2);
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human[i - 1] = av * internal->yy[i - 1] / (double) wh;
  }
  dstatedt[1] = ince - incv - mu * Ev;
  dstatedt[2] = incv - mu * Iv;
  dstatedt[0] = -(ince) - mu * Sv + betaa;
  double eov = internal->betaL / (double) mu * (exp(mu / (double) fv) - 1);
  double beta_larval = eov * mu * exp(-(mu) / (double) fv) / (double) (1 - exp(-(mu) / (double) fv));
  for (int i = 1; i <= internal->dim_EIR_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_3; ++k) {
        internal->EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv / (double) internal->omega;
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - (IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  double lambda = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  double K0 = 2 * internal->mv0 * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda + 1) / (double) (lambda / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1);
  double KL = K0 * theta2;
  dstatedt[5] = beta_larval * mv - internal->muEL * (1 + (EL + LL) / (double) KL) * EL - EL / (double) internal->dEL;
  dstatedt[4] = EL / (double) internal->dEL - internal->muLL * (1 + internal->gammaL * (EL + LL) / (double) KL) * LL - LL / (double) internal->dLL;
  if (output) {
    output[3] = internal->em_loss;
    output[0] = Iv;
    output[1] = internal->omega;
    output[2] = internal->bites_Emanator;
    output[4] = EM_decay;
    output[18] = mv;
    output[8] = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
    output[25] = d_EM;
    output[7] = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
    output[10] = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
    output[24] = r_EM;
    output[5] = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
    output[6] = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
    output[9] = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
    memcpy(output + internal->offset_output_cov, internal->cov, internal->dim_cov * sizeof(double));
    output[26] = s_EM;
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    {
       int i = 1;
       for (int j = 1; j <= internal->nh; ++j) {
         for (int k = 1; k <= internal->num_int; ++k) {
           internal->derivS[i - 1 + internal->dim_derivS_1 * (j - 1) + internal->dim_derivS_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->cov[k - 1] * internal->eta * H * internal->het_wt[j - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1];
         }
       }
    }
    for (int i = 2; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->derivS[i - 1 + internal->dim_derivS_1 * (j - 1) + internal->dim_derivS_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1 - 1];
        }
      }
    }
    for (int i = 1; i <= internal->age59; ++i) {
      for (int j = 1; j <= internal->dim_prev0to59_2; ++j) {
        for (int k = 1; k <= internal->dim_prev0to59_3; ++k) {
          internal->prev0to59[i - 1 + internal->dim_prev0to59_1 * (j - 1) + internal->dim_prev0to59_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = 1; i <= internal->dim_prevall_1; ++i) {
      for (int j = 1; j <= internal->dim_prevall_2; ++j) {
        for (int k = 1; k <= internal->dim_prevall_3; ++k) {
          internal->prevall[i - 1 + internal->dim_prevall_1 * (j - 1) + internal->dim_prevall_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
    output[12] = odin_sum3(internal->prevall, 0, internal->dim_prevall_1, 0, internal->dim_prevall_2, 0, internal->dim_prevall_3, internal->dim_prevall_1, internal->dim_prevall_12) / (double) odin_sum1(internal->den, 0, internal->dim_den);
    memcpy(output + internal->offset_output_derivS, internal->derivS, internal->dim_derivS * sizeof(double));
    output[11] = odin_sum3(internal->prev0to59, 0, internal->dim_prev0to59_1, 0, internal->dim_prev0to59_2, 0, internal->dim_prev0to59_3, internal->dim_prev0to59_1, internal->dim_prev0to59_12) / (double) odin_sum1(internal->den, 0, internal->age59);
    for (int i = 1; i <= internal->age05; ++i) {
      for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
        for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
          internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1)] = internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
        }
      }
    }
    output[14] = odin_sum3(internal->clin_inc, 0, internal->dim_clin_inc_1, 0, internal->dim_clin_inc_2, 0, internal->dim_clin_inc_3, internal->dim_clin_inc_1, internal->dim_clin_inc_12);
    output[13] = odin_sum1(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5) / (double) odin_sum1(internal->den, 0, internal->age05);
    output[21] = d_ITN;
    output[22] = r_ITN;
    output[23] = s_ITN;
    memcpy(output + internal->offset_output_zhi, internal->zhi, internal->dim_zhi * sizeof(double));
    memcpy(output + 28, internal->whi, internal->dim_whi * sizeof(double));
    output[20] = wh;
    output[19] = Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->av_mosq[i - 1] = av * internal->w[i - 1] / (double) wh;
    }
    output[15] = mu;
    memcpy(output + internal->offset_output_av_mosq, internal->av_mosq, internal->dim_av_mosq * sizeof(double));
    output[16] = beta_larval;
    output[27] = K0;
    output[17] = KL;
  }
}
void odin_model_emanators_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal) {
  odin_model_emanators_rhs((odin_model_emanators_internal*)internal, t, state, dstatedt, NULL);
}
void odin_model_emanators_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np) {
  odin_model_emanators_rhs(odin_model_emanators_internal_ds, *t, state, dstatedt, output);
}
void odin_model_emanators_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p) {
  odin_model_emanators_internal *internal = (odin_model_emanators_internal*) internal_p;
  double * S = state + 6;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * ID = state + internal->offset_variable_ID;
  double Sv = state[0];
  double Ev = state[1];
  double Iv = state[2];
  double EM_decay = (t < internal->EM_on ? 0 : exp(-((fmodr((t - internal->EM_on), internal->EM_interval))) * internal->em_loss));
  double mv = Sv + Ev + Iv;
  output[3] = internal->em_loss;
  output[0] = Iv;
  output[1] = internal->omega;
  double theta2 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_EM = internal->d_EM0 * EM_decay;
  output[2] = internal->bites_Emanator;
  output[4] = EM_decay;
  output[18] = mv;
  double r_EM = internal->r_EM0 * EM_decay;
  double Ah = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  double Dh = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  output[8] = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  output[25] = d_EM;
  output[7] = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  output[10] = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  output[24] = r_EM;
  output[5] = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  output[6] = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  output[9] = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  double Ph = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  double s_EM = 1 - d_EM - r_EM;
  double Sh = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  double Th = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  double Uh = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double Iv;
    double *IB;
    if (t <= internal->initial_t) {
      Iv = internal->initial_Iv;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_emanators_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv = internal->delay_state_FOI[0];
      IB = internal->delay_state_FOI + 1;
    }
    double EM_decay = (t < internal->EM_on ? 0 : exp(-((fmodr((t - internal->EM_on), internal->EM_interval))) * internal->em_loss));
    double d_EM = internal->d_EM0 * EM_decay;
    double r_EM = internal->r_EM0 * EM_decay;
    double s_EM = 1 - d_EM - r_EM;
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
        }
      }
    }
    double ITN_decay = (t < internal->ITN_on ? 0 : exp(-((fmodr((t - internal->ITN_on), internal->ITN_interval))) * internal->itn_loss));
    double d_ITN = (t < internal->ITN_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_on ? 0 : internal->r_ITN_min + (internal->r_ITN0 - internal->r_ITN_min) * ITN_decay);
    double s_ITN = (t < internal->ITN_on ? 1 : 1 - d_ITN - r_ITN);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = r_EM * internal->bites_Emanator;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN + r_EM * internal->bites_Emanator;
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Emanator + s_EM * internal->bites_Emanator;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed - internal->bites_Emanator + internal->bites_Bed * s_ITN + s_EM * internal->bites_Emanator;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_yy_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy_[i - 1] = internal->delay_array_w_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy_[i - 1] = internal->delay_array_w_[2];
    }
    {
       int i = 4;
       internal->delay_array_yy_[i - 1] = 1 - internal->bites_Bed - internal->bites_Emanator + internal->bites_Bed * s_ITN + s_EM * internal->bites_Emanator;
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy; ++i) {
      internal->delay_array_yy[i - 1] = internal->delay_array_yy_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < fmin(internal->ITN_on, internal->EM_on) ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    double wh = (t < fmin(internal->ITN_on, internal->EM_on) ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human[i - 1] = av * internal->delay_array_yy[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->delay_array_av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv / (double) internal->omega;
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1)] = internal->delay_array_EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * ((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  double H = Sh + Th + Dh + Ah + Uh + Ph;
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1)] = ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  memcpy(output + internal->offset_output_cov, internal->cov, internal->dim_cov * sizeof(double));
  output[26] = s_EM;
  for (int i = 1; i <= internal->dim_p_det_1; ++i) {
    for (int j = 1; j <= internal->dim_p_det_2; ++j) {
      for (int k = 1; k <= internal->dim_p_det_3; ++k) {
        internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1)] = S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         internal->derivS[i - 1 + internal->dim_derivS_1 * (j - 1) + internal->dim_derivS_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->cov[k - 1] * internal->eta * H * internal->het_wt[j - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->derivS[i - 1 + internal->dim_derivS_1 * (j - 1) + internal->dim_derivS_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
      }
    }
  }
  for (int i = 1; i <= internal->age59; ++i) {
    for (int j = 1; j <= internal->dim_prev0to59_2; ++j) {
      for (int k = 1; k <= internal->dim_prev0to59_3; ++k) {
        internal->prev0to59[i - 1 + internal->dim_prev0to59_1 * (j - 1) + internal->dim_prev0to59_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_prevall_1; ++i) {
    for (int j = 1; j <= internal->dim_prevall_2; ++j) {
      for (int k = 1; k <= internal->dim_prevall_3; ++k) {
        internal->prevall[i - 1 + internal->dim_prevall_1 * (j - 1) + internal->dim_prevall_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1)] = internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
      }
    }
  }
  output[12] = odin_sum3(internal->prevall, 0, internal->dim_prevall_1, 0, internal->dim_prevall_2, 0, internal->dim_prevall_3, internal->dim_prevall_1, internal->dim_prevall_12) / (double) odin_sum1(internal->den, 0, internal->dim_den);
  memcpy(output + internal->offset_output_derivS, internal->derivS, internal->dim_derivS * sizeof(double));
  output[11] = odin_sum3(internal->prev0to59, 0, internal->dim_prev0to59_1, 0, internal->dim_prev0to59_2, 0, internal->dim_prev0to59_3, internal->dim_prev0to59_1, internal->dim_prev0to59_12) / (double) odin_sum1(internal->den, 0, internal->age59);
  for (int i = 1; i <= internal->age05; ++i) {
    for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
      for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
        internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1)] = internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
      }
    }
  }
  output[14] = odin_sum3(internal->clin_inc, 0, internal->dim_clin_inc_1, 0, internal->dim_clin_inc_2, 0, internal->dim_clin_inc_3, internal->dim_clin_inc_1, internal->dim_clin_inc_12);
  double ITN_decay = (t < internal->ITN_on ? 0 : exp(-((fmodr((t - internal->ITN_on), internal->ITN_interval))) * internal->itn_loss));
  output[13] = odin_sum1(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5) / (double) odin_sum1(internal->den, 0, internal->age05);
  double d_ITN = (t < internal->ITN_on ? 0 : internal->d_ITN0 * ITN_decay);
  double r_ITN = (t < internal->ITN_on ? 0 : internal->r_ITN_min + (internal->r_ITN0 - internal->r_ITN_min) * ITN_decay);
  output[21] = d_ITN;
  output[22] = r_ITN;
  double s_ITN = (t < internal->ITN_on ? 1 : 1 - d_ITN - r_ITN);
  {
     int i = 1;
     internal->z_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z_[i - 1] = internal->bites_Bed * r_ITN;
  }
  {
     int i = 3;
     internal->z_[i - 1] = r_EM * internal->bites_Emanator;
  }
  {
     int i = 4;
     internal->z_[i - 1] = internal->bites_Bed * r_ITN + r_EM * internal->bites_Emanator;
  }
  output[23] = s_ITN;
  {
     int i = 1;
     internal->w_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
  }
  {
     int i = 3;
     internal->w_[i - 1] = 1 - internal->bites_Emanator + s_EM * internal->bites_Emanator;
  }
  {
     int i = 4;
     internal->w_[i - 1] = 1 - internal->bites_Bed - internal->bites_Emanator + internal->bites_Bed * s_ITN + s_EM * internal->bites_Emanator;
  }
  for (int i = 1; i <= internal->dim_z; ++i) {
    internal->z[i - 1] = internal->z_[i - 1];
  }
  for (int i = 1; i <= internal->dim_w; ++i) {
    internal->w[i - 1] = internal->w_[i - 1];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi[i - 1] = internal->cov[i - 1] * internal->z[i - 1];
  }
  memcpy(output + internal->offset_output_zhi, internal->zhi, internal->dim_zhi * sizeof(double));
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi[i - 1] = internal->cov[i - 1] * internal->w[i - 1];
  }
  double zh = (t < fmin(internal->ITN_on, internal->EM_on) ? 0 : odin_sum1(internal->zhi, 0, internal->dim_zhi));
  memcpy(output + 28, internal->whi, internal->dim_whi * sizeof(double));
  double wh = (t < fmin(internal->ITN_on, internal->EM_on) ? 1 : odin_sum1(internal->whi, 0, internal->dim_whi));
  double zbar = internal->Q0 * zh;
  double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
  output[20] = wh;
  double wbar = 1 - internal->Q0 + internal->Q0 * wh;
  double p1 = wbar * internal->p10 / (double) (1 - zbar * internal->p10);
  double Q = 1 - (1 - internal->Q0) / (double) wbar;
  double av = fv * Q;
  double mu = -(fv) * log(p1 * internal->p2);
  output[19] = Q;
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_mosq[i - 1] = av * internal->w[i - 1] / (double) wh;
  }
  double eov = internal->betaL / (double) mu * (exp(mu / (double) fv) - 1);
  output[15] = mu;
  double beta_larval = eov * mu * exp(-(mu) / (double) fv) / (double) (1 - exp(-(mu) / (double) fv));
  memcpy(output + internal->offset_output_av_mosq, internal->av_mosq, internal->dim_av_mosq * sizeof(double));
  double lambda = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  output[16] = beta_larval;
  double K0 = 2 * internal->mv0 * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda + 1) / (double) (lambda / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1);
  double KL = K0 * theta2;
  output[27] = K0;
  output[17] = KL;
}
SEXP odin_model_emanators_rhs_r(SEXP internal_p, SEXP t, SEXP state) {
  SEXP dstatedt = PROTECT(allocVector(REALSXP, LENGTH(state)));
  odin_model_emanators_internal *internal = odin_model_emanators_get_internal(internal_p, 1);
  SEXP output_ptr = PROTECT(allocVector(REALSXP, internal->dim_av_mosq + internal->dim_cov + internal->dim_derivS + internal->dim_whi + internal->dim_zhi + 28));
  setAttrib(dstatedt, install("output"), output_ptr);
  UNPROTECT(1);
  double *output = REAL(output_ptr);
  const double initial_t = internal->initial_t;
  if (ISNA(initial_t)) {
    internal->initial_t = scalar_real(t, "t");
  }
  odin_model_emanators_rhs(internal, scalar_real(t, "t"), REAL(state), REAL(dstatedt), output);
  if (ISNA(initial_t)) {
    internal->initial_t = initial_t;
  }
  UNPROTECT(1);
  return dstatedt;
}
odin_model_hrp2_internal* odin_model_hrp2_get_internal(SEXP internal_p, int closed_error) {
  odin_model_hrp2_internal *internal = NULL;
  if (TYPEOF(internal_p) != EXTPTRSXP) {
    Rf_error("Expected an external pointer");
  }
  internal = (odin_model_hrp2_internal*) R_ExternalPtrAddr(internal_p);
  if (!internal && closed_error) {
    Rf_error("Pointer has been invalidated");
  }
  return internal;
}
void odin_model_hrp2_finalise(SEXP internal_p) {
  odin_model_hrp2_internal *internal = odin_model_hrp2_get_internal(internal_p, 0);
  if (internal_p) {
    Free(internal->age);
    Free(internal->age_rate);
    Free(internal->av_human);
    Free(internal->av_mosq);
    Free(internal->b);
    Free(internal->cA);
    Free(internal->clin_inc);
    Free(internal->clin_inc0to5);
    Free(internal->cov);
    Free(internal->cov_);
    Free(internal->delay_array_av_human);
    Free(internal->delay_array_av_mosq);
    Free(internal->delay_array_b);
    Free(internal->delay_array_cA);
    Free(internal->delay_array_EIR);
    Free(internal->delay_array_FOI_lag);
    Free(internal->delay_array_FOIvijk);
    Free(internal->delay_array_p_det);
    Free(internal->delay_array_w);
    Free(internal->delay_array_w_);
    Free(internal->delay_array_whi);
    Free(internal->delay_array_yy);
    Free(internal->delay_array_yy_);
    Free(internal->delay_array_z);
    Free(internal->delay_array_z_);
    Free(internal->delay_array_zhi);
    Free(internal->delay_index_FOI);
    Free(internal->delay_index_FOIv);
    Free(internal->delay_index_incv);
    Free(internal->delay_state_FOI);
    Free(internal->delay_state_FOIv);
    Free(internal->delay_state_incv);
    Free(internal->den);
    Free(internal->EIR);
    Free(internal->fd);
    Free(internal->FOI);
    Free(internal->foi_age);
    Free(internal->FOI_lag);
    Free(internal->FOIvijk);
    Free(internal->het_wt);
    Free(internal->IC);
    Free(internal->init_A);
    Free(internal->init_D);
    Free(internal->init_IB);
    Free(internal->init_ICA);
    Free(internal->init_ICM);
    Free(internal->init_ICM_pre);
    Free(internal->init_ID);
    Free(internal->init_P);
    Free(internal->init_S);
    Free(internal->init_T);
    Free(internal->init_U);
    Free(internal->initial_A);
    Free(internal->initial_D);
    Free(internal->initial_Ev);
    Free(internal->initial_IB);
    Free(internal->initial_ICA);
    Free(internal->initial_ICM);
    Free(internal->initial_ID);
    Free(internal->initial_P);
    Free(internal->initial_S);
    Free(internal->initial_T);
    Free(internal->initial_U);
    Free(internal->p_det);
    Free(internal->phi);
    Free(internal->prev0to59);
    Free(internal->rel_foi);
    Free(internal->w);
    Free(internal->w_);
    Free(internal->whi);
    Free(internal->x_I);
    Free(internal->Y);
    Free(internal->yy);
    Free(internal->yy_);
    Free(internal->z);
    Free(internal->z_);
    Free(internal->zhi);
    Free(internal);
    R_ClearExternalPtr(internal_p);
  }
}
SEXP odin_model_hrp2_create(SEXP user) {
  odin_model_hrp2_internal *internal = (odin_model_hrp2_internal*) Calloc(1, odin_model_hrp2_internal);
  internal->age = NULL;
  internal->age_rate = NULL;
  internal->av_human = NULL;
  internal->av_mosq = NULL;
  internal->b = NULL;
  internal->cA = NULL;
  internal->clin_inc = NULL;
  internal->clin_inc0to5 = NULL;
  internal->cov = NULL;
  internal->cov_ = NULL;
  internal->delay_array_av_human = NULL;
  internal->delay_array_av_mosq = NULL;
  internal->delay_array_b = NULL;
  internal->delay_array_cA = NULL;
  internal->delay_array_EIR = NULL;
  internal->delay_array_FOI_lag = NULL;
  internal->delay_array_FOIvijk = NULL;
  internal->delay_array_p_det = NULL;
  internal->delay_array_w = NULL;
  internal->delay_array_w_ = NULL;
  internal->delay_array_whi = NULL;
  internal->delay_array_yy = NULL;
  internal->delay_array_yy_ = NULL;
  internal->delay_array_z = NULL;
  internal->delay_array_z_ = NULL;
  internal->delay_array_zhi = NULL;
  internal->delay_index_FOI = NULL;
  internal->delay_index_FOIv = NULL;
  internal->delay_index_incv = NULL;
  internal->delay_state_FOI = NULL;
  internal->delay_state_FOIv = NULL;
  internal->delay_state_incv = NULL;
  internal->den = NULL;
  internal->EIR = NULL;
  internal->fd = NULL;
  internal->FOI = NULL;
  internal->foi_age = NULL;
  internal->FOI_lag = NULL;
  internal->FOIvijk = NULL;
  internal->het_wt = NULL;
  internal->IC = NULL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ICM_pre = NULL;
  internal->init_ID = NULL;
  internal->init_P = NULL;
  internal->init_S = NULL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->initial_A = NULL;
  internal->initial_D = NULL;
  internal->initial_Ev = NULL;
  internal->initial_IB = NULL;
  internal->initial_ICA = NULL;
  internal->initial_ICM = NULL;
  internal->initial_ID = NULL;
  internal->initial_P = NULL;
  internal->initial_S = NULL;
  internal->initial_T = NULL;
  internal->initial_U = NULL;
  internal->p_det = NULL;
  internal->phi = NULL;
  internal->prev0to59 = NULL;
  internal->rel_foi = NULL;
  internal->w = NULL;
  internal->w_ = NULL;
  internal->whi = NULL;
  internal->x_I = NULL;
  internal->Y = NULL;
  internal->yy = NULL;
  internal->yy_ = NULL;
  internal->z = NULL;
  internal->z_ = NULL;
  internal->zhi = NULL;
  Free(internal->delay_index_incv);
  internal->delay_index_incv = Calloc(1, int);
  Free(internal->delay_state_incv);
  internal->delay_state_incv = Calloc(1, double);
  internal->delay_index_incv[0] = 0;
  internal->dim_cov_ = 4;
  internal->dim_Ev = 10;
  internal->dim_w_ = 4;
  internal->dim_yy_ = 4;
  internal->dim_z_ = 4;
  Free(internal->cov_);
  internal->cov_ = (double*) Calloc(internal->dim_cov_, double);
  Free(internal->initial_Ev);
  internal->initial_Ev = (double*) Calloc(internal->dim_Ev, double);
  Free(internal->w_);
  internal->w_ = (double*) Calloc(internal->dim_w_, double);
  Free(internal->yy_);
  internal->yy_ = (double*) Calloc(internal->dim_yy_, double);
  Free(internal->z_);
  internal->z_ = (double*) Calloc(internal->dim_z_, double);
  Free(internal->delay_array_w_);
  internal->delay_array_w_ = (double*) Calloc(internal->dim_w_, double);
  Free(internal->delay_array_yy_);
  internal->delay_array_yy_ = (double*) Calloc(internal->dim_yy_, double);
  Free(internal->delay_array_z_);
  internal->delay_array_z_ = (double*) Calloc(internal->dim_z_, double);
  internal->offset_variable_S = internal->dim_Ev + 5;
  internal->aD = NA_REAL;
  internal->age = NULL;
  internal->age_20_factor = NA_REAL;
  internal->age_rate = NULL;
  internal->age05 = NA_INTEGER;
  internal->age20l = NA_INTEGER;
  internal->age20u = NA_INTEGER;
  internal->age59 = NA_INTEGER;
  internal->b0 = NA_REAL;
  internal->b1 = NA_REAL;
  internal->betaL = NA_REAL;
  internal->bites_Bed = NA_REAL;
  internal->bites_Indoors = NA_REAL;
  internal->cD = NA_REAL;
  internal->chi = NA_REAL;
  internal->cT = NA_REAL;
  internal->cU = NA_REAL;
  internal->d_IRS0 = NA_REAL;
  internal->d_ITN0 = NA_REAL;
  internal->d1 = NA_REAL;
  internal->dB = NA_REAL;
  internal->dCA = NA_REAL;
  internal->dCM = NA_REAL;
  internal->dE = NA_REAL;
  internal->dEL = NA_REAL;
  internal->delayGam = NA_REAL;
  internal->delayMos = NA_REAL;
  internal->den = NULL;
  internal->dID = NA_REAL;
  internal->dLL = NA_REAL;
  internal->dPL = NA_REAL;
  internal->eta = NA_REAL;
  internal->fD0 = NA_REAL;
  internal->foi_age = NULL;
  internal->ft = NA_REAL;
  internal->gamma1 = NA_REAL;
  internal->gammaD = NA_REAL;
  internal->gammaL = NA_REAL;
  internal->het_wt = NULL;
  internal->hrp2_prop = NA_REAL;
  internal->IB0 = NA_REAL;
  internal->IC0 = NA_REAL;
  internal->ID0 = NA_REAL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_EL = NA_REAL;
  internal->init_Ev = NA_REAL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ID = NULL;
  internal->init_Iv = NA_REAL;
  internal->init_LL = NA_REAL;
  internal->init_P = NULL;
  internal->init_PL = NA_REAL;
  internal->init_S = NULL;
  internal->init_Sv = NA_REAL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->irs_cov = NA_REAL;
  internal->IRS_interval = NA_REAL;
  internal->irs_loss = NA_REAL;
  internal->itn_cov = NA_REAL;
  internal->ITN_interval = NA_REAL;
  internal->ITN_IRS_on = NA_REAL;
  internal->itn_loss = NA_REAL;
  internal->kB = NA_REAL;
  internal->kC = NA_REAL;
  internal->kD = NA_REAL;
  internal->mu0 = NA_REAL;
  internal->muEL = NA_REAL;
  internal->muLL = NA_REAL;
  internal->muPL = NA_REAL;
  internal->mv0 = NA_REAL;
  internal->na = NA_INTEGER;
  internal->nh = NA_INTEGER;
  internal->num_int = NA_INTEGER;
  internal->omega = NA_REAL;
  internal->p10 = NA_REAL;
  internal->p2 = NA_REAL;
  internal->phi0 = NA_REAL;
  internal->phi1 = NA_REAL;
  internal->pi = NA_REAL;
  internal->PM = NA_REAL;
  internal->Q0 = NA_REAL;
  internal->r_IRS0 = NA_REAL;
  internal->r_ITN0 = NA_REAL;
  internal->r_ITN1 = NA_REAL;
  internal->rA = NA_REAL;
  internal->rD = NA_REAL;
  internal->rel_foi = NULL;
  internal->rP = NA_REAL;
  internal->rT = NA_REAL;
  internal->rU = NA_REAL;
  internal->ssa0 = NA_REAL;
  internal->ssa1 = NA_REAL;
  internal->ssa2 = NA_REAL;
  internal->ssa3 = NA_REAL;
  internal->ssb1 = NA_REAL;
  internal->ssb2 = NA_REAL;
  internal->ssb3 = NA_REAL;
  internal->tau1 = NA_REAL;
  internal->tau2 = NA_REAL;
  internal->theta_c = NA_REAL;
  internal->uB = NA_REAL;
  internal->uCA = NA_REAL;
  internal->uD = NA_REAL;
  internal->x_I = NULL;
  internal->initial_t = NA_REAL;
  SEXP ptr = PROTECT(R_MakeExternalPtr(internal, R_NilValue, R_NilValue));
  R_RegisterCFinalizer(ptr, odin_model_hrp2_finalise);
  UNPROTECT(1);
  return ptr;
}
static odin_model_hrp2_internal *odin_model_hrp2_internal_ds;
void odin_model_hrp2_initmod_desolve(void(* odeparms) (int *, double *)) {
  static DL_FUNC get_desolve_gparms = NULL;
  if (get_desolve_gparms == NULL) {
    get_desolve_gparms =
      R_GetCCallable("deSolve", "get_deSolve_gparms");
  }
  odin_model_hrp2_internal_ds = odin_model_hrp2_get_internal(get_desolve_gparms(), 1);
}
SEXP odin_model_hrp2_contents(SEXP internal_p) {
  odin_model_hrp2_internal *internal = odin_model_hrp2_get_internal(internal_p, 1);
  SEXP contents = PROTECT(allocVector(VECSXP, 380));
  SET_VECTOR_ELT(contents, 0, ScalarReal(internal->aD));
  SEXP age = PROTECT(allocVector(REALSXP, internal->dim_age));
  memcpy(REAL(age), internal->age, internal->dim_age * sizeof(double));
  SET_VECTOR_ELT(contents, 1, age);
  SET_VECTOR_ELT(contents, 2, ScalarReal(internal->age_20_factor));
  SEXP age_rate = PROTECT(allocVector(REALSXP, internal->dim_age_rate));
  memcpy(REAL(age_rate), internal->age_rate, internal->dim_age_rate * sizeof(double));
  SET_VECTOR_ELT(contents, 3, age_rate);
  SET_VECTOR_ELT(contents, 4, ScalarInteger(internal->age05));
  SET_VECTOR_ELT(contents, 5, ScalarInteger(internal->age20l));
  SET_VECTOR_ELT(contents, 6, ScalarInteger(internal->age20u));
  SET_VECTOR_ELT(contents, 7, ScalarInteger(internal->age59));
  SEXP av_human = PROTECT(allocVector(REALSXP, internal->dim_av_human));
  memcpy(REAL(av_human), internal->av_human, internal->dim_av_human * sizeof(double));
  SET_VECTOR_ELT(contents, 8, av_human);
  SEXP av_mosq = PROTECT(allocVector(REALSXP, internal->dim_av_mosq));
  memcpy(REAL(av_mosq), internal->av_mosq, internal->dim_av_mosq * sizeof(double));
  SET_VECTOR_ELT(contents, 9, av_mosq);
  SEXP b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(b), internal->b, internal->dim_b * sizeof(double));
  odin_set_dim(b, 3, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3);
  SET_VECTOR_ELT(contents, 10, b);
  SET_VECTOR_ELT(contents, 11, ScalarReal(internal->b_lambda));
  SET_VECTOR_ELT(contents, 12, ScalarReal(internal->b0));
  SET_VECTOR_ELT(contents, 13, ScalarReal(internal->b1));
  SET_VECTOR_ELT(contents, 14, ScalarReal(internal->betaL));
  SET_VECTOR_ELT(contents, 15, ScalarReal(internal->bites_Bed));
  SET_VECTOR_ELT(contents, 16, ScalarReal(internal->bites_Indoors));
  SEXP cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(cA), internal->cA, internal->dim_cA * sizeof(double));
  odin_set_dim(cA, 3, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3);
  SET_VECTOR_ELT(contents, 17, cA);
  SET_VECTOR_ELT(contents, 18, ScalarReal(internal->cD));
  SET_VECTOR_ELT(contents, 19, ScalarReal(internal->chi));
  SEXP clin_inc = PROTECT(allocVector(REALSXP, internal->dim_clin_inc));
  memcpy(REAL(clin_inc), internal->clin_inc, internal->dim_clin_inc * sizeof(double));
  odin_set_dim(clin_inc, 3, internal->dim_clin_inc_1, internal->dim_clin_inc_2, internal->dim_clin_inc_3);
  SET_VECTOR_ELT(contents, 20, clin_inc);
  SEXP clin_inc0to5 = PROTECT(allocVector(REALSXP, internal->dim_clin_inc0to5));
  memcpy(REAL(clin_inc0to5), internal->clin_inc0to5, internal->dim_clin_inc0to5 * sizeof(double));
  odin_set_dim(clin_inc0to5, 3, internal->dim_clin_inc0to5_1, internal->dim_clin_inc0to5_2, internal->dim_clin_inc0to5_3);
  SET_VECTOR_ELT(contents, 21, clin_inc0to5);
  SEXP cov = PROTECT(allocVector(REALSXP, internal->dim_cov));
  memcpy(REAL(cov), internal->cov, internal->dim_cov * sizeof(double));
  SET_VECTOR_ELT(contents, 22, cov);
  SEXP cov_ = PROTECT(allocVector(REALSXP, internal->dim_cov_));
  memcpy(REAL(cov_), internal->cov_, internal->dim_cov_ * sizeof(double));
  SET_VECTOR_ELT(contents, 23, cov_);
  SET_VECTOR_ELT(contents, 24, ScalarReal(internal->cT));
  SET_VECTOR_ELT(contents, 25, ScalarReal(internal->cU));
  SET_VECTOR_ELT(contents, 26, ScalarReal(internal->d_IRS0));
  SET_VECTOR_ELT(contents, 27, ScalarReal(internal->d_ITN0));
  SET_VECTOR_ELT(contents, 28, ScalarReal(internal->d1));
  SET_VECTOR_ELT(contents, 29, ScalarReal(internal->dB));
  SET_VECTOR_ELT(contents, 30, ScalarReal(internal->dCA));
  SET_VECTOR_ELT(contents, 31, ScalarReal(internal->dCM));
  SET_VECTOR_ELT(contents, 32, ScalarReal(internal->dE));
  SET_VECTOR_ELT(contents, 33, ScalarReal(internal->dEL));
  SEXP delay_array_av_human = PROTECT(allocVector(REALSXP, internal->dim_av_human));
  memcpy(REAL(delay_array_av_human), internal->delay_array_av_human, internal->dim_av_human * sizeof(double));
  SET_VECTOR_ELT(contents, 34, delay_array_av_human);
  SEXP delay_array_av_mosq = PROTECT(allocVector(REALSXP, internal->dim_av_mosq));
  memcpy(REAL(delay_array_av_mosq), internal->delay_array_av_mosq, internal->dim_av_mosq * sizeof(double));
  SET_VECTOR_ELT(contents, 35, delay_array_av_mosq);
  SEXP delay_array_b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(delay_array_b), internal->delay_array_b, internal->dim_b * sizeof(double));
  odin_set_dim(delay_array_b, 3, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3);
  SET_VECTOR_ELT(contents, 36, delay_array_b);
  SEXP delay_array_cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(delay_array_cA), internal->delay_array_cA, internal->dim_cA * sizeof(double));
  odin_set_dim(delay_array_cA, 3, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3);
  SET_VECTOR_ELT(contents, 37, delay_array_cA);
  SEXP delay_array_EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(delay_array_EIR), internal->delay_array_EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(delay_array_EIR, 3, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3);
  SET_VECTOR_ELT(contents, 38, delay_array_EIR);
  SEXP delay_array_FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(delay_array_FOI_lag), internal->delay_array_FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(delay_array_FOI_lag, 3, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3);
  SET_VECTOR_ELT(contents, 39, delay_array_FOI_lag);
  SEXP delay_array_FOIvijk = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk));
  memcpy(REAL(delay_array_FOIvijk), internal->delay_array_FOIvijk, internal->dim_FOIvijk * sizeof(double));
  odin_set_dim(delay_array_FOIvijk, 3, internal->dim_FOIvijk_1, internal->dim_FOIvijk_2, internal->dim_FOIvijk_3);
  SET_VECTOR_ELT(contents, 40, delay_array_FOIvijk);
  SEXP delay_array_p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(delay_array_p_det), internal->delay_array_p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(delay_array_p_det, 3, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3);
  SET_VECTOR_ELT(contents, 41, delay_array_p_det);
  SEXP delay_array_w = PROTECT(allocVector(REALSXP, internal->dim_w));
  memcpy(REAL(delay_array_w), internal->delay_array_w, internal->dim_w * sizeof(double));
  SET_VECTOR_ELT(contents, 42, delay_array_w);
  SEXP delay_array_w_ = PROTECT(allocVector(REALSXP, internal->dim_w_));
  memcpy(REAL(delay_array_w_), internal->delay_array_w_, internal->dim_w_ * sizeof(double));
  SET_VECTOR_ELT(contents, 43, delay_array_w_);
  SEXP delay_array_whi = PROTECT(allocVector(REALSXP, internal->dim_whi));
  memcpy(REAL(delay_array_whi), internal->delay_array_whi, internal->dim_whi * sizeof(double));
  SET_VECTOR_ELT(contents, 44, delay_array_whi);
  SEXP delay_array_yy = PROTECT(allocVector(REALSXP, internal->dim_yy));
  memcpy(REAL(delay_array_yy), internal->delay_array_yy, internal->dim_yy * sizeof(double));
  SET_VECTOR_ELT(contents, 45, delay_array_yy);
  SEXP delay_array_yy_ = PROTECT(allocVector(REALSXP, internal->dim_yy_));
  memcpy(REAL(delay_array_yy_), internal->delay_array_yy_, internal->dim_yy_ * sizeof(double));
  SET_VECTOR_ELT(contents, 46, delay_array_yy_);
  SEXP delay_array_z = PROTECT(allocVector(REALSXP, internal->dim_z));
  memcpy(REAL(delay_array_z), internal->delay_array_z, internal->dim_z * sizeof(double));
  SET_VECTOR_ELT(contents, 47, delay_array_z);
  SEXP delay_array_z_ = PROTECT(allocVector(REALSXP, internal->dim_z_));
  memcpy(REAL(delay_array_z_), internal->delay_array_z_, internal->dim_z_ * sizeof(double));
  SET_VECTOR_ELT(contents, 48, delay_array_z_);
  SEXP delay_array_zhi = PROTECT(allocVector(REALSXP, internal->dim_zhi));
  memcpy(REAL(delay_array_zhi), internal->delay_array_zhi, internal->dim_zhi * sizeof(double));
  SET_VECTOR_ELT(contents, 49, delay_array_zhi);
  SEXP delay_index_FOI = PROTECT(allocVector(INTSXP, internal->dim_delay_FOI));
  memcpy(INTEGER(delay_index_FOI), internal->delay_index_FOI, internal->dim_delay_FOI * sizeof(int));
  SET_VECTOR_ELT(contents, 50, delay_index_FOI);
  SEXP delay_index_FOIv = PROTECT(allocVector(INTSXP, internal->dim_delay_FOIv));
  memcpy(INTEGER(delay_index_FOIv), internal->delay_index_FOIv, internal->dim_delay_FOIv * sizeof(int));
  SET_VECTOR_ELT(contents, 51, delay_index_FOIv);
  SEXP delay_index_incv = PROTECT(allocVector(INTSXP, 1));
  memcpy(INTEGER(delay_index_incv), internal->delay_index_incv, 1 * sizeof(int));
  SET_VECTOR_ELT(contents, 52, delay_index_incv);
  SEXP delay_state_FOI = PROTECT(allocVector(REALSXP, internal->dim_delay_FOI));
  memcpy(REAL(delay_state_FOI), internal->delay_state_FOI, internal->dim_delay_FOI * sizeof(double));
  SET_VECTOR_ELT(contents, 53, delay_state_FOI);
  SEXP delay_state_FOIv = PROTECT(allocVector(REALSXP, internal->dim_delay_FOIv));
  memcpy(REAL(delay_state_FOIv), internal->delay_state_FOIv, internal->dim_delay_FOIv * sizeof(double));
  SET_VECTOR_ELT(contents, 54, delay_state_FOIv);
  SEXP delay_state_incv = PROTECT(allocVector(REALSXP, 1));
  memcpy(REAL(delay_state_incv), internal->delay_state_incv, 1 * sizeof(double));
  SET_VECTOR_ELT(contents, 55, delay_state_incv);
  SET_VECTOR_ELT(contents, 56, ScalarReal(internal->delayGam));
  SET_VECTOR_ELT(contents, 57, ScalarReal(internal->delayMos));
  SEXP den = PROTECT(allocVector(REALSXP, internal->dim_den));
  memcpy(REAL(den), internal->den, internal->dim_den * sizeof(double));
  SET_VECTOR_ELT(contents, 58, den);
  SET_VECTOR_ELT(contents, 59, ScalarReal(internal->dID));
  SET_VECTOR_ELT(contents, 60, ScalarInteger(internal->dim_A));
  SET_VECTOR_ELT(contents, 61, ScalarInteger(internal->dim_A_1));
  SET_VECTOR_ELT(contents, 62, ScalarInteger(internal->dim_A_12));
  SET_VECTOR_ELT(contents, 63, ScalarInteger(internal->dim_A_2));
  SET_VECTOR_ELT(contents, 64, ScalarInteger(internal->dim_A_3));
  SET_VECTOR_ELT(contents, 65, ScalarInteger(internal->dim_age));
  SET_VECTOR_ELT(contents, 66, ScalarInteger(internal->dim_age_rate));
  SET_VECTOR_ELT(contents, 67, ScalarInteger(internal->dim_av_human));
  SET_VECTOR_ELT(contents, 68, ScalarInteger(internal->dim_av_mosq));
  SET_VECTOR_ELT(contents, 69, ScalarInteger(internal->dim_b));
  SET_VECTOR_ELT(contents, 70, ScalarInteger(internal->dim_b_1));
  SET_VECTOR_ELT(contents, 71, ScalarInteger(internal->dim_b_12));
  SET_VECTOR_ELT(contents, 72, ScalarInteger(internal->dim_b_2));
  SET_VECTOR_ELT(contents, 73, ScalarInteger(internal->dim_b_3));
  SET_VECTOR_ELT(contents, 74, ScalarInteger(internal->dim_cA));
  SET_VECTOR_ELT(contents, 75, ScalarInteger(internal->dim_cA_1));
  SET_VECTOR_ELT(contents, 76, ScalarInteger(internal->dim_cA_12));
  SET_VECTOR_ELT(contents, 77, ScalarInteger(internal->dim_cA_2));
  SET_VECTOR_ELT(contents, 78, ScalarInteger(internal->dim_cA_3));
  SET_VECTOR_ELT(contents, 79, ScalarInteger(internal->dim_clin_inc));
  SET_VECTOR_ELT(contents, 80, ScalarInteger(internal->dim_clin_inc_1));
  SET_VECTOR_ELT(contents, 81, ScalarInteger(internal->dim_clin_inc_12));
  SET_VECTOR_ELT(contents, 82, ScalarInteger(internal->dim_clin_inc_2));
  SET_VECTOR_ELT(contents, 83, ScalarInteger(internal->dim_clin_inc_3));
  SET_VECTOR_ELT(contents, 84, ScalarInteger(internal->dim_clin_inc0to5));
  SET_VECTOR_ELT(contents, 85, ScalarInteger(internal->dim_clin_inc0to5_1));
  SET_VECTOR_ELT(contents, 86, ScalarInteger(internal->dim_clin_inc0to5_12));
  SET_VECTOR_ELT(contents, 87, ScalarInteger(internal->dim_clin_inc0to5_2));
  SET_VECTOR_ELT(contents, 88, ScalarInteger(internal->dim_clin_inc0to5_3));
  SET_VECTOR_ELT(contents, 89, ScalarInteger(internal->dim_cov));
  SET_VECTOR_ELT(contents, 90, ScalarInteger(internal->dim_cov_));
  SET_VECTOR_ELT(contents, 91, ScalarInteger(internal->dim_D));
  SET_VECTOR_ELT(contents, 92, ScalarInteger(internal->dim_D_1));
  SET_VECTOR_ELT(contents, 93, ScalarInteger(internal->dim_D_12));
  SET_VECTOR_ELT(contents, 94, ScalarInteger(internal->dim_D_2));
  SET_VECTOR_ELT(contents, 95, ScalarInteger(internal->dim_D_3));
  SET_VECTOR_ELT(contents, 96, ScalarInteger(internal->dim_delay_FOI));
  SET_VECTOR_ELT(contents, 97, ScalarInteger(internal->dim_delay_FOIv));
  SET_VECTOR_ELT(contents, 98, ScalarInteger(internal->dim_den));
  SET_VECTOR_ELT(contents, 99, ScalarInteger(internal->dim_EIR));
  SET_VECTOR_ELT(contents, 100, ScalarInteger(internal->dim_EIR_1));
  SET_VECTOR_ELT(contents, 101, ScalarInteger(internal->dim_EIR_12));
  SET_VECTOR_ELT(contents, 102, ScalarInteger(internal->dim_EIR_2));
  SET_VECTOR_ELT(contents, 103, ScalarInteger(internal->dim_EIR_3));
  SET_VECTOR_ELT(contents, 104, ScalarInteger(internal->dim_Ev));
  SET_VECTOR_ELT(contents, 105, ScalarInteger(internal->dim_fd));
  SET_VECTOR_ELT(contents, 106, ScalarInteger(internal->dim_FOI));
  SET_VECTOR_ELT(contents, 107, ScalarInteger(internal->dim_FOI_1));
  SET_VECTOR_ELT(contents, 108, ScalarInteger(internal->dim_FOI_12));
  SET_VECTOR_ELT(contents, 109, ScalarInteger(internal->dim_FOI_2));
  SET_VECTOR_ELT(contents, 110, ScalarInteger(internal->dim_FOI_3));
  SET_VECTOR_ELT(contents, 111, ScalarInteger(internal->dim_foi_age));
  SET_VECTOR_ELT(contents, 112, ScalarInteger(internal->dim_FOI_lag));
  SET_VECTOR_ELT(contents, 113, ScalarInteger(internal->dim_FOI_lag_1));
  SET_VECTOR_ELT(contents, 114, ScalarInteger(internal->dim_FOI_lag_12));
  SET_VECTOR_ELT(contents, 115, ScalarInteger(internal->dim_FOI_lag_2));
  SET_VECTOR_ELT(contents, 116, ScalarInteger(internal->dim_FOI_lag_3));
  SET_VECTOR_ELT(contents, 117, ScalarInteger(internal->dim_FOIvijk));
  SET_VECTOR_ELT(contents, 118, ScalarInteger(internal->dim_FOIvijk_1));
  SET_VECTOR_ELT(contents, 119, ScalarInteger(internal->dim_FOIvijk_12));
  SET_VECTOR_ELT(contents, 120, ScalarInteger(internal->dim_FOIvijk_2));
  SET_VECTOR_ELT(contents, 121, ScalarInteger(internal->dim_FOIvijk_3));
  SET_VECTOR_ELT(contents, 122, ScalarInteger(internal->dim_het_wt));
  SET_VECTOR_ELT(contents, 123, ScalarInteger(internal->dim_IB));
  SET_VECTOR_ELT(contents, 124, ScalarInteger(internal->dim_IB_1));
  SET_VECTOR_ELT(contents, 125, ScalarInteger(internal->dim_IB_12));
  SET_VECTOR_ELT(contents, 126, ScalarInteger(internal->dim_IB_2));
  SET_VECTOR_ELT(contents, 127, ScalarInteger(internal->dim_IB_3));
  SET_VECTOR_ELT(contents, 128, ScalarInteger(internal->dim_IC));
  SET_VECTOR_ELT(contents, 129, ScalarInteger(internal->dim_IC_1));
  SET_VECTOR_ELT(contents, 130, ScalarInteger(internal->dim_IC_12));
  SET_VECTOR_ELT(contents, 131, ScalarInteger(internal->dim_IC_2));
  SET_VECTOR_ELT(contents, 132, ScalarInteger(internal->dim_IC_3));
  SET_VECTOR_ELT(contents, 133, ScalarInteger(internal->dim_ICA));
  SET_VECTOR_ELT(contents, 134, ScalarInteger(internal->dim_ICA_1));
  SET_VECTOR_ELT(contents, 135, ScalarInteger(internal->dim_ICA_12));
  SET_VECTOR_ELT(contents, 136, ScalarInteger(internal->dim_ICA_2));
  SET_VECTOR_ELT(contents, 137, ScalarInteger(internal->dim_ICA_3));
  SET_VECTOR_ELT(contents, 138, ScalarInteger(internal->dim_ICM));
  SET_VECTOR_ELT(contents, 139, ScalarInteger(internal->dim_ICM_1));
  SET_VECTOR_ELT(contents, 140, ScalarInteger(internal->dim_ICM_12));
  SET_VECTOR_ELT(contents, 141, ScalarInteger(internal->dim_ICM_2));
  SET_VECTOR_ELT(contents, 142, ScalarInteger(internal->dim_ICM_3));
  SET_VECTOR_ELT(contents, 143, ScalarInteger(internal->dim_ID));
  SET_VECTOR_ELT(contents, 144, ScalarInteger(internal->dim_ID_1));
  SET_VECTOR_ELT(contents, 145, ScalarInteger(internal->dim_ID_12));
  SET_VECTOR_ELT(contents, 146, ScalarInteger(internal->dim_ID_2));
  SET_VECTOR_ELT(contents, 147, ScalarInteger(internal->dim_ID_3));
  SET_VECTOR_ELT(contents, 148, ScalarInteger(internal->dim_init_A));
  SET_VECTOR_ELT(contents, 149, ScalarInteger(internal->dim_init_A_1));
  SET_VECTOR_ELT(contents, 150, ScalarInteger(internal->dim_init_A_12));
  SET_VECTOR_ELT(contents, 151, ScalarInteger(internal->dim_init_A_2));
  SET_VECTOR_ELT(contents, 152, ScalarInteger(internal->dim_init_A_3));
  SET_VECTOR_ELT(contents, 153, ScalarInteger(internal->dim_init_D));
  SET_VECTOR_ELT(contents, 154, ScalarInteger(internal->dim_init_D_1));
  SET_VECTOR_ELT(contents, 155, ScalarInteger(internal->dim_init_D_12));
  SET_VECTOR_ELT(contents, 156, ScalarInteger(internal->dim_init_D_2));
  SET_VECTOR_ELT(contents, 157, ScalarInteger(internal->dim_init_D_3));
  SET_VECTOR_ELT(contents, 158, ScalarInteger(internal->dim_init_IB));
  SET_VECTOR_ELT(contents, 159, ScalarInteger(internal->dim_init_IB_1));
  SET_VECTOR_ELT(contents, 160, ScalarInteger(internal->dim_init_IB_12));
  SET_VECTOR_ELT(contents, 161, ScalarInteger(internal->dim_init_IB_2));
  SET_VECTOR_ELT(contents, 162, ScalarInteger(internal->dim_init_IB_3));
  SET_VECTOR_ELT(contents, 163, ScalarInteger(internal->dim_init_ICA));
  SET_VECTOR_ELT(contents, 164, ScalarInteger(internal->dim_init_ICA_1));
  SET_VECTOR_ELT(contents, 165, ScalarInteger(internal->dim_init_ICA_12));
  SET_VECTOR_ELT(contents, 166, ScalarInteger(internal->dim_init_ICA_2));
  SET_VECTOR_ELT(contents, 167, ScalarInteger(internal->dim_init_ICA_3));
  SET_VECTOR_ELT(contents, 168, ScalarInteger(internal->dim_init_ICM));
  SET_VECTOR_ELT(contents, 169, ScalarInteger(internal->dim_init_ICM_1));
  SET_VECTOR_ELT(contents, 170, ScalarInteger(internal->dim_init_ICM_12));
  SET_VECTOR_ELT(contents, 171, ScalarInteger(internal->dim_init_ICM_2));
  SET_VECTOR_ELT(contents, 172, ScalarInteger(internal->dim_init_ICM_3));
  SET_VECTOR_ELT(contents, 173, ScalarInteger(internal->dim_init_ICM_pre));
  SET_VECTOR_ELT(contents, 174, ScalarInteger(internal->dim_init_ICM_pre_1));
  SET_VECTOR_ELT(contents, 175, ScalarInteger(internal->dim_init_ICM_pre_2));
  SET_VECTOR_ELT(contents, 176, ScalarInteger(internal->dim_init_ID));
  SET_VECTOR_ELT(contents, 177, ScalarInteger(internal->dim_init_ID_1));
  SET_VECTOR_ELT(contents, 178, ScalarInteger(internal->dim_init_ID_12));
  SET_VECTOR_ELT(contents, 179, ScalarInteger(internal->dim_init_ID_2));
  SET_VECTOR_ELT(contents, 180, ScalarInteger(internal->dim_init_ID_3));
  SET_VECTOR_ELT(contents, 181, ScalarInteger(internal->dim_init_P));
  SET_VECTOR_ELT(contents, 182, ScalarInteger(internal->dim_init_P_1));
  SET_VECTOR_ELT(contents, 183, ScalarInteger(internal->dim_init_P_12));
  SET_VECTOR_ELT(contents, 184, ScalarInteger(internal->dim_init_P_2));
  SET_VECTOR_ELT(contents, 185, ScalarInteger(internal->dim_init_P_3));
  SET_VECTOR_ELT(contents, 186, ScalarInteger(internal->dim_init_S));
  SET_VECTOR_ELT(contents, 187, ScalarInteger(internal->dim_init_S_1));
  SET_VECTOR_ELT(contents, 188, ScalarInteger(internal->dim_init_S_12));
  SET_VECTOR_ELT(contents, 189, ScalarInteger(internal->dim_init_S_2));
  SET_VECTOR_ELT(contents, 190, ScalarInteger(internal->dim_init_S_3));
  SET_VECTOR_ELT(contents, 191, ScalarInteger(internal->dim_init_T));
  SET_VECTOR_ELT(contents, 192, ScalarInteger(internal->dim_init_T_1));
  SET_VECTOR_ELT(contents, 193, ScalarInteger(internal->dim_init_T_12));
  SET_VECTOR_ELT(contents, 194, ScalarInteger(internal->dim_init_T_2));
  SET_VECTOR_ELT(contents, 195, ScalarInteger(internal->dim_init_T_3));
  SET_VECTOR_ELT(contents, 196, ScalarInteger(internal->dim_init_U));
  SET_VECTOR_ELT(contents, 197, ScalarInteger(internal->dim_init_U_1));
  SET_VECTOR_ELT(contents, 198, ScalarInteger(internal->dim_init_U_12));
  SET_VECTOR_ELT(contents, 199, ScalarInteger(internal->dim_init_U_2));
  SET_VECTOR_ELT(contents, 200, ScalarInteger(internal->dim_init_U_3));
  SET_VECTOR_ELT(contents, 201, ScalarInteger(internal->dim_P));
  SET_VECTOR_ELT(contents, 202, ScalarInteger(internal->dim_P_1));
  SET_VECTOR_ELT(contents, 203, ScalarInteger(internal->dim_P_12));
  SET_VECTOR_ELT(contents, 204, ScalarInteger(internal->dim_P_2));
  SET_VECTOR_ELT(contents, 205, ScalarInteger(internal->dim_P_3));
  SET_VECTOR_ELT(contents, 206, ScalarInteger(internal->dim_p_det));
  SET_VECTOR_ELT(contents, 207, ScalarInteger(internal->dim_p_det_1));
  SET_VECTOR_ELT(contents, 208, ScalarInteger(internal->dim_p_det_12));
  SET_VECTOR_ELT(contents, 209, ScalarInteger(internal->dim_p_det_2));
  SET_VECTOR_ELT(contents, 210, ScalarInteger(internal->dim_p_det_3));
  SET_VECTOR_ELT(contents, 211, ScalarInteger(internal->dim_phi));
  SET_VECTOR_ELT(contents, 212, ScalarInteger(internal->dim_phi_1));
  SET_VECTOR_ELT(contents, 213, ScalarInteger(internal->dim_phi_12));
  SET_VECTOR_ELT(contents, 214, ScalarInteger(internal->dim_phi_2));
  SET_VECTOR_ELT(contents, 215, ScalarInteger(internal->dim_phi_3));
  SET_VECTOR_ELT(contents, 216, ScalarInteger(internal->dim_prev0to59));
  SET_VECTOR_ELT(contents, 217, ScalarInteger(internal->dim_prev0to59_1));
  SET_VECTOR_ELT(contents, 218, ScalarInteger(internal->dim_prev0to59_12));
  SET_VECTOR_ELT(contents, 219, ScalarInteger(internal->dim_prev0to59_2));
  SET_VECTOR_ELT(contents, 220, ScalarInteger(internal->dim_prev0to59_3));
  SET_VECTOR_ELT(contents, 221, ScalarInteger(internal->dim_rel_foi));
  SET_VECTOR_ELT(contents, 222, ScalarInteger(internal->dim_S));
  SET_VECTOR_ELT(contents, 223, ScalarInteger(internal->dim_S_1));
  SET_VECTOR_ELT(contents, 224, ScalarInteger(internal->dim_S_12));
  SET_VECTOR_ELT(contents, 225, ScalarInteger(internal->dim_S_2));
  SET_VECTOR_ELT(contents, 226, ScalarInteger(internal->dim_S_3));
  SET_VECTOR_ELT(contents, 227, ScalarInteger(internal->dim_T));
  SET_VECTOR_ELT(contents, 228, ScalarInteger(internal->dim_T_1));
  SET_VECTOR_ELT(contents, 229, ScalarInteger(internal->dim_T_12));
  SET_VECTOR_ELT(contents, 230, ScalarInteger(internal->dim_T_2));
  SET_VECTOR_ELT(contents, 231, ScalarInteger(internal->dim_T_3));
  SET_VECTOR_ELT(contents, 232, ScalarInteger(internal->dim_U));
  SET_VECTOR_ELT(contents, 233, ScalarInteger(internal->dim_U_1));
  SET_VECTOR_ELT(contents, 234, ScalarInteger(internal->dim_U_12));
  SET_VECTOR_ELT(contents, 235, ScalarInteger(internal->dim_U_2));
  SET_VECTOR_ELT(contents, 236, ScalarInteger(internal->dim_U_3));
  SET_VECTOR_ELT(contents, 237, ScalarInteger(internal->dim_w));
  SET_VECTOR_ELT(contents, 238, ScalarInteger(internal->dim_w_));
  SET_VECTOR_ELT(contents, 239, ScalarInteger(internal->dim_whi));
  SET_VECTOR_ELT(contents, 240, ScalarInteger(internal->dim_x_I));
  SET_VECTOR_ELT(contents, 241, ScalarInteger(internal->dim_Y));
  SET_VECTOR_ELT(contents, 242, ScalarInteger(internal->dim_Y_1));
  SET_VECTOR_ELT(contents, 243, ScalarInteger(internal->dim_Y_12));
  SET_VECTOR_ELT(contents, 244, ScalarInteger(internal->dim_Y_2));
  SET_VECTOR_ELT(contents, 245, ScalarInteger(internal->dim_Y_3));
  SET_VECTOR_ELT(contents, 246, ScalarInteger(internal->dim_yy));
  SET_VECTOR_ELT(contents, 247, ScalarInteger(internal->dim_yy_));
  SET_VECTOR_ELT(contents, 248, ScalarInteger(internal->dim_z));
  SET_VECTOR_ELT(contents, 249, ScalarInteger(internal->dim_z_));
  SET_VECTOR_ELT(contents, 250, ScalarInteger(internal->dim_zhi));
  SET_VECTOR_ELT(contents, 251, ScalarReal(internal->dLL));
  SET_VECTOR_ELT(contents, 252, ScalarReal(internal->dPL));
  SEXP EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(EIR), internal->EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(EIR, 3, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3);
  SET_VECTOR_ELT(contents, 253, EIR);
  SET_VECTOR_ELT(contents, 254, ScalarReal(internal->eta));
  SEXP fd = PROTECT(allocVector(REALSXP, internal->dim_fd));
  memcpy(REAL(fd), internal->fd, internal->dim_fd * sizeof(double));
  SET_VECTOR_ELT(contents, 255, fd);
  SET_VECTOR_ELT(contents, 256, ScalarReal(internal->fD0));
  SEXP FOI = PROTECT(allocVector(REALSXP, internal->dim_FOI));
  memcpy(REAL(FOI), internal->FOI, internal->dim_FOI * sizeof(double));
  odin_set_dim(FOI, 3, internal->dim_FOI_1, internal->dim_FOI_2, internal->dim_FOI_3);
  SET_VECTOR_ELT(contents, 257, FOI);
  SEXP foi_age = PROTECT(allocVector(REALSXP, internal->dim_foi_age));
  memcpy(REAL(foi_age), internal->foi_age, internal->dim_foi_age * sizeof(double));
  SET_VECTOR_ELT(contents, 258, foi_age);
  SEXP FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(FOI_lag), internal->FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(FOI_lag, 3, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3);
  SET_VECTOR_ELT(contents, 259, FOI_lag);
  SEXP FOIvijk = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk));
  memcpy(REAL(FOIvijk), internal->FOIvijk, internal->dim_FOIvijk * sizeof(double));
  odin_set_dim(FOIvijk, 3, internal->dim_FOIvijk_1, internal->dim_FOIvijk_2, internal->dim_FOIvijk_3);
  SET_VECTOR_ELT(contents, 260, FOIvijk);
  SET_VECTOR_ELT(contents, 261, ScalarReal(internal->ft));
  SET_VECTOR_ELT(contents, 262, ScalarReal(internal->gamma1));
  SET_VECTOR_ELT(contents, 263, ScalarReal(internal->gammaD));
  SET_VECTOR_ELT(contents, 264, ScalarReal(internal->gammaL));
  SEXP het_wt = PROTECT(allocVector(REALSXP, internal->dim_het_wt));
  memcpy(REAL(het_wt), internal->het_wt, internal->dim_het_wt * sizeof(double));
  SET_VECTOR_ELT(contents, 265, het_wt);
  SET_VECTOR_ELT(contents, 266, ScalarReal(internal->hrp2_prop));
  SET_VECTOR_ELT(contents, 267, ScalarReal(internal->IB0));
  SEXP IC = PROTECT(allocVector(REALSXP, internal->dim_IC));
  memcpy(REAL(IC), internal->IC, internal->dim_IC * sizeof(double));
  odin_set_dim(IC, 3, internal->dim_IC_1, internal->dim_IC_2, internal->dim_IC_3);
  SET_VECTOR_ELT(contents, 268, IC);
  SET_VECTOR_ELT(contents, 269, ScalarReal(internal->IC0));
  SET_VECTOR_ELT(contents, 270, ScalarReal(internal->ID0));
  SEXP init_A = PROTECT(allocVector(REALSXP, internal->dim_init_A));
  memcpy(REAL(init_A), internal->init_A, internal->dim_init_A * sizeof(double));
  odin_set_dim(init_A, 3, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3);
  SET_VECTOR_ELT(contents, 271, init_A);
  SEXP init_D = PROTECT(allocVector(REALSXP, internal->dim_init_D));
  memcpy(REAL(init_D), internal->init_D, internal->dim_init_D * sizeof(double));
  odin_set_dim(init_D, 3, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3);
  SET_VECTOR_ELT(contents, 272, init_D);
  SET_VECTOR_ELT(contents, 273, ScalarReal(internal->init_EL));
  SET_VECTOR_ELT(contents, 274, ScalarReal(internal->init_Ev));
  SEXP init_IB = PROTECT(allocVector(REALSXP, internal->dim_init_IB));
  memcpy(REAL(init_IB), internal->init_IB, internal->dim_init_IB * sizeof(double));
  odin_set_dim(init_IB, 3, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3);
  SET_VECTOR_ELT(contents, 275, init_IB);
  SEXP init_ICA = PROTECT(allocVector(REALSXP, internal->dim_init_ICA));
  memcpy(REAL(init_ICA), internal->init_ICA, internal->dim_init_ICA * sizeof(double));
  odin_set_dim(init_ICA, 3, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3);
  SET_VECTOR_ELT(contents, 276, init_ICA);
  SEXP init_ICM = PROTECT(allocVector(REALSXP, internal->dim_init_ICM));
  memcpy(REAL(init_ICM), internal->init_ICM, internal->dim_init_ICM * sizeof(double));
  odin_set_dim(init_ICM, 3, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3);
  SET_VECTOR_ELT(contents, 277, init_ICM);
  SEXP init_ICM_pre = PROTECT(allocVector(REALSXP, internal->dim_init_ICM_pre));
  memcpy(REAL(init_ICM_pre), internal->init_ICM_pre, internal->dim_init_ICM_pre * sizeof(double));
  odin_set_dim(init_ICM_pre, 2, internal->dim_init_ICM_pre_1, internal->dim_init_ICM_pre_2);
  SET_VECTOR_ELT(contents, 278, init_ICM_pre);
  SEXP init_ID = PROTECT(allocVector(REALSXP, internal->dim_init_ID));
  memcpy(REAL(init_ID), internal->init_ID, internal->dim_init_ID * sizeof(double));
  odin_set_dim(init_ID, 3, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3);
  SET_VECTOR_ELT(contents, 279, init_ID);
  SET_VECTOR_ELT(contents, 280, ScalarReal(internal->init_Iv));
  SET_VECTOR_ELT(contents, 281, ScalarReal(internal->init_LL));
  SEXP init_P = PROTECT(allocVector(REALSXP, internal->dim_init_P));
  memcpy(REAL(init_P), internal->init_P, internal->dim_init_P * sizeof(double));
  odin_set_dim(init_P, 3, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3);
  SET_VECTOR_ELT(contents, 282, init_P);
  SET_VECTOR_ELT(contents, 283, ScalarReal(internal->init_PL));
  SEXP init_S = PROTECT(allocVector(REALSXP, internal->dim_init_S));
  memcpy(REAL(init_S), internal->init_S, internal->dim_init_S * sizeof(double));
  odin_set_dim(init_S, 3, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3);
  SET_VECTOR_ELT(contents, 284, init_S);
  SET_VECTOR_ELT(contents, 285, ScalarReal(internal->init_Sv));
  SEXP init_T = PROTECT(allocVector(REALSXP, internal->dim_init_T));
  memcpy(REAL(init_T), internal->init_T, internal->dim_init_T * sizeof(double));
  odin_set_dim(init_T, 3, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3);
  SET_VECTOR_ELT(contents, 286, init_T);
  SEXP init_U = PROTECT(allocVector(REALSXP, internal->dim_init_U));
  memcpy(REAL(init_U), internal->init_U, internal->dim_init_U * sizeof(double));
  odin_set_dim(init_U, 3, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3);
  SET_VECTOR_ELT(contents, 287, init_U);
  SEXP initial_A = PROTECT(allocVector(REALSXP, internal->dim_A));
  memcpy(REAL(initial_A), internal->initial_A, internal->dim_A * sizeof(double));
  odin_set_dim(initial_A, 3, internal->dim_A_1, internal->dim_A_2, internal->dim_A_3);
  SET_VECTOR_ELT(contents, 288, initial_A);
  SEXP initial_D = PROTECT(allocVector(REALSXP, internal->dim_D));
  memcpy(REAL(initial_D), internal->initial_D, internal->dim_D * sizeof(double));
  odin_set_dim(initial_D, 3, internal->dim_D_1, internal->dim_D_2, internal->dim_D_3);
  SET_VECTOR_ELT(contents, 289, initial_D);
  SET_VECTOR_ELT(contents, 290, ScalarReal(internal->initial_EL));
  SEXP initial_Ev = PROTECT(allocVector(REALSXP, internal->dim_Ev));
  memcpy(REAL(initial_Ev), internal->initial_Ev, internal->dim_Ev * sizeof(double));
  SET_VECTOR_ELT(contents, 291, initial_Ev);
  SEXP initial_IB = PROTECT(allocVector(REALSXP, internal->dim_IB));
  memcpy(REAL(initial_IB), internal->initial_IB, internal->dim_IB * sizeof(double));
  odin_set_dim(initial_IB, 3, internal->dim_IB_1, internal->dim_IB_2, internal->dim_IB_3);
  SET_VECTOR_ELT(contents, 292, initial_IB);
  SEXP initial_ICA = PROTECT(allocVector(REALSXP, internal->dim_ICA));
  memcpy(REAL(initial_ICA), internal->initial_ICA, internal->dim_ICA * sizeof(double));
  odin_set_dim(initial_ICA, 3, internal->dim_ICA_1, internal->dim_ICA_2, internal->dim_ICA_3);
  SET_VECTOR_ELT(contents, 293, initial_ICA);
  SEXP initial_ICM = PROTECT(allocVector(REALSXP, internal->dim_ICM));
  memcpy(REAL(initial_ICM), internal->initial_ICM, internal->dim_ICM * sizeof(double));
  odin_set_dim(initial_ICM, 3, internal->dim_ICM_1, internal->dim_ICM_2, internal->dim_ICM_3);
  SET_VECTOR_ELT(contents, 294, initial_ICM);
  SEXP initial_ID = PROTECT(allocVector(REALSXP, internal->dim_ID));
  memcpy(REAL(initial_ID), internal->initial_ID, internal->dim_ID * sizeof(double));
  odin_set_dim(initial_ID, 3, internal->dim_ID_1, internal->dim_ID_2, internal->dim_ID_3);
  SET_VECTOR_ELT(contents, 295, initial_ID);
  SET_VECTOR_ELT(contents, 296, ScalarReal(internal->initial_Iv));
  SET_VECTOR_ELT(contents, 297, ScalarReal(internal->initial_LL));
  SEXP initial_P = PROTECT(allocVector(REALSXP, internal->dim_P));
  memcpy(REAL(initial_P), internal->initial_P, internal->dim_P * sizeof(double));
  odin_set_dim(initial_P, 3, internal->dim_P_1, internal->dim_P_2, internal->dim_P_3);
  SET_VECTOR_ELT(contents, 298, initial_P);
  SET_VECTOR_ELT(contents, 299, ScalarReal(internal->initial_PL));
  SEXP initial_S = PROTECT(allocVector(REALSXP, internal->dim_S));
  memcpy(REAL(initial_S), internal->initial_S, internal->dim_S * sizeof(double));
  odin_set_dim(initial_S, 3, internal->dim_S_1, internal->dim_S_2, internal->dim_S_3);
  SET_VECTOR_ELT(contents, 300, initial_S);
  SET_VECTOR_ELT(contents, 301, ScalarReal(internal->initial_Sv));
  SET_VECTOR_ELT(contents, 302, ScalarReal(internal->initial_t));
  SEXP initial_T = PROTECT(allocVector(REALSXP, internal->dim_T));
  memcpy(REAL(initial_T), internal->initial_T, internal->dim_T * sizeof(double));
  odin_set_dim(initial_T, 3, internal->dim_T_1, internal->dim_T_2, internal->dim_T_3);
  SET_VECTOR_ELT(contents, 303, initial_T);
  SEXP initial_U = PROTECT(allocVector(REALSXP, internal->dim_U));
  memcpy(REAL(initial_U), internal->initial_U, internal->dim_U * sizeof(double));
  odin_set_dim(initial_U, 3, internal->dim_U_1, internal->dim_U_2, internal->dim_U_3);
  SET_VECTOR_ELT(contents, 304, initial_U);
  SET_VECTOR_ELT(contents, 305, ScalarReal(internal->irs_cov));
  SET_VECTOR_ELT(contents, 306, ScalarReal(internal->IRS_interval));
  SET_VECTOR_ELT(contents, 307, ScalarReal(internal->irs_loss));
  SET_VECTOR_ELT(contents, 308, ScalarReal(internal->itn_cov));
  SET_VECTOR_ELT(contents, 309, ScalarReal(internal->ITN_interval));
  SET_VECTOR_ELT(contents, 310, ScalarReal(internal->ITN_IRS_on));
  SET_VECTOR_ELT(contents, 311, ScalarReal(internal->itn_loss));
  SET_VECTOR_ELT(contents, 312, ScalarReal(internal->kB));
  SET_VECTOR_ELT(contents, 313, ScalarReal(internal->kC));
  SET_VECTOR_ELT(contents, 314, ScalarReal(internal->kD));
  SET_VECTOR_ELT(contents, 315, ScalarReal(internal->mu0));
  SET_VECTOR_ELT(contents, 316, ScalarReal(internal->muEL));
  SET_VECTOR_ELT(contents, 317, ScalarReal(internal->muLL));
  SET_VECTOR_ELT(contents, 318, ScalarReal(internal->muPL));
  SET_VECTOR_ELT(contents, 319, ScalarReal(internal->mv0));
  SET_VECTOR_ELT(contents, 320, ScalarInteger(internal->na));
  SET_VECTOR_ELT(contents, 321, ScalarInteger(internal->nh));
  SET_VECTOR_ELT(contents, 322, ScalarInteger(internal->num_int));
  SET_VECTOR_ELT(contents, 323, ScalarInteger(internal->offset_FOIv_A));
  SET_VECTOR_ELT(contents, 324, ScalarInteger(internal->offset_FOIv_ID));
  SET_VECTOR_ELT(contents, 325, ScalarInteger(internal->offset_FOIv_U));
  SET_VECTOR_ELT(contents, 326, ScalarInteger(internal->offset_variable_A));
  SET_VECTOR_ELT(contents, 327, ScalarInteger(internal->offset_variable_D));
  SET_VECTOR_ELT(contents, 328, ScalarInteger(internal->offset_variable_IB));
  SET_VECTOR_ELT(contents, 329, ScalarInteger(internal->offset_variable_ICA));
  SET_VECTOR_ELT(contents, 330, ScalarInteger(internal->offset_variable_ICM));
  SET_VECTOR_ELT(contents, 331, ScalarInteger(internal->offset_variable_ID));
  SET_VECTOR_ELT(contents, 332, ScalarInteger(internal->offset_variable_P));
  SET_VECTOR_ELT(contents, 333, ScalarInteger(internal->offset_variable_S));
  SET_VECTOR_ELT(contents, 334, ScalarInteger(internal->offset_variable_T));
  SET_VECTOR_ELT(contents, 335, ScalarInteger(internal->offset_variable_U));
  SET_VECTOR_ELT(contents, 336, ScalarReal(internal->omega));
  SEXP p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(p_det), internal->p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(p_det, 3, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3);
  SET_VECTOR_ELT(contents, 337, p_det);
  SET_VECTOR_ELT(contents, 338, ScalarReal(internal->p10));
  SET_VECTOR_ELT(contents, 339, ScalarReal(internal->p2));
  SEXP phi = PROTECT(allocVector(REALSXP, internal->dim_phi));
  memcpy(REAL(phi), internal->phi, internal->dim_phi * sizeof(double));
  odin_set_dim(phi, 3, internal->dim_phi_1, internal->dim_phi_2, internal->dim_phi_3);
  SET_VECTOR_ELT(contents, 340, phi);
  SET_VECTOR_ELT(contents, 341, ScalarReal(internal->phi0));
  SET_VECTOR_ELT(contents, 342, ScalarReal(internal->phi1));
  SET_VECTOR_ELT(contents, 343, ScalarReal(internal->pi));
  SET_VECTOR_ELT(contents, 344, ScalarReal(internal->PM));
  SEXP prev0to59 = PROTECT(allocVector(REALSXP, internal->dim_prev0to59));
  memcpy(REAL(prev0to59), internal->prev0to59, internal->dim_prev0to59 * sizeof(double));
  odin_set_dim(prev0to59, 3, internal->dim_prev0to59_1, internal->dim_prev0to59_2, internal->dim_prev0to59_3);
  SET_VECTOR_ELT(contents, 345, prev0to59);
  SET_VECTOR_ELT(contents, 346, ScalarReal(internal->Q0));
  SET_VECTOR_ELT(contents, 347, ScalarReal(internal->r_IRS0));
  SET_VECTOR_ELT(contents, 348, ScalarReal(internal->r_ITN0));
  SET_VECTOR_ELT(contents, 349, ScalarReal(internal->r_ITN1));
  SET_VECTOR_ELT(contents, 350, ScalarReal(internal->rA));
  SET_VECTOR_ELT(contents, 351, ScalarReal(internal->rD));
  SEXP rel_foi = PROTECT(allocVector(REALSXP, internal->dim_rel_foi));
  memcpy(REAL(rel_foi), internal->rel_foi, internal->dim_rel_foi * sizeof(double));
  SET_VECTOR_ELT(contents, 352, rel_foi);
  SET_VECTOR_ELT(contents, 353, ScalarReal(internal->rP));
  SET_VECTOR_ELT(contents, 354, ScalarReal(internal->rT));
  SET_VECTOR_ELT(contents, 355, ScalarReal(internal->rU));
  SET_VECTOR_ELT(contents, 356, ScalarReal(internal->ssa0));
  SET_VECTOR_ELT(contents, 357, ScalarReal(internal->ssa1));
  SET_VECTOR_ELT(contents, 358, ScalarReal(internal->ssa2));
  SET_VECTOR_ELT(contents, 359, ScalarReal(internal->ssa3));
  SET_VECTOR_ELT(contents, 360, ScalarReal(internal->ssb1));
  SET_VECTOR_ELT(contents, 361, ScalarReal(internal->ssb2));
  SET_VECTOR_ELT(contents, 362, ScalarReal(internal->ssb3));
  SET_VECTOR_ELT(contents, 363, ScalarReal(internal->tau1));
  SET_VECTOR_ELT(contents, 364, ScalarReal(internal->tau2));
  SET_VECTOR_ELT(contents, 365, ScalarReal(internal->theta_c));
  SET_VECTOR_ELT(contents, 366, ScalarReal(internal->uB));
  SET_VECTOR_ELT(contents, 367, ScalarReal(internal->uCA));
  SET_VECTOR_ELT(contents, 368, ScalarReal(internal->uD));
  SEXP w = PROTECT(allocVector(REALSXP, internal->dim_w));
  memcpy(REAL(w), internal->w, internal->dim_w * sizeof(double));
  SET_VECTOR_ELT(contents, 369, w);
  SEXP w_ = PROTECT(allocVector(REALSXP, internal->dim_w_));
  memcpy(REAL(w_), internal->w_, internal->dim_w_ * sizeof(double));
  SET_VECTOR_ELT(contents, 370, w_);
  SEXP whi = PROTECT(allocVector(REALSXP, internal->dim_whi));
  memcpy(REAL(whi), internal->whi, internal->dim_whi * sizeof(double));
  SET_VECTOR_ELT(contents, 371, whi);
  SEXP x_I = PROTECT(allocVector(REALSXP, internal->dim_x_I));
  memcpy(REAL(x_I), internal->x_I, internal->dim_x_I * sizeof(double));
  SET_VECTOR_ELT(contents, 372, x_I);
  SEXP Y = PROTECT(allocVector(REALSXP, internal->dim_Y));
  memcpy(REAL(Y), internal->Y, internal->dim_Y * sizeof(double));
  odin_set_dim(Y, 3, internal->dim_Y_1, internal->dim_Y_2, internal->dim_Y_3);
  SET_VECTOR_ELT(contents, 373, Y);
  SEXP yy = PROTECT(allocVector(REALSXP, internal->dim_yy));
  memcpy(REAL(yy), internal->yy, internal->dim_yy * sizeof(double));
  SET_VECTOR_ELT(contents, 374, yy);
  SEXP yy_ = PROTECT(allocVector(REALSXP, internal->dim_yy_));
  memcpy(REAL(yy_), internal->yy_, internal->dim_yy_ * sizeof(double));
  SET_VECTOR_ELT(contents, 375, yy_);
  SEXP z = PROTECT(allocVector(REALSXP, internal->dim_z));
  memcpy(REAL(z), internal->z, internal->dim_z * sizeof(double));
  SET_VECTOR_ELT(contents, 376, z);
  SEXP z_ = PROTECT(allocVector(REALSXP, internal->dim_z_));
  memcpy(REAL(z_), internal->z_, internal->dim_z_ * sizeof(double));
  SET_VECTOR_ELT(contents, 377, z_);
  SEXP zhi = PROTECT(allocVector(REALSXP, internal->dim_zhi));
  memcpy(REAL(zhi), internal->zhi, internal->dim_zhi * sizeof(double));
  SET_VECTOR_ELT(contents, 378, zhi);
  SET_VECTOR_ELT(contents, 379, ScalarLogical(internal->odin_model_hrp2_use_dde));
  SEXP nms = PROTECT(allocVector(STRSXP, 380));
  SET_STRING_ELT(nms, 0, mkChar("aD"));
  SET_STRING_ELT(nms, 1, mkChar("age"));
  SET_STRING_ELT(nms, 2, mkChar("age_20_factor"));
  SET_STRING_ELT(nms, 3, mkChar("age_rate"));
  SET_STRING_ELT(nms, 4, mkChar("age05"));
  SET_STRING_ELT(nms, 5, mkChar("age20l"));
  SET_STRING_ELT(nms, 6, mkChar("age20u"));
  SET_STRING_ELT(nms, 7, mkChar("age59"));
  SET_STRING_ELT(nms, 8, mkChar("av_human"));
  SET_STRING_ELT(nms, 9, mkChar("av_mosq"));
  SET_STRING_ELT(nms, 10, mkChar("b"));
  SET_STRING_ELT(nms, 11, mkChar("b_lambda"));
  SET_STRING_ELT(nms, 12, mkChar("b0"));
  SET_STRING_ELT(nms, 13, mkChar("b1"));
  SET_STRING_ELT(nms, 14, mkChar("betaL"));
  SET_STRING_ELT(nms, 15, mkChar("bites_Bed"));
  SET_STRING_ELT(nms, 16, mkChar("bites_Indoors"));
  SET_STRING_ELT(nms, 17, mkChar("cA"));
  SET_STRING_ELT(nms, 18, mkChar("cD"));
  SET_STRING_ELT(nms, 19, mkChar("chi"));
  SET_STRING_ELT(nms, 20, mkChar("clin_inc"));
  SET_STRING_ELT(nms, 21, mkChar("clin_inc0to5"));
  SET_STRING_ELT(nms, 22, mkChar("cov"));
  SET_STRING_ELT(nms, 23, mkChar("cov_"));
  SET_STRING_ELT(nms, 24, mkChar("cT"));
  SET_STRING_ELT(nms, 25, mkChar("cU"));
  SET_STRING_ELT(nms, 26, mkChar("d_IRS0"));
  SET_STRING_ELT(nms, 27, mkChar("d_ITN0"));
  SET_STRING_ELT(nms, 28, mkChar("d1"));
  SET_STRING_ELT(nms, 29, mkChar("dB"));
  SET_STRING_ELT(nms, 30, mkChar("dCA"));
  SET_STRING_ELT(nms, 31, mkChar("dCM"));
  SET_STRING_ELT(nms, 32, mkChar("dE"));
  SET_STRING_ELT(nms, 33, mkChar("dEL"));
  SET_STRING_ELT(nms, 34, mkChar("delay_array_av_human"));
  SET_STRING_ELT(nms, 35, mkChar("delay_array_av_mosq"));
  SET_STRING_ELT(nms, 36, mkChar("delay_array_b"));
  SET_STRING_ELT(nms, 37, mkChar("delay_array_cA"));
  SET_STRING_ELT(nms, 38, mkChar("delay_array_EIR"));
  SET_STRING_ELT(nms, 39, mkChar("delay_array_FOI_lag"));
  SET_STRING_ELT(nms, 40, mkChar("delay_array_FOIvijk"));
  SET_STRING_ELT(nms, 41, mkChar("delay_array_p_det"));
  SET_STRING_ELT(nms, 42, mkChar("delay_array_w"));
  SET_STRING_ELT(nms, 43, mkChar("delay_array_w_"));
  SET_STRING_ELT(nms, 44, mkChar("delay_array_whi"));
  SET_STRING_ELT(nms, 45, mkChar("delay_array_yy"));
  SET_STRING_ELT(nms, 46, mkChar("delay_array_yy_"));
  SET_STRING_ELT(nms, 47, mkChar("delay_array_z"));
  SET_STRING_ELT(nms, 48, mkChar("delay_array_z_"));
  SET_STRING_ELT(nms, 49, mkChar("delay_array_zhi"));
  SET_STRING_ELT(nms, 50, mkChar("delay_index_FOI"));
  SET_STRING_ELT(nms, 51, mkChar("delay_index_FOIv"));
  SET_STRING_ELT(nms, 52, mkChar("delay_index_incv"));
  SET_STRING_ELT(nms, 53, mkChar("delay_state_FOI"));
  SET_STRING_ELT(nms, 54, mkChar("delay_state_FOIv"));
  SET_STRING_ELT(nms, 55, mkChar("delay_state_incv"));
  SET_STRING_ELT(nms, 56, mkChar("delayGam"));
  SET_STRING_ELT(nms, 57, mkChar("delayMos"));
  SET_STRING_ELT(nms, 58, mkChar("den"));
  SET_STRING_ELT(nms, 59, mkChar("dID"));
  SET_STRING_ELT(nms, 60, mkChar("dim_A"));
  SET_STRING_ELT(nms, 61, mkChar("dim_A_1"));
  SET_STRING_ELT(nms, 62, mkChar("dim_A_12"));
  SET_STRING_ELT(nms, 63, mkChar("dim_A_2"));
  SET_STRING_ELT(nms, 64, mkChar("dim_A_3"));
  SET_STRING_ELT(nms, 65, mkChar("dim_age"));
  SET_STRING_ELT(nms, 66, mkChar("dim_age_rate"));
  SET_STRING_ELT(nms, 67, mkChar("dim_av_human"));
  SET_STRING_ELT(nms, 68, mkChar("dim_av_mosq"));
  SET_STRING_ELT(nms, 69, mkChar("dim_b"));
  SET_STRING_ELT(nms, 70, mkChar("dim_b_1"));
  SET_STRING_ELT(nms, 71, mkChar("dim_b_12"));
  SET_STRING_ELT(nms, 72, mkChar("dim_b_2"));
  SET_STRING_ELT(nms, 73, mkChar("dim_b_3"));
  SET_STRING_ELT(nms, 74, mkChar("dim_cA"));
  SET_STRING_ELT(nms, 75, mkChar("dim_cA_1"));
  SET_STRING_ELT(nms, 76, mkChar("dim_cA_12"));
  SET_STRING_ELT(nms, 77, mkChar("dim_cA_2"));
  SET_STRING_ELT(nms, 78, mkChar("dim_cA_3"));
  SET_STRING_ELT(nms, 79, mkChar("dim_clin_inc"));
  SET_STRING_ELT(nms, 80, mkChar("dim_clin_inc_1"));
  SET_STRING_ELT(nms, 81, mkChar("dim_clin_inc_12"));
  SET_STRING_ELT(nms, 82, mkChar("dim_clin_inc_2"));
  SET_STRING_ELT(nms, 83, mkChar("dim_clin_inc_3"));
  SET_STRING_ELT(nms, 84, mkChar("dim_clin_inc0to5"));
  SET_STRING_ELT(nms, 85, mkChar("dim_clin_inc0to5_1"));
  SET_STRING_ELT(nms, 86, mkChar("dim_clin_inc0to5_12"));
  SET_STRING_ELT(nms, 87, mkChar("dim_clin_inc0to5_2"));
  SET_STRING_ELT(nms, 88, mkChar("dim_clin_inc0to5_3"));
  SET_STRING_ELT(nms, 89, mkChar("dim_cov"));
  SET_STRING_ELT(nms, 90, mkChar("dim_cov_"));
  SET_STRING_ELT(nms, 91, mkChar("dim_D"));
  SET_STRING_ELT(nms, 92, mkChar("dim_D_1"));
  SET_STRING_ELT(nms, 93, mkChar("dim_D_12"));
  SET_STRING_ELT(nms, 94, mkChar("dim_D_2"));
  SET_STRING_ELT(nms, 95, mkChar("dim_D_3"));
  SET_STRING_ELT(nms, 96, mkChar("dim_delay_FOI"));
  SET_STRING_ELT(nms, 97, mkChar("dim_delay_FOIv"));
  SET_STRING_ELT(nms, 98, mkChar("dim_den"));
  SET_STRING_ELT(nms, 99, mkChar("dim_EIR"));
  SET_STRING_ELT(nms, 100, mkChar("dim_EIR_1"));
  SET_STRING_ELT(nms, 101, mkChar("dim_EIR_12"));
  SET_STRING_ELT(nms, 102, mkChar("dim_EIR_2"));
  SET_STRING_ELT(nms, 103, mkChar("dim_EIR_3"));
  SET_STRING_ELT(nms, 104, mkChar("dim_Ev"));
  SET_STRING_ELT(nms, 105, mkChar("dim_fd"));
  SET_STRING_ELT(nms, 106, mkChar("dim_FOI"));
  SET_STRING_ELT(nms, 107, mkChar("dim_FOI_1"));
  SET_STRING_ELT(nms, 108, mkChar("dim_FOI_12"));
  SET_STRING_ELT(nms, 109, mkChar("dim_FOI_2"));
  SET_STRING_ELT(nms, 110, mkChar("dim_FOI_3"));
  SET_STRING_ELT(nms, 111, mkChar("dim_foi_age"));
  SET_STRING_ELT(nms, 112, mkChar("dim_FOI_lag"));
  SET_STRING_ELT(nms, 113, mkChar("dim_FOI_lag_1"));
  SET_STRING_ELT(nms, 114, mkChar("dim_FOI_lag_12"));
  SET_STRING_ELT(nms, 115, mkChar("dim_FOI_lag_2"));
  SET_STRING_ELT(nms, 116, mkChar("dim_FOI_lag_3"));
  SET_STRING_ELT(nms, 117, mkChar("dim_FOIvijk"));
  SET_STRING_ELT(nms, 118, mkChar("dim_FOIvijk_1"));
  SET_STRING_ELT(nms, 119, mkChar("dim_FOIvijk_12"));
  SET_STRING_ELT(nms, 120, mkChar("dim_FOIvijk_2"));
  SET_STRING_ELT(nms, 121, mkChar("dim_FOIvijk_3"));
  SET_STRING_ELT(nms, 122, mkChar("dim_het_wt"));
  SET_STRING_ELT(nms, 123, mkChar("dim_IB"));
  SET_STRING_ELT(nms, 124, mkChar("dim_IB_1"));
  SET_STRING_ELT(nms, 125, mkChar("dim_IB_12"));
  SET_STRING_ELT(nms, 126, mkChar("dim_IB_2"));
  SET_STRING_ELT(nms, 127, mkChar("dim_IB_3"));
  SET_STRING_ELT(nms, 128, mkChar("dim_IC"));
  SET_STRING_ELT(nms, 129, mkChar("dim_IC_1"));
  SET_STRING_ELT(nms, 130, mkChar("dim_IC_12"));
  SET_STRING_ELT(nms, 131, mkChar("dim_IC_2"));
  SET_STRING_ELT(nms, 132, mkChar("dim_IC_3"));
  SET_STRING_ELT(nms, 133, mkChar("dim_ICA"));
  SET_STRING_ELT(nms, 134, mkChar("dim_ICA_1"));
  SET_STRING_ELT(nms, 135, mkChar("dim_ICA_12"));
  SET_STRING_ELT(nms, 136, mkChar("dim_ICA_2"));
  SET_STRING_ELT(nms, 137, mkChar("dim_ICA_3"));
  SET_STRING_ELT(nms, 138, mkChar("dim_ICM"));
  SET_STRING_ELT(nms, 139, mkChar("dim_ICM_1"));
  SET_STRING_ELT(nms, 140, mkChar("dim_ICM_12"));
  SET_STRING_ELT(nms, 141, mkChar("dim_ICM_2"));
  SET_STRING_ELT(nms, 142, mkChar("dim_ICM_3"));
  SET_STRING_ELT(nms, 143, mkChar("dim_ID"));
  SET_STRING_ELT(nms, 144, mkChar("dim_ID_1"));
  SET_STRING_ELT(nms, 145, mkChar("dim_ID_12"));
  SET_STRING_ELT(nms, 146, mkChar("dim_ID_2"));
  SET_STRING_ELT(nms, 147, mkChar("dim_ID_3"));
  SET_STRING_ELT(nms, 148, mkChar("dim_init_A"));
  SET_STRING_ELT(nms, 149, mkChar("dim_init_A_1"));
  SET_STRING_ELT(nms, 150, mkChar("dim_init_A_12"));
  SET_STRING_ELT(nms, 151, mkChar("dim_init_A_2"));
  SET_STRING_ELT(nms, 152, mkChar("dim_init_A_3"));
  SET_STRING_ELT(nms, 153, mkChar("dim_init_D"));
  SET_STRING_ELT(nms, 154, mkChar("dim_init_D_1"));
  SET_STRING_ELT(nms, 155, mkChar("dim_init_D_12"));
  SET_STRING_ELT(nms, 156, mkChar("dim_init_D_2"));
  SET_STRING_ELT(nms, 157, mkChar("dim_init_D_3"));
  SET_STRING_ELT(nms, 158, mkChar("dim_init_IB"));
  SET_STRING_ELT(nms, 159, mkChar("dim_init_IB_1"));
  SET_STRING_ELT(nms, 160, mkChar("dim_init_IB_12"));
  SET_STRING_ELT(nms, 161, mkChar("dim_init_IB_2"));
  SET_STRING_ELT(nms, 162, mkChar("dim_init_IB_3"));
  SET_STRING_ELT(nms, 163, mkChar("dim_init_ICA"));
  SET_STRING_ELT(nms, 164, mkChar("dim_init_ICA_1"));
  SET_STRING_ELT(nms, 165, mkChar("dim_init_ICA_12"));
  SET_STRING_ELT(nms, 166, mkChar("dim_init_ICA_2"));
  SET_STRING_ELT(nms, 167, mkChar("dim_init_ICA_3"));
  SET_STRING_ELT(nms, 168, mkChar("dim_init_ICM"));
  SET_STRING_ELT(nms, 169, mkChar("dim_init_ICM_1"));
  SET_STRING_ELT(nms, 170, mkChar("dim_init_ICM_12"));
  SET_STRING_ELT(nms, 171, mkChar("dim_init_ICM_2"));
  SET_STRING_ELT(nms, 172, mkChar("dim_init_ICM_3"));
  SET_STRING_ELT(nms, 173, mkChar("dim_init_ICM_pre"));
  SET_STRING_ELT(nms, 174, mkChar("dim_init_ICM_pre_1"));
  SET_STRING_ELT(nms, 175, mkChar("dim_init_ICM_pre_2"));
  SET_STRING_ELT(nms, 176, mkChar("dim_init_ID"));
  SET_STRING_ELT(nms, 177, mkChar("dim_init_ID_1"));
  SET_STRING_ELT(nms, 178, mkChar("dim_init_ID_12"));
  SET_STRING_ELT(nms, 179, mkChar("dim_init_ID_2"));
  SET_STRING_ELT(nms, 180, mkChar("dim_init_ID_3"));
  SET_STRING_ELT(nms, 181, mkChar("dim_init_P"));
  SET_STRING_ELT(nms, 182, mkChar("dim_init_P_1"));
  SET_STRING_ELT(nms, 183, mkChar("dim_init_P_12"));
  SET_STRING_ELT(nms, 184, mkChar("dim_init_P_2"));
  SET_STRING_ELT(nms, 185, mkChar("dim_init_P_3"));
  SET_STRING_ELT(nms, 186, mkChar("dim_init_S"));
  SET_STRING_ELT(nms, 187, mkChar("dim_init_S_1"));
  SET_STRING_ELT(nms, 188, mkChar("dim_init_S_12"));
  SET_STRING_ELT(nms, 189, mkChar("dim_init_S_2"));
  SET_STRING_ELT(nms, 190, mkChar("dim_init_S_3"));
  SET_STRING_ELT(nms, 191, mkChar("dim_init_T"));
  SET_STRING_ELT(nms, 192, mkChar("dim_init_T_1"));
  SET_STRING_ELT(nms, 193, mkChar("dim_init_T_12"));
  SET_STRING_ELT(nms, 194, mkChar("dim_init_T_2"));
  SET_STRING_ELT(nms, 195, mkChar("dim_init_T_3"));
  SET_STRING_ELT(nms, 196, mkChar("dim_init_U"));
  SET_STRING_ELT(nms, 197, mkChar("dim_init_U_1"));
  SET_STRING_ELT(nms, 198, mkChar("dim_init_U_12"));
  SET_STRING_ELT(nms, 199, mkChar("dim_init_U_2"));
  SET_STRING_ELT(nms, 200, mkChar("dim_init_U_3"));
  SET_STRING_ELT(nms, 201, mkChar("dim_P"));
  SET_STRING_ELT(nms, 202, mkChar("dim_P_1"));
  SET_STRING_ELT(nms, 203, mkChar("dim_P_12"));
  SET_STRING_ELT(nms, 204, mkChar("dim_P_2"));
  SET_STRING_ELT(nms, 205, mkChar("dim_P_3"));
  SET_STRING_ELT(nms, 206, mkChar("dim_p_det"));
  SET_STRING_ELT(nms, 207, mkChar("dim_p_det_1"));
  SET_STRING_ELT(nms, 208, mkChar("dim_p_det_12"));
  SET_STRING_ELT(nms, 209, mkChar("dim_p_det_2"));
  SET_STRING_ELT(nms, 210, mkChar("dim_p_det_3"));
  SET_STRING_ELT(nms, 211, mkChar("dim_phi"));
  SET_STRING_ELT(nms, 212, mkChar("dim_phi_1"));
  SET_STRING_ELT(nms, 213, mkChar("dim_phi_12"));
  SET_STRING_ELT(nms, 214, mkChar("dim_phi_2"));
  SET_STRING_ELT(nms, 215, mkChar("dim_phi_3"));
  SET_STRING_ELT(nms, 216, mkChar("dim_prev0to59"));
  SET_STRING_ELT(nms, 217, mkChar("dim_prev0to59_1"));
  SET_STRING_ELT(nms, 218, mkChar("dim_prev0to59_12"));
  SET_STRING_ELT(nms, 219, mkChar("dim_prev0to59_2"));
  SET_STRING_ELT(nms, 220, mkChar("dim_prev0to59_3"));
  SET_STRING_ELT(nms, 221, mkChar("dim_rel_foi"));
  SET_STRING_ELT(nms, 222, mkChar("dim_S"));
  SET_STRING_ELT(nms, 223, mkChar("dim_S_1"));
  SET_STRING_ELT(nms, 224, mkChar("dim_S_12"));
  SET_STRING_ELT(nms, 225, mkChar("dim_S_2"));
  SET_STRING_ELT(nms, 226, mkChar("dim_S_3"));
  SET_STRING_ELT(nms, 227, mkChar("dim_T"));
  SET_STRING_ELT(nms, 228, mkChar("dim_T_1"));
  SET_STRING_ELT(nms, 229, mkChar("dim_T_12"));
  SET_STRING_ELT(nms, 230, mkChar("dim_T_2"));
  SET_STRING_ELT(nms, 231, mkChar("dim_T_3"));
  SET_STRING_ELT(nms, 232, mkChar("dim_U"));
  SET_STRING_ELT(nms, 233, mkChar("dim_U_1"));
  SET_STRING_ELT(nms, 234, mkChar("dim_U_12"));
  SET_STRING_ELT(nms, 235, mkChar("dim_U_2"));
  SET_STRING_ELT(nms, 236, mkChar("dim_U_3"));
  SET_STRING_ELT(nms, 237, mkChar("dim_w"));
  SET_STRING_ELT(nms, 238, mkChar("dim_w_"));
  SET_STRING_ELT(nms, 239, mkChar("dim_whi"));
  SET_STRING_ELT(nms, 240, mkChar("dim_x_I"));
  SET_STRING_ELT(nms, 241, mkChar("dim_Y"));
  SET_STRING_ELT(nms, 242, mkChar("dim_Y_1"));
  SET_STRING_ELT(nms, 243, mkChar("dim_Y_12"));
  SET_STRING_ELT(nms, 244, mkChar("dim_Y_2"));
  SET_STRING_ELT(nms, 245, mkChar("dim_Y_3"));
  SET_STRING_ELT(nms, 246, mkChar("dim_yy"));
  SET_STRING_ELT(nms, 247, mkChar("dim_yy_"));
  SET_STRING_ELT(nms, 248, mkChar("dim_z"));
  SET_STRING_ELT(nms, 249, mkChar("dim_z_"));
  SET_STRING_ELT(nms, 250, mkChar("dim_zhi"));
  SET_STRING_ELT(nms, 251, mkChar("dLL"));
  SET_STRING_ELT(nms, 252, mkChar("dPL"));
  SET_STRING_ELT(nms, 253, mkChar("EIR"));
  SET_STRING_ELT(nms, 254, mkChar("eta"));
  SET_STRING_ELT(nms, 255, mkChar("fd"));
  SET_STRING_ELT(nms, 256, mkChar("fD0"));
  SET_STRING_ELT(nms, 257, mkChar("FOI"));
  SET_STRING_ELT(nms, 258, mkChar("foi_age"));
  SET_STRING_ELT(nms, 259, mkChar("FOI_lag"));
  SET_STRING_ELT(nms, 260, mkChar("FOIvijk"));
  SET_STRING_ELT(nms, 261, mkChar("ft"));
  SET_STRING_ELT(nms, 262, mkChar("gamma1"));
  SET_STRING_ELT(nms, 263, mkChar("gammaD"));
  SET_STRING_ELT(nms, 264, mkChar("gammaL"));
  SET_STRING_ELT(nms, 265, mkChar("het_wt"));
  SET_STRING_ELT(nms, 266, mkChar("hrp2_prop"));
  SET_STRING_ELT(nms, 267, mkChar("IB0"));
  SET_STRING_ELT(nms, 268, mkChar("IC"));
  SET_STRING_ELT(nms, 269, mkChar("IC0"));
  SET_STRING_ELT(nms, 270, mkChar("ID0"));
  SET_STRING_ELT(nms, 271, mkChar("init_A"));
  SET_STRING_ELT(nms, 272, mkChar("init_D"));
  SET_STRING_ELT(nms, 273, mkChar("init_EL"));
  SET_STRING_ELT(nms, 274, mkChar("init_Ev"));
  SET_STRING_ELT(nms, 275, mkChar("init_IB"));
  SET_STRING_ELT(nms, 276, mkChar("init_ICA"));
  SET_STRING_ELT(nms, 277, mkChar("init_ICM"));
  SET_STRING_ELT(nms, 278, mkChar("init_ICM_pre"));
  SET_STRING_ELT(nms, 279, mkChar("init_ID"));
  SET_STRING_ELT(nms, 280, mkChar("init_Iv"));
  SET_STRING_ELT(nms, 281, mkChar("init_LL"));
  SET_STRING_ELT(nms, 282, mkChar("init_P"));
  SET_STRING_ELT(nms, 283, mkChar("init_PL"));
  SET_STRING_ELT(nms, 284, mkChar("init_S"));
  SET_STRING_ELT(nms, 285, mkChar("init_Sv"));
  SET_STRING_ELT(nms, 286, mkChar("init_T"));
  SET_STRING_ELT(nms, 287, mkChar("init_U"));
  SET_STRING_ELT(nms, 288, mkChar("initial_A"));
  SET_STRING_ELT(nms, 289, mkChar("initial_D"));
  SET_STRING_ELT(nms, 290, mkChar("initial_EL"));
  SET_STRING_ELT(nms, 291, mkChar("initial_Ev"));
  SET_STRING_ELT(nms, 292, mkChar("initial_IB"));
  SET_STRING_ELT(nms, 293, mkChar("initial_ICA"));
  SET_STRING_ELT(nms, 294, mkChar("initial_ICM"));
  SET_STRING_ELT(nms, 295, mkChar("initial_ID"));
  SET_STRING_ELT(nms, 296, mkChar("initial_Iv"));
  SET_STRING_ELT(nms, 297, mkChar("initial_LL"));
  SET_STRING_ELT(nms, 298, mkChar("initial_P"));
  SET_STRING_ELT(nms, 299, mkChar("initial_PL"));
  SET_STRING_ELT(nms, 300, mkChar("initial_S"));
  SET_STRING_ELT(nms, 301, mkChar("initial_Sv"));
  SET_STRING_ELT(nms, 302, mkChar("initial_t"));
  SET_STRING_ELT(nms, 303, mkChar("initial_T"));
  SET_STRING_ELT(nms, 304, mkChar("initial_U"));
  SET_STRING_ELT(nms, 305, mkChar("irs_cov"));
  SET_STRING_ELT(nms, 306, mkChar("IRS_interval"));
  SET_STRING_ELT(nms, 307, mkChar("irs_loss"));
  SET_STRING_ELT(nms, 308, mkChar("itn_cov"));
  SET_STRING_ELT(nms, 309, mkChar("ITN_interval"));
  SET_STRING_ELT(nms, 310, mkChar("ITN_IRS_on"));
  SET_STRING_ELT(nms, 311, mkChar("itn_loss"));
  SET_STRING_ELT(nms, 312, mkChar("kB"));
  SET_STRING_ELT(nms, 313, mkChar("kC"));
  SET_STRING_ELT(nms, 314, mkChar("kD"));
  SET_STRING_ELT(nms, 315, mkChar("mu0"));
  SET_STRING_ELT(nms, 316, mkChar("muEL"));
  SET_STRING_ELT(nms, 317, mkChar("muLL"));
  SET_STRING_ELT(nms, 318, mkChar("muPL"));
  SET_STRING_ELT(nms, 319, mkChar("mv0"));
  SET_STRING_ELT(nms, 320, mkChar("na"));
  SET_STRING_ELT(nms, 321, mkChar("nh"));
  SET_STRING_ELT(nms, 322, mkChar("num_int"));
  SET_STRING_ELT(nms, 323, mkChar("offset_FOIv_A"));
  SET_STRING_ELT(nms, 324, mkChar("offset_FOIv_ID"));
  SET_STRING_ELT(nms, 325, mkChar("offset_FOIv_U"));
  SET_STRING_ELT(nms, 326, mkChar("offset_variable_A"));
  SET_STRING_ELT(nms, 327, mkChar("offset_variable_D"));
  SET_STRING_ELT(nms, 328, mkChar("offset_variable_IB"));
  SET_STRING_ELT(nms, 329, mkChar("offset_variable_ICA"));
  SET_STRING_ELT(nms, 330, mkChar("offset_variable_ICM"));
  SET_STRING_ELT(nms, 331, mkChar("offset_variable_ID"));
  SET_STRING_ELT(nms, 332, mkChar("offset_variable_P"));
  SET_STRING_ELT(nms, 333, mkChar("offset_variable_S"));
  SET_STRING_ELT(nms, 334, mkChar("offset_variable_T"));
  SET_STRING_ELT(nms, 335, mkChar("offset_variable_U"));
  SET_STRING_ELT(nms, 336, mkChar("omega"));
  SET_STRING_ELT(nms, 337, mkChar("p_det"));
  SET_STRING_ELT(nms, 338, mkChar("p10"));
  SET_STRING_ELT(nms, 339, mkChar("p2"));
  SET_STRING_ELT(nms, 340, mkChar("phi"));
  SET_STRING_ELT(nms, 341, mkChar("phi0"));
  SET_STRING_ELT(nms, 342, mkChar("phi1"));
  SET_STRING_ELT(nms, 343, mkChar("pi"));
  SET_STRING_ELT(nms, 344, mkChar("PM"));
  SET_STRING_ELT(nms, 345, mkChar("prev0to59"));
  SET_STRING_ELT(nms, 346, mkChar("Q0"));
  SET_STRING_ELT(nms, 347, mkChar("r_IRS0"));
  SET_STRING_ELT(nms, 348, mkChar("r_ITN0"));
  SET_STRING_ELT(nms, 349, mkChar("r_ITN1"));
  SET_STRING_ELT(nms, 350, mkChar("rA"));
  SET_STRING_ELT(nms, 351, mkChar("rD"));
  SET_STRING_ELT(nms, 352, mkChar("rel_foi"));
  SET_STRING_ELT(nms, 353, mkChar("rP"));
  SET_STRING_ELT(nms, 354, mkChar("rT"));
  SET_STRING_ELT(nms, 355, mkChar("rU"));
  SET_STRING_ELT(nms, 356, mkChar("ssa0"));
  SET_STRING_ELT(nms, 357, mkChar("ssa1"));
  SET_STRING_ELT(nms, 358, mkChar("ssa2"));
  SET_STRING_ELT(nms, 359, mkChar("ssa3"));
  SET_STRING_ELT(nms, 360, mkChar("ssb1"));
  SET_STRING_ELT(nms, 361, mkChar("ssb2"));
  SET_STRING_ELT(nms, 362, mkChar("ssb3"));
  SET_STRING_ELT(nms, 363, mkChar("tau1"));
  SET_STRING_ELT(nms, 364, mkChar("tau2"));
  SET_STRING_ELT(nms, 365, mkChar("theta_c"));
  SET_STRING_ELT(nms, 366, mkChar("uB"));
  SET_STRING_ELT(nms, 367, mkChar("uCA"));
  SET_STRING_ELT(nms, 368, mkChar("uD"));
  SET_STRING_ELT(nms, 369, mkChar("w"));
  SET_STRING_ELT(nms, 370, mkChar("w_"));
  SET_STRING_ELT(nms, 371, mkChar("whi"));
  SET_STRING_ELT(nms, 372, mkChar("x_I"));
  SET_STRING_ELT(nms, 373, mkChar("Y"));
  SET_STRING_ELT(nms, 374, mkChar("yy"));
  SET_STRING_ELT(nms, 375, mkChar("yy_"));
  SET_STRING_ELT(nms, 376, mkChar("z"));
  SET_STRING_ELT(nms, 377, mkChar("z_"));
  SET_STRING_ELT(nms, 378, mkChar("zhi"));
  SET_STRING_ELT(nms, 379, mkChar("odin_model_hrp2_use_dde"));
  setAttrib(contents, R_NamesSymbol, nms);
  UNPROTECT(79);
  return contents;
}
SEXP odin_model_hrp2_set_user(SEXP internal_p, SEXP user) {
  odin_model_hrp2_internal *internal = odin_model_hrp2_get_internal(internal_p, 1);
  internal->aD = user_get_scalar_double(user, "aD", internal->aD, NA_REAL, NA_REAL);
  internal->age_20_factor = user_get_scalar_double(user, "age_20_factor", internal->age_20_factor, NA_REAL, NA_REAL);
  internal->age05 = user_get_scalar_int(user, "age05", internal->age05, NA_REAL, NA_REAL);
  internal->age20l = user_get_scalar_int(user, "age20l", internal->age20l, NA_REAL, NA_REAL);
  internal->age20u = user_get_scalar_int(user, "age20u", internal->age20u, NA_REAL, NA_REAL);
  internal->age59 = user_get_scalar_int(user, "age59", internal->age59, NA_REAL, NA_REAL);
  internal->b0 = user_get_scalar_double(user, "b0", internal->b0, NA_REAL, NA_REAL);
  internal->b1 = user_get_scalar_double(user, "b1", internal->b1, NA_REAL, NA_REAL);
  internal->betaL = user_get_scalar_double(user, "betaL", internal->betaL, NA_REAL, NA_REAL);
  internal->bites_Bed = user_get_scalar_double(user, "bites_Bed", internal->bites_Bed, NA_REAL, NA_REAL);
  internal->bites_Indoors = user_get_scalar_double(user, "bites_Indoors", internal->bites_Indoors, NA_REAL, NA_REAL);
  internal->cD = user_get_scalar_double(user, "cD", internal->cD, NA_REAL, NA_REAL);
  internal->chi = user_get_scalar_double(user, "chi", internal->chi, NA_REAL, NA_REAL);
  internal->cT = user_get_scalar_double(user, "cT", internal->cT, NA_REAL, NA_REAL);
  internal->cU = user_get_scalar_double(user, "cU", internal->cU, NA_REAL, NA_REAL);
  internal->d_IRS0 = user_get_scalar_double(user, "d_IRS0", internal->d_IRS0, NA_REAL, NA_REAL);
  internal->d_ITN0 = user_get_scalar_double(user, "d_ITN0", internal->d_ITN0, NA_REAL, NA_REAL);
  internal->d1 = user_get_scalar_double(user, "d1", internal->d1, NA_REAL, NA_REAL);
  internal->dB = user_get_scalar_double(user, "dB", internal->dB, NA_REAL, NA_REAL);
  internal->dCA = user_get_scalar_double(user, "dCA", internal->dCA, NA_REAL, NA_REAL);
  internal->dCM = user_get_scalar_double(user, "dCM", internal->dCM, NA_REAL, NA_REAL);
  internal->dE = user_get_scalar_double(user, "dE", internal->dE, NA_REAL, NA_REAL);
  internal->dEL = user_get_scalar_double(user, "dEL", internal->dEL, NA_REAL, NA_REAL);
  internal->delayGam = user_get_scalar_double(user, "delayGam", internal->delayGam, NA_REAL, NA_REAL);
  internal->delayMos = user_get_scalar_double(user, "delayMos", internal->delayMos, NA_REAL, NA_REAL);
  internal->dID = user_get_scalar_double(user, "dID", internal->dID, NA_REAL, NA_REAL);
  internal->dLL = user_get_scalar_double(user, "dLL", internal->dLL, NA_REAL, NA_REAL);
  internal->dPL = user_get_scalar_double(user, "dPL", internal->dPL, NA_REAL, NA_REAL);
  internal->eta = user_get_scalar_double(user, "eta", internal->eta, NA_REAL, NA_REAL);
  internal->fD0 = user_get_scalar_double(user, "fD0", internal->fD0, NA_REAL, NA_REAL);
  internal->ft = user_get_scalar_double(user, "ft", internal->ft, NA_REAL, NA_REAL);
  internal->gamma1 = user_get_scalar_double(user, "gamma1", internal->gamma1, NA_REAL, NA_REAL);
  internal->gammaD = user_get_scalar_double(user, "gammaD", internal->gammaD, NA_REAL, NA_REAL);
  internal->gammaL = user_get_scalar_double(user, "gammaL", internal->gammaL, NA_REAL, NA_REAL);
  internal->hrp2_prop = user_get_scalar_double(user, "hrp2_prop", internal->hrp2_prop, NA_REAL, NA_REAL);
  internal->IB0 = user_get_scalar_double(user, "IB0", internal->IB0, NA_REAL, NA_REAL);
  internal->IC0 = user_get_scalar_double(user, "IC0", internal->IC0, NA_REAL, NA_REAL);
  internal->ID0 = user_get_scalar_double(user, "ID0", internal->ID0, NA_REAL, NA_REAL);
  internal->init_EL = user_get_scalar_double(user, "init_EL", internal->init_EL, NA_REAL, NA_REAL);
  internal->init_Ev = user_get_scalar_double(user, "init_Ev", internal->init_Ev, NA_REAL, NA_REAL);
  internal->init_Iv = user_get_scalar_double(user, "init_Iv", internal->init_Iv, NA_REAL, NA_REAL);
  internal->init_LL = user_get_scalar_double(user, "init_LL", internal->init_LL, NA_REAL, NA_REAL);
  internal->init_PL = user_get_scalar_double(user, "init_PL", internal->init_PL, NA_REAL, NA_REAL);
  internal->init_Sv = user_get_scalar_double(user, "init_Sv", internal->init_Sv, NA_REAL, NA_REAL);
  internal->irs_cov = user_get_scalar_double(user, "irs_cov", internal->irs_cov, NA_REAL, NA_REAL);
  internal->IRS_interval = user_get_scalar_double(user, "IRS_interval", internal->IRS_interval, NA_REAL, NA_REAL);
  internal->irs_loss = user_get_scalar_double(user, "irs_loss", internal->irs_loss, NA_REAL, NA_REAL);
  internal->itn_cov = user_get_scalar_double(user, "itn_cov", internal->itn_cov, NA_REAL, NA_REAL);
  internal->ITN_interval = user_get_scalar_double(user, "ITN_interval", internal->ITN_interval, NA_REAL, NA_REAL);
  internal->ITN_IRS_on = user_get_scalar_double(user, "ITN_IRS_on", internal->ITN_IRS_on, NA_REAL, NA_REAL);
  internal->itn_loss = user_get_scalar_double(user, "itn_loss", internal->itn_loss, NA_REAL, NA_REAL);
  internal->kB = user_get_scalar_double(user, "kB", internal->kB, NA_REAL, NA_REAL);
  internal->kC = user_get_scalar_double(user, "kC", internal->kC, NA_REAL, NA_REAL);
  internal->kD = user_get_scalar_double(user, "kD", internal->kD, NA_REAL, NA_REAL);
  internal->mu0 = user_get_scalar_double(user, "mu0", internal->mu0, NA_REAL, NA_REAL);
  internal->muEL = user_get_scalar_double(user, "muEL", internal->muEL, NA_REAL, NA_REAL);
  internal->muLL = user_get_scalar_double(user, "muLL", internal->muLL, NA_REAL, NA_REAL);
  internal->muPL = user_get_scalar_double(user, "muPL", internal->muPL, NA_REAL, NA_REAL);
  internal->mv0 = user_get_scalar_double(user, "mv0", internal->mv0, NA_REAL, NA_REAL);
  internal->na = user_get_scalar_int(user, "na", internal->na, NA_REAL, NA_REAL);
  internal->nh = user_get_scalar_int(user, "nh", internal->nh, NA_REAL, NA_REAL);
  internal->num_int = user_get_scalar_int(user, "num_int", internal->num_int, NA_REAL, NA_REAL);
  internal->omega = user_get_scalar_double(user, "omega", internal->omega, NA_REAL, NA_REAL);
  internal->p10 = user_get_scalar_double(user, "p10", internal->p10, NA_REAL, NA_REAL);
  internal->p2 = user_get_scalar_double(user, "p2", internal->p2, NA_REAL, NA_REAL);
  internal->phi0 = user_get_scalar_double(user, "phi0", internal->phi0, NA_REAL, NA_REAL);
  internal->phi1 = user_get_scalar_double(user, "phi1", internal->phi1, NA_REAL, NA_REAL);
  internal->pi = user_get_scalar_double(user, "pi", internal->pi, NA_REAL, NA_REAL);
  internal->PM = user_get_scalar_double(user, "PM", internal->PM, NA_REAL, NA_REAL);
  internal->Q0 = user_get_scalar_double(user, "Q0", internal->Q0, NA_REAL, NA_REAL);
  internal->r_IRS0 = user_get_scalar_double(user, "r_IRS0", internal->r_IRS0, NA_REAL, NA_REAL);
  internal->r_ITN0 = user_get_scalar_double(user, "r_ITN0", internal->r_ITN0, NA_REAL, NA_REAL);
  internal->r_ITN1 = user_get_scalar_double(user, "r_ITN1", internal->r_ITN1, NA_REAL, NA_REAL);
  internal->rA = user_get_scalar_double(user, "rA", internal->rA, NA_REAL, NA_REAL);
  internal->rD = user_get_scalar_double(user, "rD", internal->rD, NA_REAL, NA_REAL);
  internal->rP = user_get_scalar_double(user, "rP", internal->rP, NA_REAL, NA_REAL);
  internal->rT = user_get_scalar_double(user, "rT", internal->rT, NA_REAL, NA_REAL);
  internal->rU = user_get_scalar_double(user, "rU", internal->rU, NA_REAL, NA_REAL);
  internal->ssa0 = user_get_scalar_double(user, "ssa0", internal->ssa0, NA_REAL, NA_REAL);
  internal->ssa1 = user_get_scalar_double(user, "ssa1", internal->ssa1, NA_REAL, NA_REAL);
  internal->ssa2 = user_get_scalar_double(user, "ssa2", internal->ssa2, NA_REAL, NA_REAL);
  internal->ssa3 = user_get_scalar_double(user, "ssa3", internal->ssa3, NA_REAL, NA_REAL);
  internal->ssb1 = user_get_scalar_double(user, "ssb1", internal->ssb1, NA_REAL, NA_REAL);
  internal->ssb2 = user_get_scalar_double(user, "ssb2", internal->ssb2, NA_REAL, NA_REAL);
  internal->ssb3 = user_get_scalar_double(user, "ssb3", internal->ssb3, NA_REAL, NA_REAL);
  internal->tau1 = user_get_scalar_double(user, "tau1", internal->tau1, NA_REAL, NA_REAL);
  internal->tau2 = user_get_scalar_double(user, "tau2", internal->tau2, NA_REAL, NA_REAL);
  internal->theta_c = user_get_scalar_double(user, "theta_c", internal->theta_c, NA_REAL, NA_REAL);
  internal->uB = user_get_scalar_double(user, "uB", internal->uB, NA_REAL, NA_REAL);
  internal->uCA = user_get_scalar_double(user, "uCA", internal->uCA, NA_REAL, NA_REAL);
  internal->uD = user_get_scalar_double(user, "uD", internal->uD, NA_REAL, NA_REAL);
  internal->b_lambda = (internal->gammaL * internal->muLL / (double) internal->muEL - internal->dEL / (double) internal->dLL + (internal->gammaL - 1) * internal->muLL * internal->dEL);
  internal->dim_A_1 = internal->na;
  internal->dim_A_2 = internal->nh;
  internal->dim_A_3 = internal->num_int;
  internal->dim_age = internal->na;
  internal->dim_age_rate = internal->na;
  internal->dim_av_human = internal->num_int;
  internal->dim_av_mosq = internal->num_int;
  internal->dim_b_1 = internal->na;
  internal->dim_b_2 = internal->nh;
  internal->dim_b_3 = internal->num_int;
  internal->dim_cA_1 = internal->na;
  internal->dim_cA_2 = internal->nh;
  internal->dim_cA_3 = internal->num_int;
  internal->dim_clin_inc_1 = internal->na;
  internal->dim_clin_inc_2 = internal->nh;
  internal->dim_clin_inc_3 = internal->num_int;
  internal->dim_clin_inc0to5_1 = internal->age05;
  internal->dim_clin_inc0to5_2 = internal->nh;
  internal->dim_clin_inc0to5_3 = internal->num_int;
  internal->dim_cov = internal->num_int;
  internal->dim_D_1 = internal->na;
  internal->dim_D_2 = internal->nh;
  internal->dim_D_3 = internal->num_int;
  internal->dim_den = internal->na;
  internal->dim_EIR_1 = internal->na;
  internal->dim_EIR_2 = internal->nh;
  internal->dim_EIR_3 = internal->num_int;
  internal->dim_fd = internal->na;
  internal->dim_FOI_1 = internal->na;
  internal->dim_FOI_2 = internal->nh;
  internal->dim_FOI_3 = internal->num_int;
  internal->dim_foi_age = internal->na;
  internal->dim_FOI_lag_1 = internal->na;
  internal->dim_FOI_lag_2 = internal->nh;
  internal->dim_FOI_lag_3 = internal->num_int;
  internal->dim_FOIvijk_1 = internal->na;
  internal->dim_FOIvijk_2 = internal->nh;
  internal->dim_FOIvijk_3 = internal->num_int;
  internal->dim_het_wt = internal->nh;
  internal->dim_IB_1 = internal->na;
  internal->dim_IB_2 = internal->nh;
  internal->dim_IB_3 = internal->num_int;
  internal->dim_IC_1 = internal->na;
  internal->dim_IC_2 = internal->nh;
  internal->dim_IC_3 = internal->num_int;
  internal->dim_ICA_1 = internal->na;
  internal->dim_ICA_2 = internal->nh;
  internal->dim_ICA_3 = internal->num_int;
  internal->dim_ICM_1 = internal->na;
  internal->dim_ICM_2 = internal->nh;
  internal->dim_ICM_3 = internal->num_int;
  internal->dim_ID_1 = internal->na;
  internal->dim_ID_2 = internal->nh;
  internal->dim_ID_3 = internal->num_int;
  internal->dim_init_A_1 = internal->na;
  internal->dim_init_A_2 = internal->nh;
  internal->dim_init_A_3 = internal->num_int;
  internal->dim_init_D_1 = internal->na;
  internal->dim_init_D_2 = internal->nh;
  internal->dim_init_D_3 = internal->num_int;
  internal->dim_init_IB_1 = internal->na;
  internal->dim_init_IB_2 = internal->nh;
  internal->dim_init_IB_3 = internal->num_int;
  internal->dim_init_ICA_1 = internal->na;
  internal->dim_init_ICA_2 = internal->nh;
  internal->dim_init_ICA_3 = internal->num_int;
  internal->dim_init_ICM_1 = internal->na;
  internal->dim_init_ICM_2 = internal->nh;
  internal->dim_init_ICM_3 = internal->num_int;
  internal->dim_init_ICM_pre_1 = internal->nh;
  internal->dim_init_ICM_pre_2 = internal->num_int;
  internal->dim_init_ID_1 = internal->na;
  internal->dim_init_ID_2 = internal->nh;
  internal->dim_init_ID_3 = internal->num_int;
  internal->dim_init_P_1 = internal->na;
  internal->dim_init_P_2 = internal->nh;
  internal->dim_init_P_3 = internal->num_int;
  internal->dim_init_S_1 = internal->na;
  internal->dim_init_S_2 = internal->nh;
  internal->dim_init_S_3 = internal->num_int;
  internal->dim_init_T_1 = internal->na;
  internal->dim_init_T_2 = internal->nh;
  internal->dim_init_T_3 = internal->num_int;
  internal->dim_init_U_1 = internal->na;
  internal->dim_init_U_2 = internal->nh;
  internal->dim_init_U_3 = internal->num_int;
  internal->dim_P_1 = internal->na;
  internal->dim_P_2 = internal->nh;
  internal->dim_P_3 = internal->num_int;
  internal->dim_p_det_1 = internal->na;
  internal->dim_p_det_2 = internal->nh;
  internal->dim_p_det_3 = internal->num_int;
  internal->dim_phi_1 = internal->na;
  internal->dim_phi_2 = internal->nh;
  internal->dim_phi_3 = internal->num_int;
  internal->dim_prev0to59_1 = internal->age59;
  internal->dim_prev0to59_2 = internal->nh;
  internal->dim_prev0to59_3 = internal->num_int;
  internal->dim_rel_foi = internal->nh;
  internal->dim_S_1 = internal->na;
  internal->dim_S_2 = internal->nh;
  internal->dim_S_3 = internal->num_int;
  internal->dim_T_1 = internal->na;
  internal->dim_T_2 = internal->nh;
  internal->dim_T_3 = internal->num_int;
  internal->dim_U_1 = internal->na;
  internal->dim_U_2 = internal->nh;
  internal->dim_U_3 = internal->num_int;
  internal->dim_w = internal->num_int;
  internal->dim_whi = internal->num_int;
  internal->dim_x_I = internal->na;
  internal->dim_Y_1 = internal->na;
  internal->dim_Y_2 = internal->nh;
  internal->dim_Y_3 = internal->num_int;
  internal->dim_yy = internal->num_int;
  internal->dim_z = internal->num_int;
  internal->dim_zhi = internal->num_int;
  internal->initial_EL = internal->init_EL;
  for (int i = 1; i <= 10; ++i) {
    internal->initial_Ev[i - 1] = internal->init_Ev / (double) 10 * internal->mv0;
  }
  internal->initial_Iv = internal->init_Iv * internal->mv0;
  internal->initial_LL = internal->init_LL;
  internal->initial_PL = internal->init_PL;
  internal->initial_Sv = internal->init_Sv * internal->mv0;
  internal->age = (double*) user_get_array(user, false, internal->age, "age", NA_REAL, NA_REAL, 1, internal->dim_age);
  internal->age_rate = (double*) user_get_array(user, false, internal->age_rate, "age_rate", NA_REAL, NA_REAL, 1, internal->dim_age_rate);
  Free(internal->av_human);
  internal->av_human = (double*) Calloc(internal->dim_av_human, double);
  Free(internal->av_mosq);
  internal->av_mosq = (double*) Calloc(internal->dim_av_mosq, double);
  Free(internal->cov);
  internal->cov = (double*) Calloc(internal->dim_cov, double);
  Free(internal->fd);
  internal->fd = (double*) Calloc(internal->dim_fd, double);
  Free(internal->w);
  internal->w = (double*) Calloc(internal->dim_w, double);
  Free(internal->whi);
  internal->whi = (double*) Calloc(internal->dim_whi, double);
  Free(internal->yy);
  internal->yy = (double*) Calloc(internal->dim_yy, double);
  Free(internal->z);
  internal->z = (double*) Calloc(internal->dim_z, double);
  Free(internal->zhi);
  internal->zhi = (double*) Calloc(internal->dim_zhi, double);
  {
     int i = 1;
     internal->cov_[i - 1] = (1 - internal->itn_cov) * (1 - internal->irs_cov);
  }
  {
     int i = 2;
     internal->cov_[i - 1] = internal->itn_cov * (1 - internal->irs_cov);
  }
  {
     int i = 3;
     internal->cov_[i - 1] = (1 - internal->itn_cov) * internal->irs_cov;
  }
  {
     int i = 4;
     internal->cov_[i - 1] = internal->itn_cov * internal->irs_cov;
  }
  Free(internal->delay_array_av_human);
  internal->delay_array_av_human = (double*) Calloc(internal->dim_av_human, double);
  Free(internal->delay_array_av_mosq);
  internal->delay_array_av_mosq = (double*) Calloc(internal->dim_av_mosq, double);
  Free(internal->delay_array_w);
  internal->delay_array_w = (double*) Calloc(internal->dim_w, double);
  Free(internal->delay_array_whi);
  internal->delay_array_whi = (double*) Calloc(internal->dim_whi, double);
  Free(internal->delay_array_yy);
  internal->delay_array_yy = (double*) Calloc(internal->dim_yy, double);
  Free(internal->delay_array_z);
  internal->delay_array_z = (double*) Calloc(internal->dim_z, double);
  Free(internal->delay_array_zhi);
  internal->delay_array_zhi = (double*) Calloc(internal->dim_zhi, double);
  internal->den = (double*) user_get_array(user, false, internal->den, "den", NA_REAL, NA_REAL, 1, internal->dim_den);
  internal->dim_A = internal->dim_A_1 * internal->dim_A_2 * internal->dim_A_3;
  internal->dim_A_12 = internal->dim_A_1 * internal->dim_A_2;
  internal->dim_b = internal->dim_b_1 * internal->dim_b_2 * internal->dim_b_3;
  internal->dim_b_12 = internal->dim_b_1 * internal->dim_b_2;
  internal->dim_cA = internal->dim_cA_1 * internal->dim_cA_2 * internal->dim_cA_3;
  internal->dim_cA_12 = internal->dim_cA_1 * internal->dim_cA_2;
  internal->dim_clin_inc = internal->dim_clin_inc_1 * internal->dim_clin_inc_2 * internal->dim_clin_inc_3;
  internal->dim_clin_inc_12 = internal->dim_clin_inc_1 * internal->dim_clin_inc_2;
  internal->dim_clin_inc0to5 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2 * internal->dim_clin_inc0to5_3;
  internal->dim_clin_inc0to5_12 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2;
  internal->dim_D = internal->dim_D_1 * internal->dim_D_2 * internal->dim_D_3;
  internal->dim_D_12 = internal->dim_D_1 * internal->dim_D_2;
  internal->dim_EIR = internal->dim_EIR_1 * internal->dim_EIR_2 * internal->dim_EIR_3;
  internal->dim_EIR_12 = internal->dim_EIR_1 * internal->dim_EIR_2;
  internal->dim_FOI = internal->dim_FOI_1 * internal->dim_FOI_2 * internal->dim_FOI_3;
  internal->dim_FOI_12 = internal->dim_FOI_1 * internal->dim_FOI_2;
  internal->dim_FOI_lag = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2 * internal->dim_FOI_lag_3;
  internal->dim_FOI_lag_12 = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2;
  internal->dim_FOIvijk = internal->dim_FOIvijk_1 * internal->dim_FOIvijk_2 * internal->dim_FOIvijk_3;
  internal->dim_FOIvijk_12 = internal->dim_FOIvijk_1 * internal->dim_FOIvijk_2;
  internal->dim_IB = internal->dim_IB_1 * internal->dim_IB_2 * internal->dim_IB_3;
  internal->dim_IB_12 = internal->dim_IB_1 * internal->dim_IB_2;
  internal->dim_IC = internal->dim_IC_1 * internal->dim_IC_2 * internal->dim_IC_3;
  internal->dim_IC_12 = internal->dim_IC_1 * internal->dim_IC_2;
  internal->dim_ICA = internal->dim_ICA_1 * internal->dim_ICA_2 * internal->dim_ICA_3;
  internal->dim_ICA_12 = internal->dim_ICA_1 * internal->dim_ICA_2;
  internal->dim_ICM = internal->dim_ICM_1 * internal->dim_ICM_2 * internal->dim_ICM_3;
  internal->dim_ICM_12 = internal->dim_ICM_1 * internal->dim_ICM_2;
  internal->dim_ID = internal->dim_ID_1 * internal->dim_ID_2 * internal->dim_ID_3;
  internal->dim_ID_12 = internal->dim_ID_1 * internal->dim_ID_2;
  internal->dim_init_A = internal->dim_init_A_1 * internal->dim_init_A_2 * internal->dim_init_A_3;
  internal->dim_init_A_12 = internal->dim_init_A_1 * internal->dim_init_A_2;
  internal->dim_init_D = internal->dim_init_D_1 * internal->dim_init_D_2 * internal->dim_init_D_3;
  internal->dim_init_D_12 = internal->dim_init_D_1 * internal->dim_init_D_2;
  internal->dim_init_IB = internal->dim_init_IB_1 * internal->dim_init_IB_2 * internal->dim_init_IB_3;
  internal->dim_init_IB_12 = internal->dim_init_IB_1 * internal->dim_init_IB_2;
  internal->dim_init_ICA = internal->dim_init_ICA_1 * internal->dim_init_ICA_2 * internal->dim_init_ICA_3;
  internal->dim_init_ICA_12 = internal->dim_init_ICA_1 * internal->dim_init_ICA_2;
  internal->dim_init_ICM = internal->dim_init_ICM_1 * internal->dim_init_ICM_2 * internal->dim_init_ICM_3;
  internal->dim_init_ICM_12 = internal->dim_init_ICM_1 * internal->dim_init_ICM_2;
  internal->dim_init_ICM_pre = internal->dim_init_ICM_pre_1 * internal->dim_init_ICM_pre_2;
  internal->dim_init_ID = internal->dim_init_ID_1 * internal->dim_init_ID_2 * internal->dim_init_ID_3;
  internal->dim_init_ID_12 = internal->dim_init_ID_1 * internal->dim_init_ID_2;
  internal->dim_init_P = internal->dim_init_P_1 * internal->dim_init_P_2 * internal->dim_init_P_3;
  internal->dim_init_P_12 = internal->dim_init_P_1 * internal->dim_init_P_2;
  internal->dim_init_S = internal->dim_init_S_1 * internal->dim_init_S_2 * internal->dim_init_S_3;
  internal->dim_init_S_12 = internal->dim_init_S_1 * internal->dim_init_S_2;
  internal->dim_init_T = internal->dim_init_T_1 * internal->dim_init_T_2 * internal->dim_init_T_3;
  internal->dim_init_T_12 = internal->dim_init_T_1 * internal->dim_init_T_2;
  internal->dim_init_U = internal->dim_init_U_1 * internal->dim_init_U_2 * internal->dim_init_U_3;
  internal->dim_init_U_12 = internal->dim_init_U_1 * internal->dim_init_U_2;
  internal->dim_P = internal->dim_P_1 * internal->dim_P_2 * internal->dim_P_3;
  internal->dim_P_12 = internal->dim_P_1 * internal->dim_P_2;
  internal->dim_p_det = internal->dim_p_det_1 * internal->dim_p_det_2 * internal->dim_p_det_3;
  internal->dim_p_det_12 = internal->dim_p_det_1 * internal->dim_p_det_2;
  internal->dim_phi = internal->dim_phi_1 * internal->dim_phi_2 * internal->dim_phi_3;
  internal->dim_phi_12 = internal->dim_phi_1 * internal->dim_phi_2;
  internal->dim_prev0to59 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2 * internal->dim_prev0to59_3;
  internal->dim_prev0to59_12 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2;
  internal->dim_S = internal->dim_S_1 * internal->dim_S_2 * internal->dim_S_3;
  internal->dim_S_12 = internal->dim_S_1 * internal->dim_S_2;
  internal->dim_T = internal->dim_T_1 * internal->dim_T_2 * internal->dim_T_3;
  internal->dim_T_12 = internal->dim_T_1 * internal->dim_T_2;
  internal->dim_U = internal->dim_U_1 * internal->dim_U_2 * internal->dim_U_3;
  internal->dim_U_12 = internal->dim_U_1 * internal->dim_U_2;
  internal->dim_Y = internal->dim_Y_1 * internal->dim_Y_2 * internal->dim_Y_3;
  internal->dim_Y_12 = internal->dim_Y_1 * internal->dim_Y_2;
  internal->foi_age = (double*) user_get_array(user, false, internal->foi_age, "foi_age", NA_REAL, NA_REAL, 1, internal->dim_foi_age);
  internal->het_wt = (double*) user_get_array(user, false, internal->het_wt, "het_wt", NA_REAL, NA_REAL, 1, internal->dim_het_wt);
  internal->rel_foi = (double*) user_get_array(user, false, internal->rel_foi, "rel_foi", NA_REAL, NA_REAL, 1, internal->dim_rel_foi);
  internal->x_I = (double*) user_get_array(user, false, internal->x_I, "x_I", NA_REAL, NA_REAL, 1, internal->dim_x_I);
  Free(internal->b);
  internal->b = (double*) Calloc(internal->dim_b, double);
  Free(internal->cA);
  internal->cA = (double*) Calloc(internal->dim_cA, double);
  Free(internal->clin_inc);
  internal->clin_inc = (double*) Calloc(internal->dim_clin_inc, double);
  Free(internal->clin_inc0to5);
  internal->clin_inc0to5 = (double*) Calloc(internal->dim_clin_inc0to5, double);
  Free(internal->EIR);
  internal->EIR = (double*) Calloc(internal->dim_EIR, double);
  Free(internal->FOI);
  internal->FOI = (double*) Calloc(internal->dim_FOI, double);
  Free(internal->FOI_lag);
  internal->FOI_lag = (double*) Calloc(internal->dim_FOI_lag, double);
  Free(internal->FOIvijk);
  internal->FOIvijk = (double*) Calloc(internal->dim_FOIvijk, double);
  Free(internal->IC);
  internal->IC = (double*) Calloc(internal->dim_IC, double);
  Free(internal->init_ICM_pre);
  internal->init_ICM_pre = (double*) Calloc(internal->dim_init_ICM_pre, double);
  Free(internal->initial_A);
  internal->initial_A = (double*) Calloc(internal->dim_A, double);
  Free(internal->initial_D);
  internal->initial_D = (double*) Calloc(internal->dim_D, double);
  Free(internal->initial_IB);
  internal->initial_IB = (double*) Calloc(internal->dim_IB, double);
  Free(internal->initial_ICA);
  internal->initial_ICA = (double*) Calloc(internal->dim_ICA, double);
  Free(internal->initial_ICM);
  internal->initial_ICM = (double*) Calloc(internal->dim_ICM, double);
  Free(internal->initial_ID);
  internal->initial_ID = (double*) Calloc(internal->dim_ID, double);
  Free(internal->initial_P);
  internal->initial_P = (double*) Calloc(internal->dim_P, double);
  Free(internal->initial_S);
  internal->initial_S = (double*) Calloc(internal->dim_S, double);
  Free(internal->initial_T);
  internal->initial_T = (double*) Calloc(internal->dim_T, double);
  Free(internal->initial_U);
  internal->initial_U = (double*) Calloc(internal->dim_U, double);
  Free(internal->p_det);
  internal->p_det = (double*) Calloc(internal->dim_p_det, double);
  Free(internal->phi);
  internal->phi = (double*) Calloc(internal->dim_phi, double);
  Free(internal->prev0to59);
  internal->prev0to59 = (double*) Calloc(internal->dim_prev0to59, double);
  Free(internal->Y);
  internal->Y = (double*) Calloc(internal->dim_Y, double);
  for (int i = 1; i <= internal->dim_cov; ++i) {
    internal->cov[i - 1] = internal->cov_[i - 1];
  }
  Free(internal->delay_array_b);
  internal->delay_array_b = (double*) Calloc(internal->dim_b, double);
  Free(internal->delay_array_cA);
  internal->delay_array_cA = (double*) Calloc(internal->dim_cA, double);
  Free(internal->delay_array_EIR);
  internal->delay_array_EIR = (double*) Calloc(internal->dim_EIR, double);
  Free(internal->delay_array_FOI_lag);
  internal->delay_array_FOI_lag = (double*) Calloc(internal->dim_FOI_lag, double);
  Free(internal->delay_array_FOIvijk);
  internal->delay_array_FOIvijk = (double*) Calloc(internal->dim_FOIvijk, double);
  Free(internal->delay_array_p_det);
  internal->delay_array_p_det = (double*) Calloc(internal->dim_p_det, double);
  internal->dim_delay_FOI = internal->dim_IB + 1;
  internal->dim_delay_FOIv = internal->dim_A + internal->dim_D + internal->dim_ID + internal->dim_T + internal->dim_U;
  for (int i = 1; i <= internal->na; ++i) {
    internal->fd[i - 1] = 1 - (1 - internal->fD0) / (double) (1 + pow((internal->age[i - 1] / (double) internal->aD), internal->gammaD));
  }
  internal->init_A = (double*) user_get_array(user, false, internal->init_A, "init_A", NA_REAL, NA_REAL, 3, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3);
  internal->init_D = (double*) user_get_array(user, false, internal->init_D, "init_D", NA_REAL, NA_REAL, 3, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3);
  internal->init_IB = (double*) user_get_array(user, false, internal->init_IB, "init_IB", NA_REAL, NA_REAL, 3, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3);
  internal->init_ICA = (double*) user_get_array(user, false, internal->init_ICA, "init_ICA", NA_REAL, NA_REAL, 3, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3);
  internal->init_ICM = (double*) user_get_array(user, false, internal->init_ICM, "init_ICM", NA_REAL, NA_REAL, 3, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3);
  internal->init_ID = (double*) user_get_array(user, false, internal->init_ID, "init_ID", NA_REAL, NA_REAL, 3, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3);
  internal->init_P = (double*) user_get_array(user, false, internal->init_P, "init_P", NA_REAL, NA_REAL, 3, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3);
  internal->init_S = (double*) user_get_array(user, false, internal->init_S, "init_S", NA_REAL, NA_REAL, 3, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3);
  internal->init_T = (double*) user_get_array(user, false, internal->init_T, "init_T", NA_REAL, NA_REAL, 3, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3);
  internal->init_U = (double*) user_get_array(user, false, internal->init_U, "init_U", NA_REAL, NA_REAL, 3, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3);
  internal->offset_FOIv_A = internal->dim_D + internal->dim_T;
  internal->offset_FOIv_ID = internal->dim_A + internal->dim_D + internal->dim_T + internal->dim_U;
  internal->offset_FOIv_U = internal->dim_A + internal->dim_D + internal->dim_T;
  internal->offset_variable_A = internal->dim_D + internal->dim_Ev + internal->dim_S + internal->dim_T + 5;
  internal->offset_variable_D = internal->dim_Ev + internal->dim_S + internal->dim_T + 5;
  internal->offset_variable_IB = internal->dim_A + internal->dim_D + internal->dim_Ev + internal->dim_ICA + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 5;
  internal->offset_variable_ICA = internal->dim_A + internal->dim_D + internal->dim_Ev + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 5;
  internal->offset_variable_ICM = internal->dim_A + internal->dim_D + internal->dim_Ev + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 5;
  internal->offset_variable_ID = internal->dim_A + internal->dim_D + internal->dim_Ev + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 5;
  internal->offset_variable_P = internal->dim_A + internal->dim_D + internal->dim_Ev + internal->dim_S + internal->dim_T + internal->dim_U + 5;
  internal->offset_variable_T = internal->dim_Ev + internal->dim_S + 5;
  internal->offset_variable_U = internal->dim_A + internal->dim_D + internal->dim_Ev + internal->dim_S + internal->dim_T + 5;
  Free(internal->delay_index_FOI);
  internal->delay_index_FOI = Calloc(internal->dim_delay_FOI, int);
  Free(internal->delay_state_FOI);
  internal->delay_state_FOI = Calloc(internal->dim_delay_FOI, double);
  internal->delay_index_FOI[0] = 1;
  for (int i = 0, j = internal->offset_variable_IB; i < internal->dim_IB; ++i, ++j) {
    internal->delay_index_FOI[1 + i] = j;
  }
  Free(internal->delay_index_FOIv);
  internal->delay_index_FOIv = Calloc(internal->dim_delay_FOIv, int);
  Free(internal->delay_state_FOIv);
  internal->delay_state_FOIv = Calloc(internal->dim_delay_FOIv, double);
  for (int i = 0, j = internal->offset_variable_T; i < internal->dim_T; ++i, ++j) {
    internal->delay_index_FOIv[0 + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_D; i < internal->dim_D; ++i, ++j) {
    internal->delay_index_FOIv[internal->dim_T + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_A; i < internal->dim_A; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_A + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_U; i < internal->dim_U; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_U + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_ID; i < internal->dim_ID; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_ID + i] = j;
  }
  for (int i = 1; i <= internal->dim_A_1; ++i) {
    for (int j = 1; j <= internal->dim_A_2; ++j) {
      for (int k = 1; k <= internal->dim_A_3; ++k) {
        internal->initial_A[i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = internal->init_A[internal->dim_init_A_12 * (k - 1) + internal->dim_init_A_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_D_1; ++i) {
    for (int j = 1; j <= internal->dim_D_2; ++j) {
      for (int k = 1; k <= internal->dim_D_3; ++k) {
        internal->initial_D[i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = internal->init_D[internal->dim_init_D_12 * (k - 1) + internal->dim_init_D_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_IB_1; ++i) {
    for (int j = 1; j <= internal->dim_IB_2; ++j) {
      for (int k = 1; k <= internal->dim_IB_3; ++k) {
        internal->initial_IB[i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->init_IB[internal->dim_init_IB_12 * (k - 1) + internal->dim_init_IB_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICA_1; ++i) {
    for (int j = 1; j <= internal->dim_ICA_2; ++j) {
      for (int k = 1; k <= internal->dim_ICA_3; ++k) {
        internal->initial_ICA[i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->init_ICA[internal->dim_init_ICA_12 * (k - 1) + internal->dim_init_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICM_1; ++i) {
    for (int j = 1; j <= internal->dim_ICM_2; ++j) {
      for (int k = 1; k <= internal->dim_ICM_3; ++k) {
        internal->initial_ICM[i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = internal->init_ICM[internal->dim_init_ICM_12 * (k - 1) + internal->dim_init_ICM_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ID_1; ++i) {
    for (int j = 1; j <= internal->dim_ID_2; ++j) {
      for (int k = 1; k <= internal->dim_ID_3; ++k) {
        internal->initial_ID[i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->init_ID[internal->dim_init_ID_12 * (k - 1) + internal->dim_init_ID_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_P_1; ++i) {
    for (int j = 1; j <= internal->dim_P_2; ++j) {
      for (int k = 1; k <= internal->dim_P_3; ++k) {
        internal->initial_P[i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->init_P[internal->dim_init_P_12 * (k - 1) + internal->dim_init_P_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_S_1; ++i) {
    for (int j = 1; j <= internal->dim_S_2; ++j) {
      for (int k = 1; k <= internal->dim_S_3; ++k) {
        internal->initial_S[i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = internal->init_S[internal->dim_init_S_12 * (k - 1) + internal->dim_init_S_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_T_1; ++i) {
    for (int j = 1; j <= internal->dim_T_2; ++j) {
      for (int k = 1; k <= internal->dim_T_3; ++k) {
        internal->initial_T[i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->init_T[internal->dim_init_T_12 * (k - 1) + internal->dim_init_T_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_U_1; ++i) {
    for (int j = 1; j <= internal->dim_U_2; ++j) {
      for (int k = 1; k <= internal->dim_U_3; ++k) {
        internal->initial_U[i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->init_U[internal->dim_init_U_12 * (k - 1) + internal->dim_init_U_1 * (j - 1) + i - 1];
      }
    }
  }
  return R_NilValue;
}
SEXP odin_model_hrp2_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_hrp2_use_dde_ptr) {
  odin_model_hrp2_internal *internal = odin_model_hrp2_get_internal(internal_p, 1);
  const double t = REAL(t_ptr)[0];
  internal->initial_t = t;
  internal->odin_model_hrp2_use_dde = INTEGER(odin_model_hrp2_use_dde_ptr)[0];
  if (state_ptr != R_NilValue) {
    double * state = REAL(state_ptr);
    internal->initial_Sv = state[0];
    internal->initial_Iv = state[1];
    internal->initial_PL = state[2];
    internal->initial_LL = state[3];
    internal->initial_EL = state[4];
    memcpy(internal->initial_Ev, state + 5, internal->dim_Ev * sizeof(double));
    memcpy(internal->initial_S, state + internal->offset_variable_S, internal->dim_S * sizeof(double));
    memcpy(internal->initial_T, state + internal->offset_variable_T, internal->dim_T * sizeof(double));
    memcpy(internal->initial_D, state + internal->offset_variable_D, internal->dim_D * sizeof(double));
    memcpy(internal->initial_A, state + internal->offset_variable_A, internal->dim_A * sizeof(double));
    memcpy(internal->initial_U, state + internal->offset_variable_U, internal->dim_U * sizeof(double));
    memcpy(internal->initial_P, state + internal->offset_variable_P, internal->dim_P * sizeof(double));
    memcpy(internal->initial_ICM, state + internal->offset_variable_ICM, internal->dim_ICM * sizeof(double));
    memcpy(internal->initial_ICA, state + internal->offset_variable_ICA, internal->dim_ICA * sizeof(double));
    memcpy(internal->initial_IB, state + internal->offset_variable_IB, internal->dim_IB * sizeof(double));
    memcpy(internal->initial_ID, state + internal->offset_variable_ID, internal->dim_ID * sizeof(double));
  }
  return R_NilValue;
}
SEXP odin_model_hrp2_metadata(SEXP internal_p) {
  odin_model_hrp2_internal *internal = odin_model_hrp2_get_internal(internal_p, 1);
  SEXP ret = PROTECT(allocVector(VECSXP, 4));
  SEXP nms = PROTECT(allocVector(STRSXP, 4));
  SET_STRING_ELT(nms, 0, mkChar("variable_order"));
  SET_STRING_ELT(nms, 1, mkChar("output_order"));
  SET_STRING_ELT(nms, 2, mkChar("n_out"));
  SET_STRING_ELT(nms, 3, mkChar("interpolate_t"));
  setAttrib(ret, R_NamesSymbol, nms);
  SEXP variable_length = PROTECT(allocVector(VECSXP, 16));
  SEXP variable_names = PROTECT(allocVector(STRSXP, 16));
  setAttrib(variable_length, R_NamesSymbol, variable_names);
  SET_VECTOR_ELT(variable_length, 0, R_NilValue);
  SET_VECTOR_ELT(variable_length, 1, R_NilValue);
  SET_VECTOR_ELT(variable_length, 2, R_NilValue);
  SET_VECTOR_ELT(variable_length, 3, R_NilValue);
  SET_VECTOR_ELT(variable_length, 4, R_NilValue);
  SET_VECTOR_ELT(variable_length, 5, ScalarInteger(internal->dim_Ev));
  SET_VECTOR_ELT(variable_length, 6, allocVector(INTSXP, 3));
  int * dim_S = INTEGER(VECTOR_ELT(variable_length, 6));
  dim_S[0] = internal->dim_S_1;
  dim_S[1] = internal->dim_S_2;
  dim_S[2] = internal->dim_S_3;
  SET_VECTOR_ELT(variable_length, 7, allocVector(INTSXP, 3));
  int * dim_T = INTEGER(VECTOR_ELT(variable_length, 7));
  dim_T[0] = internal->dim_T_1;
  dim_T[1] = internal->dim_T_2;
  dim_T[2] = internal->dim_T_3;
  SET_VECTOR_ELT(variable_length, 8, allocVector(INTSXP, 3));
  int * dim_D = INTEGER(VECTOR_ELT(variable_length, 8));
  dim_D[0] = internal->dim_D_1;
  dim_D[1] = internal->dim_D_2;
  dim_D[2] = internal->dim_D_3;
  SET_VECTOR_ELT(variable_length, 9, allocVector(INTSXP, 3));
  int * dim_A = INTEGER(VECTOR_ELT(variable_length, 9));
  dim_A[0] = internal->dim_A_1;
  dim_A[1] = internal->dim_A_2;
  dim_A[2] = internal->dim_A_3;
  SET_VECTOR_ELT(variable_length, 10, allocVector(INTSXP, 3));
  int * dim_U = INTEGER(VECTOR_ELT(variable_length, 10));
  dim_U[0] = internal->dim_U_1;
  dim_U[1] = internal->dim_U_2;
  dim_U[2] = internal->dim_U_3;
  SET_VECTOR_ELT(variable_length, 11, allocVector(INTSXP, 3));
  int * dim_P = INTEGER(VECTOR_ELT(variable_length, 11));
  dim_P[0] = internal->dim_P_1;
  dim_P[1] = internal->dim_P_2;
  dim_P[2] = internal->dim_P_3;
  SET_VECTOR_ELT(variable_length, 12, allocVector(INTSXP, 3));
  int * dim_ICM = INTEGER(VECTOR_ELT(variable_length, 12));
  dim_ICM[0] = internal->dim_ICM_1;
  dim_ICM[1] = internal->dim_ICM_2;
  dim_ICM[2] = internal->dim_ICM_3;
  SET_VECTOR_ELT(variable_length, 13, allocVector(INTSXP, 3));
  int * dim_ICA = INTEGER(VECTOR_ELT(variable_length, 13));
  dim_ICA[0] = internal->dim_ICA_1;
  dim_ICA[1] = internal->dim_ICA_2;
  dim_ICA[2] = internal->dim_ICA_3;
  SET_VECTOR_ELT(variable_length, 14, allocVector(INTSXP, 3));
  int * dim_IB = INTEGER(VECTOR_ELT(variable_length, 14));
  dim_IB[0] = internal->dim_IB_1;
  dim_IB[1] = internal->dim_IB_2;
  dim_IB[2] = internal->dim_IB_3;
  SET_VECTOR_ELT(variable_length, 15, allocVector(INTSXP, 3));
  int * dim_ID = INTEGER(VECTOR_ELT(variable_length, 15));
  dim_ID[0] = internal->dim_ID_1;
  dim_ID[1] = internal->dim_ID_2;
  dim_ID[2] = internal->dim_ID_3;
  SET_STRING_ELT(variable_names, 0, mkChar("Sv"));
  SET_STRING_ELT(variable_names, 1, mkChar("Iv"));
  SET_STRING_ELT(variable_names, 2, mkChar("PL"));
  SET_STRING_ELT(variable_names, 3, mkChar("LL"));
  SET_STRING_ELT(variable_names, 4, mkChar("EL"));
  SET_STRING_ELT(variable_names, 5, mkChar("Ev"));
  SET_STRING_ELT(variable_names, 6, mkChar("S"));
  SET_STRING_ELT(variable_names, 7, mkChar("T"));
  SET_STRING_ELT(variable_names, 8, mkChar("D"));
  SET_STRING_ELT(variable_names, 9, mkChar("A"));
  SET_STRING_ELT(variable_names, 10, mkChar("U"));
  SET_STRING_ELT(variable_names, 11, mkChar("P"));
  SET_STRING_ELT(variable_names, 12, mkChar("ICM"));
  SET_STRING_ELT(variable_names, 13, mkChar("ICA"));
  SET_STRING_ELT(variable_names, 14, mkChar("IB"));
  SET_STRING_ELT(variable_names, 15, mkChar("ID"));
  SET_VECTOR_ELT(ret, 0, variable_length);
  UNPROTECT(2);
  SEXP output_length = PROTECT(allocVector(VECSXP, 23));
  SEXP output_names = PROTECT(allocVector(STRSXP, 23));
  setAttrib(output_length, R_NamesSymbol, output_names);
  SET_VECTOR_ELT(output_length, 0, R_NilValue);
  SET_VECTOR_ELT(output_length, 1, R_NilValue);
  SET_VECTOR_ELT(output_length, 2, R_NilValue);
  SET_VECTOR_ELT(output_length, 3, R_NilValue);
  SET_VECTOR_ELT(output_length, 4, R_NilValue);
  SET_VECTOR_ELT(output_length, 5, R_NilValue);
  SET_VECTOR_ELT(output_length, 6, R_NilValue);
  SET_VECTOR_ELT(output_length, 7, R_NilValue);
  SET_VECTOR_ELT(output_length, 8, R_NilValue);
  SET_VECTOR_ELT(output_length, 9, R_NilValue);
  SET_VECTOR_ELT(output_length, 10, R_NilValue);
  SET_VECTOR_ELT(output_length, 11, R_NilValue);
  SET_VECTOR_ELT(output_length, 12, R_NilValue);
  SET_VECTOR_ELT(output_length, 13, R_NilValue);
  SET_VECTOR_ELT(output_length, 14, R_NilValue);
  SET_VECTOR_ELT(output_length, 15, R_NilValue);
  SET_VECTOR_ELT(output_length, 16, R_NilValue);
  SET_VECTOR_ELT(output_length, 17, R_NilValue);
  SET_VECTOR_ELT(output_length, 18, R_NilValue);
  SET_VECTOR_ELT(output_length, 19, R_NilValue);
  SET_VECTOR_ELT(output_length, 20, R_NilValue);
  SET_VECTOR_ELT(output_length, 21, R_NilValue);
  SET_VECTOR_ELT(output_length, 22, ScalarInteger(internal->dim_cov));
  SET_STRING_ELT(output_names, 0, mkChar("Sout"));
  SET_STRING_ELT(output_names, 1, mkChar("Tout"));
  SET_STRING_ELT(output_names, 2, mkChar("Dout"));
  SET_STRING_ELT(output_names, 3, mkChar("Aout"));
  SET_STRING_ELT(output_names, 4, mkChar("Uout"));
  SET_STRING_ELT(output_names, 5, mkChar("Pout"));
  SET_STRING_ELT(output_names, 6, mkChar("prev"));
  SET_STRING_ELT(output_names, 7, mkChar("inc05"));
  SET_STRING_ELT(output_names, 8, mkChar("inc"));
  SET_STRING_ELT(output_names, 9, mkChar("mu"));
  SET_STRING_ELT(output_names, 10, mkChar("beta_larval"));
  SET_STRING_ELT(output_names, 11, mkChar("KL"));
  SET_STRING_ELT(output_names, 12, mkChar("mv"));
  SET_STRING_ELT(output_names, 13, mkChar("Q"));
  SET_STRING_ELT(output_names, 14, mkChar("wh"));
  SET_STRING_ELT(output_names, 15, mkChar("d_ITN"));
  SET_STRING_ELT(output_names, 16, mkChar("r_ITN"));
  SET_STRING_ELT(output_names, 17, mkChar("s_ITN"));
  SET_STRING_ELT(output_names, 18, mkChar("d_IRS"));
  SET_STRING_ELT(output_names, 19, mkChar("r_IRS"));
  SET_STRING_ELT(output_names, 20, mkChar("s_IRS"));
  SET_STRING_ELT(output_names, 21, mkChar("K0"));
  SET_STRING_ELT(output_names, 22, mkChar("cov"));
  SET_VECTOR_ELT(ret, 1, output_length);
  UNPROTECT(2);
  SET_VECTOR_ELT(ret, 2, ScalarInteger(internal->dim_cov + 22));
  UNPROTECT(2);
  return ret;
}
SEXP odin_model_hrp2_initial_conditions(SEXP internal_p, SEXP t_ptr) {
  double t = scalar_real(t_ptr, "t");
  odin_model_hrp2_internal *internal = odin_model_hrp2_get_internal(internal_p, 1);
  SEXP r_state = PROTECT(allocVector(REALSXP, internal->dim_A + internal->dim_D + internal->dim_Ev + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_ID + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 5));
  double * state = REAL(r_state);
  state[0] = internal->initial_Sv;
  state[1] = internal->initial_Iv;
  state[2] = internal->initial_PL;
  state[3] = internal->initial_LL;
  state[4] = internal->initial_EL;
  memcpy(state + 5, internal->initial_Ev, internal->dim_Ev * sizeof(double));
  memcpy(state + internal->offset_variable_S, internal->initial_S, internal->dim_S * sizeof(double));
  memcpy(state + internal->offset_variable_T, internal->initial_T, internal->dim_T * sizeof(double));
  memcpy(state + internal->offset_variable_D, internal->initial_D, internal->dim_D * sizeof(double));
  memcpy(state + internal->offset_variable_A, internal->initial_A, internal->dim_A * sizeof(double));
  memcpy(state + internal->offset_variable_U, internal->initial_U, internal->dim_U * sizeof(double));
  memcpy(state + internal->offset_variable_P, internal->initial_P, internal->dim_P * sizeof(double));
  memcpy(state + internal->offset_variable_ICM, internal->initial_ICM, internal->dim_ICM * sizeof(double));
  memcpy(state + internal->offset_variable_ICA, internal->initial_ICA, internal->dim_ICA * sizeof(double));
  memcpy(state + internal->offset_variable_IB, internal->initial_IB, internal->dim_IB * sizeof(double));
  memcpy(state + internal->offset_variable_ID, internal->initial_ID, internal->dim_ID * sizeof(double));
  UNPROTECT(1);
  return r_state;
}
void odin_model_hrp2_rhs(odin_model_hrp2_internal* internal, double t, double * state, double * dstatedt, double * output) {
  double * S = state + internal->offset_variable_S;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * IB = state + internal->offset_variable_IB;
  double * ID = state + internal->offset_variable_ID;
  double Sv = state[0];
  double * Ev = state + 5;
  double Iv = state[1];
  double EL = state[4];
  double LL = state[3];
  double PL = state[2];
  dstatedt[2] = LL / (double) internal->dLL - internal->muPL * PL - PL / (double) internal->dPL;
  double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
  double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
  double mv = Sv + odin_sum1(Ev, 0, internal->dim_Ev) + Iv;
  double theta2 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
  double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
  double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
  double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
  double Ah = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double Dh = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  // delay block for incv
  double incv;
  {
    const double t_true = t;
    const double t = t_true - internal->delayMos;
    double Sv;
    if (t <= internal->initial_t) {
      Sv = internal->initial_Sv;
    } else {
      lagvalue(t, internal->odin_model_hrp2_use_dde, internal->delay_index_incv, 1, internal->delay_state_incv);
      Sv = internal->delay_state_incv[0];
    }
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    // delay block for FOIv
    double FOIv;
    {
      const double t_true = t;
      const double t = t_true - internal->delayGam;
      double *T;
      double *D;
      double *A;
      double *U;
      double *ID;
      if (t <= internal->initial_t) {
        T = internal->initial_T;
        D = internal->initial_D;
        A = internal->initial_A;
        U = internal->initial_U;
        ID = internal->initial_ID;
      } else {
        lagvalue(t, internal->odin_model_hrp2_use_dde, internal->delay_index_FOIv, internal->dim_delay_FOIv, internal->delay_state_FOIv);
        T = internal->delay_state_FOIv + 0;
        D = internal->delay_state_FOIv + internal->dim_T;
        A = internal->delay_state_FOIv + internal->offset_FOIv_A;
        U = internal->delay_state_FOIv + internal->offset_FOIv_U;
        ID = internal->delay_state_FOIv + internal->offset_FOIv_ID;
      }
      double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
      double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
      double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
      double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
      double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
      double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
      double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
      double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
      {
         int i = 1;
         internal->delay_array_z_[i - 1] = 0;
      }
      {
         int i = 2;
         internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
      }
      {
         int i = 3;
         internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
      }
      {
         int i = 4;
         internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
      }
      for (int i = 1; i <= internal->dim_p_det_1; ++i) {
        for (int j = 1; j <= internal->dim_p_det_2; ++j) {
          for (int k = 1; k <= internal->dim_p_det_3; ++k) {
            internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
          }
        }
      }
      {
         int i = 1;
         internal->delay_array_w_[i - 1] = 1;
      }
      {
         int i = 2;
         internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
      }
      {
         int i = 3;
         internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
      }
      {
         int i = 4;
         internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
      }
      for (int i = 1; i <= internal->dim_z; ++i) {
        internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
      }
      for (int i = 1; i <= internal->dim_cA_1; ++i) {
        for (int j = 1; j <= internal->dim_cA_2; ++j) {
          for (int k = 1; k <= internal->dim_cA_3; ++k) {
            internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
          }
        }
      }
      for (int i = 1; i <= internal->dim_w; ++i) {
        internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
      }
      double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
      double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
      double zbar = internal->Q0 * zh;
      double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
      double wbar = 1 - internal->Q0 + internal->Q0 * wh;
      double Q = 1 - (1 - internal->Q0) / (double) wbar;
      double av = fv * Q;
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_av_mosq[i - 1] = av * internal->delay_array_w[i - 1] / (double) wh;
      }
      for (int i = 1; i <= internal->na; ++i) {
        for (int j = 1; j <= internal->nh; ++j) {
          for (int k = 1; k <= internal->num_int; ++k) {
            internal->delay_array_FOIvijk[i - 1 + internal->dim_FOIvijk_1 * (j - 1) + internal->dim_FOIvijk_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
          }
        }
      }
      double lag_FOIv = odin_sum1(internal->delay_array_FOIvijk, 0, internal->dim_FOIvijk);
      FOIv = lag_FOIv;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    double ince = FOIv * Sv;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zbar = internal->Q0 * zh;
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double p1 = wbar * internal->p10 / (double) (1 - zbar * internal->p10);
    double mu = -(fv) * log(p1 * internal->p2);
    double surv = exp(-(mu) * internal->delayMos);
    double lag_incv = ince * surv;
    incv = lag_incv;
  }
  double Ph = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
  double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
  double Sh = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  double Th = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  double Uh = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  {
     int i = 1;
     internal->z_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z_[i - 1] = internal->bites_Bed * r_ITN;
  }
  {
     int i = 3;
     internal->z_[i - 1] = internal->bites_Indoors * r_IRS;
  }
  {
     int i = 4;
     internal->z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
  }
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double Iv;
    double *IB;
    if (t <= internal->initial_t) {
      Iv = internal->initial_Iv;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_hrp2_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv = internal->delay_state_FOI[0];
      IB = internal->delay_state_FOI + 1;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_yy_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy_[i - 1] = internal->delay_array_w_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS);
    }
    {
       int i = 4;
       internal->delay_array_yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS);
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy; ++i) {
      internal->delay_array_yy[i - 1] = internal->delay_array_yy_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human[i - 1] = av * internal->delay_array_yy[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->delay_array_av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] / (double) internal->omega * Iv;
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1)] = internal->delay_array_EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * ((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  // delay block for FOIv
  double FOIv;
  {
    const double t_true = t;
    const double t = t_true - internal->delayGam;
    double *T;
    double *D;
    double *A;
    double *U;
    double *ID;
    if (t <= internal->initial_t) {
      T = internal->initial_T;
      D = internal->initial_D;
      A = internal->initial_A;
      U = internal->initial_U;
      ID = internal->initial_ID;
    } else {
      lagvalue(t, internal->odin_model_hrp2_use_dde, internal->delay_index_FOIv, internal->dim_delay_FOIv, internal->delay_state_FOIv);
      T = internal->delay_state_FOIv + 0;
      D = internal->delay_state_FOIv + internal->dim_T;
      A = internal->delay_state_FOIv + internal->offset_FOIv_A;
      U = internal->delay_state_FOIv + internal->offset_FOIv_U;
      ID = internal->delay_state_FOIv + internal->offset_FOIv_ID;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
        }
      }
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_mosq[i - 1] = av * internal->delay_array_w[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOIvijk[i - 1 + internal->dim_FOIvijk_1 * (j - 1) + internal->dim_FOIvijk_12 * (k - 1)] = (internal->cT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
        }
      }
    }
    double lag_FOIv = odin_sum1(internal->delay_array_FOIvijk, 0, internal->dim_FOIvijk);
    FOIv = lag_FOIv;
  }
  double H = Sh + Th + Dh + Ah + Uh + Ph;
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1)] = ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->nh; ++i) {
    for (int j = 1; j <= internal->num_int; ++j) {
      internal->init_ICM_pre[i - 1 + internal->dim_init_ICM_pre_1 * (j - 1)] = internal->PM * (ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20l - 1] + internal->age_20_factor * (ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20u - 1] - ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20l - 1]));
    }
  }
  {
     int i = 1;
     internal->w_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
  }
  {
     int i = 3;
     internal->w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
  }
  {
     int i = 4;
     internal->w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1)] = S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_z; ++i) {
    internal->z[i - 1] = internal->z_[i - 1];
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - (ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + (internal->init_ICM_pre[internal->dim_init_ICM_pre_1 * (k - 1) + j - 1] - ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1]) / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - (ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - (ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_S + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->cov[k - 1] * internal->eta * H * internal->het_wt[j - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_S + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double ince = FOIv * Sv;
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
      }
    }
  }
  for (int i = 1; i <= internal->dim_w; ++i) {
    internal->w[i - 1] = internal->w_[i - 1];
  }
  {
     int i = 1;
     internal->yy_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy_[i - 1] = internal->w_[1];
  }
  {
     int i = 3;
     internal->yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS);
  }
  {
     int i = 4;
     internal->yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS);
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi[i - 1] = internal->cov[i - 1] * internal->z[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1)] = internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = (1 - internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = (1 - internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi[i - 1] = internal->cov[i - 1] * internal->w[i - 1];
  }
  for (int i = 1; i <= internal->dim_yy; ++i) {
    internal->yy[i - 1] = internal->yy_[i - 1];
  }
  double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi, 0, internal->dim_zhi));
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = (1 - (internal->hrp2_prop * internal->ft)) * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = (1 - (internal->hrp2_prop * internal->ft)) * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->hrp2_prop * internal->ft * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->hrp2_prop * internal->ft * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi, 0, internal->dim_whi));
  double zbar = internal->Q0 * zh;
  double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
  double wbar = 1 - internal->Q0 + internal->Q0 * wh;
  double p1 = wbar * internal->p10 / (double) (1 - zbar * internal->p10);
  double Q = 1 - (1 - internal->Q0) / (double) wbar;
  double av = fv * Q;
  double mu = -(fv) * log(p1 * internal->p2);
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human[i - 1] = av * internal->yy[i - 1] / (double) wh;
  }
  double betaa = internal->mv0 * mu * theta2;
  {
     int i = 1;
     dstatedt[5 + i - 1] = ince - Ev[0] - mu * Ev[0];
  }
  for (int i = 2; i <= 10; ++i) {
    dstatedt[5 + i - 1] = Ev[i - 1 - 1] - Ev[i - 1] - mu * Ev[i - 1];
  }
  dstatedt[1] = incv - mu * Iv;
  double eov = internal->betaL / (double) mu * (exp(mu / (double) fv) - 1);
  double beta_larval = eov * mu * exp(-(mu) / (double) fv) / (double) (1 - exp(-(mu) / (double) fv));
  dstatedt[0] = -(ince) - mu * Sv + betaa;
  for (int i = 1; i <= internal->dim_EIR_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_3; ++k) {
        internal->EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] / (double) internal->omega * Iv;
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - (IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  double lambda = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  double K0 = 2 * internal->mv0 * internal->dLL * mu * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda + 1) / (double) (lambda / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1);
  double KL = K0 * theta2;
  dstatedt[4] = beta_larval * mv - internal->muEL * (1 + (EL + LL) / (double) KL) * EL - EL / (double) internal->dEL;
  dstatedt[3] = EL / (double) internal->dEL - internal->muLL * (1 + internal->gammaL * (EL + LL) / (double) KL) * LL - LL / (double) internal->dLL;
  if (output) {
    output[12] = mv;
    output[3] = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
    output[18] = d_IRS;
    output[15] = d_ITN;
    output[2] = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
    output[5] = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
    output[19] = r_IRS;
    output[16] = r_ITN;
    output[0] = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
    output[1] = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
    output[4] = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
    memcpy(output + 22, internal->cov, internal->dim_cov * sizeof(double));
    output[20] = s_IRS;
    output[17] = s_ITN;
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    for (int i = 1; i <= internal->age59; ++i) {
      for (int j = 1; j <= internal->dim_prev0to59_2; ++j) {
        for (int k = 1; k <= internal->dim_prev0to59_3; ++k) {
          internal->prev0to59[i - 1 + internal->dim_prev0to59_1 * (j - 1) + internal->dim_prev0to59_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
    output[6] = odin_sum3(internal->prev0to59, 0, internal->dim_prev0to59_1, 0, internal->dim_prev0to59_2, 0, internal->dim_prev0to59_3, internal->dim_prev0to59_1, internal->dim_prev0to59_12) / (double) odin_sum1(internal->den, 0, internal->age59);
    for (int i = 1; i <= internal->age05; ++i) {
      for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
        for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
          internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1)] = internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
        }
      }
    }
    output[8] = odin_sum3(internal->clin_inc, 0, internal->dim_clin_inc_1, 0, internal->dim_clin_inc_2, 0, internal->dim_clin_inc_3, internal->dim_clin_inc_1, internal->dim_clin_inc_12);
    output[7] = odin_sum1(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5) / (double) odin_sum1(internal->den, 0, internal->age05);
    output[14] = wh;
    output[13] = Q;
    output[9] = mu;
    output[10] = beta_larval;
    output[21] = K0;
    output[11] = KL;
  }
}
void odin_model_hrp2_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal) {
  odin_model_hrp2_rhs((odin_model_hrp2_internal*)internal, t, state, dstatedt, NULL);
}
void odin_model_hrp2_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np) {
  odin_model_hrp2_rhs(odin_model_hrp2_internal_ds, *t, state, dstatedt, output);
}
void odin_model_hrp2_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p) {
  odin_model_hrp2_internal *internal = (odin_model_hrp2_internal*) internal_p;
  double * S = state + internal->offset_variable_S;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * ID = state + internal->offset_variable_ID;
  double Sv = state[0];
  double * Ev = state + 5;
  double Iv = state[1];
  double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
  double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
  double mv = Sv + odin_sum1(Ev, 0, internal->dim_Ev) + Iv;
  double theta2 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
  double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
  output[12] = mv;
  double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
  double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
  output[3] = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  output[18] = d_IRS;
  output[15] = d_ITN;
  output[2] = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  output[5] = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  output[19] = r_IRS;
  output[16] = r_ITN;
  output[0] = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  output[1] = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  output[4] = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
  double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
  {
     int i = 1;
     internal->z_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z_[i - 1] = internal->bites_Bed * r_ITN;
  }
  {
     int i = 3;
     internal->z_[i - 1] = internal->bites_Indoors * r_IRS;
  }
  {
     int i = 4;
     internal->z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
  }
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double Iv;
    double *IB;
    if (t <= internal->initial_t) {
      Iv = internal->initial_Iv;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_hrp2_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv = internal->delay_state_FOI[0];
      IB = internal->delay_state_FOI + 1;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_yy_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy_[i - 1] = internal->delay_array_w_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS);
    }
    {
       int i = 4;
       internal->delay_array_yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS);
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy; ++i) {
      internal->delay_array_yy[i - 1] = internal->delay_array_yy_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human[i - 1] = av * internal->delay_array_yy[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->delay_array_av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] / (double) internal->omega * Iv;
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1)] = internal->delay_array_EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * ((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1)] = ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  memcpy(output + 22, internal->cov, internal->dim_cov * sizeof(double));
  output[20] = s_IRS;
  output[17] = s_ITN;
  for (int i = 1; i <= internal->dim_p_det_1; ++i) {
    for (int j = 1; j <= internal->dim_p_det_2; ++j) {
      for (int k = 1; k <= internal->dim_p_det_3; ++k) {
        internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
      }
    }
  }
  {
     int i = 1;
     internal->w_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
  }
  {
     int i = 3;
     internal->w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
  }
  {
     int i = 4;
     internal->w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1)] = S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_z; ++i) {
    internal->z[i - 1] = internal->z_[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
      }
    }
  }
  for (int i = 1; i <= internal->age59; ++i) {
    for (int j = 1; j <= internal->dim_prev0to59_2; ++j) {
      for (int k = 1; k <= internal->dim_prev0to59_3; ++k) {
        internal->prev0to59[i - 1 + internal->dim_prev0to59_1 * (j - 1) + internal->dim_prev0to59_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_w; ++i) {
    internal->w[i - 1] = internal->w_[i - 1];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi[i - 1] = internal->cov[i - 1] * internal->z[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1)] = internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
      }
    }
  }
  output[6] = odin_sum3(internal->prev0to59, 0, internal->dim_prev0to59_1, 0, internal->dim_prev0to59_2, 0, internal->dim_prev0to59_3, internal->dim_prev0to59_1, internal->dim_prev0to59_12) / (double) odin_sum1(internal->den, 0, internal->age59);
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi[i - 1] = internal->cov[i - 1] * internal->w[i - 1];
  }
  double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi, 0, internal->dim_zhi));
  for (int i = 1; i <= internal->age05; ++i) {
    for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
      for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
        internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1)] = internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
      }
    }
  }
  output[8] = odin_sum3(internal->clin_inc, 0, internal->dim_clin_inc_1, 0, internal->dim_clin_inc_2, 0, internal->dim_clin_inc_3, internal->dim_clin_inc_1, internal->dim_clin_inc_12);
  double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi, 0, internal->dim_whi));
  double zbar = internal->Q0 * zh;
  double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
  output[7] = odin_sum1(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5) / (double) odin_sum1(internal->den, 0, internal->age05);
  output[14] = wh;
  double wbar = 1 - internal->Q0 + internal->Q0 * wh;
  double p1 = wbar * internal->p10 / (double) (1 - zbar * internal->p10);
  double Q = 1 - (1 - internal->Q0) / (double) wbar;
  double mu = -(fv) * log(p1 * internal->p2);
  output[13] = Q;
  double eov = internal->betaL / (double) mu * (exp(mu / (double) fv) - 1);
  output[9] = mu;
  double beta_larval = eov * mu * exp(-(mu) / (double) fv) / (double) (1 - exp(-(mu) / (double) fv));
  double lambda = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  output[10] = beta_larval;
  double K0 = 2 * internal->mv0 * internal->dLL * mu * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda + 1) / (double) (lambda / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1);
  double KL = K0 * theta2;
  output[21] = K0;
  output[11] = KL;
}
SEXP odin_model_hrp2_rhs_r(SEXP internal_p, SEXP t, SEXP state) {
  SEXP dstatedt = PROTECT(allocVector(REALSXP, LENGTH(state)));
  odin_model_hrp2_internal *internal = odin_model_hrp2_get_internal(internal_p, 1);
  SEXP output_ptr = PROTECT(allocVector(REALSXP, internal->dim_cov + 22));
  setAttrib(dstatedt, install("output"), output_ptr);
  UNPROTECT(1);
  double *output = REAL(output_ptr);
  const double initial_t = internal->initial_t;
  if (ISNA(initial_t)) {
    internal->initial_t = scalar_real(t, "t");
  }
  odin_model_hrp2_rhs(internal, scalar_real(t, "t"), REAL(state), REAL(dstatedt), output);
  if (ISNA(initial_t)) {
    internal->initial_t = initial_t;
  }
  UNPROTECT(1);
  return dstatedt;
}
odin_model_IVM_SMChet_internal* odin_model_IVM_SMChet_get_internal(SEXP internal_p, int closed_error) {
  odin_model_IVM_SMChet_internal *internal = NULL;
  if (TYPEOF(internal_p) != EXTPTRSXP) {
    Rf_error("Expected an external pointer");
  }
  internal = (odin_model_IVM_SMChet_internal*) R_ExternalPtrAddr(internal_p);
  if (!internal && closed_error) {
    Rf_error("Pointer has been invalidated");
  }
  return internal;
}
void odin_model_IVM_SMChet_finalise(SEXP internal_p) {
  odin_model_IVM_SMChet_internal *internal = odin_model_IVM_SMChet_get_internal(internal_p, 0);
  if (internal_p) {
    cinterpolate_free(internal->interpolate_IVRM_sr);
    internal->interpolate_IVRM_sr = NULL;
    Free(internal->age);
    Free(internal->age_rate);
    Free(internal->av_human);
    Free(internal->av_mosq);
    Free(internal->b);
    Free(internal->cA);
    Free(internal->ccov);
    Free(internal->clin_inc);
    Free(internal->clin_inc_ACD);
    Free(internal->clin_inc0to10);
    Free(internal->clin_inc0to10_ACD);
    Free(internal->clin_inc0to5);
    Free(internal->clin_inc5to10);
    Free(internal->cov);
    Free(internal->delay_array_av_human);
    Free(internal->delay_array_av_mosq);
    Free(internal->delay_array_b);
    Free(internal->delay_array_cA);
    Free(internal->delay_array_EIR);
    Free(internal->delay_array_FOI_lag);
    Free(internal->delay_array_FOIvijk);
    Free(internal->delay_array_p_det);
    Free(internal->delay_array_w);
    Free(internal->delay_array_whi);
    Free(internal->delay_array_yy);
    Free(internal->delay_array_z);
    Free(internal->delay_array_zhi);
    Free(internal->delay_index_FOI);
    Free(internal->delay_index_FOIv);
    Free(internal->delay_state_FOI);
    Free(internal->delay_state_FOIv);
    Free(internal->den);
    Free(internal->EIR);
    Free(internal->fd);
    Free(internal->FOI);
    Free(internal->foi_age);
    Free(internal->FOI_lag);
    Free(internal->FOIvijk);
    Free(internal->haz);
    Free(internal->het_wt);
    Free(internal->IC);
    Free(internal->init_A);
    Free(internal->init_D);
    Free(internal->init_Ex);
    Free(internal->init_IB);
    Free(internal->init_ICA);
    Free(internal->init_ICM);
    Free(internal->init_ID);
    Free(internal->init_Ix);
    Free(internal->init_P);
    Free(internal->init_S);
    Free(internal->init_Sx);
    Free(internal->init_T);
    Free(internal->init_U);
    Free(internal->initial_A);
    Free(internal->initial_D);
    Free(internal->initial_Ev);
    Free(internal->initial_Ex);
    Free(internal->initial_IB);
    Free(internal->initial_ICA);
    Free(internal->initial_ICM);
    Free(internal->initial_ID);
    Free(internal->initial_Ix);
    Free(internal->initial_P);
    Free(internal->initial_S);
    Free(internal->initial_Sx);
    Free(internal->initial_T);
    Free(internal->initial_U);
    Free(internal->IVRM_start);
    Free(internal->MDA_A);
    Free(internal->MDA_D);
    Free(internal->MDA_S);
    Free(internal->MDA_T);
    Free(internal->MDA_U);
    Free(internal->mu_vi);
    Free(internal->p_det);
    Free(internal->phi);
    Free(internal->prev_all_pcr);
    Free(internal->prev_all_slide);
    Free(internal->prev0to10_slide);
    Free(internal->prev0to5_pcr);
    Free(internal->prev0to5_slide);
    Free(internal->prev0to59);
    Free(internal->prev2to10);
    Free(internal->prev5to10_slide);
    Free(internal->rel_foi);
    Free(internal->ttt);
    Free(internal->w);
    Free(internal->whi);
    Free(internal->x_I);
    Free(internal->Y);
    Free(internal->yy);
    Free(internal->z);
    Free(internal->zhi);
    Free(internal);
    R_ClearExternalPtr(internal_p);
  }
}
SEXP odin_model_IVM_SMChet_create(SEXP user) {
  odin_model_IVM_SMChet_internal *internal = (odin_model_IVM_SMChet_internal*) Calloc(1, odin_model_IVM_SMChet_internal);
  internal->age = NULL;
  internal->age_rate = NULL;
  internal->av_human = NULL;
  internal->av_mosq = NULL;
  internal->b = NULL;
  internal->cA = NULL;
  internal->ccov = NULL;
  internal->clin_inc = NULL;
  internal->clin_inc_ACD = NULL;
  internal->clin_inc0to10 = NULL;
  internal->clin_inc0to10_ACD = NULL;
  internal->clin_inc0to5 = NULL;
  internal->clin_inc5to10 = NULL;
  internal->cov = NULL;
  internal->delay_array_av_human = NULL;
  internal->delay_array_av_mosq = NULL;
  internal->delay_array_b = NULL;
  internal->delay_array_cA = NULL;
  internal->delay_array_EIR = NULL;
  internal->delay_array_FOI_lag = NULL;
  internal->delay_array_FOIvijk = NULL;
  internal->delay_array_p_det = NULL;
  internal->delay_array_w = NULL;
  internal->delay_array_whi = NULL;
  internal->delay_array_yy = NULL;
  internal->delay_array_z = NULL;
  internal->delay_array_zhi = NULL;
  internal->delay_index_FOI = NULL;
  internal->delay_index_FOIv = NULL;
  internal->delay_state_FOI = NULL;
  internal->delay_state_FOIv = NULL;
  internal->den = NULL;
  internal->EIR = NULL;
  internal->fd = NULL;
  internal->FOI = NULL;
  internal->foi_age = NULL;
  internal->FOI_lag = NULL;
  internal->FOIvijk = NULL;
  internal->haz = NULL;
  internal->het_wt = NULL;
  internal->IC = NULL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_Ex = NULL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ID = NULL;
  internal->init_Ix = NULL;
  internal->init_P = NULL;
  internal->init_S = NULL;
  internal->init_Sx = NULL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->initial_A = NULL;
  internal->initial_D = NULL;
  internal->initial_Ev = NULL;
  internal->initial_Ex = NULL;
  internal->initial_IB = NULL;
  internal->initial_ICA = NULL;
  internal->initial_ICM = NULL;
  internal->initial_ID = NULL;
  internal->initial_Ix = NULL;
  internal->initial_P = NULL;
  internal->initial_S = NULL;
  internal->initial_Sx = NULL;
  internal->initial_T = NULL;
  internal->initial_U = NULL;
  internal->IVRM_start = NULL;
  internal->MDA_A = NULL;
  internal->MDA_D = NULL;
  internal->MDA_S = NULL;
  internal->MDA_T = NULL;
  internal->MDA_U = NULL;
  internal->mu_vi = NULL;
  internal->p_det = NULL;
  internal->phi = NULL;
  internal->prev_all_pcr = NULL;
  internal->prev_all_slide = NULL;
  internal->prev0to10_slide = NULL;
  internal->prev0to5_pcr = NULL;
  internal->prev0to5_slide = NULL;
  internal->prev0to59 = NULL;
  internal->prev2to10 = NULL;
  internal->prev5to10_slide = NULL;
  internal->rel_foi = NULL;
  internal->ttt = NULL;
  internal->w = NULL;
  internal->whi = NULL;
  internal->x_I = NULL;
  internal->Y = NULL;
  internal->yy = NULL;
  internal->z = NULL;
  internal->zhi = NULL;
  internal->MDA_succ = 0.94999999999999996;
  internal->spor_len = 10;
  internal->dim_Ev = internal->spor_len;
  internal->MDA_eff1 = 1 * internal->MDA_succ;
  internal->tau_v = internal->spor_len / (double) 10;
  Free(internal->initial_Ev);
  internal->initial_Ev = (double*) Calloc(internal->dim_Ev, double);
  internal->offset_variable_Sx = internal->dim_Ev + 5;
  internal->aD = NA_REAL;
  internal->age = NULL;
  internal->age_rate = NULL;
  internal->age02 = NA_INTEGER;
  internal->age05 = NA_INTEGER;
  internal->age10 = NA_INTEGER;
  internal->age59 = NA_INTEGER;
  internal->b0 = NA_REAL;
  internal->b1 = NA_REAL;
  internal->B2 = NA_REAL;
  internal->betaL = NA_REAL;
  internal->bites_Bed = NA_REAL;
  internal->bites_Indoors = NA_REAL;
  internal->ccov = NULL;
  internal->cD = NA_REAL;
  internal->chi = NA_REAL;
  internal->cT = NA_REAL;
  internal->cU = NA_REAL;
  internal->d_IRS0 = NA_REAL;
  internal->d_ITN0 = NA_REAL;
  internal->d1 = NA_REAL;
  internal->dB = NA_REAL;
  internal->dCA = NA_REAL;
  internal->dCM = NA_REAL;
  internal->dE = NA_REAL;
  internal->dEL = NA_REAL;
  internal->delayGam = NA_REAL;
  internal->den = NULL;
  internal->dID = NA_REAL;
  internal->dLL = NA_REAL;
  internal->dPL = NA_REAL;
  internal->eff_len = NA_INTEGER;
  internal->eta = NA_REAL;
  internal->fD0 = NA_REAL;
  internal->foi_age = NULL;
  internal->ft = NA_REAL;
  internal->gamma1 = NA_REAL;
  internal->gammaD = NA_REAL;
  internal->gammaL = NA_REAL;
  internal->haz = NULL;
  internal->het_wt = NULL;
  internal->IB0 = NA_REAL;
  internal->IC0 = NA_REAL;
  internal->ID0 = NA_REAL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_EL = NA_REAL;
  internal->init_Ev = NA_REAL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ID = NULL;
  internal->init_Iv = NA_REAL;
  internal->init_LL = NA_REAL;
  internal->init_P = NULL;
  internal->init_PL = NA_REAL;
  internal->init_S = NULL;
  internal->init_Sv = NA_REAL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->irs_cov = NA_REAL;
  internal->IRS_interval = NA_REAL;
  internal->irs_loss = NA_REAL;
  internal->itn_cov = NA_REAL;
  internal->ITN_interval = NA_REAL;
  internal->ITN_IRS_on = NA_REAL;
  internal->itn_loss = NA_REAL;
  internal->ivm_cov_par = NA_REAL;
  internal->ivm_min_age = NA_REAL;
  internal->IVRM_start = NULL;
  internal->kB = NA_REAL;
  internal->kC = NA_REAL;
  internal->kD = NA_REAL;
  internal->MDA_cov = NA_REAL;
  internal->MDA_grp_prop = NA_REAL;
  internal->MDA_t1 = NA_REAL;
  internal->MDA_t2 = NA_REAL;
  internal->MDA_t3 = NA_REAL;
  internal->MDA_t4 = NA_REAL;
  internal->MDA_t5 = NA_REAL;
  internal->MDA_t6 = NA_REAL;
  internal->MDA_t7 = NA_REAL;
  internal->MDA_t8 = NA_REAL;
  internal->mu0 = NA_REAL;
  internal->muEL = NA_REAL;
  internal->muLL = NA_REAL;
  internal->muPL = NA_REAL;
  internal->mv0 = NA_REAL;
  internal->na = NA_INTEGER;
  internal->ncc = NA_INTEGER;
  internal->nh = NA_INTEGER;
  internal->num_int = NA_INTEGER;
  internal->omega = NA_REAL;
  internal->p10 = NA_REAL;
  internal->p2 = NA_REAL;
  internal->phi0 = NA_REAL;
  internal->phi1 = NA_REAL;
  internal->pi = NA_REAL;
  internal->Q0 = NA_REAL;
  internal->r_IRS0 = NA_REAL;
  internal->r_ITN0 = NA_REAL;
  internal->r_ITN1 = NA_REAL;
  internal->rA = NA_REAL;
  internal->rD = NA_REAL;
  internal->rel_foi = NULL;
  internal->rP = NA_REAL;
  internal->rT = NA_REAL;
  internal->rU = NA_REAL;
  internal->SMCyrs = NA_INTEGER;
  internal->ssa0 = NA_REAL;
  internal->ssa1 = NA_REAL;
  internal->ssa2 = NA_REAL;
  internal->ssa3 = NA_REAL;
  internal->ssb1 = NA_REAL;
  internal->ssb2 = NA_REAL;
  internal->ssb3 = NA_REAL;
  internal->tau1 = NA_REAL;
  internal->tau2 = NA_REAL;
  internal->theta_c = NA_REAL;
  internal->ttt = NULL;
  internal->uB = NA_REAL;
  internal->uCA = NA_REAL;
  internal->uD = NA_REAL;
  internal->x_I = NULL;
  internal->initial_t = NA_REAL;
  SEXP ptr = PROTECT(R_MakeExternalPtr(internal, R_NilValue, R_NilValue));
  R_RegisterCFinalizer(ptr, odin_model_IVM_SMChet_finalise);
  UNPROTECT(1);
  return ptr;
}
static odin_model_IVM_SMChet_internal *odin_model_IVM_SMChet_internal_ds;
void odin_model_IVM_SMChet_initmod_desolve(void(* odeparms) (int *, double *)) {
  static DL_FUNC get_desolve_gparms = NULL;
  if (get_desolve_gparms == NULL) {
    get_desolve_gparms =
      R_GetCCallable("deSolve", "get_deSolve_gparms");
  }
  odin_model_IVM_SMChet_internal_ds = odin_model_IVM_SMChet_get_internal(get_desolve_gparms(), 1);
}
SEXP odin_model_IVM_SMChet_contents(SEXP internal_p) {
  odin_model_IVM_SMChet_internal *internal = odin_model_IVM_SMChet_get_internal(internal_p, 1);
  SEXP contents = PROTECT(allocVector(VECSXP, 607));
  SET_VECTOR_ELT(contents, 0, ScalarReal(internal->aD));
  SEXP age = PROTECT(allocVector(REALSXP, internal->dim_age));
  memcpy(REAL(age), internal->age, internal->dim_age * sizeof(double));
  SET_VECTOR_ELT(contents, 1, age);
  SEXP age_rate = PROTECT(allocVector(REALSXP, internal->dim_age_rate));
  memcpy(REAL(age_rate), internal->age_rate, internal->dim_age_rate * sizeof(double));
  SET_VECTOR_ELT(contents, 2, age_rate);
  SET_VECTOR_ELT(contents, 3, ScalarInteger(internal->age02));
  SET_VECTOR_ELT(contents, 4, ScalarInteger(internal->age05));
  SET_VECTOR_ELT(contents, 5, ScalarInteger(internal->age10));
  SET_VECTOR_ELT(contents, 6, ScalarReal(internal->age2to10));
  SET_VECTOR_ELT(contents, 7, ScalarInteger(internal->age59));
  SEXP av_human = PROTECT(allocVector(REALSXP, internal->dim_av_human));
  memcpy(REAL(av_human), internal->av_human, internal->dim_av_human * sizeof(double));
  SET_VECTOR_ELT(contents, 8, av_human);
  SEXP av_mosq = PROTECT(allocVector(REALSXP, internal->dim_av_mosq));
  memcpy(REAL(av_mosq), internal->av_mosq, internal->dim_av_mosq * sizeof(double));
  SET_VECTOR_ELT(contents, 9, av_mosq);
  SEXP b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(b), internal->b, internal->dim_b * sizeof(double));
  odin_set_dim(b, 4, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3, internal->dim_b_4);
  SET_VECTOR_ELT(contents, 10, b);
  SET_VECTOR_ELT(contents, 11, ScalarReal(internal->b_lambda));
  SET_VECTOR_ELT(contents, 12, ScalarReal(internal->b0));
  SET_VECTOR_ELT(contents, 13, ScalarReal(internal->b1));
  SET_VECTOR_ELT(contents, 14, ScalarReal(internal->B2));
  SET_VECTOR_ELT(contents, 15, ScalarReal(internal->betaL));
  SET_VECTOR_ELT(contents, 16, ScalarReal(internal->bites_Bed));
  SET_VECTOR_ELT(contents, 17, ScalarReal(internal->bites_Indoors));
  SEXP cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(cA), internal->cA, internal->dim_cA * sizeof(double));
  odin_set_dim(cA, 4, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3, internal->dim_cA_4);
  SET_VECTOR_ELT(contents, 18, cA);
  SEXP ccov = PROTECT(allocVector(REALSXP, internal->dim_ccov));
  memcpy(REAL(ccov), internal->ccov, internal->dim_ccov * sizeof(double));
  SET_VECTOR_ELT(contents, 19, ccov);
  SET_VECTOR_ELT(contents, 20, ScalarReal(internal->cD));
  SET_VECTOR_ELT(contents, 21, ScalarReal(internal->chi));
  SEXP clin_inc = PROTECT(allocVector(REALSXP, internal->dim_clin_inc));
  memcpy(REAL(clin_inc), internal->clin_inc, internal->dim_clin_inc * sizeof(double));
  odin_set_dim(clin_inc, 4, internal->dim_clin_inc_1, internal->dim_clin_inc_2, internal->dim_clin_inc_3, internal->dim_clin_inc_4);
  SET_VECTOR_ELT(contents, 22, clin_inc);
  SEXP clin_inc_ACD = PROTECT(allocVector(REALSXP, internal->dim_clin_inc_ACD));
  memcpy(REAL(clin_inc_ACD), internal->clin_inc_ACD, internal->dim_clin_inc_ACD * sizeof(double));
  odin_set_dim(clin_inc_ACD, 4, internal->dim_clin_inc_ACD_1, internal->dim_clin_inc_ACD_2, internal->dim_clin_inc_ACD_3, internal->dim_clin_inc_ACD_4);
  SET_VECTOR_ELT(contents, 23, clin_inc_ACD);
  SEXP clin_inc0to10 = PROTECT(allocVector(REALSXP, internal->dim_clin_inc0to10));
  memcpy(REAL(clin_inc0to10), internal->clin_inc0to10, internal->dim_clin_inc0to10 * sizeof(double));
  odin_set_dim(clin_inc0to10, 4, internal->dim_clin_inc0to10_1, internal->dim_clin_inc0to10_2, internal->dim_clin_inc0to10_3, internal->dim_clin_inc0to10_4);
  SET_VECTOR_ELT(contents, 24, clin_inc0to10);
  SEXP clin_inc0to10_ACD = PROTECT(allocVector(REALSXP, internal->dim_clin_inc0to10_ACD));
  memcpy(REAL(clin_inc0to10_ACD), internal->clin_inc0to10_ACD, internal->dim_clin_inc0to10_ACD * sizeof(double));
  odin_set_dim(clin_inc0to10_ACD, 4, internal->dim_clin_inc0to10_ACD_1, internal->dim_clin_inc0to10_ACD_2, internal->dim_clin_inc0to10_ACD_3, internal->dim_clin_inc0to10_ACD_4);
  SET_VECTOR_ELT(contents, 25, clin_inc0to10_ACD);
  SEXP clin_inc0to5 = PROTECT(allocVector(REALSXP, internal->dim_clin_inc0to5));
  memcpy(REAL(clin_inc0to5), internal->clin_inc0to5, internal->dim_clin_inc0to5 * sizeof(double));
  odin_set_dim(clin_inc0to5, 4, internal->dim_clin_inc0to5_1, internal->dim_clin_inc0to5_2, internal->dim_clin_inc0to5_3, internal->dim_clin_inc0to5_4);
  SET_VECTOR_ELT(contents, 26, clin_inc0to5);
  SEXP clin_inc5to10 = PROTECT(allocVector(REALSXP, internal->dim_clin_inc5to10));
  memcpy(REAL(clin_inc5to10), internal->clin_inc5to10, internal->dim_clin_inc5to10 * sizeof(double));
  odin_set_dim(clin_inc5to10, 4, internal->dim_clin_inc5to10_1, internal->dim_clin_inc5to10_2, internal->dim_clin_inc5to10_3, internal->dim_clin_inc5to10_4);
  SET_VECTOR_ELT(contents, 27, clin_inc5to10);
  SEXP cov = PROTECT(allocVector(REALSXP, internal->dim_cov));
  memcpy(REAL(cov), internal->cov, internal->dim_cov * sizeof(double));
  SET_VECTOR_ELT(contents, 28, cov);
  SET_VECTOR_ELT(contents, 29, ScalarReal(internal->cT));
  SET_VECTOR_ELT(contents, 30, ScalarReal(internal->cU));
  SET_VECTOR_ELT(contents, 31, ScalarReal(internal->d_IRS0));
  SET_VECTOR_ELT(contents, 32, ScalarReal(internal->d_ITN0));
  SET_VECTOR_ELT(contents, 33, ScalarReal(internal->d1));
  SET_VECTOR_ELT(contents, 34, ScalarReal(internal->dB));
  SET_VECTOR_ELT(contents, 35, ScalarReal(internal->dCA));
  SET_VECTOR_ELT(contents, 36, ScalarReal(internal->dCM));
  SET_VECTOR_ELT(contents, 37, ScalarReal(internal->dE));
  SET_VECTOR_ELT(contents, 38, ScalarReal(internal->dEL));
  SEXP delay_array_av_human = PROTECT(allocVector(REALSXP, internal->dim_av_human));
  memcpy(REAL(delay_array_av_human), internal->delay_array_av_human, internal->dim_av_human * sizeof(double));
  SET_VECTOR_ELT(contents, 39, delay_array_av_human);
  SEXP delay_array_av_mosq = PROTECT(allocVector(REALSXP, internal->dim_av_mosq));
  memcpy(REAL(delay_array_av_mosq), internal->delay_array_av_mosq, internal->dim_av_mosq * sizeof(double));
  SET_VECTOR_ELT(contents, 40, delay_array_av_mosq);
  SEXP delay_array_b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(delay_array_b), internal->delay_array_b, internal->dim_b * sizeof(double));
  odin_set_dim(delay_array_b, 4, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3, internal->dim_b_4);
  SET_VECTOR_ELT(contents, 41, delay_array_b);
  SEXP delay_array_cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(delay_array_cA), internal->delay_array_cA, internal->dim_cA * sizeof(double));
  odin_set_dim(delay_array_cA, 4, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3, internal->dim_cA_4);
  SET_VECTOR_ELT(contents, 42, delay_array_cA);
  SEXP delay_array_EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(delay_array_EIR), internal->delay_array_EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(delay_array_EIR, 4, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3, internal->dim_EIR_4);
  SET_VECTOR_ELT(contents, 43, delay_array_EIR);
  SEXP delay_array_FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(delay_array_FOI_lag), internal->delay_array_FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(delay_array_FOI_lag, 4, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3, internal->dim_FOI_lag_4);
  SET_VECTOR_ELT(contents, 44, delay_array_FOI_lag);
  SEXP delay_array_FOIvijk = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk));
  memcpy(REAL(delay_array_FOIvijk), internal->delay_array_FOIvijk, internal->dim_FOIvijk * sizeof(double));
  odin_set_dim(delay_array_FOIvijk, 4, internal->dim_FOIvijk_1, internal->dim_FOIvijk_2, internal->dim_FOIvijk_3, internal->dim_FOIvijk_4);
  SET_VECTOR_ELT(contents, 45, delay_array_FOIvijk);
  SEXP delay_array_p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(delay_array_p_det), internal->delay_array_p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(delay_array_p_det, 4, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3, internal->dim_p_det_4);
  SET_VECTOR_ELT(contents, 46, delay_array_p_det);
  SEXP delay_array_w = PROTECT(allocVector(REALSXP, internal->dim_w));
  memcpy(REAL(delay_array_w), internal->delay_array_w, internal->dim_w * sizeof(double));
  SET_VECTOR_ELT(contents, 47, delay_array_w);
  SEXP delay_array_whi = PROTECT(allocVector(REALSXP, internal->dim_whi));
  memcpy(REAL(delay_array_whi), internal->delay_array_whi, internal->dim_whi * sizeof(double));
  SET_VECTOR_ELT(contents, 48, delay_array_whi);
  SEXP delay_array_yy = PROTECT(allocVector(REALSXP, internal->dim_yy));
  memcpy(REAL(delay_array_yy), internal->delay_array_yy, internal->dim_yy * sizeof(double));
  SET_VECTOR_ELT(contents, 49, delay_array_yy);
  SEXP delay_array_z = PROTECT(allocVector(REALSXP, internal->dim_z));
  memcpy(REAL(delay_array_z), internal->delay_array_z, internal->dim_z * sizeof(double));
  SET_VECTOR_ELT(contents, 50, delay_array_z);
  SEXP delay_array_zhi = PROTECT(allocVector(REALSXP, internal->dim_zhi));
  memcpy(REAL(delay_array_zhi), internal->delay_array_zhi, internal->dim_zhi * sizeof(double));
  SET_VECTOR_ELT(contents, 51, delay_array_zhi);
  SEXP delay_index_FOI = PROTECT(allocVector(INTSXP, internal->dim_delay_FOI));
  memcpy(INTEGER(delay_index_FOI), internal->delay_index_FOI, internal->dim_delay_FOI * sizeof(int));
  SET_VECTOR_ELT(contents, 52, delay_index_FOI);
  SEXP delay_index_FOIv = PROTECT(allocVector(INTSXP, internal->dim_delay_FOIv));
  memcpy(INTEGER(delay_index_FOIv), internal->delay_index_FOIv, internal->dim_delay_FOIv * sizeof(int));
  SET_VECTOR_ELT(contents, 53, delay_index_FOIv);
  SEXP delay_state_FOI = PROTECT(allocVector(REALSXP, internal->dim_delay_FOI));
  memcpy(REAL(delay_state_FOI), internal->delay_state_FOI, internal->dim_delay_FOI * sizeof(double));
  SET_VECTOR_ELT(contents, 54, delay_state_FOI);
  SEXP delay_state_FOIv = PROTECT(allocVector(REALSXP, internal->dim_delay_FOIv));
  memcpy(REAL(delay_state_FOIv), internal->delay_state_FOIv, internal->dim_delay_FOIv * sizeof(double));
  SET_VECTOR_ELT(contents, 55, delay_state_FOIv);
  SET_VECTOR_ELT(contents, 56, ScalarReal(internal->delayGam));
  SEXP den = PROTECT(allocVector(REALSXP, internal->dim_den));
  memcpy(REAL(den), internal->den, internal->dim_den * sizeof(double));
  SET_VECTOR_ELT(contents, 57, den);
  SET_VECTOR_ELT(contents, 58, ScalarReal(internal->dID));
  SET_VECTOR_ELT(contents, 59, ScalarInteger(internal->dim_A));
  SET_VECTOR_ELT(contents, 60, ScalarInteger(internal->dim_A_1));
  SET_VECTOR_ELT(contents, 61, ScalarInteger(internal->dim_A_12));
  SET_VECTOR_ELT(contents, 62, ScalarInteger(internal->dim_A_123));
  SET_VECTOR_ELT(contents, 63, ScalarInteger(internal->dim_A_2));
  SET_VECTOR_ELT(contents, 64, ScalarInteger(internal->dim_A_3));
  SET_VECTOR_ELT(contents, 65, ScalarInteger(internal->dim_A_4));
  SET_VECTOR_ELT(contents, 66, ScalarInteger(internal->dim_age));
  SET_VECTOR_ELT(contents, 67, ScalarInteger(internal->dim_age_rate));
  SET_VECTOR_ELT(contents, 68, ScalarInteger(internal->dim_av_human));
  SET_VECTOR_ELT(contents, 69, ScalarInteger(internal->dim_av_mosq));
  SET_VECTOR_ELT(contents, 70, ScalarInteger(internal->dim_b));
  SET_VECTOR_ELT(contents, 71, ScalarInteger(internal->dim_b_1));
  SET_VECTOR_ELT(contents, 72, ScalarInteger(internal->dim_b_12));
  SET_VECTOR_ELT(contents, 73, ScalarInteger(internal->dim_b_123));
  SET_VECTOR_ELT(contents, 74, ScalarInteger(internal->dim_b_2));
  SET_VECTOR_ELT(contents, 75, ScalarInteger(internal->dim_b_3));
  SET_VECTOR_ELT(contents, 76, ScalarInteger(internal->dim_b_4));
  SET_VECTOR_ELT(contents, 77, ScalarInteger(internal->dim_cA));
  SET_VECTOR_ELT(contents, 78, ScalarInteger(internal->dim_cA_1));
  SET_VECTOR_ELT(contents, 79, ScalarInteger(internal->dim_cA_12));
  SET_VECTOR_ELT(contents, 80, ScalarInteger(internal->dim_cA_123));
  SET_VECTOR_ELT(contents, 81, ScalarInteger(internal->dim_cA_2));
  SET_VECTOR_ELT(contents, 82, ScalarInteger(internal->dim_cA_3));
  SET_VECTOR_ELT(contents, 83, ScalarInteger(internal->dim_cA_4));
  SET_VECTOR_ELT(contents, 84, ScalarInteger(internal->dim_ccov));
  SET_VECTOR_ELT(contents, 85, ScalarInteger(internal->dim_clin_inc));
  SET_VECTOR_ELT(contents, 86, ScalarInteger(internal->dim_clin_inc_1));
  SET_VECTOR_ELT(contents, 87, ScalarInteger(internal->dim_clin_inc_12));
  SET_VECTOR_ELT(contents, 88, ScalarInteger(internal->dim_clin_inc_123));
  SET_VECTOR_ELT(contents, 89, ScalarInteger(internal->dim_clin_inc_2));
  SET_VECTOR_ELT(contents, 90, ScalarInteger(internal->dim_clin_inc_3));
  SET_VECTOR_ELT(contents, 91, ScalarInteger(internal->dim_clin_inc_4));
  SET_VECTOR_ELT(contents, 92, ScalarInteger(internal->dim_clin_inc_ACD));
  SET_VECTOR_ELT(contents, 93, ScalarInteger(internal->dim_clin_inc_ACD_1));
  SET_VECTOR_ELT(contents, 94, ScalarInteger(internal->dim_clin_inc_ACD_12));
  SET_VECTOR_ELT(contents, 95, ScalarInteger(internal->dim_clin_inc_ACD_123));
  SET_VECTOR_ELT(contents, 96, ScalarInteger(internal->dim_clin_inc_ACD_2));
  SET_VECTOR_ELT(contents, 97, ScalarInteger(internal->dim_clin_inc_ACD_3));
  SET_VECTOR_ELT(contents, 98, ScalarInteger(internal->dim_clin_inc_ACD_4));
  SET_VECTOR_ELT(contents, 99, ScalarInteger(internal->dim_clin_inc0to10));
  SET_VECTOR_ELT(contents, 100, ScalarInteger(internal->dim_clin_inc0to10_1));
  SET_VECTOR_ELT(contents, 101, ScalarInteger(internal->dim_clin_inc0to10_12));
  SET_VECTOR_ELT(contents, 102, ScalarInteger(internal->dim_clin_inc0to10_123));
  SET_VECTOR_ELT(contents, 103, ScalarInteger(internal->dim_clin_inc0to10_2));
  SET_VECTOR_ELT(contents, 104, ScalarInteger(internal->dim_clin_inc0to10_3));
  SET_VECTOR_ELT(contents, 105, ScalarInteger(internal->dim_clin_inc0to10_4));
  SET_VECTOR_ELT(contents, 106, ScalarInteger(internal->dim_clin_inc0to10_ACD));
  SET_VECTOR_ELT(contents, 107, ScalarInteger(internal->dim_clin_inc0to10_ACD_1));
  SET_VECTOR_ELT(contents, 108, ScalarInteger(internal->dim_clin_inc0to10_ACD_12));
  SET_VECTOR_ELT(contents, 109, ScalarInteger(internal->dim_clin_inc0to10_ACD_123));
  SET_VECTOR_ELT(contents, 110, ScalarInteger(internal->dim_clin_inc0to10_ACD_2));
  SET_VECTOR_ELT(contents, 111, ScalarInteger(internal->dim_clin_inc0to10_ACD_3));
  SET_VECTOR_ELT(contents, 112, ScalarInteger(internal->dim_clin_inc0to10_ACD_4));
  SET_VECTOR_ELT(contents, 113, ScalarInteger(internal->dim_clin_inc0to5));
  SET_VECTOR_ELT(contents, 114, ScalarInteger(internal->dim_clin_inc0to5_1));
  SET_VECTOR_ELT(contents, 115, ScalarInteger(internal->dim_clin_inc0to5_12));
  SET_VECTOR_ELT(contents, 116, ScalarInteger(internal->dim_clin_inc0to5_123));
  SET_VECTOR_ELT(contents, 117, ScalarInteger(internal->dim_clin_inc0to5_2));
  SET_VECTOR_ELT(contents, 118, ScalarInteger(internal->dim_clin_inc0to5_3));
  SET_VECTOR_ELT(contents, 119, ScalarInteger(internal->dim_clin_inc0to5_4));
  SET_VECTOR_ELT(contents, 120, ScalarInteger(internal->dim_clin_inc5to10));
  SET_VECTOR_ELT(contents, 121, ScalarInteger(internal->dim_clin_inc5to10_1));
  SET_VECTOR_ELT(contents, 122, ScalarInteger(internal->dim_clin_inc5to10_12));
  SET_VECTOR_ELT(contents, 123, ScalarInteger(internal->dim_clin_inc5to10_123));
  SET_VECTOR_ELT(contents, 124, ScalarInteger(internal->dim_clin_inc5to10_2));
  SET_VECTOR_ELT(contents, 125, ScalarInteger(internal->dim_clin_inc5to10_3));
  SET_VECTOR_ELT(contents, 126, ScalarInteger(internal->dim_clin_inc5to10_4));
  SET_VECTOR_ELT(contents, 127, ScalarInteger(internal->dim_cov));
  SET_VECTOR_ELT(contents, 128, ScalarInteger(internal->dim_D));
  SET_VECTOR_ELT(contents, 129, ScalarInteger(internal->dim_D_1));
  SET_VECTOR_ELT(contents, 130, ScalarInteger(internal->dim_D_12));
  SET_VECTOR_ELT(contents, 131, ScalarInteger(internal->dim_D_123));
  SET_VECTOR_ELT(contents, 132, ScalarInteger(internal->dim_D_2));
  SET_VECTOR_ELT(contents, 133, ScalarInteger(internal->dim_D_3));
  SET_VECTOR_ELT(contents, 134, ScalarInteger(internal->dim_D_4));
  SET_VECTOR_ELT(contents, 135, ScalarInteger(internal->dim_delay_FOI));
  SET_VECTOR_ELT(contents, 136, ScalarInteger(internal->dim_delay_FOIv));
  SET_VECTOR_ELT(contents, 137, ScalarInteger(internal->dim_den));
  SET_VECTOR_ELT(contents, 138, ScalarInteger(internal->dim_EIR));
  SET_VECTOR_ELT(contents, 139, ScalarInteger(internal->dim_EIR_1));
  SET_VECTOR_ELT(contents, 140, ScalarInteger(internal->dim_EIR_12));
  SET_VECTOR_ELT(contents, 141, ScalarInteger(internal->dim_EIR_123));
  SET_VECTOR_ELT(contents, 142, ScalarInteger(internal->dim_EIR_2));
  SET_VECTOR_ELT(contents, 143, ScalarInteger(internal->dim_EIR_3));
  SET_VECTOR_ELT(contents, 144, ScalarInteger(internal->dim_EIR_4));
  SET_VECTOR_ELT(contents, 145, ScalarInteger(internal->dim_Ev));
  SET_VECTOR_ELT(contents, 146, ScalarInteger(internal->dim_Ex));
  SET_VECTOR_ELT(contents, 147, ScalarInteger(internal->dim_Ex_1));
  SET_VECTOR_ELT(contents, 148, ScalarInteger(internal->dim_Ex_2));
  SET_VECTOR_ELT(contents, 149, ScalarInteger(internal->dim_fd));
  SET_VECTOR_ELT(contents, 150, ScalarInteger(internal->dim_FOI));
  SET_VECTOR_ELT(contents, 151, ScalarInteger(internal->dim_FOI_1));
  SET_VECTOR_ELT(contents, 152, ScalarInteger(internal->dim_FOI_12));
  SET_VECTOR_ELT(contents, 153, ScalarInteger(internal->dim_FOI_123));
  SET_VECTOR_ELT(contents, 154, ScalarInteger(internal->dim_FOI_2));
  SET_VECTOR_ELT(contents, 155, ScalarInteger(internal->dim_FOI_3));
  SET_VECTOR_ELT(contents, 156, ScalarInteger(internal->dim_FOI_4));
  SET_VECTOR_ELT(contents, 157, ScalarInteger(internal->dim_foi_age));
  SET_VECTOR_ELT(contents, 158, ScalarInteger(internal->dim_FOI_lag));
  SET_VECTOR_ELT(contents, 159, ScalarInteger(internal->dim_FOI_lag_1));
  SET_VECTOR_ELT(contents, 160, ScalarInteger(internal->dim_FOI_lag_12));
  SET_VECTOR_ELT(contents, 161, ScalarInteger(internal->dim_FOI_lag_123));
  SET_VECTOR_ELT(contents, 162, ScalarInteger(internal->dim_FOI_lag_2));
  SET_VECTOR_ELT(contents, 163, ScalarInteger(internal->dim_FOI_lag_3));
  SET_VECTOR_ELT(contents, 164, ScalarInteger(internal->dim_FOI_lag_4));
  SET_VECTOR_ELT(contents, 165, ScalarInteger(internal->dim_FOIvijk));
  SET_VECTOR_ELT(contents, 166, ScalarInteger(internal->dim_FOIvijk_1));
  SET_VECTOR_ELT(contents, 167, ScalarInteger(internal->dim_FOIvijk_12));
  SET_VECTOR_ELT(contents, 168, ScalarInteger(internal->dim_FOIvijk_123));
  SET_VECTOR_ELT(contents, 169, ScalarInteger(internal->dim_FOIvijk_2));
  SET_VECTOR_ELT(contents, 170, ScalarInteger(internal->dim_FOIvijk_3));
  SET_VECTOR_ELT(contents, 171, ScalarInteger(internal->dim_FOIvijk_4));
  SET_VECTOR_ELT(contents, 172, ScalarInteger(internal->dim_haz));
  SET_VECTOR_ELT(contents, 173, ScalarInteger(internal->dim_het_wt));
  SET_VECTOR_ELT(contents, 174, ScalarInteger(internal->dim_IB));
  SET_VECTOR_ELT(contents, 175, ScalarInteger(internal->dim_IB_1));
  SET_VECTOR_ELT(contents, 176, ScalarInteger(internal->dim_IB_12));
  SET_VECTOR_ELT(contents, 177, ScalarInteger(internal->dim_IB_123));
  SET_VECTOR_ELT(contents, 178, ScalarInteger(internal->dim_IB_2));
  SET_VECTOR_ELT(contents, 179, ScalarInteger(internal->dim_IB_3));
  SET_VECTOR_ELT(contents, 180, ScalarInteger(internal->dim_IB_4));
  SET_VECTOR_ELT(contents, 181, ScalarInteger(internal->dim_IC));
  SET_VECTOR_ELT(contents, 182, ScalarInteger(internal->dim_IC_1));
  SET_VECTOR_ELT(contents, 183, ScalarInteger(internal->dim_IC_12));
  SET_VECTOR_ELT(contents, 184, ScalarInteger(internal->dim_IC_123));
  SET_VECTOR_ELT(contents, 185, ScalarInteger(internal->dim_IC_2));
  SET_VECTOR_ELT(contents, 186, ScalarInteger(internal->dim_IC_3));
  SET_VECTOR_ELT(contents, 187, ScalarInteger(internal->dim_IC_4));
  SET_VECTOR_ELT(contents, 188, ScalarInteger(internal->dim_ICA));
  SET_VECTOR_ELT(contents, 189, ScalarInteger(internal->dim_ICA_1));
  SET_VECTOR_ELT(contents, 190, ScalarInteger(internal->dim_ICA_12));
  SET_VECTOR_ELT(contents, 191, ScalarInteger(internal->dim_ICA_123));
  SET_VECTOR_ELT(contents, 192, ScalarInteger(internal->dim_ICA_2));
  SET_VECTOR_ELT(contents, 193, ScalarInteger(internal->dim_ICA_3));
  SET_VECTOR_ELT(contents, 194, ScalarInteger(internal->dim_ICA_4));
  SET_VECTOR_ELT(contents, 195, ScalarInteger(internal->dim_ICM));
  SET_VECTOR_ELT(contents, 196, ScalarInteger(internal->dim_ICM_1));
  SET_VECTOR_ELT(contents, 197, ScalarInteger(internal->dim_ICM_12));
  SET_VECTOR_ELT(contents, 198, ScalarInteger(internal->dim_ICM_123));
  SET_VECTOR_ELT(contents, 199, ScalarInteger(internal->dim_ICM_2));
  SET_VECTOR_ELT(contents, 200, ScalarInteger(internal->dim_ICM_3));
  SET_VECTOR_ELT(contents, 201, ScalarInteger(internal->dim_ICM_4));
  SET_VECTOR_ELT(contents, 202, ScalarInteger(internal->dim_ID));
  SET_VECTOR_ELT(contents, 203, ScalarInteger(internal->dim_ID_1));
  SET_VECTOR_ELT(contents, 204, ScalarInteger(internal->dim_ID_12));
  SET_VECTOR_ELT(contents, 205, ScalarInteger(internal->dim_ID_123));
  SET_VECTOR_ELT(contents, 206, ScalarInteger(internal->dim_ID_2));
  SET_VECTOR_ELT(contents, 207, ScalarInteger(internal->dim_ID_3));
  SET_VECTOR_ELT(contents, 208, ScalarInteger(internal->dim_ID_4));
  SET_VECTOR_ELT(contents, 209, ScalarInteger(internal->dim_init_A));
  SET_VECTOR_ELT(contents, 210, ScalarInteger(internal->dim_init_A_1));
  SET_VECTOR_ELT(contents, 211, ScalarInteger(internal->dim_init_A_12));
  SET_VECTOR_ELT(contents, 212, ScalarInteger(internal->dim_init_A_123));
  SET_VECTOR_ELT(contents, 213, ScalarInteger(internal->dim_init_A_2));
  SET_VECTOR_ELT(contents, 214, ScalarInteger(internal->dim_init_A_3));
  SET_VECTOR_ELT(contents, 215, ScalarInteger(internal->dim_init_A_4));
  SET_VECTOR_ELT(contents, 216, ScalarInteger(internal->dim_init_D));
  SET_VECTOR_ELT(contents, 217, ScalarInteger(internal->dim_init_D_1));
  SET_VECTOR_ELT(contents, 218, ScalarInteger(internal->dim_init_D_12));
  SET_VECTOR_ELT(contents, 219, ScalarInteger(internal->dim_init_D_123));
  SET_VECTOR_ELT(contents, 220, ScalarInteger(internal->dim_init_D_2));
  SET_VECTOR_ELT(contents, 221, ScalarInteger(internal->dim_init_D_3));
  SET_VECTOR_ELT(contents, 222, ScalarInteger(internal->dim_init_D_4));
  SET_VECTOR_ELT(contents, 223, ScalarInteger(internal->dim_init_Ex));
  SET_VECTOR_ELT(contents, 224, ScalarInteger(internal->dim_init_Ex_1));
  SET_VECTOR_ELT(contents, 225, ScalarInteger(internal->dim_init_Ex_2));
  SET_VECTOR_ELT(contents, 226, ScalarInteger(internal->dim_init_IB));
  SET_VECTOR_ELT(contents, 227, ScalarInteger(internal->dim_init_IB_1));
  SET_VECTOR_ELT(contents, 228, ScalarInteger(internal->dim_init_IB_12));
  SET_VECTOR_ELT(contents, 229, ScalarInteger(internal->dim_init_IB_123));
  SET_VECTOR_ELT(contents, 230, ScalarInteger(internal->dim_init_IB_2));
  SET_VECTOR_ELT(contents, 231, ScalarInteger(internal->dim_init_IB_3));
  SET_VECTOR_ELT(contents, 232, ScalarInteger(internal->dim_init_IB_4));
  SET_VECTOR_ELT(contents, 233, ScalarInteger(internal->dim_init_ICA));
  SET_VECTOR_ELT(contents, 234, ScalarInteger(internal->dim_init_ICA_1));
  SET_VECTOR_ELT(contents, 235, ScalarInteger(internal->dim_init_ICA_12));
  SET_VECTOR_ELT(contents, 236, ScalarInteger(internal->dim_init_ICA_123));
  SET_VECTOR_ELT(contents, 237, ScalarInteger(internal->dim_init_ICA_2));
  SET_VECTOR_ELT(contents, 238, ScalarInteger(internal->dim_init_ICA_3));
  SET_VECTOR_ELT(contents, 239, ScalarInteger(internal->dim_init_ICA_4));
  SET_VECTOR_ELT(contents, 240, ScalarInteger(internal->dim_init_ICM));
  SET_VECTOR_ELT(contents, 241, ScalarInteger(internal->dim_init_ICM_1));
  SET_VECTOR_ELT(contents, 242, ScalarInteger(internal->dim_init_ICM_12));
  SET_VECTOR_ELT(contents, 243, ScalarInteger(internal->dim_init_ICM_123));
  SET_VECTOR_ELT(contents, 244, ScalarInteger(internal->dim_init_ICM_2));
  SET_VECTOR_ELT(contents, 245, ScalarInteger(internal->dim_init_ICM_3));
  SET_VECTOR_ELT(contents, 246, ScalarInteger(internal->dim_init_ICM_4));
  SET_VECTOR_ELT(contents, 247, ScalarInteger(internal->dim_init_ID));
  SET_VECTOR_ELT(contents, 248, ScalarInteger(internal->dim_init_ID_1));
  SET_VECTOR_ELT(contents, 249, ScalarInteger(internal->dim_init_ID_12));
  SET_VECTOR_ELT(contents, 250, ScalarInteger(internal->dim_init_ID_123));
  SET_VECTOR_ELT(contents, 251, ScalarInteger(internal->dim_init_ID_2));
  SET_VECTOR_ELT(contents, 252, ScalarInteger(internal->dim_init_ID_3));
  SET_VECTOR_ELT(contents, 253, ScalarInteger(internal->dim_init_ID_4));
  SET_VECTOR_ELT(contents, 254, ScalarInteger(internal->dim_init_Ix));
  SET_VECTOR_ELT(contents, 255, ScalarInteger(internal->dim_init_P));
  SET_VECTOR_ELT(contents, 256, ScalarInteger(internal->dim_init_P_1));
  SET_VECTOR_ELT(contents, 257, ScalarInteger(internal->dim_init_P_12));
  SET_VECTOR_ELT(contents, 258, ScalarInteger(internal->dim_init_P_123));
  SET_VECTOR_ELT(contents, 259, ScalarInteger(internal->dim_init_P_2));
  SET_VECTOR_ELT(contents, 260, ScalarInteger(internal->dim_init_P_3));
  SET_VECTOR_ELT(contents, 261, ScalarInteger(internal->dim_init_P_4));
  SET_VECTOR_ELT(contents, 262, ScalarInteger(internal->dim_init_S));
  SET_VECTOR_ELT(contents, 263, ScalarInteger(internal->dim_init_S_1));
  SET_VECTOR_ELT(contents, 264, ScalarInteger(internal->dim_init_S_12));
  SET_VECTOR_ELT(contents, 265, ScalarInteger(internal->dim_init_S_123));
  SET_VECTOR_ELT(contents, 266, ScalarInteger(internal->dim_init_S_2));
  SET_VECTOR_ELT(contents, 267, ScalarInteger(internal->dim_init_S_3));
  SET_VECTOR_ELT(contents, 268, ScalarInteger(internal->dim_init_S_4));
  SET_VECTOR_ELT(contents, 269, ScalarInteger(internal->dim_init_Sx));
  SET_VECTOR_ELT(contents, 270, ScalarInteger(internal->dim_init_T));
  SET_VECTOR_ELT(contents, 271, ScalarInteger(internal->dim_init_T_1));
  SET_VECTOR_ELT(contents, 272, ScalarInteger(internal->dim_init_T_12));
  SET_VECTOR_ELT(contents, 273, ScalarInteger(internal->dim_init_T_123));
  SET_VECTOR_ELT(contents, 274, ScalarInteger(internal->dim_init_T_2));
  SET_VECTOR_ELT(contents, 275, ScalarInteger(internal->dim_init_T_3));
  SET_VECTOR_ELT(contents, 276, ScalarInteger(internal->dim_init_T_4));
  SET_VECTOR_ELT(contents, 277, ScalarInteger(internal->dim_init_U));
  SET_VECTOR_ELT(contents, 278, ScalarInteger(internal->dim_init_U_1));
  SET_VECTOR_ELT(contents, 279, ScalarInteger(internal->dim_init_U_12));
  SET_VECTOR_ELT(contents, 280, ScalarInteger(internal->dim_init_U_123));
  SET_VECTOR_ELT(contents, 281, ScalarInteger(internal->dim_init_U_2));
  SET_VECTOR_ELT(contents, 282, ScalarInteger(internal->dim_init_U_3));
  SET_VECTOR_ELT(contents, 283, ScalarInteger(internal->dim_init_U_4));
  SET_VECTOR_ELT(contents, 284, ScalarInteger(internal->dim_IVRM_start));
  SET_VECTOR_ELT(contents, 285, ScalarInteger(internal->dim_Ix));
  SET_VECTOR_ELT(contents, 286, ScalarInteger(internal->dim_MDA_A));
  SET_VECTOR_ELT(contents, 287, ScalarInteger(internal->dim_MDA_A_1));
  SET_VECTOR_ELT(contents, 288, ScalarInteger(internal->dim_MDA_A_12));
  SET_VECTOR_ELT(contents, 289, ScalarInteger(internal->dim_MDA_A_123));
  SET_VECTOR_ELT(contents, 290, ScalarInteger(internal->dim_MDA_A_2));
  SET_VECTOR_ELT(contents, 291, ScalarInteger(internal->dim_MDA_A_3));
  SET_VECTOR_ELT(contents, 292, ScalarInteger(internal->dim_MDA_A_4));
  SET_VECTOR_ELT(contents, 293, ScalarInteger(internal->dim_MDA_D));
  SET_VECTOR_ELT(contents, 294, ScalarInteger(internal->dim_MDA_D_1));
  SET_VECTOR_ELT(contents, 295, ScalarInteger(internal->dim_MDA_D_12));
  SET_VECTOR_ELT(contents, 296, ScalarInteger(internal->dim_MDA_D_123));
  SET_VECTOR_ELT(contents, 297, ScalarInteger(internal->dim_MDA_D_2));
  SET_VECTOR_ELT(contents, 298, ScalarInteger(internal->dim_MDA_D_3));
  SET_VECTOR_ELT(contents, 299, ScalarInteger(internal->dim_MDA_D_4));
  SET_VECTOR_ELT(contents, 300, ScalarInteger(internal->dim_MDA_S));
  SET_VECTOR_ELT(contents, 301, ScalarInteger(internal->dim_MDA_S_1));
  SET_VECTOR_ELT(contents, 302, ScalarInteger(internal->dim_MDA_S_12));
  SET_VECTOR_ELT(contents, 303, ScalarInteger(internal->dim_MDA_S_123));
  SET_VECTOR_ELT(contents, 304, ScalarInteger(internal->dim_MDA_S_2));
  SET_VECTOR_ELT(contents, 305, ScalarInteger(internal->dim_MDA_S_3));
  SET_VECTOR_ELT(contents, 306, ScalarInteger(internal->dim_MDA_S_4));
  SET_VECTOR_ELT(contents, 307, ScalarInteger(internal->dim_MDA_T));
  SET_VECTOR_ELT(contents, 308, ScalarInteger(internal->dim_MDA_T_1));
  SET_VECTOR_ELT(contents, 309, ScalarInteger(internal->dim_MDA_T_12));
  SET_VECTOR_ELT(contents, 310, ScalarInteger(internal->dim_MDA_T_123));
  SET_VECTOR_ELT(contents, 311, ScalarInteger(internal->dim_MDA_T_2));
  SET_VECTOR_ELT(contents, 312, ScalarInteger(internal->dim_MDA_T_3));
  SET_VECTOR_ELT(contents, 313, ScalarInteger(internal->dim_MDA_T_4));
  SET_VECTOR_ELT(contents, 314, ScalarInteger(internal->dim_MDA_U));
  SET_VECTOR_ELT(contents, 315, ScalarInteger(internal->dim_MDA_U_1));
  SET_VECTOR_ELT(contents, 316, ScalarInteger(internal->dim_MDA_U_12));
  SET_VECTOR_ELT(contents, 317, ScalarInteger(internal->dim_MDA_U_123));
  SET_VECTOR_ELT(contents, 318, ScalarInteger(internal->dim_MDA_U_2));
  SET_VECTOR_ELT(contents, 319, ScalarInteger(internal->dim_MDA_U_3));
  SET_VECTOR_ELT(contents, 320, ScalarInteger(internal->dim_MDA_U_4));
  SET_VECTOR_ELT(contents, 321, ScalarInteger(internal->dim_mu_vi));
  SET_VECTOR_ELT(contents, 322, ScalarInteger(internal->dim_P));
  SET_VECTOR_ELT(contents, 323, ScalarInteger(internal->dim_P_1));
  SET_VECTOR_ELT(contents, 324, ScalarInteger(internal->dim_P_12));
  SET_VECTOR_ELT(contents, 325, ScalarInteger(internal->dim_P_123));
  SET_VECTOR_ELT(contents, 326, ScalarInteger(internal->dim_P_2));
  SET_VECTOR_ELT(contents, 327, ScalarInteger(internal->dim_P_3));
  SET_VECTOR_ELT(contents, 328, ScalarInteger(internal->dim_P_4));
  SET_VECTOR_ELT(contents, 329, ScalarInteger(internal->dim_p_det));
  SET_VECTOR_ELT(contents, 330, ScalarInteger(internal->dim_p_det_1));
  SET_VECTOR_ELT(contents, 331, ScalarInteger(internal->dim_p_det_12));
  SET_VECTOR_ELT(contents, 332, ScalarInteger(internal->dim_p_det_123));
  SET_VECTOR_ELT(contents, 333, ScalarInteger(internal->dim_p_det_2));
  SET_VECTOR_ELT(contents, 334, ScalarInteger(internal->dim_p_det_3));
  SET_VECTOR_ELT(contents, 335, ScalarInteger(internal->dim_p_det_4));
  SET_VECTOR_ELT(contents, 336, ScalarInteger(internal->dim_phi));
  SET_VECTOR_ELT(contents, 337, ScalarInteger(internal->dim_phi_1));
  SET_VECTOR_ELT(contents, 338, ScalarInteger(internal->dim_phi_12));
  SET_VECTOR_ELT(contents, 339, ScalarInteger(internal->dim_phi_123));
  SET_VECTOR_ELT(contents, 340, ScalarInteger(internal->dim_phi_2));
  SET_VECTOR_ELT(contents, 341, ScalarInteger(internal->dim_phi_3));
  SET_VECTOR_ELT(contents, 342, ScalarInteger(internal->dim_phi_4));
  SET_VECTOR_ELT(contents, 343, ScalarInteger(internal->dim_prev_all_pcr));
  SET_VECTOR_ELT(contents, 344, ScalarInteger(internal->dim_prev_all_pcr_1));
  SET_VECTOR_ELT(contents, 345, ScalarInteger(internal->dim_prev_all_pcr_12));
  SET_VECTOR_ELT(contents, 346, ScalarInteger(internal->dim_prev_all_pcr_123));
  SET_VECTOR_ELT(contents, 347, ScalarInteger(internal->dim_prev_all_pcr_2));
  SET_VECTOR_ELT(contents, 348, ScalarInteger(internal->dim_prev_all_pcr_3));
  SET_VECTOR_ELT(contents, 349, ScalarInteger(internal->dim_prev_all_pcr_4));
  SET_VECTOR_ELT(contents, 350, ScalarInteger(internal->dim_prev_all_slide));
  SET_VECTOR_ELT(contents, 351, ScalarInteger(internal->dim_prev_all_slide_1));
  SET_VECTOR_ELT(contents, 352, ScalarInteger(internal->dim_prev_all_slide_12));
  SET_VECTOR_ELT(contents, 353, ScalarInteger(internal->dim_prev_all_slide_123));
  SET_VECTOR_ELT(contents, 354, ScalarInteger(internal->dim_prev_all_slide_2));
  SET_VECTOR_ELT(contents, 355, ScalarInteger(internal->dim_prev_all_slide_3));
  SET_VECTOR_ELT(contents, 356, ScalarInteger(internal->dim_prev_all_slide_4));
  SET_VECTOR_ELT(contents, 357, ScalarInteger(internal->dim_prev0to10_slide));
  SET_VECTOR_ELT(contents, 358, ScalarInteger(internal->dim_prev0to10_slide_1));
  SET_VECTOR_ELT(contents, 359, ScalarInteger(internal->dim_prev0to10_slide_12));
  SET_VECTOR_ELT(contents, 360, ScalarInteger(internal->dim_prev0to10_slide_123));
  SET_VECTOR_ELT(contents, 361, ScalarInteger(internal->dim_prev0to10_slide_2));
  SET_VECTOR_ELT(contents, 362, ScalarInteger(internal->dim_prev0to10_slide_3));
  SET_VECTOR_ELT(contents, 363, ScalarInteger(internal->dim_prev0to10_slide_4));
  SET_VECTOR_ELT(contents, 364, ScalarInteger(internal->dim_prev0to5_pcr));
  SET_VECTOR_ELT(contents, 365, ScalarInteger(internal->dim_prev0to5_pcr_1));
  SET_VECTOR_ELT(contents, 366, ScalarInteger(internal->dim_prev0to5_pcr_12));
  SET_VECTOR_ELT(contents, 367, ScalarInteger(internal->dim_prev0to5_pcr_123));
  SET_VECTOR_ELT(contents, 368, ScalarInteger(internal->dim_prev0to5_pcr_2));
  SET_VECTOR_ELT(contents, 369, ScalarInteger(internal->dim_prev0to5_pcr_3));
  SET_VECTOR_ELT(contents, 370, ScalarInteger(internal->dim_prev0to5_pcr_4));
  SET_VECTOR_ELT(contents, 371, ScalarInteger(internal->dim_prev0to5_slide));
  SET_VECTOR_ELT(contents, 372, ScalarInteger(internal->dim_prev0to5_slide_1));
  SET_VECTOR_ELT(contents, 373, ScalarInteger(internal->dim_prev0to5_slide_12));
  SET_VECTOR_ELT(contents, 374, ScalarInteger(internal->dim_prev0to5_slide_123));
  SET_VECTOR_ELT(contents, 375, ScalarInteger(internal->dim_prev0to5_slide_2));
  SET_VECTOR_ELT(contents, 376, ScalarInteger(internal->dim_prev0to5_slide_3));
  SET_VECTOR_ELT(contents, 377, ScalarInteger(internal->dim_prev0to5_slide_4));
  SET_VECTOR_ELT(contents, 378, ScalarInteger(internal->dim_prev0to59));
  SET_VECTOR_ELT(contents, 379, ScalarInteger(internal->dim_prev0to59_1));
  SET_VECTOR_ELT(contents, 380, ScalarInteger(internal->dim_prev0to59_12));
  SET_VECTOR_ELT(contents, 381, ScalarInteger(internal->dim_prev0to59_123));
  SET_VECTOR_ELT(contents, 382, ScalarInteger(internal->dim_prev0to59_2));
  SET_VECTOR_ELT(contents, 383, ScalarInteger(internal->dim_prev0to59_3));
  SET_VECTOR_ELT(contents, 384, ScalarInteger(internal->dim_prev0to59_4));
  SET_VECTOR_ELT(contents, 385, ScalarInteger(internal->dim_prev2to10));
  SET_VECTOR_ELT(contents, 386, ScalarInteger(internal->dim_prev2to10_1));
  SET_VECTOR_ELT(contents, 387, ScalarInteger(internal->dim_prev2to10_12));
  SET_VECTOR_ELT(contents, 388, ScalarInteger(internal->dim_prev2to10_123));
  SET_VECTOR_ELT(contents, 389, ScalarInteger(internal->dim_prev2to10_2));
  SET_VECTOR_ELT(contents, 390, ScalarInteger(internal->dim_prev2to10_3));
  SET_VECTOR_ELT(contents, 391, ScalarInteger(internal->dim_prev2to10_4));
  SET_VECTOR_ELT(contents, 392, ScalarInteger(internal->dim_prev5to10_slide));
  SET_VECTOR_ELT(contents, 393, ScalarInteger(internal->dim_prev5to10_slide_1));
  SET_VECTOR_ELT(contents, 394, ScalarInteger(internal->dim_prev5to10_slide_12));
  SET_VECTOR_ELT(contents, 395, ScalarInteger(internal->dim_prev5to10_slide_123));
  SET_VECTOR_ELT(contents, 396, ScalarInteger(internal->dim_prev5to10_slide_2));
  SET_VECTOR_ELT(contents, 397, ScalarInteger(internal->dim_prev5to10_slide_3));
  SET_VECTOR_ELT(contents, 398, ScalarInteger(internal->dim_prev5to10_slide_4));
  SET_VECTOR_ELT(contents, 399, ScalarInteger(internal->dim_rel_foi));
  SET_VECTOR_ELT(contents, 400, ScalarInteger(internal->dim_S));
  SET_VECTOR_ELT(contents, 401, ScalarInteger(internal->dim_S_1));
  SET_VECTOR_ELT(contents, 402, ScalarInteger(internal->dim_S_12));
  SET_VECTOR_ELT(contents, 403, ScalarInteger(internal->dim_S_123));
  SET_VECTOR_ELT(contents, 404, ScalarInteger(internal->dim_S_2));
  SET_VECTOR_ELT(contents, 405, ScalarInteger(internal->dim_S_3));
  SET_VECTOR_ELT(contents, 406, ScalarInteger(internal->dim_S_4));
  SET_VECTOR_ELT(contents, 407, ScalarInteger(internal->dim_Sx));
  SET_VECTOR_ELT(contents, 408, ScalarInteger(internal->dim_T));
  SET_VECTOR_ELT(contents, 409, ScalarInteger(internal->dim_T_1));
  SET_VECTOR_ELT(contents, 410, ScalarInteger(internal->dim_T_12));
  SET_VECTOR_ELT(contents, 411, ScalarInteger(internal->dim_T_123));
  SET_VECTOR_ELT(contents, 412, ScalarInteger(internal->dim_T_2));
  SET_VECTOR_ELT(contents, 413, ScalarInteger(internal->dim_T_3));
  SET_VECTOR_ELT(contents, 414, ScalarInteger(internal->dim_T_4));
  SET_VECTOR_ELT(contents, 415, ScalarInteger(internal->dim_ttt));
  SET_VECTOR_ELT(contents, 416, ScalarInteger(internal->dim_U));
  SET_VECTOR_ELT(contents, 417, ScalarInteger(internal->dim_U_1));
  SET_VECTOR_ELT(contents, 418, ScalarInteger(internal->dim_U_12));
  SET_VECTOR_ELT(contents, 419, ScalarInteger(internal->dim_U_123));
  SET_VECTOR_ELT(contents, 420, ScalarInteger(internal->dim_U_2));
  SET_VECTOR_ELT(contents, 421, ScalarInteger(internal->dim_U_3));
  SET_VECTOR_ELT(contents, 422, ScalarInteger(internal->dim_U_4));
  SET_VECTOR_ELT(contents, 423, ScalarInteger(internal->dim_w));
  SET_VECTOR_ELT(contents, 424, ScalarInteger(internal->dim_whi));
  SET_VECTOR_ELT(contents, 425, ScalarInteger(internal->dim_x_I));
  SET_VECTOR_ELT(contents, 426, ScalarInteger(internal->dim_Y));
  SET_VECTOR_ELT(contents, 427, ScalarInteger(internal->dim_Y_1));
  SET_VECTOR_ELT(contents, 428, ScalarInteger(internal->dim_Y_12));
  SET_VECTOR_ELT(contents, 429, ScalarInteger(internal->dim_Y_123));
  SET_VECTOR_ELT(contents, 430, ScalarInteger(internal->dim_Y_2));
  SET_VECTOR_ELT(contents, 431, ScalarInteger(internal->dim_Y_3));
  SET_VECTOR_ELT(contents, 432, ScalarInteger(internal->dim_Y_4));
  SET_VECTOR_ELT(contents, 433, ScalarInteger(internal->dim_yy));
  SET_VECTOR_ELT(contents, 434, ScalarInteger(internal->dim_z));
  SET_VECTOR_ELT(contents, 435, ScalarInteger(internal->dim_zhi));
  SET_VECTOR_ELT(contents, 436, ScalarReal(internal->dLL));
  SET_VECTOR_ELT(contents, 437, ScalarReal(internal->dPL));
  SET_VECTOR_ELT(contents, 438, ScalarInteger(internal->eff_len));
  SEXP EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(EIR), internal->EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(EIR, 4, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3, internal->dim_EIR_4);
  SET_VECTOR_ELT(contents, 439, EIR);
  SET_VECTOR_ELT(contents, 440, ScalarReal(internal->eta));
  SEXP fd = PROTECT(allocVector(REALSXP, internal->dim_fd));
  memcpy(REAL(fd), internal->fd, internal->dim_fd * sizeof(double));
  SET_VECTOR_ELT(contents, 441, fd);
  SET_VECTOR_ELT(contents, 442, ScalarReal(internal->fD0));
  SEXP FOI = PROTECT(allocVector(REALSXP, internal->dim_FOI));
  memcpy(REAL(FOI), internal->FOI, internal->dim_FOI * sizeof(double));
  odin_set_dim(FOI, 4, internal->dim_FOI_1, internal->dim_FOI_2, internal->dim_FOI_3, internal->dim_FOI_4);
  SET_VECTOR_ELT(contents, 443, FOI);
  SEXP foi_age = PROTECT(allocVector(REALSXP, internal->dim_foi_age));
  memcpy(REAL(foi_age), internal->foi_age, internal->dim_foi_age * sizeof(double));
  SET_VECTOR_ELT(contents, 444, foi_age);
  SEXP FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(FOI_lag), internal->FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(FOI_lag, 4, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3, internal->dim_FOI_lag_4);
  SET_VECTOR_ELT(contents, 445, FOI_lag);
  SEXP FOIvijk = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk));
  memcpy(REAL(FOIvijk), internal->FOIvijk, internal->dim_FOIvijk * sizeof(double));
  odin_set_dim(FOIvijk, 4, internal->dim_FOIvijk_1, internal->dim_FOIvijk_2, internal->dim_FOIvijk_3, internal->dim_FOIvijk_4);
  SET_VECTOR_ELT(contents, 446, FOIvijk);
  SET_VECTOR_ELT(contents, 447, ScalarReal(internal->ft));
  SET_VECTOR_ELT(contents, 448, ScalarReal(internal->gamma1));
  SET_VECTOR_ELT(contents, 449, ScalarReal(internal->gammaD));
  SET_VECTOR_ELT(contents, 450, ScalarReal(internal->gammaL));
  SEXP haz = PROTECT(allocVector(REALSXP, internal->dim_haz));
  memcpy(REAL(haz), internal->haz, internal->dim_haz * sizeof(double));
  SET_VECTOR_ELT(contents, 451, haz);
  SEXP het_wt = PROTECT(allocVector(REALSXP, internal->dim_het_wt));
  memcpy(REAL(het_wt), internal->het_wt, internal->dim_het_wt * sizeof(double));
  SET_VECTOR_ELT(contents, 452, het_wt);
  SET_VECTOR_ELT(contents, 453, ScalarReal(internal->IB0));
  SEXP IC = PROTECT(allocVector(REALSXP, internal->dim_IC));
  memcpy(REAL(IC), internal->IC, internal->dim_IC * sizeof(double));
  odin_set_dim(IC, 4, internal->dim_IC_1, internal->dim_IC_2, internal->dim_IC_3, internal->dim_IC_4);
  SET_VECTOR_ELT(contents, 454, IC);
  SET_VECTOR_ELT(contents, 455, ScalarReal(internal->IC0));
  SET_VECTOR_ELT(contents, 456, ScalarReal(internal->ID0));
  SEXP init_A = PROTECT(allocVector(REALSXP, internal->dim_init_A));
  memcpy(REAL(init_A), internal->init_A, internal->dim_init_A * sizeof(double));
  odin_set_dim(init_A, 4, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3, internal->dim_init_A_4);
  SET_VECTOR_ELT(contents, 457, init_A);
  SEXP init_D = PROTECT(allocVector(REALSXP, internal->dim_init_D));
  memcpy(REAL(init_D), internal->init_D, internal->dim_init_D * sizeof(double));
  odin_set_dim(init_D, 4, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3, internal->dim_init_D_4);
  SET_VECTOR_ELT(contents, 458, init_D);
  SET_VECTOR_ELT(contents, 459, ScalarReal(internal->init_EL));
  SET_VECTOR_ELT(contents, 460, ScalarReal(internal->init_Ev));
  SEXP init_Ex = PROTECT(allocVector(REALSXP, internal->dim_init_Ex));
  memcpy(REAL(init_Ex), internal->init_Ex, internal->dim_init_Ex * sizeof(double));
  odin_set_dim(init_Ex, 2, internal->dim_init_Ex_1, internal->dim_init_Ex_2);
  SET_VECTOR_ELT(contents, 461, init_Ex);
  SEXP init_IB = PROTECT(allocVector(REALSXP, internal->dim_init_IB));
  memcpy(REAL(init_IB), internal->init_IB, internal->dim_init_IB * sizeof(double));
  odin_set_dim(init_IB, 4, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3, internal->dim_init_IB_4);
  SET_VECTOR_ELT(contents, 462, init_IB);
  SEXP init_ICA = PROTECT(allocVector(REALSXP, internal->dim_init_ICA));
  memcpy(REAL(init_ICA), internal->init_ICA, internal->dim_init_ICA * sizeof(double));
  odin_set_dim(init_ICA, 4, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3, internal->dim_init_ICA_4);
  SET_VECTOR_ELT(contents, 463, init_ICA);
  SEXP init_ICM = PROTECT(allocVector(REALSXP, internal->dim_init_ICM));
  memcpy(REAL(init_ICM), internal->init_ICM, internal->dim_init_ICM * sizeof(double));
  odin_set_dim(init_ICM, 4, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3, internal->dim_init_ICM_4);
  SET_VECTOR_ELT(contents, 464, init_ICM);
  SEXP init_ID = PROTECT(allocVector(REALSXP, internal->dim_init_ID));
  memcpy(REAL(init_ID), internal->init_ID, internal->dim_init_ID * sizeof(double));
  odin_set_dim(init_ID, 4, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3, internal->dim_init_ID_4);
  SET_VECTOR_ELT(contents, 465, init_ID);
  SET_VECTOR_ELT(contents, 466, ScalarReal(internal->init_Iv));
  SEXP init_Ix = PROTECT(allocVector(REALSXP, internal->dim_init_Ix));
  memcpy(REAL(init_Ix), internal->init_Ix, internal->dim_init_Ix * sizeof(double));
  SET_VECTOR_ELT(contents, 467, init_Ix);
  SET_VECTOR_ELT(contents, 468, ScalarReal(internal->init_LL));
  SEXP init_P = PROTECT(allocVector(REALSXP, internal->dim_init_P));
  memcpy(REAL(init_P), internal->init_P, internal->dim_init_P * sizeof(double));
  odin_set_dim(init_P, 4, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3, internal->dim_init_P_4);
  SET_VECTOR_ELT(contents, 469, init_P);
  SET_VECTOR_ELT(contents, 470, ScalarReal(internal->init_PL));
  SEXP init_S = PROTECT(allocVector(REALSXP, internal->dim_init_S));
  memcpy(REAL(init_S), internal->init_S, internal->dim_init_S * sizeof(double));
  odin_set_dim(init_S, 4, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3, internal->dim_init_S_4);
  SET_VECTOR_ELT(contents, 471, init_S);
  SET_VECTOR_ELT(contents, 472, ScalarReal(internal->init_Sv));
  SEXP init_Sx = PROTECT(allocVector(REALSXP, internal->dim_init_Sx));
  memcpy(REAL(init_Sx), internal->init_Sx, internal->dim_init_Sx * sizeof(double));
  SET_VECTOR_ELT(contents, 473, init_Sx);
  SEXP init_T = PROTECT(allocVector(REALSXP, internal->dim_init_T));
  memcpy(REAL(init_T), internal->init_T, internal->dim_init_T * sizeof(double));
  odin_set_dim(init_T, 4, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3, internal->dim_init_T_4);
  SET_VECTOR_ELT(contents, 474, init_T);
  SEXP init_U = PROTECT(allocVector(REALSXP, internal->dim_init_U));
  memcpy(REAL(init_U), internal->init_U, internal->dim_init_U * sizeof(double));
  odin_set_dim(init_U, 4, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3, internal->dim_init_U_4);
  SET_VECTOR_ELT(contents, 475, init_U);
  SEXP initial_A = PROTECT(allocVector(REALSXP, internal->dim_A));
  memcpy(REAL(initial_A), internal->initial_A, internal->dim_A * sizeof(double));
  odin_set_dim(initial_A, 4, internal->dim_A_1, internal->dim_A_2, internal->dim_A_3, internal->dim_A_4);
  SET_VECTOR_ELT(contents, 476, initial_A);
  SEXP initial_D = PROTECT(allocVector(REALSXP, internal->dim_D));
  memcpy(REAL(initial_D), internal->initial_D, internal->dim_D * sizeof(double));
  odin_set_dim(initial_D, 4, internal->dim_D_1, internal->dim_D_2, internal->dim_D_3, internal->dim_D_4);
  SET_VECTOR_ELT(contents, 477, initial_D);
  SET_VECTOR_ELT(contents, 478, ScalarReal(internal->initial_EL));
  SEXP initial_Ev = PROTECT(allocVector(REALSXP, internal->dim_Ev));
  memcpy(REAL(initial_Ev), internal->initial_Ev, internal->dim_Ev * sizeof(double));
  SET_VECTOR_ELT(contents, 479, initial_Ev);
  SEXP initial_Ex = PROTECT(allocVector(REALSXP, internal->dim_Ex));
  memcpy(REAL(initial_Ex), internal->initial_Ex, internal->dim_Ex * sizeof(double));
  odin_set_dim(initial_Ex, 2, internal->dim_Ex_1, internal->dim_Ex_2);
  SET_VECTOR_ELT(contents, 480, initial_Ex);
  SEXP initial_IB = PROTECT(allocVector(REALSXP, internal->dim_IB));
  memcpy(REAL(initial_IB), internal->initial_IB, internal->dim_IB * sizeof(double));
  odin_set_dim(initial_IB, 4, internal->dim_IB_1, internal->dim_IB_2, internal->dim_IB_3, internal->dim_IB_4);
  SET_VECTOR_ELT(contents, 481, initial_IB);
  SEXP initial_ICA = PROTECT(allocVector(REALSXP, internal->dim_ICA));
  memcpy(REAL(initial_ICA), internal->initial_ICA, internal->dim_ICA * sizeof(double));
  odin_set_dim(initial_ICA, 4, internal->dim_ICA_1, internal->dim_ICA_2, internal->dim_ICA_3, internal->dim_ICA_4);
  SET_VECTOR_ELT(contents, 482, initial_ICA);
  SEXP initial_ICM = PROTECT(allocVector(REALSXP, internal->dim_ICM));
  memcpy(REAL(initial_ICM), internal->initial_ICM, internal->dim_ICM * sizeof(double));
  odin_set_dim(initial_ICM, 4, internal->dim_ICM_1, internal->dim_ICM_2, internal->dim_ICM_3, internal->dim_ICM_4);
  SET_VECTOR_ELT(contents, 483, initial_ICM);
  SEXP initial_ID = PROTECT(allocVector(REALSXP, internal->dim_ID));
  memcpy(REAL(initial_ID), internal->initial_ID, internal->dim_ID * sizeof(double));
  odin_set_dim(initial_ID, 4, internal->dim_ID_1, internal->dim_ID_2, internal->dim_ID_3, internal->dim_ID_4);
  SET_VECTOR_ELT(contents, 484, initial_ID);
  SET_VECTOR_ELT(contents, 485, ScalarReal(internal->initial_Iv));
  SEXP initial_Ix = PROTECT(allocVector(REALSXP, internal->dim_Ix));
  memcpy(REAL(initial_Ix), internal->initial_Ix, internal->dim_Ix * sizeof(double));
  SET_VECTOR_ELT(contents, 486, initial_Ix);
  SET_VECTOR_ELT(contents, 487, ScalarReal(internal->initial_LL));
  SEXP initial_P = PROTECT(allocVector(REALSXP, internal->dim_P));
  memcpy(REAL(initial_P), internal->initial_P, internal->dim_P * sizeof(double));
  odin_set_dim(initial_P, 4, internal->dim_P_1, internal->dim_P_2, internal->dim_P_3, internal->dim_P_4);
  SET_VECTOR_ELT(contents, 488, initial_P);
  SET_VECTOR_ELT(contents, 489, ScalarReal(internal->initial_PL));
  SEXP initial_S = PROTECT(allocVector(REALSXP, internal->dim_S));
  memcpy(REAL(initial_S), internal->initial_S, internal->dim_S * sizeof(double));
  odin_set_dim(initial_S, 4, internal->dim_S_1, internal->dim_S_2, internal->dim_S_3, internal->dim_S_4);
  SET_VECTOR_ELT(contents, 490, initial_S);
  SET_VECTOR_ELT(contents, 491, ScalarReal(internal->initial_Sv));
  SEXP initial_Sx = PROTECT(allocVector(REALSXP, internal->dim_Sx));
  memcpy(REAL(initial_Sx), internal->initial_Sx, internal->dim_Sx * sizeof(double));
  SET_VECTOR_ELT(contents, 492, initial_Sx);
  SET_VECTOR_ELT(contents, 493, ScalarReal(internal->initial_t));
  SEXP initial_T = PROTECT(allocVector(REALSXP, internal->dim_T));
  memcpy(REAL(initial_T), internal->initial_T, internal->dim_T * sizeof(double));
  odin_set_dim(initial_T, 4, internal->dim_T_1, internal->dim_T_2, internal->dim_T_3, internal->dim_T_4);
  SET_VECTOR_ELT(contents, 494, initial_T);
  SEXP initial_U = PROTECT(allocVector(REALSXP, internal->dim_U));
  memcpy(REAL(initial_U), internal->initial_U, internal->dim_U * sizeof(double));
  odin_set_dim(initial_U, 4, internal->dim_U_1, internal->dim_U_2, internal->dim_U_3, internal->dim_U_4);
  SET_VECTOR_ELT(contents, 495, initial_U);
  SET_VECTOR_ELT(contents, 497, ScalarReal(internal->irs_cov));
  SET_VECTOR_ELT(contents, 498, ScalarReal(internal->IRS_interval));
  SET_VECTOR_ELT(contents, 499, ScalarReal(internal->irs_loss));
  SET_VECTOR_ELT(contents, 500, ScalarReal(internal->itn_cov));
  SET_VECTOR_ELT(contents, 501, ScalarReal(internal->ITN_interval));
  SET_VECTOR_ELT(contents, 502, ScalarReal(internal->ITN_IRS_on));
  SET_VECTOR_ELT(contents, 503, ScalarReal(internal->itn_loss));
  SET_VECTOR_ELT(contents, 504, ScalarReal(internal->ivm_cov));
  SET_VECTOR_ELT(contents, 505, ScalarReal(internal->ivm_cov_par));
  SET_VECTOR_ELT(contents, 506, ScalarReal(internal->ivm_min_age));
  SEXP IVRM_start = PROTECT(allocVector(REALSXP, internal->dim_IVRM_start));
  memcpy(REAL(IVRM_start), internal->IVRM_start, internal->dim_IVRM_start * sizeof(double));
  SET_VECTOR_ELT(contents, 507, IVRM_start);
  SET_VECTOR_ELT(contents, 508, ScalarReal(internal->kB));
  SET_VECTOR_ELT(contents, 509, ScalarReal(internal->kC));
  SET_VECTOR_ELT(contents, 510, ScalarReal(internal->kD));
  SEXP MDA_A = PROTECT(allocVector(REALSXP, internal->dim_MDA_A));
  memcpy(REAL(MDA_A), internal->MDA_A, internal->dim_MDA_A * sizeof(double));
  odin_set_dim(MDA_A, 4, internal->dim_MDA_A_1, internal->dim_MDA_A_2, internal->dim_MDA_A_3, internal->dim_MDA_A_4);
  SET_VECTOR_ELT(contents, 511, MDA_A);
  SET_VECTOR_ELT(contents, 512, ScalarReal(internal->MDA_cov));
  SEXP MDA_D = PROTECT(allocVector(REALSXP, internal->dim_MDA_D));
  memcpy(REAL(MDA_D), internal->MDA_D, internal->dim_MDA_D * sizeof(double));
  odin_set_dim(MDA_D, 4, internal->dim_MDA_D_1, internal->dim_MDA_D_2, internal->dim_MDA_D_3, internal->dim_MDA_D_4);
  SET_VECTOR_ELT(contents, 513, MDA_D);
  SET_VECTOR_ELT(contents, 514, ScalarReal(internal->MDA_eff1));
  SET_VECTOR_ELT(contents, 515, ScalarReal(internal->MDA_eff2));
  SET_VECTOR_ELT(contents, 516, ScalarReal(internal->MDA_grp_prop));
  SEXP MDA_S = PROTECT(allocVector(REALSXP, internal->dim_MDA_S));
  memcpy(REAL(MDA_S), internal->MDA_S, internal->dim_MDA_S * sizeof(double));
  odin_set_dim(MDA_S, 4, internal->dim_MDA_S_1, internal->dim_MDA_S_2, internal->dim_MDA_S_3, internal->dim_MDA_S_4);
  SET_VECTOR_ELT(contents, 517, MDA_S);
  SET_VECTOR_ELT(contents, 518, ScalarReal(internal->MDA_succ));
  SEXP MDA_T = PROTECT(allocVector(REALSXP, internal->dim_MDA_T));
  memcpy(REAL(MDA_T), internal->MDA_T, internal->dim_MDA_T * sizeof(double));
  odin_set_dim(MDA_T, 4, internal->dim_MDA_T_1, internal->dim_MDA_T_2, internal->dim_MDA_T_3, internal->dim_MDA_T_4);
  SET_VECTOR_ELT(contents, 519, MDA_T);
  SET_VECTOR_ELT(contents, 520, ScalarReal(internal->MDA_t1));
  SET_VECTOR_ELT(contents, 521, ScalarReal(internal->MDA_t2));
  SET_VECTOR_ELT(contents, 522, ScalarReal(internal->MDA_t3));
  SET_VECTOR_ELT(contents, 523, ScalarReal(internal->MDA_t4));
  SET_VECTOR_ELT(contents, 524, ScalarReal(internal->MDA_t5));
  SET_VECTOR_ELT(contents, 525, ScalarReal(internal->MDA_t6));
  SET_VECTOR_ELT(contents, 526, ScalarReal(internal->MDA_t7));
  SET_VECTOR_ELT(contents, 527, ScalarReal(internal->MDA_t8));
  SEXP MDA_U = PROTECT(allocVector(REALSXP, internal->dim_MDA_U));
  memcpy(REAL(MDA_U), internal->MDA_U, internal->dim_MDA_U * sizeof(double));
  odin_set_dim(MDA_U, 4, internal->dim_MDA_U_1, internal->dim_MDA_U_2, internal->dim_MDA_U_3, internal->dim_MDA_U_4);
  SET_VECTOR_ELT(contents, 528, MDA_U);
  SEXP mu_vi = PROTECT(allocVector(REALSXP, internal->dim_mu_vi));
  memcpy(REAL(mu_vi), internal->mu_vi, internal->dim_mu_vi * sizeof(double));
  SET_VECTOR_ELT(contents, 529, mu_vi);
  SET_VECTOR_ELT(contents, 530, ScalarReal(internal->mu0));
  SET_VECTOR_ELT(contents, 531, ScalarReal(internal->muEL));
  SET_VECTOR_ELT(contents, 532, ScalarReal(internal->muLL));
  SET_VECTOR_ELT(contents, 533, ScalarReal(internal->muPL));
  SET_VECTOR_ELT(contents, 534, ScalarReal(internal->mv0));
  SET_VECTOR_ELT(contents, 535, ScalarInteger(internal->na));
  SET_VECTOR_ELT(contents, 536, ScalarInteger(internal->ncc));
  SET_VECTOR_ELT(contents, 537, ScalarInteger(internal->nh));
  SET_VECTOR_ELT(contents, 538, ScalarInteger(internal->num_int));
  SET_VECTOR_ELT(contents, 539, ScalarInteger(internal->offset_FOI_IB));
  SET_VECTOR_ELT(contents, 540, ScalarInteger(internal->offset_FOIv_A));
  SET_VECTOR_ELT(contents, 541, ScalarInteger(internal->offset_FOIv_ID));
  SET_VECTOR_ELT(contents, 542, ScalarInteger(internal->offset_FOIv_U));
  SET_VECTOR_ELT(contents, 543, ScalarInteger(internal->offset_variable_A));
  SET_VECTOR_ELT(contents, 544, ScalarInteger(internal->offset_variable_D));
  SET_VECTOR_ELT(contents, 545, ScalarInteger(internal->offset_variable_Ex));
  SET_VECTOR_ELT(contents, 546, ScalarInteger(internal->offset_variable_IB));
  SET_VECTOR_ELT(contents, 547, ScalarInteger(internal->offset_variable_ICA));
  SET_VECTOR_ELT(contents, 548, ScalarInteger(internal->offset_variable_ICM));
  SET_VECTOR_ELT(contents, 549, ScalarInteger(internal->offset_variable_ID));
  SET_VECTOR_ELT(contents, 550, ScalarInteger(internal->offset_variable_Ix));
  SET_VECTOR_ELT(contents, 551, ScalarInteger(internal->offset_variable_P));
  SET_VECTOR_ELT(contents, 552, ScalarInteger(internal->offset_variable_S));
  SET_VECTOR_ELT(contents, 553, ScalarInteger(internal->offset_variable_Sx));
  SET_VECTOR_ELT(contents, 554, ScalarInteger(internal->offset_variable_T));
  SET_VECTOR_ELT(contents, 555, ScalarInteger(internal->offset_variable_U));
  SET_VECTOR_ELT(contents, 556, ScalarReal(internal->omega));
  SEXP p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(p_det), internal->p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(p_det, 4, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3, internal->dim_p_det_4);
  SET_VECTOR_ELT(contents, 557, p_det);
  SET_VECTOR_ELT(contents, 558, ScalarReal(internal->p10));
  SET_VECTOR_ELT(contents, 559, ScalarReal(internal->p2));
  SEXP phi = PROTECT(allocVector(REALSXP, internal->dim_phi));
  memcpy(REAL(phi), internal->phi, internal->dim_phi * sizeof(double));
  odin_set_dim(phi, 4, internal->dim_phi_1, internal->dim_phi_2, internal->dim_phi_3, internal->dim_phi_4);
  SET_VECTOR_ELT(contents, 560, phi);
  SET_VECTOR_ELT(contents, 561, ScalarReal(internal->phi0));
  SET_VECTOR_ELT(contents, 562, ScalarReal(internal->phi1));
  SET_VECTOR_ELT(contents, 563, ScalarReal(internal->pi));
  SEXP prev_all_pcr = PROTECT(allocVector(REALSXP, internal->dim_prev_all_pcr));
  memcpy(REAL(prev_all_pcr), internal->prev_all_pcr, internal->dim_prev_all_pcr * sizeof(double));
  odin_set_dim(prev_all_pcr, 4, internal->dim_prev_all_pcr_1, internal->dim_prev_all_pcr_2, internal->dim_prev_all_pcr_3, internal->dim_prev_all_pcr_4);
  SET_VECTOR_ELT(contents, 564, prev_all_pcr);
  SEXP prev_all_slide = PROTECT(allocVector(REALSXP, internal->dim_prev_all_slide));
  memcpy(REAL(prev_all_slide), internal->prev_all_slide, internal->dim_prev_all_slide * sizeof(double));
  odin_set_dim(prev_all_slide, 4, internal->dim_prev_all_slide_1, internal->dim_prev_all_slide_2, internal->dim_prev_all_slide_3, internal->dim_prev_all_slide_4);
  SET_VECTOR_ELT(contents, 565, prev_all_slide);
  SEXP prev0to10_slide = PROTECT(allocVector(REALSXP, internal->dim_prev0to10_slide));
  memcpy(REAL(prev0to10_slide), internal->prev0to10_slide, internal->dim_prev0to10_slide * sizeof(double));
  odin_set_dim(prev0to10_slide, 4, internal->dim_prev0to10_slide_1, internal->dim_prev0to10_slide_2, internal->dim_prev0to10_slide_3, internal->dim_prev0to10_slide_4);
  SET_VECTOR_ELT(contents, 566, prev0to10_slide);
  SEXP prev0to5_pcr = PROTECT(allocVector(REALSXP, internal->dim_prev0to5_pcr));
  memcpy(REAL(prev0to5_pcr), internal->prev0to5_pcr, internal->dim_prev0to5_pcr * sizeof(double));
  odin_set_dim(prev0to5_pcr, 4, internal->dim_prev0to5_pcr_1, internal->dim_prev0to5_pcr_2, internal->dim_prev0to5_pcr_3, internal->dim_prev0to5_pcr_4);
  SET_VECTOR_ELT(contents, 567, prev0to5_pcr);
  SEXP prev0to5_slide = PROTECT(allocVector(REALSXP, internal->dim_prev0to5_slide));
  memcpy(REAL(prev0to5_slide), internal->prev0to5_slide, internal->dim_prev0to5_slide * sizeof(double));
  odin_set_dim(prev0to5_slide, 4, internal->dim_prev0to5_slide_1, internal->dim_prev0to5_slide_2, internal->dim_prev0to5_slide_3, internal->dim_prev0to5_slide_4);
  SET_VECTOR_ELT(contents, 568, prev0to5_slide);
  SEXP prev0to59 = PROTECT(allocVector(REALSXP, internal->dim_prev0to59));
  memcpy(REAL(prev0to59), internal->prev0to59, internal->dim_prev0to59 * sizeof(double));
  odin_set_dim(prev0to59, 4, internal->dim_prev0to59_1, internal->dim_prev0to59_2, internal->dim_prev0to59_3, internal->dim_prev0to59_4);
  SET_VECTOR_ELT(contents, 569, prev0to59);
  SEXP prev2to10 = PROTECT(allocVector(REALSXP, internal->dim_prev2to10));
  memcpy(REAL(prev2to10), internal->prev2to10, internal->dim_prev2to10 * sizeof(double));
  odin_set_dim(prev2to10, 4, internal->dim_prev2to10_1, internal->dim_prev2to10_2, internal->dim_prev2to10_3, internal->dim_prev2to10_4);
  SET_VECTOR_ELT(contents, 570, prev2to10);
  SEXP prev5to10_slide = PROTECT(allocVector(REALSXP, internal->dim_prev5to10_slide));
  memcpy(REAL(prev5to10_slide), internal->prev5to10_slide, internal->dim_prev5to10_slide * sizeof(double));
  odin_set_dim(prev5to10_slide, 4, internal->dim_prev5to10_slide_1, internal->dim_prev5to10_slide_2, internal->dim_prev5to10_slide_3, internal->dim_prev5to10_slide_4);
  SET_VECTOR_ELT(contents, 571, prev5to10_slide);
  SET_VECTOR_ELT(contents, 572, ScalarReal(internal->Q0));
  SET_VECTOR_ELT(contents, 573, ScalarReal(internal->r_IRS0));
  SET_VECTOR_ELT(contents, 574, ScalarReal(internal->r_ITN0));
  SET_VECTOR_ELT(contents, 575, ScalarReal(internal->r_ITN1));
  SET_VECTOR_ELT(contents, 576, ScalarReal(internal->rA));
  SET_VECTOR_ELT(contents, 577, ScalarReal(internal->rD));
  SEXP rel_foi = PROTECT(allocVector(REALSXP, internal->dim_rel_foi));
  memcpy(REAL(rel_foi), internal->rel_foi, internal->dim_rel_foi * sizeof(double));
  SET_VECTOR_ELT(contents, 578, rel_foi);
  SET_VECTOR_ELT(contents, 579, ScalarReal(internal->rP));
  SET_VECTOR_ELT(contents, 580, ScalarReal(internal->rT));
  SET_VECTOR_ELT(contents, 581, ScalarReal(internal->rU));
  SET_VECTOR_ELT(contents, 582, ScalarInteger(internal->SMCyrs));
  SET_VECTOR_ELT(contents, 583, ScalarInteger(internal->spor_len));
  SET_VECTOR_ELT(contents, 584, ScalarReal(internal->ssa0));
  SET_VECTOR_ELT(contents, 585, ScalarReal(internal->ssa1));
  SET_VECTOR_ELT(contents, 586, ScalarReal(internal->ssa2));
  SET_VECTOR_ELT(contents, 587, ScalarReal(internal->ssa3));
  SET_VECTOR_ELT(contents, 588, ScalarReal(internal->ssb1));
  SET_VECTOR_ELT(contents, 589, ScalarReal(internal->ssb2));
  SET_VECTOR_ELT(contents, 590, ScalarReal(internal->ssb3));
  SET_VECTOR_ELT(contents, 591, ScalarReal(internal->tau_v));
  SET_VECTOR_ELT(contents, 592, ScalarReal(internal->tau1));
  SET_VECTOR_ELT(contents, 593, ScalarReal(internal->tau2));
  SET_VECTOR_ELT(contents, 594, ScalarReal(internal->theta_c));
  SEXP ttt = PROTECT(allocVector(REALSXP, internal->dim_ttt));
  memcpy(REAL(ttt), internal->ttt, internal->dim_ttt * sizeof(double));
  SET_VECTOR_ELT(contents, 595, ttt);
  SET_VECTOR_ELT(contents, 596, ScalarReal(internal->uB));
  SET_VECTOR_ELT(contents, 597, ScalarReal(internal->uCA));
  SET_VECTOR_ELT(contents, 598, ScalarReal(internal->uD));
  SEXP w = PROTECT(allocVector(REALSXP, internal->dim_w));
  memcpy(REAL(w), internal->w, internal->dim_w * sizeof(double));
  SET_VECTOR_ELT(contents, 599, w);
  SEXP whi = PROTECT(allocVector(REALSXP, internal->dim_whi));
  memcpy(REAL(whi), internal->whi, internal->dim_whi * sizeof(double));
  SET_VECTOR_ELT(contents, 600, whi);
  SEXP x_I = PROTECT(allocVector(REALSXP, internal->dim_x_I));
  memcpy(REAL(x_I), internal->x_I, internal->dim_x_I * sizeof(double));
  SET_VECTOR_ELT(contents, 601, x_I);
  SEXP Y = PROTECT(allocVector(REALSXP, internal->dim_Y));
  memcpy(REAL(Y), internal->Y, internal->dim_Y * sizeof(double));
  odin_set_dim(Y, 4, internal->dim_Y_1, internal->dim_Y_2, internal->dim_Y_3, internal->dim_Y_4);
  SET_VECTOR_ELT(contents, 602, Y);
  SEXP yy = PROTECT(allocVector(REALSXP, internal->dim_yy));
  memcpy(REAL(yy), internal->yy, internal->dim_yy * sizeof(double));
  SET_VECTOR_ELT(contents, 603, yy);
  SEXP z = PROTECT(allocVector(REALSXP, internal->dim_z));
  memcpy(REAL(z), internal->z, internal->dim_z * sizeof(double));
  SET_VECTOR_ELT(contents, 604, z);
  SEXP zhi = PROTECT(allocVector(REALSXP, internal->dim_zhi));
  memcpy(REAL(zhi), internal->zhi, internal->dim_zhi * sizeof(double));
  SET_VECTOR_ELT(contents, 605, zhi);
  SET_VECTOR_ELT(contents, 606, ScalarLogical(internal->odin_model_IVM_SMChet_use_dde));
  SEXP nms = PROTECT(allocVector(STRSXP, 607));
  SET_STRING_ELT(nms, 0, mkChar("aD"));
  SET_STRING_ELT(nms, 1, mkChar("age"));
  SET_STRING_ELT(nms, 2, mkChar("age_rate"));
  SET_STRING_ELT(nms, 3, mkChar("age02"));
  SET_STRING_ELT(nms, 4, mkChar("age05"));
  SET_STRING_ELT(nms, 5, mkChar("age10"));
  SET_STRING_ELT(nms, 6, mkChar("age2to10"));
  SET_STRING_ELT(nms, 7, mkChar("age59"));
  SET_STRING_ELT(nms, 8, mkChar("av_human"));
  SET_STRING_ELT(nms, 9, mkChar("av_mosq"));
  SET_STRING_ELT(nms, 10, mkChar("b"));
  SET_STRING_ELT(nms, 11, mkChar("b_lambda"));
  SET_STRING_ELT(nms, 12, mkChar("b0"));
  SET_STRING_ELT(nms, 13, mkChar("b1"));
  SET_STRING_ELT(nms, 14, mkChar("B2"));
  SET_STRING_ELT(nms, 15, mkChar("betaL"));
  SET_STRING_ELT(nms, 16, mkChar("bites_Bed"));
  SET_STRING_ELT(nms, 17, mkChar("bites_Indoors"));
  SET_STRING_ELT(nms, 18, mkChar("cA"));
  SET_STRING_ELT(nms, 19, mkChar("ccov"));
  SET_STRING_ELT(nms, 20, mkChar("cD"));
  SET_STRING_ELT(nms, 21, mkChar("chi"));
  SET_STRING_ELT(nms, 22, mkChar("clin_inc"));
  SET_STRING_ELT(nms, 23, mkChar("clin_inc_ACD"));
  SET_STRING_ELT(nms, 24, mkChar("clin_inc0to10"));
  SET_STRING_ELT(nms, 25, mkChar("clin_inc0to10_ACD"));
  SET_STRING_ELT(nms, 26, mkChar("clin_inc0to5"));
  SET_STRING_ELT(nms, 27, mkChar("clin_inc5to10"));
  SET_STRING_ELT(nms, 28, mkChar("cov"));
  SET_STRING_ELT(nms, 29, mkChar("cT"));
  SET_STRING_ELT(nms, 30, mkChar("cU"));
  SET_STRING_ELT(nms, 31, mkChar("d_IRS0"));
  SET_STRING_ELT(nms, 32, mkChar("d_ITN0"));
  SET_STRING_ELT(nms, 33, mkChar("d1"));
  SET_STRING_ELT(nms, 34, mkChar("dB"));
  SET_STRING_ELT(nms, 35, mkChar("dCA"));
  SET_STRING_ELT(nms, 36, mkChar("dCM"));
  SET_STRING_ELT(nms, 37, mkChar("dE"));
  SET_STRING_ELT(nms, 38, mkChar("dEL"));
  SET_STRING_ELT(nms, 39, mkChar("delay_array_av_human"));
  SET_STRING_ELT(nms, 40, mkChar("delay_array_av_mosq"));
  SET_STRING_ELT(nms, 41, mkChar("delay_array_b"));
  SET_STRING_ELT(nms, 42, mkChar("delay_array_cA"));
  SET_STRING_ELT(nms, 43, mkChar("delay_array_EIR"));
  SET_STRING_ELT(nms, 44, mkChar("delay_array_FOI_lag"));
  SET_STRING_ELT(nms, 45, mkChar("delay_array_FOIvijk"));
  SET_STRING_ELT(nms, 46, mkChar("delay_array_p_det"));
  SET_STRING_ELT(nms, 47, mkChar("delay_array_w"));
  SET_STRING_ELT(nms, 48, mkChar("delay_array_whi"));
  SET_STRING_ELT(nms, 49, mkChar("delay_array_yy"));
  SET_STRING_ELT(nms, 50, mkChar("delay_array_z"));
  SET_STRING_ELT(nms, 51, mkChar("delay_array_zhi"));
  SET_STRING_ELT(nms, 52, mkChar("delay_index_FOI"));
  SET_STRING_ELT(nms, 53, mkChar("delay_index_FOIv"));
  SET_STRING_ELT(nms, 54, mkChar("delay_state_FOI"));
  SET_STRING_ELT(nms, 55, mkChar("delay_state_FOIv"));
  SET_STRING_ELT(nms, 56, mkChar("delayGam"));
  SET_STRING_ELT(nms, 57, mkChar("den"));
  SET_STRING_ELT(nms, 58, mkChar("dID"));
  SET_STRING_ELT(nms, 59, mkChar("dim_A"));
  SET_STRING_ELT(nms, 60, mkChar("dim_A_1"));
  SET_STRING_ELT(nms, 61, mkChar("dim_A_12"));
  SET_STRING_ELT(nms, 62, mkChar("dim_A_123"));
  SET_STRING_ELT(nms, 63, mkChar("dim_A_2"));
  SET_STRING_ELT(nms, 64, mkChar("dim_A_3"));
  SET_STRING_ELT(nms, 65, mkChar("dim_A_4"));
  SET_STRING_ELT(nms, 66, mkChar("dim_age"));
  SET_STRING_ELT(nms, 67, mkChar("dim_age_rate"));
  SET_STRING_ELT(nms, 68, mkChar("dim_av_human"));
  SET_STRING_ELT(nms, 69, mkChar("dim_av_mosq"));
  SET_STRING_ELT(nms, 70, mkChar("dim_b"));
  SET_STRING_ELT(nms, 71, mkChar("dim_b_1"));
  SET_STRING_ELT(nms, 72, mkChar("dim_b_12"));
  SET_STRING_ELT(nms, 73, mkChar("dim_b_123"));
  SET_STRING_ELT(nms, 74, mkChar("dim_b_2"));
  SET_STRING_ELT(nms, 75, mkChar("dim_b_3"));
  SET_STRING_ELT(nms, 76, mkChar("dim_b_4"));
  SET_STRING_ELT(nms, 77, mkChar("dim_cA"));
  SET_STRING_ELT(nms, 78, mkChar("dim_cA_1"));
  SET_STRING_ELT(nms, 79, mkChar("dim_cA_12"));
  SET_STRING_ELT(nms, 80, mkChar("dim_cA_123"));
  SET_STRING_ELT(nms, 81, mkChar("dim_cA_2"));
  SET_STRING_ELT(nms, 82, mkChar("dim_cA_3"));
  SET_STRING_ELT(nms, 83, mkChar("dim_cA_4"));
  SET_STRING_ELT(nms, 84, mkChar("dim_ccov"));
  SET_STRING_ELT(nms, 85, mkChar("dim_clin_inc"));
  SET_STRING_ELT(nms, 86, mkChar("dim_clin_inc_1"));
  SET_STRING_ELT(nms, 87, mkChar("dim_clin_inc_12"));
  SET_STRING_ELT(nms, 88, mkChar("dim_clin_inc_123"));
  SET_STRING_ELT(nms, 89, mkChar("dim_clin_inc_2"));
  SET_STRING_ELT(nms, 90, mkChar("dim_clin_inc_3"));
  SET_STRING_ELT(nms, 91, mkChar("dim_clin_inc_4"));
  SET_STRING_ELT(nms, 92, mkChar("dim_clin_inc_ACD"));
  SET_STRING_ELT(nms, 93, mkChar("dim_clin_inc_ACD_1"));
  SET_STRING_ELT(nms, 94, mkChar("dim_clin_inc_ACD_12"));
  SET_STRING_ELT(nms, 95, mkChar("dim_clin_inc_ACD_123"));
  SET_STRING_ELT(nms, 96, mkChar("dim_clin_inc_ACD_2"));
  SET_STRING_ELT(nms, 97, mkChar("dim_clin_inc_ACD_3"));
  SET_STRING_ELT(nms, 98, mkChar("dim_clin_inc_ACD_4"));
  SET_STRING_ELT(nms, 99, mkChar("dim_clin_inc0to10"));
  SET_STRING_ELT(nms, 100, mkChar("dim_clin_inc0to10_1"));
  SET_STRING_ELT(nms, 101, mkChar("dim_clin_inc0to10_12"));
  SET_STRING_ELT(nms, 102, mkChar("dim_clin_inc0to10_123"));
  SET_STRING_ELT(nms, 103, mkChar("dim_clin_inc0to10_2"));
  SET_STRING_ELT(nms, 104, mkChar("dim_clin_inc0to10_3"));
  SET_STRING_ELT(nms, 105, mkChar("dim_clin_inc0to10_4"));
  SET_STRING_ELT(nms, 106, mkChar("dim_clin_inc0to10_ACD"));
  SET_STRING_ELT(nms, 107, mkChar("dim_clin_inc0to10_ACD_1"));
  SET_STRING_ELT(nms, 108, mkChar("dim_clin_inc0to10_ACD_12"));
  SET_STRING_ELT(nms, 109, mkChar("dim_clin_inc0to10_ACD_123"));
  SET_STRING_ELT(nms, 110, mkChar("dim_clin_inc0to10_ACD_2"));
  SET_STRING_ELT(nms, 111, mkChar("dim_clin_inc0to10_ACD_3"));
  SET_STRING_ELT(nms, 112, mkChar("dim_clin_inc0to10_ACD_4"));
  SET_STRING_ELT(nms, 113, mkChar("dim_clin_inc0to5"));
  SET_STRING_ELT(nms, 114, mkChar("dim_clin_inc0to5_1"));
  SET_STRING_ELT(nms, 115, mkChar("dim_clin_inc0to5_12"));
  SET_STRING_ELT(nms, 116, mkChar("dim_clin_inc0to5_123"));
  SET_STRING_ELT(nms, 117, mkChar("dim_clin_inc0to5_2"));
  SET_STRING_ELT(nms, 118, mkChar("dim_clin_inc0to5_3"));
  SET_STRING_ELT(nms, 119, mkChar("dim_clin_inc0to5_4"));
  SET_STRING_ELT(nms, 120, mkChar("dim_clin_inc5to10"));
  SET_STRING_ELT(nms, 121, mkChar("dim_clin_inc5to10_1"));
  SET_STRING_ELT(nms, 122, mkChar("dim_clin_inc5to10_12"));
  SET_STRING_ELT(nms, 123, mkChar("dim_clin_inc5to10_123"));
  SET_STRING_ELT(nms, 124, mkChar("dim_clin_inc5to10_2"));
  SET_STRING_ELT(nms, 125, mkChar("dim_clin_inc5to10_3"));
  SET_STRING_ELT(nms, 126, mkChar("dim_clin_inc5to10_4"));
  SET_STRING_ELT(nms, 127, mkChar("dim_cov"));
  SET_STRING_ELT(nms, 128, mkChar("dim_D"));
  SET_STRING_ELT(nms, 129, mkChar("dim_D_1"));
  SET_STRING_ELT(nms, 130, mkChar("dim_D_12"));
  SET_STRING_ELT(nms, 131, mkChar("dim_D_123"));
  SET_STRING_ELT(nms, 132, mkChar("dim_D_2"));
  SET_STRING_ELT(nms, 133, mkChar("dim_D_3"));
  SET_STRING_ELT(nms, 134, mkChar("dim_D_4"));
  SET_STRING_ELT(nms, 135, mkChar("dim_delay_FOI"));
  SET_STRING_ELT(nms, 136, mkChar("dim_delay_FOIv"));
  SET_STRING_ELT(nms, 137, mkChar("dim_den"));
  SET_STRING_ELT(nms, 138, mkChar("dim_EIR"));
  SET_STRING_ELT(nms, 139, mkChar("dim_EIR_1"));
  SET_STRING_ELT(nms, 140, mkChar("dim_EIR_12"));
  SET_STRING_ELT(nms, 141, mkChar("dim_EIR_123"));
  SET_STRING_ELT(nms, 142, mkChar("dim_EIR_2"));
  SET_STRING_ELT(nms, 143, mkChar("dim_EIR_3"));
  SET_STRING_ELT(nms, 144, mkChar("dim_EIR_4"));
  SET_STRING_ELT(nms, 145, mkChar("dim_Ev"));
  SET_STRING_ELT(nms, 146, mkChar("dim_Ex"));
  SET_STRING_ELT(nms, 147, mkChar("dim_Ex_1"));
  SET_STRING_ELT(nms, 148, mkChar("dim_Ex_2"));
  SET_STRING_ELT(nms, 149, mkChar("dim_fd"));
  SET_STRING_ELT(nms, 150, mkChar("dim_FOI"));
  SET_STRING_ELT(nms, 151, mkChar("dim_FOI_1"));
  SET_STRING_ELT(nms, 152, mkChar("dim_FOI_12"));
  SET_STRING_ELT(nms, 153, mkChar("dim_FOI_123"));
  SET_STRING_ELT(nms, 154, mkChar("dim_FOI_2"));
  SET_STRING_ELT(nms, 155, mkChar("dim_FOI_3"));
  SET_STRING_ELT(nms, 156, mkChar("dim_FOI_4"));
  SET_STRING_ELT(nms, 157, mkChar("dim_foi_age"));
  SET_STRING_ELT(nms, 158, mkChar("dim_FOI_lag"));
  SET_STRING_ELT(nms, 159, mkChar("dim_FOI_lag_1"));
  SET_STRING_ELT(nms, 160, mkChar("dim_FOI_lag_12"));
  SET_STRING_ELT(nms, 161, mkChar("dim_FOI_lag_123"));
  SET_STRING_ELT(nms, 162, mkChar("dim_FOI_lag_2"));
  SET_STRING_ELT(nms, 163, mkChar("dim_FOI_lag_3"));
  SET_STRING_ELT(nms, 164, mkChar("dim_FOI_lag_4"));
  SET_STRING_ELT(nms, 165, mkChar("dim_FOIvijk"));
  SET_STRING_ELT(nms, 166, mkChar("dim_FOIvijk_1"));
  SET_STRING_ELT(nms, 167, mkChar("dim_FOIvijk_12"));
  SET_STRING_ELT(nms, 168, mkChar("dim_FOIvijk_123"));
  SET_STRING_ELT(nms, 169, mkChar("dim_FOIvijk_2"));
  SET_STRING_ELT(nms, 170, mkChar("dim_FOIvijk_3"));
  SET_STRING_ELT(nms, 171, mkChar("dim_FOIvijk_4"));
  SET_STRING_ELT(nms, 172, mkChar("dim_haz"));
  SET_STRING_ELT(nms, 173, mkChar("dim_het_wt"));
  SET_STRING_ELT(nms, 174, mkChar("dim_IB"));
  SET_STRING_ELT(nms, 175, mkChar("dim_IB_1"));
  SET_STRING_ELT(nms, 176, mkChar("dim_IB_12"));
  SET_STRING_ELT(nms, 177, mkChar("dim_IB_123"));
  SET_STRING_ELT(nms, 178, mkChar("dim_IB_2"));
  SET_STRING_ELT(nms, 179, mkChar("dim_IB_3"));
  SET_STRING_ELT(nms, 180, mkChar("dim_IB_4"));
  SET_STRING_ELT(nms, 181, mkChar("dim_IC"));
  SET_STRING_ELT(nms, 182, mkChar("dim_IC_1"));
  SET_STRING_ELT(nms, 183, mkChar("dim_IC_12"));
  SET_STRING_ELT(nms, 184, mkChar("dim_IC_123"));
  SET_STRING_ELT(nms, 185, mkChar("dim_IC_2"));
  SET_STRING_ELT(nms, 186, mkChar("dim_IC_3"));
  SET_STRING_ELT(nms, 187, mkChar("dim_IC_4"));
  SET_STRING_ELT(nms, 188, mkChar("dim_ICA"));
  SET_STRING_ELT(nms, 189, mkChar("dim_ICA_1"));
  SET_STRING_ELT(nms, 190, mkChar("dim_ICA_12"));
  SET_STRING_ELT(nms, 191, mkChar("dim_ICA_123"));
  SET_STRING_ELT(nms, 192, mkChar("dim_ICA_2"));
  SET_STRING_ELT(nms, 193, mkChar("dim_ICA_3"));
  SET_STRING_ELT(nms, 194, mkChar("dim_ICA_4"));
  SET_STRING_ELT(nms, 195, mkChar("dim_ICM"));
  SET_STRING_ELT(nms, 196, mkChar("dim_ICM_1"));
  SET_STRING_ELT(nms, 197, mkChar("dim_ICM_12"));
  SET_STRING_ELT(nms, 198, mkChar("dim_ICM_123"));
  SET_STRING_ELT(nms, 199, mkChar("dim_ICM_2"));
  SET_STRING_ELT(nms, 200, mkChar("dim_ICM_3"));
  SET_STRING_ELT(nms, 201, mkChar("dim_ICM_4"));
  SET_STRING_ELT(nms, 202, mkChar("dim_ID"));
  SET_STRING_ELT(nms, 203, mkChar("dim_ID_1"));
  SET_STRING_ELT(nms, 204, mkChar("dim_ID_12"));
  SET_STRING_ELT(nms, 205, mkChar("dim_ID_123"));
  SET_STRING_ELT(nms, 206, mkChar("dim_ID_2"));
  SET_STRING_ELT(nms, 207, mkChar("dim_ID_3"));
  SET_STRING_ELT(nms, 208, mkChar("dim_ID_4"));
  SET_STRING_ELT(nms, 209, mkChar("dim_init_A"));
  SET_STRING_ELT(nms, 210, mkChar("dim_init_A_1"));
  SET_STRING_ELT(nms, 211, mkChar("dim_init_A_12"));
  SET_STRING_ELT(nms, 212, mkChar("dim_init_A_123"));
  SET_STRING_ELT(nms, 213, mkChar("dim_init_A_2"));
  SET_STRING_ELT(nms, 214, mkChar("dim_init_A_3"));
  SET_STRING_ELT(nms, 215, mkChar("dim_init_A_4"));
  SET_STRING_ELT(nms, 216, mkChar("dim_init_D"));
  SET_STRING_ELT(nms, 217, mkChar("dim_init_D_1"));
  SET_STRING_ELT(nms, 218, mkChar("dim_init_D_12"));
  SET_STRING_ELT(nms, 219, mkChar("dim_init_D_123"));
  SET_STRING_ELT(nms, 220, mkChar("dim_init_D_2"));
  SET_STRING_ELT(nms, 221, mkChar("dim_init_D_3"));
  SET_STRING_ELT(nms, 222, mkChar("dim_init_D_4"));
  SET_STRING_ELT(nms, 223, mkChar("dim_init_Ex"));
  SET_STRING_ELT(nms, 224, mkChar("dim_init_Ex_1"));
  SET_STRING_ELT(nms, 225, mkChar("dim_init_Ex_2"));
  SET_STRING_ELT(nms, 226, mkChar("dim_init_IB"));
  SET_STRING_ELT(nms, 227, mkChar("dim_init_IB_1"));
  SET_STRING_ELT(nms, 228, mkChar("dim_init_IB_12"));
  SET_STRING_ELT(nms, 229, mkChar("dim_init_IB_123"));
  SET_STRING_ELT(nms, 230, mkChar("dim_init_IB_2"));
  SET_STRING_ELT(nms, 231, mkChar("dim_init_IB_3"));
  SET_STRING_ELT(nms, 232, mkChar("dim_init_IB_4"));
  SET_STRING_ELT(nms, 233, mkChar("dim_init_ICA"));
  SET_STRING_ELT(nms, 234, mkChar("dim_init_ICA_1"));
  SET_STRING_ELT(nms, 235, mkChar("dim_init_ICA_12"));
  SET_STRING_ELT(nms, 236, mkChar("dim_init_ICA_123"));
  SET_STRING_ELT(nms, 237, mkChar("dim_init_ICA_2"));
  SET_STRING_ELT(nms, 238, mkChar("dim_init_ICA_3"));
  SET_STRING_ELT(nms, 239, mkChar("dim_init_ICA_4"));
  SET_STRING_ELT(nms, 240, mkChar("dim_init_ICM"));
  SET_STRING_ELT(nms, 241, mkChar("dim_init_ICM_1"));
  SET_STRING_ELT(nms, 242, mkChar("dim_init_ICM_12"));
  SET_STRING_ELT(nms, 243, mkChar("dim_init_ICM_123"));
  SET_STRING_ELT(nms, 244, mkChar("dim_init_ICM_2"));
  SET_STRING_ELT(nms, 245, mkChar("dim_init_ICM_3"));
  SET_STRING_ELT(nms, 246, mkChar("dim_init_ICM_4"));
  SET_STRING_ELT(nms, 247, mkChar("dim_init_ID"));
  SET_STRING_ELT(nms, 248, mkChar("dim_init_ID_1"));
  SET_STRING_ELT(nms, 249, mkChar("dim_init_ID_12"));
  SET_STRING_ELT(nms, 250, mkChar("dim_init_ID_123"));
  SET_STRING_ELT(nms, 251, mkChar("dim_init_ID_2"));
  SET_STRING_ELT(nms, 252, mkChar("dim_init_ID_3"));
  SET_STRING_ELT(nms, 253, mkChar("dim_init_ID_4"));
  SET_STRING_ELT(nms, 254, mkChar("dim_init_Ix"));
  SET_STRING_ELT(nms, 255, mkChar("dim_init_P"));
  SET_STRING_ELT(nms, 256, mkChar("dim_init_P_1"));
  SET_STRING_ELT(nms, 257, mkChar("dim_init_P_12"));
  SET_STRING_ELT(nms, 258, mkChar("dim_init_P_123"));
  SET_STRING_ELT(nms, 259, mkChar("dim_init_P_2"));
  SET_STRING_ELT(nms, 260, mkChar("dim_init_P_3"));
  SET_STRING_ELT(nms, 261, mkChar("dim_init_P_4"));
  SET_STRING_ELT(nms, 262, mkChar("dim_init_S"));
  SET_STRING_ELT(nms, 263, mkChar("dim_init_S_1"));
  SET_STRING_ELT(nms, 264, mkChar("dim_init_S_12"));
  SET_STRING_ELT(nms, 265, mkChar("dim_init_S_123"));
  SET_STRING_ELT(nms, 266, mkChar("dim_init_S_2"));
  SET_STRING_ELT(nms, 267, mkChar("dim_init_S_3"));
  SET_STRING_ELT(nms, 268, mkChar("dim_init_S_4"));
  SET_STRING_ELT(nms, 269, mkChar("dim_init_Sx"));
  SET_STRING_ELT(nms, 270, mkChar("dim_init_T"));
  SET_STRING_ELT(nms, 271, mkChar("dim_init_T_1"));
  SET_STRING_ELT(nms, 272, mkChar("dim_init_T_12"));
  SET_STRING_ELT(nms, 273, mkChar("dim_init_T_123"));
  SET_STRING_ELT(nms, 274, mkChar("dim_init_T_2"));
  SET_STRING_ELT(nms, 275, mkChar("dim_init_T_3"));
  SET_STRING_ELT(nms, 276, mkChar("dim_init_T_4"));
  SET_STRING_ELT(nms, 277, mkChar("dim_init_U"));
  SET_STRING_ELT(nms, 278, mkChar("dim_init_U_1"));
  SET_STRING_ELT(nms, 279, mkChar("dim_init_U_12"));
  SET_STRING_ELT(nms, 280, mkChar("dim_init_U_123"));
  SET_STRING_ELT(nms, 281, mkChar("dim_init_U_2"));
  SET_STRING_ELT(nms, 282, mkChar("dim_init_U_3"));
  SET_STRING_ELT(nms, 283, mkChar("dim_init_U_4"));
  SET_STRING_ELT(nms, 284, mkChar("dim_IVRM_start"));
  SET_STRING_ELT(nms, 285, mkChar("dim_Ix"));
  SET_STRING_ELT(nms, 286, mkChar("dim_MDA_A"));
  SET_STRING_ELT(nms, 287, mkChar("dim_MDA_A_1"));
  SET_STRING_ELT(nms, 288, mkChar("dim_MDA_A_12"));
  SET_STRING_ELT(nms, 289, mkChar("dim_MDA_A_123"));
  SET_STRING_ELT(nms, 290, mkChar("dim_MDA_A_2"));
  SET_STRING_ELT(nms, 291, mkChar("dim_MDA_A_3"));
  SET_STRING_ELT(nms, 292, mkChar("dim_MDA_A_4"));
  SET_STRING_ELT(nms, 293, mkChar("dim_MDA_D"));
  SET_STRING_ELT(nms, 294, mkChar("dim_MDA_D_1"));
  SET_STRING_ELT(nms, 295, mkChar("dim_MDA_D_12"));
  SET_STRING_ELT(nms, 296, mkChar("dim_MDA_D_123"));
  SET_STRING_ELT(nms, 297, mkChar("dim_MDA_D_2"));
  SET_STRING_ELT(nms, 298, mkChar("dim_MDA_D_3"));
  SET_STRING_ELT(nms, 299, mkChar("dim_MDA_D_4"));
  SET_STRING_ELT(nms, 300, mkChar("dim_MDA_S"));
  SET_STRING_ELT(nms, 301, mkChar("dim_MDA_S_1"));
  SET_STRING_ELT(nms, 302, mkChar("dim_MDA_S_12"));
  SET_STRING_ELT(nms, 303, mkChar("dim_MDA_S_123"));
  SET_STRING_ELT(nms, 304, mkChar("dim_MDA_S_2"));
  SET_STRING_ELT(nms, 305, mkChar("dim_MDA_S_3"));
  SET_STRING_ELT(nms, 306, mkChar("dim_MDA_S_4"));
  SET_STRING_ELT(nms, 307, mkChar("dim_MDA_T"));
  SET_STRING_ELT(nms, 308, mkChar("dim_MDA_T_1"));
  SET_STRING_ELT(nms, 309, mkChar("dim_MDA_T_12"));
  SET_STRING_ELT(nms, 310, mkChar("dim_MDA_T_123"));
  SET_STRING_ELT(nms, 311, mkChar("dim_MDA_T_2"));
  SET_STRING_ELT(nms, 312, mkChar("dim_MDA_T_3"));
  SET_STRING_ELT(nms, 313, mkChar("dim_MDA_T_4"));
  SET_STRING_ELT(nms, 314, mkChar("dim_MDA_U"));
  SET_STRING_ELT(nms, 315, mkChar("dim_MDA_U_1"));
  SET_STRING_ELT(nms, 316, mkChar("dim_MDA_U_12"));
  SET_STRING_ELT(nms, 317, mkChar("dim_MDA_U_123"));
  SET_STRING_ELT(nms, 318, mkChar("dim_MDA_U_2"));
  SET_STRING_ELT(nms, 319, mkChar("dim_MDA_U_3"));
  SET_STRING_ELT(nms, 320, mkChar("dim_MDA_U_4"));
  SET_STRING_ELT(nms, 321, mkChar("dim_mu_vi"));
  SET_STRING_ELT(nms, 322, mkChar("dim_P"));
  SET_STRING_ELT(nms, 323, mkChar("dim_P_1"));
  SET_STRING_ELT(nms, 324, mkChar("dim_P_12"));
  SET_STRING_ELT(nms, 325, mkChar("dim_P_123"));
  SET_STRING_ELT(nms, 326, mkChar("dim_P_2"));
  SET_STRING_ELT(nms, 327, mkChar("dim_P_3"));
  SET_STRING_ELT(nms, 328, mkChar("dim_P_4"));
  SET_STRING_ELT(nms, 329, mkChar("dim_p_det"));
  SET_STRING_ELT(nms, 330, mkChar("dim_p_det_1"));
  SET_STRING_ELT(nms, 331, mkChar("dim_p_det_12"));
  SET_STRING_ELT(nms, 332, mkChar("dim_p_det_123"));
  SET_STRING_ELT(nms, 333, mkChar("dim_p_det_2"));
  SET_STRING_ELT(nms, 334, mkChar("dim_p_det_3"));
  SET_STRING_ELT(nms, 335, mkChar("dim_p_det_4"));
  SET_STRING_ELT(nms, 336, mkChar("dim_phi"));
  SET_STRING_ELT(nms, 337, mkChar("dim_phi_1"));
  SET_STRING_ELT(nms, 338, mkChar("dim_phi_12"));
  SET_STRING_ELT(nms, 339, mkChar("dim_phi_123"));
  SET_STRING_ELT(nms, 340, mkChar("dim_phi_2"));
  SET_STRING_ELT(nms, 341, mkChar("dim_phi_3"));
  SET_STRING_ELT(nms, 342, mkChar("dim_phi_4"));
  SET_STRING_ELT(nms, 343, mkChar("dim_prev_all_pcr"));
  SET_STRING_ELT(nms, 344, mkChar("dim_prev_all_pcr_1"));
  SET_STRING_ELT(nms, 345, mkChar("dim_prev_all_pcr_12"));
  SET_STRING_ELT(nms, 346, mkChar("dim_prev_all_pcr_123"));
  SET_STRING_ELT(nms, 347, mkChar("dim_prev_all_pcr_2"));
  SET_STRING_ELT(nms, 348, mkChar("dim_prev_all_pcr_3"));
  SET_STRING_ELT(nms, 349, mkChar("dim_prev_all_pcr_4"));
  SET_STRING_ELT(nms, 350, mkChar("dim_prev_all_slide"));
  SET_STRING_ELT(nms, 351, mkChar("dim_prev_all_slide_1"));
  SET_STRING_ELT(nms, 352, mkChar("dim_prev_all_slide_12"));
  SET_STRING_ELT(nms, 353, mkChar("dim_prev_all_slide_123"));
  SET_STRING_ELT(nms, 354, mkChar("dim_prev_all_slide_2"));
  SET_STRING_ELT(nms, 355, mkChar("dim_prev_all_slide_3"));
  SET_STRING_ELT(nms, 356, mkChar("dim_prev_all_slide_4"));
  SET_STRING_ELT(nms, 357, mkChar("dim_prev0to10_slide"));
  SET_STRING_ELT(nms, 358, mkChar("dim_prev0to10_slide_1"));
  SET_STRING_ELT(nms, 359, mkChar("dim_prev0to10_slide_12"));
  SET_STRING_ELT(nms, 360, mkChar("dim_prev0to10_slide_123"));
  SET_STRING_ELT(nms, 361, mkChar("dim_prev0to10_slide_2"));
  SET_STRING_ELT(nms, 362, mkChar("dim_prev0to10_slide_3"));
  SET_STRING_ELT(nms, 363, mkChar("dim_prev0to10_slide_4"));
  SET_STRING_ELT(nms, 364, mkChar("dim_prev0to5_pcr"));
  SET_STRING_ELT(nms, 365, mkChar("dim_prev0to5_pcr_1"));
  SET_STRING_ELT(nms, 366, mkChar("dim_prev0to5_pcr_12"));
  SET_STRING_ELT(nms, 367, mkChar("dim_prev0to5_pcr_123"));
  SET_STRING_ELT(nms, 368, mkChar("dim_prev0to5_pcr_2"));
  SET_STRING_ELT(nms, 369, mkChar("dim_prev0to5_pcr_3"));
  SET_STRING_ELT(nms, 370, mkChar("dim_prev0to5_pcr_4"));
  SET_STRING_ELT(nms, 371, mkChar("dim_prev0to5_slide"));
  SET_STRING_ELT(nms, 372, mkChar("dim_prev0to5_slide_1"));
  SET_STRING_ELT(nms, 373, mkChar("dim_prev0to5_slide_12"));
  SET_STRING_ELT(nms, 374, mkChar("dim_prev0to5_slide_123"));
  SET_STRING_ELT(nms, 375, mkChar("dim_prev0to5_slide_2"));
  SET_STRING_ELT(nms, 376, mkChar("dim_prev0to5_slide_3"));
  SET_STRING_ELT(nms, 377, mkChar("dim_prev0to5_slide_4"));
  SET_STRING_ELT(nms, 378, mkChar("dim_prev0to59"));
  SET_STRING_ELT(nms, 379, mkChar("dim_prev0to59_1"));
  SET_STRING_ELT(nms, 380, mkChar("dim_prev0to59_12"));
  SET_STRING_ELT(nms, 381, mkChar("dim_prev0to59_123"));
  SET_STRING_ELT(nms, 382, mkChar("dim_prev0to59_2"));
  SET_STRING_ELT(nms, 383, mkChar("dim_prev0to59_3"));
  SET_STRING_ELT(nms, 384, mkChar("dim_prev0to59_4"));
  SET_STRING_ELT(nms, 385, mkChar("dim_prev2to10"));
  SET_STRING_ELT(nms, 386, mkChar("dim_prev2to10_1"));
  SET_STRING_ELT(nms, 387, mkChar("dim_prev2to10_12"));
  SET_STRING_ELT(nms, 388, mkChar("dim_prev2to10_123"));
  SET_STRING_ELT(nms, 389, mkChar("dim_prev2to10_2"));
  SET_STRING_ELT(nms, 390, mkChar("dim_prev2to10_3"));
  SET_STRING_ELT(nms, 391, mkChar("dim_prev2to10_4"));
  SET_STRING_ELT(nms, 392, mkChar("dim_prev5to10_slide"));
  SET_STRING_ELT(nms, 393, mkChar("dim_prev5to10_slide_1"));
  SET_STRING_ELT(nms, 394, mkChar("dim_prev5to10_slide_12"));
  SET_STRING_ELT(nms, 395, mkChar("dim_prev5to10_slide_123"));
  SET_STRING_ELT(nms, 396, mkChar("dim_prev5to10_slide_2"));
  SET_STRING_ELT(nms, 397, mkChar("dim_prev5to10_slide_3"));
  SET_STRING_ELT(nms, 398, mkChar("dim_prev5to10_slide_4"));
  SET_STRING_ELT(nms, 399, mkChar("dim_rel_foi"));
  SET_STRING_ELT(nms, 400, mkChar("dim_S"));
  SET_STRING_ELT(nms, 401, mkChar("dim_S_1"));
  SET_STRING_ELT(nms, 402, mkChar("dim_S_12"));
  SET_STRING_ELT(nms, 403, mkChar("dim_S_123"));
  SET_STRING_ELT(nms, 404, mkChar("dim_S_2"));
  SET_STRING_ELT(nms, 405, mkChar("dim_S_3"));
  SET_STRING_ELT(nms, 406, mkChar("dim_S_4"));
  SET_STRING_ELT(nms, 407, mkChar("dim_Sx"));
  SET_STRING_ELT(nms, 408, mkChar("dim_T"));
  SET_STRING_ELT(nms, 409, mkChar("dim_T_1"));
  SET_STRING_ELT(nms, 410, mkChar("dim_T_12"));
  SET_STRING_ELT(nms, 411, mkChar("dim_T_123"));
  SET_STRING_ELT(nms, 412, mkChar("dim_T_2"));
  SET_STRING_ELT(nms, 413, mkChar("dim_T_3"));
  SET_STRING_ELT(nms, 414, mkChar("dim_T_4"));
  SET_STRING_ELT(nms, 415, mkChar("dim_ttt"));
  SET_STRING_ELT(nms, 416, mkChar("dim_U"));
  SET_STRING_ELT(nms, 417, mkChar("dim_U_1"));
  SET_STRING_ELT(nms, 418, mkChar("dim_U_12"));
  SET_STRING_ELT(nms, 419, mkChar("dim_U_123"));
  SET_STRING_ELT(nms, 420, mkChar("dim_U_2"));
  SET_STRING_ELT(nms, 421, mkChar("dim_U_3"));
  SET_STRING_ELT(nms, 422, mkChar("dim_U_4"));
  SET_STRING_ELT(nms, 423, mkChar("dim_w"));
  SET_STRING_ELT(nms, 424, mkChar("dim_whi"));
  SET_STRING_ELT(nms, 425, mkChar("dim_x_I"));
  SET_STRING_ELT(nms, 426, mkChar("dim_Y"));
  SET_STRING_ELT(nms, 427, mkChar("dim_Y_1"));
  SET_STRING_ELT(nms, 428, mkChar("dim_Y_12"));
  SET_STRING_ELT(nms, 429, mkChar("dim_Y_123"));
  SET_STRING_ELT(nms, 430, mkChar("dim_Y_2"));
  SET_STRING_ELT(nms, 431, mkChar("dim_Y_3"));
  SET_STRING_ELT(nms, 432, mkChar("dim_Y_4"));
  SET_STRING_ELT(nms, 433, mkChar("dim_yy"));
  SET_STRING_ELT(nms, 434, mkChar("dim_z"));
  SET_STRING_ELT(nms, 435, mkChar("dim_zhi"));
  SET_STRING_ELT(nms, 436, mkChar("dLL"));
  SET_STRING_ELT(nms, 437, mkChar("dPL"));
  SET_STRING_ELT(nms, 438, mkChar("eff_len"));
  SET_STRING_ELT(nms, 439, mkChar("EIR"));
  SET_STRING_ELT(nms, 440, mkChar("eta"));
  SET_STRING_ELT(nms, 441, mkChar("fd"));
  SET_STRING_ELT(nms, 442, mkChar("fD0"));
  SET_STRING_ELT(nms, 443, mkChar("FOI"));
  SET_STRING_ELT(nms, 444, mkChar("foi_age"));
  SET_STRING_ELT(nms, 445, mkChar("FOI_lag"));
  SET_STRING_ELT(nms, 446, mkChar("FOIvijk"));
  SET_STRING_ELT(nms, 447, mkChar("ft"));
  SET_STRING_ELT(nms, 448, mkChar("gamma1"));
  SET_STRING_ELT(nms, 449, mkChar("gammaD"));
  SET_STRING_ELT(nms, 450, mkChar("gammaL"));
  SET_STRING_ELT(nms, 451, mkChar("haz"));
  SET_STRING_ELT(nms, 452, mkChar("het_wt"));
  SET_STRING_ELT(nms, 453, mkChar("IB0"));
  SET_STRING_ELT(nms, 454, mkChar("IC"));
  SET_STRING_ELT(nms, 455, mkChar("IC0"));
  SET_STRING_ELT(nms, 456, mkChar("ID0"));
  SET_STRING_ELT(nms, 457, mkChar("init_A"));
  SET_STRING_ELT(nms, 458, mkChar("init_D"));
  SET_STRING_ELT(nms, 459, mkChar("init_EL"));
  SET_STRING_ELT(nms, 460, mkChar("init_Ev"));
  SET_STRING_ELT(nms, 461, mkChar("init_Ex"));
  SET_STRING_ELT(nms, 462, mkChar("init_IB"));
  SET_STRING_ELT(nms, 463, mkChar("init_ICA"));
  SET_STRING_ELT(nms, 464, mkChar("init_ICM"));
  SET_STRING_ELT(nms, 465, mkChar("init_ID"));
  SET_STRING_ELT(nms, 466, mkChar("init_Iv"));
  SET_STRING_ELT(nms, 467, mkChar("init_Ix"));
  SET_STRING_ELT(nms, 468, mkChar("init_LL"));
  SET_STRING_ELT(nms, 469, mkChar("init_P"));
  SET_STRING_ELT(nms, 470, mkChar("init_PL"));
  SET_STRING_ELT(nms, 471, mkChar("init_S"));
  SET_STRING_ELT(nms, 472, mkChar("init_Sv"));
  SET_STRING_ELT(nms, 473, mkChar("init_Sx"));
  SET_STRING_ELT(nms, 474, mkChar("init_T"));
  SET_STRING_ELT(nms, 475, mkChar("init_U"));
  SET_STRING_ELT(nms, 476, mkChar("initial_A"));
  SET_STRING_ELT(nms, 477, mkChar("initial_D"));
  SET_STRING_ELT(nms, 478, mkChar("initial_EL"));
  SET_STRING_ELT(nms, 479, mkChar("initial_Ev"));
  SET_STRING_ELT(nms, 480, mkChar("initial_Ex"));
  SET_STRING_ELT(nms, 481, mkChar("initial_IB"));
  SET_STRING_ELT(nms, 482, mkChar("initial_ICA"));
  SET_STRING_ELT(nms, 483, mkChar("initial_ICM"));
  SET_STRING_ELT(nms, 484, mkChar("initial_ID"));
  SET_STRING_ELT(nms, 485, mkChar("initial_Iv"));
  SET_STRING_ELT(nms, 486, mkChar("initial_Ix"));
  SET_STRING_ELT(nms, 487, mkChar("initial_LL"));
  SET_STRING_ELT(nms, 488, mkChar("initial_P"));
  SET_STRING_ELT(nms, 489, mkChar("initial_PL"));
  SET_STRING_ELT(nms, 490, mkChar("initial_S"));
  SET_STRING_ELT(nms, 491, mkChar("initial_Sv"));
  SET_STRING_ELT(nms, 492, mkChar("initial_Sx"));
  SET_STRING_ELT(nms, 493, mkChar("initial_t"));
  SET_STRING_ELT(nms, 494, mkChar("initial_T"));
  SET_STRING_ELT(nms, 495, mkChar("initial_U"));
  SET_STRING_ELT(nms, 496, mkChar("interpolate_IVRM_sr"));
  SET_STRING_ELT(nms, 497, mkChar("irs_cov"));
  SET_STRING_ELT(nms, 498, mkChar("IRS_interval"));
  SET_STRING_ELT(nms, 499, mkChar("irs_loss"));
  SET_STRING_ELT(nms, 500, mkChar("itn_cov"));
  SET_STRING_ELT(nms, 501, mkChar("ITN_interval"));
  SET_STRING_ELT(nms, 502, mkChar("ITN_IRS_on"));
  SET_STRING_ELT(nms, 503, mkChar("itn_loss"));
  SET_STRING_ELT(nms, 504, mkChar("ivm_cov"));
  SET_STRING_ELT(nms, 505, mkChar("ivm_cov_par"));
  SET_STRING_ELT(nms, 506, mkChar("ivm_min_age"));
  SET_STRING_ELT(nms, 507, mkChar("IVRM_start"));
  SET_STRING_ELT(nms, 508, mkChar("kB"));
  SET_STRING_ELT(nms, 509, mkChar("kC"));
  SET_STRING_ELT(nms, 510, mkChar("kD"));
  SET_STRING_ELT(nms, 511, mkChar("MDA_A"));
  SET_STRING_ELT(nms, 512, mkChar("MDA_cov"));
  SET_STRING_ELT(nms, 513, mkChar("MDA_D"));
  SET_STRING_ELT(nms, 514, mkChar("MDA_eff1"));
  SET_STRING_ELT(nms, 515, mkChar("MDA_eff2"));
  SET_STRING_ELT(nms, 516, mkChar("MDA_grp_prop"));
  SET_STRING_ELT(nms, 517, mkChar("MDA_S"));
  SET_STRING_ELT(nms, 518, mkChar("MDA_succ"));
  SET_STRING_ELT(nms, 519, mkChar("MDA_T"));
  SET_STRING_ELT(nms, 520, mkChar("MDA_t1"));
  SET_STRING_ELT(nms, 521, mkChar("MDA_t2"));
  SET_STRING_ELT(nms, 522, mkChar("MDA_t3"));
  SET_STRING_ELT(nms, 523, mkChar("MDA_t4"));
  SET_STRING_ELT(nms, 524, mkChar("MDA_t5"));
  SET_STRING_ELT(nms, 525, mkChar("MDA_t6"));
  SET_STRING_ELT(nms, 526, mkChar("MDA_t7"));
  SET_STRING_ELT(nms, 527, mkChar("MDA_t8"));
  SET_STRING_ELT(nms, 528, mkChar("MDA_U"));
  SET_STRING_ELT(nms, 529, mkChar("mu_vi"));
  SET_STRING_ELT(nms, 530, mkChar("mu0"));
  SET_STRING_ELT(nms, 531, mkChar("muEL"));
  SET_STRING_ELT(nms, 532, mkChar("muLL"));
  SET_STRING_ELT(nms, 533, mkChar("muPL"));
  SET_STRING_ELT(nms, 534, mkChar("mv0"));
  SET_STRING_ELT(nms, 535, mkChar("na"));
  SET_STRING_ELT(nms, 536, mkChar("ncc"));
  SET_STRING_ELT(nms, 537, mkChar("nh"));
  SET_STRING_ELT(nms, 538, mkChar("num_int"));
  SET_STRING_ELT(nms, 539, mkChar("offset_FOI_IB"));
  SET_STRING_ELT(nms, 540, mkChar("offset_FOIv_A"));
  SET_STRING_ELT(nms, 541, mkChar("offset_FOIv_ID"));
  SET_STRING_ELT(nms, 542, mkChar("offset_FOIv_U"));
  SET_STRING_ELT(nms, 543, mkChar("offset_variable_A"));
  SET_STRING_ELT(nms, 544, mkChar("offset_variable_D"));
  SET_STRING_ELT(nms, 545, mkChar("offset_variable_Ex"));
  SET_STRING_ELT(nms, 546, mkChar("offset_variable_IB"));
  SET_STRING_ELT(nms, 547, mkChar("offset_variable_ICA"));
  SET_STRING_ELT(nms, 548, mkChar("offset_variable_ICM"));
  SET_STRING_ELT(nms, 549, mkChar("offset_variable_ID"));
  SET_STRING_ELT(nms, 550, mkChar("offset_variable_Ix"));
  SET_STRING_ELT(nms, 551, mkChar("offset_variable_P"));
  SET_STRING_ELT(nms, 552, mkChar("offset_variable_S"));
  SET_STRING_ELT(nms, 553, mkChar("offset_variable_Sx"));
  SET_STRING_ELT(nms, 554, mkChar("offset_variable_T"));
  SET_STRING_ELT(nms, 555, mkChar("offset_variable_U"));
  SET_STRING_ELT(nms, 556, mkChar("omega"));
  SET_STRING_ELT(nms, 557, mkChar("p_det"));
  SET_STRING_ELT(nms, 558, mkChar("p10"));
  SET_STRING_ELT(nms, 559, mkChar("p2"));
  SET_STRING_ELT(nms, 560, mkChar("phi"));
  SET_STRING_ELT(nms, 561, mkChar("phi0"));
  SET_STRING_ELT(nms, 562, mkChar("phi1"));
  SET_STRING_ELT(nms, 563, mkChar("pi"));
  SET_STRING_ELT(nms, 564, mkChar("prev_all_pcr"));
  SET_STRING_ELT(nms, 565, mkChar("prev_all_slide"));
  SET_STRING_ELT(nms, 566, mkChar("prev0to10_slide"));
  SET_STRING_ELT(nms, 567, mkChar("prev0to5_pcr"));
  SET_STRING_ELT(nms, 568, mkChar("prev0to5_slide"));
  SET_STRING_ELT(nms, 569, mkChar("prev0to59"));
  SET_STRING_ELT(nms, 570, mkChar("prev2to10"));
  SET_STRING_ELT(nms, 571, mkChar("prev5to10_slide"));
  SET_STRING_ELT(nms, 572, mkChar("Q0"));
  SET_STRING_ELT(nms, 573, mkChar("r_IRS0"));
  SET_STRING_ELT(nms, 574, mkChar("r_ITN0"));
  SET_STRING_ELT(nms, 575, mkChar("r_ITN1"));
  SET_STRING_ELT(nms, 576, mkChar("rA"));
  SET_STRING_ELT(nms, 577, mkChar("rD"));
  SET_STRING_ELT(nms, 578, mkChar("rel_foi"));
  SET_STRING_ELT(nms, 579, mkChar("rP"));
  SET_STRING_ELT(nms, 580, mkChar("rT"));
  SET_STRING_ELT(nms, 581, mkChar("rU"));
  SET_STRING_ELT(nms, 582, mkChar("SMCyrs"));
  SET_STRING_ELT(nms, 583, mkChar("spor_len"));
  SET_STRING_ELT(nms, 584, mkChar("ssa0"));
  SET_STRING_ELT(nms, 585, mkChar("ssa1"));
  SET_STRING_ELT(nms, 586, mkChar("ssa2"));
  SET_STRING_ELT(nms, 587, mkChar("ssa3"));
  SET_STRING_ELT(nms, 588, mkChar("ssb1"));
  SET_STRING_ELT(nms, 589, mkChar("ssb2"));
  SET_STRING_ELT(nms, 590, mkChar("ssb3"));
  SET_STRING_ELT(nms, 591, mkChar("tau_v"));
  SET_STRING_ELT(nms, 592, mkChar("tau1"));
  SET_STRING_ELT(nms, 593, mkChar("tau2"));
  SET_STRING_ELT(nms, 594, mkChar("theta_c"));
  SET_STRING_ELT(nms, 595, mkChar("ttt"));
  SET_STRING_ELT(nms, 596, mkChar("uB"));
  SET_STRING_ELT(nms, 597, mkChar("uCA"));
  SET_STRING_ELT(nms, 598, mkChar("uD"));
  SET_STRING_ELT(nms, 599, mkChar("w"));
  SET_STRING_ELT(nms, 600, mkChar("whi"));
  SET_STRING_ELT(nms, 601, mkChar("x_I"));
  SET_STRING_ELT(nms, 602, mkChar("Y"));
  SET_STRING_ELT(nms, 603, mkChar("yy"));
  SET_STRING_ELT(nms, 604, mkChar("z"));
  SET_STRING_ELT(nms, 605, mkChar("zhi"));
  SET_STRING_ELT(nms, 606, mkChar("odin_model_IVM_SMChet_use_dde"));
  setAttrib(contents, R_NamesSymbol, nms);
  UNPROTECT(96);
  return contents;
}
SEXP odin_model_IVM_SMChet_set_user(SEXP internal_p, SEXP user) {
  odin_model_IVM_SMChet_internal *internal = odin_model_IVM_SMChet_get_internal(internal_p, 1);
  internal->aD = user_get_scalar_double(user, "aD", internal->aD, NA_REAL, NA_REAL);
  internal->age02 = user_get_scalar_int(user, "age02", internal->age02, NA_REAL, NA_REAL);
  internal->age05 = user_get_scalar_int(user, "age05", internal->age05, NA_REAL, NA_REAL);
  internal->age10 = user_get_scalar_int(user, "age10", internal->age10, NA_REAL, NA_REAL);
  internal->age59 = user_get_scalar_int(user, "age59", internal->age59, NA_REAL, NA_REAL);
  internal->b0 = user_get_scalar_double(user, "b0", internal->b0, NA_REAL, NA_REAL);
  internal->b1 = user_get_scalar_double(user, "b1", internal->b1, NA_REAL, NA_REAL);
  internal->B2 = user_get_scalar_double(user, "B2", internal->B2, NA_REAL, NA_REAL);
  internal->betaL = user_get_scalar_double(user, "betaL", internal->betaL, NA_REAL, NA_REAL);
  internal->bites_Bed = user_get_scalar_double(user, "bites_Bed", internal->bites_Bed, NA_REAL, NA_REAL);
  internal->bites_Indoors = user_get_scalar_double(user, "bites_Indoors", internal->bites_Indoors, NA_REAL, NA_REAL);
  internal->cD = user_get_scalar_double(user, "cD", internal->cD, NA_REAL, NA_REAL);
  internal->chi = user_get_scalar_double(user, "chi", internal->chi, NA_REAL, NA_REAL);
  internal->cT = user_get_scalar_double(user, "cT", internal->cT, NA_REAL, NA_REAL);
  internal->cU = user_get_scalar_double(user, "cU", internal->cU, NA_REAL, NA_REAL);
  internal->d_IRS0 = user_get_scalar_double(user, "d_IRS0", internal->d_IRS0, NA_REAL, NA_REAL);
  internal->d_ITN0 = user_get_scalar_double(user, "d_ITN0", internal->d_ITN0, NA_REAL, NA_REAL);
  internal->d1 = user_get_scalar_double(user, "d1", internal->d1, NA_REAL, NA_REAL);
  internal->dB = user_get_scalar_double(user, "dB", internal->dB, NA_REAL, NA_REAL);
  internal->dCA = user_get_scalar_double(user, "dCA", internal->dCA, NA_REAL, NA_REAL);
  internal->dCM = user_get_scalar_double(user, "dCM", internal->dCM, NA_REAL, NA_REAL);
  internal->dE = user_get_scalar_double(user, "dE", internal->dE, NA_REAL, NA_REAL);
  internal->dEL = user_get_scalar_double(user, "dEL", internal->dEL, NA_REAL, NA_REAL);
  internal->delayGam = user_get_scalar_double(user, "delayGam", internal->delayGam, NA_REAL, NA_REAL);
  internal->dID = user_get_scalar_double(user, "dID", internal->dID, NA_REAL, NA_REAL);
  internal->dLL = user_get_scalar_double(user, "dLL", internal->dLL, NA_REAL, NA_REAL);
  internal->dPL = user_get_scalar_double(user, "dPL", internal->dPL, NA_REAL, NA_REAL);
  internal->eff_len = user_get_scalar_int(user, "eff_len", internal->eff_len, NA_REAL, NA_REAL);
  internal->eta = user_get_scalar_double(user, "eta", internal->eta, NA_REAL, NA_REAL);
  internal->fD0 = user_get_scalar_double(user, "fD0", internal->fD0, NA_REAL, NA_REAL);
  internal->ft = user_get_scalar_double(user, "ft", internal->ft, NA_REAL, NA_REAL);
  internal->gamma1 = user_get_scalar_double(user, "gamma1", internal->gamma1, NA_REAL, NA_REAL);
  internal->gammaD = user_get_scalar_double(user, "gammaD", internal->gammaD, NA_REAL, NA_REAL);
  internal->gammaL = user_get_scalar_double(user, "gammaL", internal->gammaL, NA_REAL, NA_REAL);
  internal->IB0 = user_get_scalar_double(user, "IB0", internal->IB0, NA_REAL, NA_REAL);
  internal->IC0 = user_get_scalar_double(user, "IC0", internal->IC0, NA_REAL, NA_REAL);
  internal->ID0 = user_get_scalar_double(user, "ID0", internal->ID0, NA_REAL, NA_REAL);
  internal->init_EL = user_get_scalar_double(user, "init_EL", internal->init_EL, NA_REAL, NA_REAL);
  internal->init_Ev = user_get_scalar_double(user, "init_Ev", internal->init_Ev, NA_REAL, NA_REAL);
  internal->init_Iv = user_get_scalar_double(user, "init_Iv", internal->init_Iv, NA_REAL, NA_REAL);
  internal->init_LL = user_get_scalar_double(user, "init_LL", internal->init_LL, NA_REAL, NA_REAL);
  internal->init_PL = user_get_scalar_double(user, "init_PL", internal->init_PL, NA_REAL, NA_REAL);
  internal->init_Sv = user_get_scalar_double(user, "init_Sv", internal->init_Sv, NA_REAL, NA_REAL);
  internal->irs_cov = user_get_scalar_double(user, "irs_cov", internal->irs_cov, NA_REAL, NA_REAL);
  internal->IRS_interval = user_get_scalar_double(user, "IRS_interval", internal->IRS_interval, NA_REAL, NA_REAL);
  internal->irs_loss = user_get_scalar_double(user, "irs_loss", internal->irs_loss, NA_REAL, NA_REAL);
  internal->itn_cov = user_get_scalar_double(user, "itn_cov", internal->itn_cov, NA_REAL, NA_REAL);
  internal->ITN_interval = user_get_scalar_double(user, "ITN_interval", internal->ITN_interval, NA_REAL, NA_REAL);
  internal->ITN_IRS_on = user_get_scalar_double(user, "ITN_IRS_on", internal->ITN_IRS_on, NA_REAL, NA_REAL);
  internal->itn_loss = user_get_scalar_double(user, "itn_loss", internal->itn_loss, NA_REAL, NA_REAL);
  internal->ivm_cov_par = user_get_scalar_double(user, "ivm_cov_par", internal->ivm_cov_par, NA_REAL, NA_REAL);
  internal->ivm_min_age = user_get_scalar_double(user, "ivm_min_age", internal->ivm_min_age, NA_REAL, NA_REAL);
  internal->kB = user_get_scalar_double(user, "kB", internal->kB, NA_REAL, NA_REAL);
  internal->kC = user_get_scalar_double(user, "kC", internal->kC, NA_REAL, NA_REAL);
  internal->kD = user_get_scalar_double(user, "kD", internal->kD, NA_REAL, NA_REAL);
  internal->MDA_cov = user_get_scalar_double(user, "MDA_cov", internal->MDA_cov, NA_REAL, NA_REAL);
  internal->MDA_grp_prop = user_get_scalar_double(user, "MDA_grp_prop", internal->MDA_grp_prop, NA_REAL, NA_REAL);
  internal->MDA_t1 = user_get_scalar_double(user, "MDA_t1", internal->MDA_t1, NA_REAL, NA_REAL);
  internal->MDA_t2 = user_get_scalar_double(user, "MDA_t2", internal->MDA_t2, NA_REAL, NA_REAL);
  internal->MDA_t3 = user_get_scalar_double(user, "MDA_t3", internal->MDA_t3, NA_REAL, NA_REAL);
  internal->MDA_t4 = user_get_scalar_double(user, "MDA_t4", internal->MDA_t4, NA_REAL, NA_REAL);
  internal->MDA_t5 = user_get_scalar_double(user, "MDA_t5", internal->MDA_t5, NA_REAL, NA_REAL);
  internal->MDA_t6 = user_get_scalar_double(user, "MDA_t6", internal->MDA_t6, NA_REAL, NA_REAL);
  internal->MDA_t7 = user_get_scalar_double(user, "MDA_t7", internal->MDA_t7, NA_REAL, NA_REAL);
  internal->MDA_t8 = user_get_scalar_double(user, "MDA_t8", internal->MDA_t8, NA_REAL, NA_REAL);
  internal->mu0 = user_get_scalar_double(user, "mu0", internal->mu0, NA_REAL, NA_REAL);
  internal->muEL = user_get_scalar_double(user, "muEL", internal->muEL, NA_REAL, NA_REAL);
  internal->muLL = user_get_scalar_double(user, "muLL", internal->muLL, NA_REAL, NA_REAL);
  internal->muPL = user_get_scalar_double(user, "muPL", internal->muPL, NA_REAL, NA_REAL);
  internal->mv0 = user_get_scalar_double(user, "mv0", internal->mv0, NA_REAL, NA_REAL);
  internal->na = user_get_scalar_int(user, "na", internal->na, NA_REAL, NA_REAL);
  internal->ncc = user_get_scalar_int(user, "ncc", internal->ncc, NA_REAL, NA_REAL);
  internal->nh = user_get_scalar_int(user, "nh", internal->nh, NA_REAL, NA_REAL);
  internal->num_int = user_get_scalar_int(user, "num_int", internal->num_int, NA_REAL, NA_REAL);
  internal->omega = user_get_scalar_double(user, "omega", internal->omega, NA_REAL, NA_REAL);
  internal->p10 = user_get_scalar_double(user, "p10", internal->p10, NA_REAL, NA_REAL);
  internal->p2 = user_get_scalar_double(user, "p2", internal->p2, NA_REAL, NA_REAL);
  internal->phi0 = user_get_scalar_double(user, "phi0", internal->phi0, NA_REAL, NA_REAL);
  internal->phi1 = user_get_scalar_double(user, "phi1", internal->phi1, NA_REAL, NA_REAL);
  internal->pi = user_get_scalar_double(user, "pi", internal->pi, NA_REAL, NA_REAL);
  internal->Q0 = user_get_scalar_double(user, "Q0", internal->Q0, NA_REAL, NA_REAL);
  internal->r_IRS0 = user_get_scalar_double(user, "r_IRS0", internal->r_IRS0, NA_REAL, NA_REAL);
  internal->r_ITN0 = user_get_scalar_double(user, "r_ITN0", internal->r_ITN0, NA_REAL, NA_REAL);
  internal->r_ITN1 = user_get_scalar_double(user, "r_ITN1", internal->r_ITN1, NA_REAL, NA_REAL);
  internal->rA = user_get_scalar_double(user, "rA", internal->rA, NA_REAL, NA_REAL);
  internal->rD = user_get_scalar_double(user, "rD", internal->rD, NA_REAL, NA_REAL);
  internal->rP = user_get_scalar_double(user, "rP", internal->rP, NA_REAL, NA_REAL);
  internal->rT = user_get_scalar_double(user, "rT", internal->rT, NA_REAL, NA_REAL);
  internal->rU = user_get_scalar_double(user, "rU", internal->rU, NA_REAL, NA_REAL);
  internal->SMCyrs = user_get_scalar_int(user, "SMCyrs", internal->SMCyrs, NA_REAL, NA_REAL);
  internal->ssa0 = user_get_scalar_double(user, "ssa0", internal->ssa0, NA_REAL, NA_REAL);
  internal->ssa1 = user_get_scalar_double(user, "ssa1", internal->ssa1, NA_REAL, NA_REAL);
  internal->ssa2 = user_get_scalar_double(user, "ssa2", internal->ssa2, NA_REAL, NA_REAL);
  internal->ssa3 = user_get_scalar_double(user, "ssa3", internal->ssa3, NA_REAL, NA_REAL);
  internal->ssb1 = user_get_scalar_double(user, "ssb1", internal->ssb1, NA_REAL, NA_REAL);
  internal->ssb2 = user_get_scalar_double(user, "ssb2", internal->ssb2, NA_REAL, NA_REAL);
  internal->ssb3 = user_get_scalar_double(user, "ssb3", internal->ssb3, NA_REAL, NA_REAL);
  internal->tau1 = user_get_scalar_double(user, "tau1", internal->tau1, NA_REAL, NA_REAL);
  internal->tau2 = user_get_scalar_double(user, "tau2", internal->tau2, NA_REAL, NA_REAL);
  internal->theta_c = user_get_scalar_double(user, "theta_c", internal->theta_c, NA_REAL, NA_REAL);
  internal->ttt = (double*) user_get_array_dim(user, false, internal->ttt, "ttt", 1, NA_REAL, NA_REAL, &internal->dim_ttt);
  internal->uB = user_get_scalar_double(user, "uB", internal->uB, NA_REAL, NA_REAL);
  internal->uCA = user_get_scalar_double(user, "uCA", internal->uCA, NA_REAL, NA_REAL);
  internal->uD = user_get_scalar_double(user, "uD", internal->uD, NA_REAL, NA_REAL);
  internal->age2to10 = internal->age10 - internal->age02 + 1;
  internal->b_lambda = (internal->gammaL * internal->muLL / (double) internal->muEL - internal->dEL / (double) internal->dLL + (internal->gammaL - 1) * internal->muLL * internal->dEL);
  internal->dim_A_1 = internal->na;
  internal->dim_A_2 = internal->nh;
  internal->dim_A_3 = internal->num_int;
  internal->dim_A_4 = internal->ncc;
  internal->dim_age = internal->na;
  internal->dim_age_rate = internal->na;
  internal->dim_av_human = internal->num_int;
  internal->dim_av_mosq = internal->num_int;
  internal->dim_b_1 = internal->na;
  internal->dim_b_2 = internal->nh;
  internal->dim_b_3 = internal->num_int;
  internal->dim_b_4 = internal->ncc;
  internal->dim_cA_1 = internal->na;
  internal->dim_cA_2 = internal->nh;
  internal->dim_cA_3 = internal->num_int;
  internal->dim_cA_4 = internal->ncc;
  internal->dim_ccov = internal->ncc;
  internal->dim_clin_inc_1 = internal->na;
  internal->dim_clin_inc_2 = internal->nh;
  internal->dim_clin_inc_3 = internal->num_int;
  internal->dim_clin_inc_4 = internal->ncc;
  internal->dim_clin_inc_ACD_1 = internal->na;
  internal->dim_clin_inc_ACD_2 = internal->nh;
  internal->dim_clin_inc_ACD_3 = internal->num_int;
  internal->dim_clin_inc_ACD_4 = internal->ncc;
  internal->dim_clin_inc0to10_1 = internal->age10;
  internal->dim_clin_inc0to10_2 = internal->nh;
  internal->dim_clin_inc0to10_3 = internal->num_int;
  internal->dim_clin_inc0to10_4 = internal->ncc;
  internal->dim_clin_inc0to10_ACD_1 = internal->age10;
  internal->dim_clin_inc0to10_ACD_2 = internal->nh;
  internal->dim_clin_inc0to10_ACD_3 = internal->num_int;
  internal->dim_clin_inc0to10_ACD_4 = internal->ncc;
  internal->dim_clin_inc0to5_1 = internal->age05;
  internal->dim_clin_inc0to5_2 = internal->nh;
  internal->dim_clin_inc0to5_3 = internal->num_int;
  internal->dim_clin_inc0to5_4 = internal->ncc;
  internal->dim_clin_inc5to10_1 = internal->age10;
  internal->dim_clin_inc5to10_2 = internal->nh;
  internal->dim_clin_inc5to10_3 = internal->num_int;
  internal->dim_clin_inc5to10_4 = internal->ncc;
  internal->dim_cov = internal->num_int;
  internal->dim_D_1 = internal->na;
  internal->dim_D_2 = internal->nh;
  internal->dim_D_3 = internal->num_int;
  internal->dim_D_4 = internal->ncc;
  internal->dim_den = internal->na;
  internal->dim_EIR_1 = internal->na;
  internal->dim_EIR_2 = internal->nh;
  internal->dim_EIR_3 = internal->num_int;
  internal->dim_EIR_4 = internal->ncc;
  internal->dim_Ex_1 = internal->spor_len;
  internal->dim_Ex_2 = internal->eff_len;
  internal->dim_fd = internal->na;
  internal->dim_FOI_1 = internal->na;
  internal->dim_FOI_2 = internal->nh;
  internal->dim_FOI_3 = internal->num_int;
  internal->dim_FOI_4 = internal->ncc;
  internal->dim_foi_age = internal->na;
  internal->dim_FOI_lag_1 = internal->na;
  internal->dim_FOI_lag_2 = internal->nh;
  internal->dim_FOI_lag_3 = internal->num_int;
  internal->dim_FOI_lag_4 = internal->ncc;
  internal->dim_FOIvijk_1 = internal->na;
  internal->dim_FOIvijk_2 = internal->nh;
  internal->dim_FOIvijk_3 = internal->num_int;
  internal->dim_FOIvijk_4 = internal->ncc;
  internal->dim_haz = internal->eff_len;
  internal->dim_het_wt = internal->nh;
  internal->dim_IB_1 = internal->na;
  internal->dim_IB_2 = internal->nh;
  internal->dim_IB_3 = internal->num_int;
  internal->dim_IB_4 = internal->ncc;
  internal->dim_IC_1 = internal->na;
  internal->dim_IC_2 = internal->nh;
  internal->dim_IC_3 = internal->num_int;
  internal->dim_IC_4 = internal->ncc;
  internal->dim_ICA_1 = internal->na;
  internal->dim_ICA_2 = internal->nh;
  internal->dim_ICA_3 = internal->num_int;
  internal->dim_ICA_4 = internal->ncc;
  internal->dim_ICM_1 = internal->na;
  internal->dim_ICM_2 = internal->nh;
  internal->dim_ICM_3 = internal->num_int;
  internal->dim_ICM_4 = internal->ncc;
  internal->dim_ID_1 = internal->na;
  internal->dim_ID_2 = internal->nh;
  internal->dim_ID_3 = internal->num_int;
  internal->dim_ID_4 = internal->ncc;
  internal->dim_init_A_1 = internal->na;
  internal->dim_init_A_2 = internal->nh;
  internal->dim_init_A_3 = internal->num_int;
  internal->dim_init_A_4 = internal->ncc;
  internal->dim_init_D_1 = internal->na;
  internal->dim_init_D_2 = internal->nh;
  internal->dim_init_D_3 = internal->num_int;
  internal->dim_init_D_4 = internal->ncc;
  internal->dim_init_Ex_1 = internal->spor_len;
  internal->dim_init_Ex_2 = internal->eff_len;
  internal->dim_init_IB_1 = internal->na;
  internal->dim_init_IB_2 = internal->nh;
  internal->dim_init_IB_3 = internal->num_int;
  internal->dim_init_IB_4 = internal->ncc;
  internal->dim_init_ICA_1 = internal->na;
  internal->dim_init_ICA_2 = internal->nh;
  internal->dim_init_ICA_3 = internal->num_int;
  internal->dim_init_ICA_4 = internal->ncc;
  internal->dim_init_ICM_1 = internal->na;
  internal->dim_init_ICM_2 = internal->nh;
  internal->dim_init_ICM_3 = internal->num_int;
  internal->dim_init_ICM_4 = internal->ncc;
  internal->dim_init_ID_1 = internal->na;
  internal->dim_init_ID_2 = internal->nh;
  internal->dim_init_ID_3 = internal->num_int;
  internal->dim_init_ID_4 = internal->ncc;
  internal->dim_init_Ix = internal->eff_len;
  internal->dim_init_P_1 = internal->na;
  internal->dim_init_P_2 = internal->nh;
  internal->dim_init_P_3 = internal->num_int;
  internal->dim_init_P_4 = internal->ncc;
  internal->dim_init_S_1 = internal->na;
  internal->dim_init_S_2 = internal->nh;
  internal->dim_init_S_3 = internal->num_int;
  internal->dim_init_S_4 = internal->ncc;
  internal->dim_init_Sx = internal->eff_len;
  internal->dim_init_T_1 = internal->na;
  internal->dim_init_T_2 = internal->nh;
  internal->dim_init_T_3 = internal->num_int;
  internal->dim_init_T_4 = internal->ncc;
  internal->dim_init_U_1 = internal->na;
  internal->dim_init_U_2 = internal->nh;
  internal->dim_init_U_3 = internal->num_int;
  internal->dim_init_U_4 = internal->ncc;
  internal->dim_Ix = internal->eff_len;
  internal->dim_MDA_A_1 = internal->na;
  internal->dim_MDA_A_2 = internal->nh;
  internal->dim_MDA_A_3 = internal->num_int;
  internal->dim_MDA_A_4 = internal->ncc;
  internal->dim_MDA_D_1 = internal->na;
  internal->dim_MDA_D_2 = internal->nh;
  internal->dim_MDA_D_3 = internal->num_int;
  internal->dim_MDA_D_4 = internal->ncc;
  internal->dim_MDA_S_1 = internal->na;
  internal->dim_MDA_S_2 = internal->nh;
  internal->dim_MDA_S_3 = internal->num_int;
  internal->dim_MDA_S_4 = internal->ncc;
  internal->dim_MDA_T_1 = internal->na;
  internal->dim_MDA_T_2 = internal->nh;
  internal->dim_MDA_T_3 = internal->num_int;
  internal->dim_MDA_T_4 = internal->ncc;
  internal->dim_MDA_U_1 = internal->na;
  internal->dim_MDA_U_2 = internal->nh;
  internal->dim_MDA_U_3 = internal->num_int;
  internal->dim_MDA_U_4 = internal->ncc;
  internal->dim_mu_vi = internal->eff_len;
  internal->dim_P_1 = internal->na;
  internal->dim_P_2 = internal->nh;
  internal->dim_P_3 = internal->num_int;
  internal->dim_P_4 = internal->ncc;
  internal->dim_p_det_1 = internal->na;
  internal->dim_p_det_2 = internal->nh;
  internal->dim_p_det_3 = internal->num_int;
  internal->dim_p_det_4 = internal->ncc;
  internal->dim_phi_1 = internal->na;
  internal->dim_phi_2 = internal->nh;
  internal->dim_phi_3 = internal->num_int;
  internal->dim_phi_4 = internal->ncc;
  internal->dim_prev_all_pcr_1 = internal->na;
  internal->dim_prev_all_pcr_2 = internal->nh;
  internal->dim_prev_all_pcr_3 = internal->num_int;
  internal->dim_prev_all_pcr_4 = internal->ncc;
  internal->dim_prev_all_slide_1 = internal->na;
  internal->dim_prev_all_slide_2 = internal->nh;
  internal->dim_prev_all_slide_3 = internal->num_int;
  internal->dim_prev_all_slide_4 = internal->ncc;
  internal->dim_prev0to10_slide_1 = internal->age10;
  internal->dim_prev0to10_slide_2 = internal->nh;
  internal->dim_prev0to10_slide_3 = internal->num_int;
  internal->dim_prev0to10_slide_4 = internal->ncc;
  internal->dim_prev0to5_pcr_1 = internal->age05;
  internal->dim_prev0to5_pcr_2 = internal->nh;
  internal->dim_prev0to5_pcr_3 = internal->num_int;
  internal->dim_prev0to5_pcr_4 = internal->ncc;
  internal->dim_prev0to5_slide_1 = internal->age05;
  internal->dim_prev0to5_slide_2 = internal->nh;
  internal->dim_prev0to5_slide_3 = internal->num_int;
  internal->dim_prev0to5_slide_4 = internal->ncc;
  internal->dim_prev0to59_1 = internal->age59;
  internal->dim_prev0to59_2 = internal->nh;
  internal->dim_prev0to59_3 = internal->num_int;
  internal->dim_prev0to59_4 = internal->ncc;
  internal->dim_prev2to10_1 = internal->age10;
  internal->dim_prev2to10_2 = internal->nh;
  internal->dim_prev2to10_3 = internal->num_int;
  internal->dim_prev2to10_4 = internal->ncc;
  internal->dim_prev5to10_slide_1 = internal->age10;
  internal->dim_prev5to10_slide_2 = internal->nh;
  internal->dim_prev5to10_slide_3 = internal->num_int;
  internal->dim_prev5to10_slide_4 = internal->ncc;
  internal->dim_rel_foi = internal->nh;
  internal->dim_S_1 = internal->na;
  internal->dim_S_2 = internal->nh;
  internal->dim_S_3 = internal->num_int;
  internal->dim_S_4 = internal->ncc;
  internal->dim_Sx = internal->eff_len;
  internal->dim_T_1 = internal->na;
  internal->dim_T_2 = internal->nh;
  internal->dim_T_3 = internal->num_int;
  internal->dim_T_4 = internal->ncc;
  internal->dim_U_1 = internal->na;
  internal->dim_U_2 = internal->nh;
  internal->dim_U_3 = internal->num_int;
  internal->dim_U_4 = internal->ncc;
  internal->dim_w = internal->num_int;
  internal->dim_whi = internal->num_int;
  internal->dim_x_I = internal->na;
  internal->dim_Y_1 = internal->na;
  internal->dim_Y_2 = internal->nh;
  internal->dim_Y_3 = internal->num_int;
  internal->dim_Y_4 = internal->ncc;
  internal->dim_yy = internal->num_int;
  internal->dim_z = internal->num_int;
  internal->dim_zhi = internal->num_int;
  internal->initial_EL = internal->init_EL;
  internal->initial_Iv = internal->init_Iv * internal->mv0;
  internal->initial_LL = internal->init_LL;
  internal->initial_PL = internal->init_PL;
  internal->initial_Sv = internal->init_Sv * internal->mv0;
  internal->ivm_cov = internal->ivm_cov_par * (exp(-(internal->ivm_min_age) / (double) 21));
  internal->MDA_eff2 = internal->MDA_succ * internal->MDA_cov * (1 - internal->MDA_grp_prop) / (double) (1 - internal->MDA_grp_prop * internal->MDA_cov);
  internal->age = (double*) user_get_array(user, false, internal->age, "age", NA_REAL, NA_REAL, 1, internal->dim_age);
  internal->age_rate = (double*) user_get_array(user, false, internal->age_rate, "age_rate", NA_REAL, NA_REAL, 1, internal->dim_age_rate);
  Free(internal->av_human);
  internal->av_human = (double*) Calloc(internal->dim_av_human, double);
  Free(internal->av_mosq);
  internal->av_mosq = (double*) Calloc(internal->dim_av_mosq, double);
  Free(internal->cov);
  internal->cov = (double*) Calloc(internal->dim_cov, double);
  Free(internal->fd);
  internal->fd = (double*) Calloc(internal->dim_fd, double);
  Free(internal->init_Ix);
  internal->init_Ix = (double*) Calloc(internal->dim_init_Ix, double);
  Free(internal->init_Sx);
  internal->init_Sx = (double*) Calloc(internal->dim_init_Sx, double);
  Free(internal->initial_Ix);
  internal->initial_Ix = (double*) Calloc(internal->dim_Ix, double);
  Free(internal->initial_Sx);
  internal->initial_Sx = (double*) Calloc(internal->dim_Sx, double);
  Free(internal->mu_vi);
  internal->mu_vi = (double*) Calloc(internal->dim_mu_vi, double);
  Free(internal->w);
  internal->w = (double*) Calloc(internal->dim_w, double);
  Free(internal->whi);
  internal->whi = (double*) Calloc(internal->dim_whi, double);
  Free(internal->yy);
  internal->yy = (double*) Calloc(internal->dim_yy, double);
  Free(internal->z);
  internal->z = (double*) Calloc(internal->dim_z, double);
  Free(internal->zhi);
  internal->zhi = (double*) Calloc(internal->dim_zhi, double);
  internal->ccov = (double*) user_get_array(user, false, internal->ccov, "ccov", NA_REAL, NA_REAL, 1, internal->dim_ccov);
  Free(internal->delay_array_av_human);
  internal->delay_array_av_human = (double*) Calloc(internal->dim_av_human, double);
  Free(internal->delay_array_av_mosq);
  internal->delay_array_av_mosq = (double*) Calloc(internal->dim_av_mosq, double);
  Free(internal->delay_array_w);
  internal->delay_array_w = (double*) Calloc(internal->dim_w, double);
  Free(internal->delay_array_whi);
  internal->delay_array_whi = (double*) Calloc(internal->dim_whi, double);
  Free(internal->delay_array_yy);
  internal->delay_array_yy = (double*) Calloc(internal->dim_yy, double);
  Free(internal->delay_array_z);
  internal->delay_array_z = (double*) Calloc(internal->dim_z, double);
  Free(internal->delay_array_zhi);
  internal->delay_array_zhi = (double*) Calloc(internal->dim_zhi, double);
  internal->den = (double*) user_get_array(user, false, internal->den, "den", NA_REAL, NA_REAL, 1, internal->dim_den);
  internal->dim_A = internal->dim_A_1 * internal->dim_A_2 * internal->dim_A_3 * internal->dim_A_4;
  internal->dim_A_12 = internal->dim_A_1 * internal->dim_A_2;
  internal->dim_A_123 = internal->dim_A_1 * internal->dim_A_2 * internal->dim_A_3;
  internal->dim_b = internal->dim_b_1 * internal->dim_b_2 * internal->dim_b_3 * internal->dim_b_4;
  internal->dim_b_12 = internal->dim_b_1 * internal->dim_b_2;
  internal->dim_b_123 = internal->dim_b_1 * internal->dim_b_2 * internal->dim_b_3;
  internal->dim_cA = internal->dim_cA_1 * internal->dim_cA_2 * internal->dim_cA_3 * internal->dim_cA_4;
  internal->dim_cA_12 = internal->dim_cA_1 * internal->dim_cA_2;
  internal->dim_cA_123 = internal->dim_cA_1 * internal->dim_cA_2 * internal->dim_cA_3;
  internal->dim_clin_inc = internal->dim_clin_inc_1 * internal->dim_clin_inc_2 * internal->dim_clin_inc_3 * internal->dim_clin_inc_4;
  internal->dim_clin_inc_12 = internal->dim_clin_inc_1 * internal->dim_clin_inc_2;
  internal->dim_clin_inc_123 = internal->dim_clin_inc_1 * internal->dim_clin_inc_2 * internal->dim_clin_inc_3;
  internal->dim_clin_inc_ACD = internal->dim_clin_inc_ACD_1 * internal->dim_clin_inc_ACD_2 * internal->dim_clin_inc_ACD_3 * internal->dim_clin_inc_ACD_4;
  internal->dim_clin_inc_ACD_12 = internal->dim_clin_inc_ACD_1 * internal->dim_clin_inc_ACD_2;
  internal->dim_clin_inc_ACD_123 = internal->dim_clin_inc_ACD_1 * internal->dim_clin_inc_ACD_2 * internal->dim_clin_inc_ACD_3;
  internal->dim_clin_inc0to10 = internal->dim_clin_inc0to10_1 * internal->dim_clin_inc0to10_2 * internal->dim_clin_inc0to10_3 * internal->dim_clin_inc0to10_4;
  internal->dim_clin_inc0to10_12 = internal->dim_clin_inc0to10_1 * internal->dim_clin_inc0to10_2;
  internal->dim_clin_inc0to10_123 = internal->dim_clin_inc0to10_1 * internal->dim_clin_inc0to10_2 * internal->dim_clin_inc0to10_3;
  internal->dim_clin_inc0to10_ACD = internal->dim_clin_inc0to10_ACD_1 * internal->dim_clin_inc0to10_ACD_2 * internal->dim_clin_inc0to10_ACD_3 * internal->dim_clin_inc0to10_ACD_4;
  internal->dim_clin_inc0to10_ACD_12 = internal->dim_clin_inc0to10_ACD_1 * internal->dim_clin_inc0to10_ACD_2;
  internal->dim_clin_inc0to10_ACD_123 = internal->dim_clin_inc0to10_ACD_1 * internal->dim_clin_inc0to10_ACD_2 * internal->dim_clin_inc0to10_ACD_3;
  internal->dim_clin_inc0to5 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2 * internal->dim_clin_inc0to5_3 * internal->dim_clin_inc0to5_4;
  internal->dim_clin_inc0to5_12 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2;
  internal->dim_clin_inc0to5_123 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2 * internal->dim_clin_inc0to5_3;
  internal->dim_clin_inc5to10 = internal->dim_clin_inc5to10_1 * internal->dim_clin_inc5to10_2 * internal->dim_clin_inc5to10_3 * internal->dim_clin_inc5to10_4;
  internal->dim_clin_inc5to10_12 = internal->dim_clin_inc5to10_1 * internal->dim_clin_inc5to10_2;
  internal->dim_clin_inc5to10_123 = internal->dim_clin_inc5to10_1 * internal->dim_clin_inc5to10_2 * internal->dim_clin_inc5to10_3;
  internal->dim_D = internal->dim_D_1 * internal->dim_D_2 * internal->dim_D_3 * internal->dim_D_4;
  internal->dim_D_12 = internal->dim_D_1 * internal->dim_D_2;
  internal->dim_D_123 = internal->dim_D_1 * internal->dim_D_2 * internal->dim_D_3;
  internal->dim_EIR = internal->dim_EIR_1 * internal->dim_EIR_2 * internal->dim_EIR_3 * internal->dim_EIR_4;
  internal->dim_EIR_12 = internal->dim_EIR_1 * internal->dim_EIR_2;
  internal->dim_EIR_123 = internal->dim_EIR_1 * internal->dim_EIR_2 * internal->dim_EIR_3;
  internal->dim_Ex = internal->dim_Ex_1 * internal->dim_Ex_2;
  internal->dim_FOI = internal->dim_FOI_1 * internal->dim_FOI_2 * internal->dim_FOI_3 * internal->dim_FOI_4;
  internal->dim_FOI_12 = internal->dim_FOI_1 * internal->dim_FOI_2;
  internal->dim_FOI_123 = internal->dim_FOI_1 * internal->dim_FOI_2 * internal->dim_FOI_3;
  internal->dim_FOI_lag = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2 * internal->dim_FOI_lag_3 * internal->dim_FOI_lag_4;
  internal->dim_FOI_lag_12 = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2;
  internal->dim_FOI_lag_123 = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2 * internal->dim_FOI_lag_3;
  internal->dim_FOIvijk = internal->dim_FOIvijk_1 * internal->dim_FOIvijk_2 * internal->dim_FOIvijk_3 * internal->dim_FOIvijk_4;
  internal->dim_FOIvijk_12 = internal->dim_FOIvijk_1 * internal->dim_FOIvijk_2;
  internal->dim_FOIvijk_123 = internal->dim_FOIvijk_1 * internal->dim_FOIvijk_2 * internal->dim_FOIvijk_3;
  internal->dim_IB = internal->dim_IB_1 * internal->dim_IB_2 * internal->dim_IB_3 * internal->dim_IB_4;
  internal->dim_IB_12 = internal->dim_IB_1 * internal->dim_IB_2;
  internal->dim_IB_123 = internal->dim_IB_1 * internal->dim_IB_2 * internal->dim_IB_3;
  internal->dim_IC = internal->dim_IC_1 * internal->dim_IC_2 * internal->dim_IC_3 * internal->dim_IC_4;
  internal->dim_IC_12 = internal->dim_IC_1 * internal->dim_IC_2;
  internal->dim_IC_123 = internal->dim_IC_1 * internal->dim_IC_2 * internal->dim_IC_3;
  internal->dim_ICA = internal->dim_ICA_1 * internal->dim_ICA_2 * internal->dim_ICA_3 * internal->dim_ICA_4;
  internal->dim_ICA_12 = internal->dim_ICA_1 * internal->dim_ICA_2;
  internal->dim_ICA_123 = internal->dim_ICA_1 * internal->dim_ICA_2 * internal->dim_ICA_3;
  internal->dim_ICM = internal->dim_ICM_1 * internal->dim_ICM_2 * internal->dim_ICM_3 * internal->dim_ICM_4;
  internal->dim_ICM_12 = internal->dim_ICM_1 * internal->dim_ICM_2;
  internal->dim_ICM_123 = internal->dim_ICM_1 * internal->dim_ICM_2 * internal->dim_ICM_3;
  internal->dim_ID = internal->dim_ID_1 * internal->dim_ID_2 * internal->dim_ID_3 * internal->dim_ID_4;
  internal->dim_ID_12 = internal->dim_ID_1 * internal->dim_ID_2;
  internal->dim_ID_123 = internal->dim_ID_1 * internal->dim_ID_2 * internal->dim_ID_3;
  internal->dim_init_A = internal->dim_init_A_1 * internal->dim_init_A_2 * internal->dim_init_A_3 * internal->dim_init_A_4;
  internal->dim_init_A_12 = internal->dim_init_A_1 * internal->dim_init_A_2;
  internal->dim_init_A_123 = internal->dim_init_A_1 * internal->dim_init_A_2 * internal->dim_init_A_3;
  internal->dim_init_D = internal->dim_init_D_1 * internal->dim_init_D_2 * internal->dim_init_D_3 * internal->dim_init_D_4;
  internal->dim_init_D_12 = internal->dim_init_D_1 * internal->dim_init_D_2;
  internal->dim_init_D_123 = internal->dim_init_D_1 * internal->dim_init_D_2 * internal->dim_init_D_3;
  internal->dim_init_Ex = internal->dim_init_Ex_1 * internal->dim_init_Ex_2;
  internal->dim_init_IB = internal->dim_init_IB_1 * internal->dim_init_IB_2 * internal->dim_init_IB_3 * internal->dim_init_IB_4;
  internal->dim_init_IB_12 = internal->dim_init_IB_1 * internal->dim_init_IB_2;
  internal->dim_init_IB_123 = internal->dim_init_IB_1 * internal->dim_init_IB_2 * internal->dim_init_IB_3;
  internal->dim_init_ICA = internal->dim_init_ICA_1 * internal->dim_init_ICA_2 * internal->dim_init_ICA_3 * internal->dim_init_ICA_4;
  internal->dim_init_ICA_12 = internal->dim_init_ICA_1 * internal->dim_init_ICA_2;
  internal->dim_init_ICA_123 = internal->dim_init_ICA_1 * internal->dim_init_ICA_2 * internal->dim_init_ICA_3;
  internal->dim_init_ICM = internal->dim_init_ICM_1 * internal->dim_init_ICM_2 * internal->dim_init_ICM_3 * internal->dim_init_ICM_4;
  internal->dim_init_ICM_12 = internal->dim_init_ICM_1 * internal->dim_init_ICM_2;
  internal->dim_init_ICM_123 = internal->dim_init_ICM_1 * internal->dim_init_ICM_2 * internal->dim_init_ICM_3;
  internal->dim_init_ID = internal->dim_init_ID_1 * internal->dim_init_ID_2 * internal->dim_init_ID_3 * internal->dim_init_ID_4;
  internal->dim_init_ID_12 = internal->dim_init_ID_1 * internal->dim_init_ID_2;
  internal->dim_init_ID_123 = internal->dim_init_ID_1 * internal->dim_init_ID_2 * internal->dim_init_ID_3;
  internal->dim_init_P = internal->dim_init_P_1 * internal->dim_init_P_2 * internal->dim_init_P_3 * internal->dim_init_P_4;
  internal->dim_init_P_12 = internal->dim_init_P_1 * internal->dim_init_P_2;
  internal->dim_init_P_123 = internal->dim_init_P_1 * internal->dim_init_P_2 * internal->dim_init_P_3;
  internal->dim_init_S = internal->dim_init_S_1 * internal->dim_init_S_2 * internal->dim_init_S_3 * internal->dim_init_S_4;
  internal->dim_init_S_12 = internal->dim_init_S_1 * internal->dim_init_S_2;
  internal->dim_init_S_123 = internal->dim_init_S_1 * internal->dim_init_S_2 * internal->dim_init_S_3;
  internal->dim_init_T = internal->dim_init_T_1 * internal->dim_init_T_2 * internal->dim_init_T_3 * internal->dim_init_T_4;
  internal->dim_init_T_12 = internal->dim_init_T_1 * internal->dim_init_T_2;
  internal->dim_init_T_123 = internal->dim_init_T_1 * internal->dim_init_T_2 * internal->dim_init_T_3;
  internal->dim_init_U = internal->dim_init_U_1 * internal->dim_init_U_2 * internal->dim_init_U_3 * internal->dim_init_U_4;
  internal->dim_init_U_12 = internal->dim_init_U_1 * internal->dim_init_U_2;
  internal->dim_init_U_123 = internal->dim_init_U_1 * internal->dim_init_U_2 * internal->dim_init_U_3;
  internal->dim_IVRM_start = internal->dim_ttt;
  internal->dim_MDA_A = internal->dim_MDA_A_1 * internal->dim_MDA_A_2 * internal->dim_MDA_A_3 * internal->dim_MDA_A_4;
  internal->dim_MDA_A_12 = internal->dim_MDA_A_1 * internal->dim_MDA_A_2;
  internal->dim_MDA_A_123 = internal->dim_MDA_A_1 * internal->dim_MDA_A_2 * internal->dim_MDA_A_3;
  internal->dim_MDA_D = internal->dim_MDA_D_1 * internal->dim_MDA_D_2 * internal->dim_MDA_D_3 * internal->dim_MDA_D_4;
  internal->dim_MDA_D_12 = internal->dim_MDA_D_1 * internal->dim_MDA_D_2;
  internal->dim_MDA_D_123 = internal->dim_MDA_D_1 * internal->dim_MDA_D_2 * internal->dim_MDA_D_3;
  internal->dim_MDA_S = internal->dim_MDA_S_1 * internal->dim_MDA_S_2 * internal->dim_MDA_S_3 * internal->dim_MDA_S_4;
  internal->dim_MDA_S_12 = internal->dim_MDA_S_1 * internal->dim_MDA_S_2;
  internal->dim_MDA_S_123 = internal->dim_MDA_S_1 * internal->dim_MDA_S_2 * internal->dim_MDA_S_3;
  internal->dim_MDA_T = internal->dim_MDA_T_1 * internal->dim_MDA_T_2 * internal->dim_MDA_T_3 * internal->dim_MDA_T_4;
  internal->dim_MDA_T_12 = internal->dim_MDA_T_1 * internal->dim_MDA_T_2;
  internal->dim_MDA_T_123 = internal->dim_MDA_T_1 * internal->dim_MDA_T_2 * internal->dim_MDA_T_3;
  internal->dim_MDA_U = internal->dim_MDA_U_1 * internal->dim_MDA_U_2 * internal->dim_MDA_U_3 * internal->dim_MDA_U_4;
  internal->dim_MDA_U_12 = internal->dim_MDA_U_1 * internal->dim_MDA_U_2;
  internal->dim_MDA_U_123 = internal->dim_MDA_U_1 * internal->dim_MDA_U_2 * internal->dim_MDA_U_3;
  internal->dim_P = internal->dim_P_1 * internal->dim_P_2 * internal->dim_P_3 * internal->dim_P_4;
  internal->dim_P_12 = internal->dim_P_1 * internal->dim_P_2;
  internal->dim_P_123 = internal->dim_P_1 * internal->dim_P_2 * internal->dim_P_3;
  internal->dim_p_det = internal->dim_p_det_1 * internal->dim_p_det_2 * internal->dim_p_det_3 * internal->dim_p_det_4;
  internal->dim_p_det_12 = internal->dim_p_det_1 * internal->dim_p_det_2;
  internal->dim_p_det_123 = internal->dim_p_det_1 * internal->dim_p_det_2 * internal->dim_p_det_3;
  internal->dim_phi = internal->dim_phi_1 * internal->dim_phi_2 * internal->dim_phi_3 * internal->dim_phi_4;
  internal->dim_phi_12 = internal->dim_phi_1 * internal->dim_phi_2;
  internal->dim_phi_123 = internal->dim_phi_1 * internal->dim_phi_2 * internal->dim_phi_3;
  internal->dim_prev_all_pcr = internal->dim_prev_all_pcr_1 * internal->dim_prev_all_pcr_2 * internal->dim_prev_all_pcr_3 * internal->dim_prev_all_pcr_4;
  internal->dim_prev_all_pcr_12 = internal->dim_prev_all_pcr_1 * internal->dim_prev_all_pcr_2;
  internal->dim_prev_all_pcr_123 = internal->dim_prev_all_pcr_1 * internal->dim_prev_all_pcr_2 * internal->dim_prev_all_pcr_3;
  internal->dim_prev_all_slide = internal->dim_prev_all_slide_1 * internal->dim_prev_all_slide_2 * internal->dim_prev_all_slide_3 * internal->dim_prev_all_slide_4;
  internal->dim_prev_all_slide_12 = internal->dim_prev_all_slide_1 * internal->dim_prev_all_slide_2;
  internal->dim_prev_all_slide_123 = internal->dim_prev_all_slide_1 * internal->dim_prev_all_slide_2 * internal->dim_prev_all_slide_3;
  internal->dim_prev0to10_slide = internal->dim_prev0to10_slide_1 * internal->dim_prev0to10_slide_2 * internal->dim_prev0to10_slide_3 * internal->dim_prev0to10_slide_4;
  internal->dim_prev0to10_slide_12 = internal->dim_prev0to10_slide_1 * internal->dim_prev0to10_slide_2;
  internal->dim_prev0to10_slide_123 = internal->dim_prev0to10_slide_1 * internal->dim_prev0to10_slide_2 * internal->dim_prev0to10_slide_3;
  internal->dim_prev0to5_pcr = internal->dim_prev0to5_pcr_1 * internal->dim_prev0to5_pcr_2 * internal->dim_prev0to5_pcr_3 * internal->dim_prev0to5_pcr_4;
  internal->dim_prev0to5_pcr_12 = internal->dim_prev0to5_pcr_1 * internal->dim_prev0to5_pcr_2;
  internal->dim_prev0to5_pcr_123 = internal->dim_prev0to5_pcr_1 * internal->dim_prev0to5_pcr_2 * internal->dim_prev0to5_pcr_3;
  internal->dim_prev0to5_slide = internal->dim_prev0to5_slide_1 * internal->dim_prev0to5_slide_2 * internal->dim_prev0to5_slide_3 * internal->dim_prev0to5_slide_4;
  internal->dim_prev0to5_slide_12 = internal->dim_prev0to5_slide_1 * internal->dim_prev0to5_slide_2;
  internal->dim_prev0to5_slide_123 = internal->dim_prev0to5_slide_1 * internal->dim_prev0to5_slide_2 * internal->dim_prev0to5_slide_3;
  internal->dim_prev0to59 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2 * internal->dim_prev0to59_3 * internal->dim_prev0to59_4;
  internal->dim_prev0to59_12 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2;
  internal->dim_prev0to59_123 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2 * internal->dim_prev0to59_3;
  internal->dim_prev2to10 = internal->dim_prev2to10_1 * internal->dim_prev2to10_2 * internal->dim_prev2to10_3 * internal->dim_prev2to10_4;
  internal->dim_prev2to10_12 = internal->dim_prev2to10_1 * internal->dim_prev2to10_2;
  internal->dim_prev2to10_123 = internal->dim_prev2to10_1 * internal->dim_prev2to10_2 * internal->dim_prev2to10_3;
  internal->dim_prev5to10_slide = internal->dim_prev5to10_slide_1 * internal->dim_prev5to10_slide_2 * internal->dim_prev5to10_slide_3 * internal->dim_prev5to10_slide_4;
  internal->dim_prev5to10_slide_12 = internal->dim_prev5to10_slide_1 * internal->dim_prev5to10_slide_2;
  internal->dim_prev5to10_slide_123 = internal->dim_prev5to10_slide_1 * internal->dim_prev5to10_slide_2 * internal->dim_prev5to10_slide_3;
  internal->dim_S = internal->dim_S_1 * internal->dim_S_2 * internal->dim_S_3 * internal->dim_S_4;
  internal->dim_S_12 = internal->dim_S_1 * internal->dim_S_2;
  internal->dim_S_123 = internal->dim_S_1 * internal->dim_S_2 * internal->dim_S_3;
  internal->dim_T = internal->dim_T_1 * internal->dim_T_2 * internal->dim_T_3 * internal->dim_T_4;
  internal->dim_T_12 = internal->dim_T_1 * internal->dim_T_2;
  internal->dim_T_123 = internal->dim_T_1 * internal->dim_T_2 * internal->dim_T_3;
  internal->dim_U = internal->dim_U_1 * internal->dim_U_2 * internal->dim_U_3 * internal->dim_U_4;
  internal->dim_U_12 = internal->dim_U_1 * internal->dim_U_2;
  internal->dim_U_123 = internal->dim_U_1 * internal->dim_U_2 * internal->dim_U_3;
  internal->dim_Y = internal->dim_Y_1 * internal->dim_Y_2 * internal->dim_Y_3 * internal->dim_Y_4;
  internal->dim_Y_12 = internal->dim_Y_1 * internal->dim_Y_2;
  internal->dim_Y_123 = internal->dim_Y_1 * internal->dim_Y_2 * internal->dim_Y_3;
  internal->foi_age = (double*) user_get_array(user, false, internal->foi_age, "foi_age", NA_REAL, NA_REAL, 1, internal->dim_foi_age);
  internal->haz = (double*) user_get_array(user, false, internal->haz, "haz", NA_REAL, NA_REAL, 1, internal->dim_haz);
  internal->het_wt = (double*) user_get_array(user, false, internal->het_wt, "het_wt", NA_REAL, NA_REAL, 1, internal->dim_het_wt);
  for (int i = 1; i <= internal->spor_len; ++i) {
    internal->initial_Ev[i - 1] = internal->init_Ev / (double) internal->spor_len * internal->mv0;
  }
  for (int i = 1; i <= internal->eff_len; ++i) {
    internal->initial_Ix[i - 1] = 0;
  }
  for (int i = 1; i <= internal->eff_len; ++i) {
    internal->initial_Sx[i - 1] = 0;
  }
  internal->offset_FOI_IB = internal->dim_Ix + 1;
  internal->offset_variable_Ex = internal->dim_Ev + internal->dim_Ix + internal->dim_Sx + 5;
  internal->offset_variable_Ix = internal->dim_Ev + internal->dim_Sx + 5;
  internal->rel_foi = (double*) user_get_array(user, false, internal->rel_foi, "rel_foi", NA_REAL, NA_REAL, 1, internal->dim_rel_foi);
  internal->x_I = (double*) user_get_array(user, false, internal->x_I, "x_I", NA_REAL, NA_REAL, 1, internal->dim_x_I);
  Free(internal->b);
  internal->b = (double*) Calloc(internal->dim_b, double);
  Free(internal->cA);
  internal->cA = (double*) Calloc(internal->dim_cA, double);
  Free(internal->clin_inc);
  internal->clin_inc = (double*) Calloc(internal->dim_clin_inc, double);
  Free(internal->clin_inc_ACD);
  internal->clin_inc_ACD = (double*) Calloc(internal->dim_clin_inc_ACD, double);
  Free(internal->clin_inc0to10);
  internal->clin_inc0to10 = (double*) Calloc(internal->dim_clin_inc0to10, double);
  Free(internal->clin_inc0to10_ACD);
  internal->clin_inc0to10_ACD = (double*) Calloc(internal->dim_clin_inc0to10_ACD, double);
  Free(internal->clin_inc0to5);
  internal->clin_inc0to5 = (double*) Calloc(internal->dim_clin_inc0to5, double);
  Free(internal->clin_inc5to10);
  internal->clin_inc5to10 = (double*) Calloc(internal->dim_clin_inc5to10, double);
  Free(internal->EIR);
  internal->EIR = (double*) Calloc(internal->dim_EIR, double);
  Free(internal->FOI);
  internal->FOI = (double*) Calloc(internal->dim_FOI, double);
  Free(internal->FOI_lag);
  internal->FOI_lag = (double*) Calloc(internal->dim_FOI_lag, double);
  Free(internal->FOIvijk);
  internal->FOIvijk = (double*) Calloc(internal->dim_FOIvijk, double);
  Free(internal->IC);
  internal->IC = (double*) Calloc(internal->dim_IC, double);
  Free(internal->init_Ex);
  internal->init_Ex = (double*) Calloc(internal->dim_init_Ex, double);
  Free(internal->initial_A);
  internal->initial_A = (double*) Calloc(internal->dim_A, double);
  Free(internal->initial_D);
  internal->initial_D = (double*) Calloc(internal->dim_D, double);
  Free(internal->initial_Ex);
  internal->initial_Ex = (double*) Calloc(internal->dim_Ex, double);
  Free(internal->initial_IB);
  internal->initial_IB = (double*) Calloc(internal->dim_IB, double);
  Free(internal->initial_ICA);
  internal->initial_ICA = (double*) Calloc(internal->dim_ICA, double);
  Free(internal->initial_ICM);
  internal->initial_ICM = (double*) Calloc(internal->dim_ICM, double);
  Free(internal->initial_ID);
  internal->initial_ID = (double*) Calloc(internal->dim_ID, double);
  Free(internal->initial_P);
  internal->initial_P = (double*) Calloc(internal->dim_P, double);
  Free(internal->initial_S);
  internal->initial_S = (double*) Calloc(internal->dim_S, double);
  Free(internal->initial_T);
  internal->initial_T = (double*) Calloc(internal->dim_T, double);
  Free(internal->initial_U);
  internal->initial_U = (double*) Calloc(internal->dim_U, double);
  Free(internal->MDA_A);
  internal->MDA_A = (double*) Calloc(internal->dim_MDA_A, double);
  Free(internal->MDA_D);
  internal->MDA_D = (double*) Calloc(internal->dim_MDA_D, double);
  Free(internal->MDA_S);
  internal->MDA_S = (double*) Calloc(internal->dim_MDA_S, double);
  Free(internal->MDA_T);
  internal->MDA_T = (double*) Calloc(internal->dim_MDA_T, double);
  Free(internal->MDA_U);
  internal->MDA_U = (double*) Calloc(internal->dim_MDA_U, double);
  Free(internal->p_det);
  internal->p_det = (double*) Calloc(internal->dim_p_det, double);
  Free(internal->phi);
  internal->phi = (double*) Calloc(internal->dim_phi, double);
  Free(internal->prev_all_pcr);
  internal->prev_all_pcr = (double*) Calloc(internal->dim_prev_all_pcr, double);
  Free(internal->prev_all_slide);
  internal->prev_all_slide = (double*) Calloc(internal->dim_prev_all_slide, double);
  Free(internal->prev0to10_slide);
  internal->prev0to10_slide = (double*) Calloc(internal->dim_prev0to10_slide, double);
  Free(internal->prev0to5_pcr);
  internal->prev0to5_pcr = (double*) Calloc(internal->dim_prev0to5_pcr, double);
  Free(internal->prev0to5_slide);
  internal->prev0to5_slide = (double*) Calloc(internal->dim_prev0to5_slide, double);
  Free(internal->prev0to59);
  internal->prev0to59 = (double*) Calloc(internal->dim_prev0to59, double);
  Free(internal->prev2to10);
  internal->prev2to10 = (double*) Calloc(internal->dim_prev2to10, double);
  Free(internal->prev5to10_slide);
  internal->prev5to10_slide = (double*) Calloc(internal->dim_prev5to10_slide, double);
  Free(internal->Y);
  internal->Y = (double*) Calloc(internal->dim_Y, double);
  {
     int i = 1;
     internal->cov[i - 1] = (1 - internal->itn_cov) * (1 - internal->irs_cov);
  }
  {
     int i = 2;
     internal->cov[i - 1] = internal->itn_cov * (1 - internal->irs_cov);
  }
  {
     int i = 3;
     internal->cov[i - 1] = (1 - internal->itn_cov) * internal->irs_cov;
  }
  {
     int i = 4;
     internal->cov[i - 1] = internal->itn_cov * internal->irs_cov;
  }
  Free(internal->delay_array_b);
  internal->delay_array_b = (double*) Calloc(internal->dim_b, double);
  Free(internal->delay_array_cA);
  internal->delay_array_cA = (double*) Calloc(internal->dim_cA, double);
  Free(internal->delay_array_EIR);
  internal->delay_array_EIR = (double*) Calloc(internal->dim_EIR, double);
  Free(internal->delay_array_FOI_lag);
  internal->delay_array_FOI_lag = (double*) Calloc(internal->dim_FOI_lag, double);
  Free(internal->delay_array_FOIvijk);
  internal->delay_array_FOIvijk = (double*) Calloc(internal->dim_FOIvijk, double);
  Free(internal->delay_array_p_det);
  internal->delay_array_p_det = (double*) Calloc(internal->dim_p_det, double);
  internal->dim_delay_FOI = internal->dim_IB + internal->dim_Ix + 1;
  internal->dim_delay_FOIv = internal->dim_A + internal->dim_D + internal->dim_ID + internal->dim_T + internal->dim_U;
  for (int i = 1; i <= internal->na; ++i) {
    internal->fd[i - 1] = 1 - (1 - internal->fD0) / (double) (1 + pow((internal->age[i - 1] / (double) internal->aD), internal->gammaD));
  }
  internal->init_A = (double*) user_get_array(user, false, internal->init_A, "init_A", NA_REAL, NA_REAL, 4, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3, internal->dim_init_A_4);
  internal->init_D = (double*) user_get_array(user, false, internal->init_D, "init_D", NA_REAL, NA_REAL, 4, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3, internal->dim_init_D_4);
  internal->init_IB = (double*) user_get_array(user, false, internal->init_IB, "init_IB", NA_REAL, NA_REAL, 4, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3, internal->dim_init_IB_4);
  internal->init_ICA = (double*) user_get_array(user, false, internal->init_ICA, "init_ICA", NA_REAL, NA_REAL, 4, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3, internal->dim_init_ICA_4);
  internal->init_ICM = (double*) user_get_array(user, false, internal->init_ICM, "init_ICM", NA_REAL, NA_REAL, 4, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3, internal->dim_init_ICM_4);
  internal->init_ID = (double*) user_get_array(user, false, internal->init_ID, "init_ID", NA_REAL, NA_REAL, 4, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3, internal->dim_init_ID_4);
  for (int i = 1; i <= internal->dim_init_Ix; ++i) {
    internal->init_Ix[i - 1] = 0;
  }
  internal->init_P = (double*) user_get_array(user, false, internal->init_P, "init_P", NA_REAL, NA_REAL, 4, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3, internal->dim_init_P_4);
  internal->init_S = (double*) user_get_array(user, false, internal->init_S, "init_S", NA_REAL, NA_REAL, 4, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3, internal->dim_init_S_4);
  for (int i = 1; i <= internal->dim_init_Sx; ++i) {
    internal->init_Sx[i - 1] = 0;
  }
  internal->init_T = (double*) user_get_array(user, false, internal->init_T, "init_T", NA_REAL, NA_REAL, 4, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3, internal->dim_init_T_4);
  internal->init_U = (double*) user_get_array(user, false, internal->init_U, "init_U", NA_REAL, NA_REAL, 4, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3, internal->dim_init_U_4);
  for (int i = 1; i <= internal->spor_len; ++i) {
    for (int j = 1; j <= internal->eff_len; ++j) {
      internal->initial_Ex[i - 1 + internal->dim_Ex_1 * (j - 1)] = 0;
    }
  }
  internal->IVRM_start = (double*) user_get_array(user, false, internal->IVRM_start, "IVRM_start", NA_REAL, NA_REAL, 1, internal->dim_IVRM_start);
  internal->offset_FOIv_A = internal->dim_D + internal->dim_T;
  internal->offset_FOIv_ID = internal->dim_A + internal->dim_D + internal->dim_T + internal->dim_U;
  internal->offset_FOIv_U = internal->dim_A + internal->dim_D + internal->dim_T;
  internal->offset_variable_A = internal->dim_D + internal->dim_Ev + internal->dim_Ex + internal->dim_Ix + internal->dim_S + internal->dim_Sx + internal->dim_T + 5;
  internal->offset_variable_D = internal->dim_Ev + internal->dim_Ex + internal->dim_Ix + internal->dim_S + internal->dim_Sx + internal->dim_T + 5;
  internal->offset_variable_IB = internal->dim_A + internal->dim_D + internal->dim_Ev + internal->dim_Ex + internal->dim_ICA + internal->dim_ICM + internal->dim_Ix + internal->dim_P + internal->dim_S + internal->dim_Sx + internal->dim_T + internal->dim_U + 5;
  internal->offset_variable_ICA = internal->dim_A + internal->dim_D + internal->dim_Ev + internal->dim_Ex + internal->dim_ICM + internal->dim_Ix + internal->dim_P + internal->dim_S + internal->dim_Sx + internal->dim_T + internal->dim_U + 5;
  internal->offset_variable_ICM = internal->dim_A + internal->dim_D + internal->dim_Ev + internal->dim_Ex + internal->dim_Ix + internal->dim_P + internal->dim_S + internal->dim_Sx + internal->dim_T + internal->dim_U + 5;
  internal->offset_variable_ID = internal->dim_A + internal->dim_D + internal->dim_Ev + internal->dim_Ex + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_Ix + internal->dim_P + internal->dim_S + internal->dim_Sx + internal->dim_T + internal->dim_U + 5;
  internal->offset_variable_P = internal->dim_A + internal->dim_D + internal->dim_Ev + internal->dim_Ex + internal->dim_Ix + internal->dim_S + internal->dim_Sx + internal->dim_T + internal->dim_U + 5;
  internal->offset_variable_S = internal->dim_Ev + internal->dim_Ex + internal->dim_Ix + internal->dim_Sx + 5;
  internal->offset_variable_T = internal->dim_Ev + internal->dim_Ex + internal->dim_Ix + internal->dim_S + internal->dim_Sx + 5;
  internal->offset_variable_U = internal->dim_A + internal->dim_D + internal->dim_Ev + internal->dim_Ex + internal->dim_Ix + internal->dim_S + internal->dim_Sx + internal->dim_T + 5;
  Free(internal->delay_index_FOI);
  internal->delay_index_FOI = Calloc(internal->dim_delay_FOI, int);
  Free(internal->delay_state_FOI);
  internal->delay_state_FOI = Calloc(internal->dim_delay_FOI, double);
  internal->delay_index_FOI[0] = 1;
  for (int i = 0, j = internal->offset_variable_Ix; i < internal->dim_Ix; ++i, ++j) {
    internal->delay_index_FOI[1 + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_IB; i < internal->dim_IB; ++i, ++j) {
    internal->delay_index_FOI[internal->offset_FOI_IB + i] = j;
  }
  Free(internal->delay_index_FOIv);
  internal->delay_index_FOIv = Calloc(internal->dim_delay_FOIv, int);
  Free(internal->delay_state_FOIv);
  internal->delay_state_FOIv = Calloc(internal->dim_delay_FOIv, double);
  for (int i = 0, j = internal->offset_variable_T; i < internal->dim_T; ++i, ++j) {
    internal->delay_index_FOIv[0 + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_D; i < internal->dim_D; ++i, ++j) {
    internal->delay_index_FOIv[internal->dim_T + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_A; i < internal->dim_A; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_A + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_U; i < internal->dim_U; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_U + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_ID; i < internal->dim_ID; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_ID + i] = j;
  }
  for (int i = 1; i <= internal->dim_init_Ex_1; ++i) {
    for (int j = 1; j <= internal->dim_init_Ex_2; ++j) {
      internal->init_Ex[i - 1 + internal->dim_init_Ex_1 * (j - 1)] = 0;
    }
  }
  for (int i = 1; i <= internal->dim_A_1; ++i) {
    for (int j = 1; j <= internal->dim_A_2; ++j) {
      for (int k = 1; k <= internal->dim_A_3; ++k) {
        for (int l = 1; l <= internal->dim_A_4; ++l) {
          internal->initial_A[i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_123 * (l - 1)] = internal->init_A[internal->dim_init_A_123 * (l - 1) + internal->dim_init_A_12 * (k - 1) + internal->dim_init_A_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_D_1; ++i) {
    for (int j = 1; j <= internal->dim_D_2; ++j) {
      for (int k = 1; k <= internal->dim_D_3; ++k) {
        for (int l = 1; l <= internal->dim_D_4; ++l) {
          internal->initial_D[i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_123 * (l - 1)] = internal->init_D[internal->dim_init_D_123 * (l - 1) + internal->dim_init_D_12 * (k - 1) + internal->dim_init_D_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_IB_1; ++i) {
    for (int j = 1; j <= internal->dim_IB_2; ++j) {
      for (int k = 1; k <= internal->dim_IB_3; ++k) {
        for (int l = 1; l <= internal->dim_IB_4; ++l) {
          internal->initial_IB[i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_123 * (l - 1)] = internal->init_IB[internal->dim_init_IB_123 * (l - 1) + internal->dim_init_IB_12 * (k - 1) + internal->dim_init_IB_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICA_1; ++i) {
    for (int j = 1; j <= internal->dim_ICA_2; ++j) {
      for (int k = 1; k <= internal->dim_ICA_3; ++k) {
        for (int l = 1; l <= internal->dim_ICA_4; ++l) {
          internal->initial_ICA[i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_123 * (l - 1)] = internal->init_ICA[internal->dim_init_ICA_123 * (l - 1) + internal->dim_init_ICA_12 * (k - 1) + internal->dim_init_ICA_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICM_1; ++i) {
    for (int j = 1; j <= internal->dim_ICM_2; ++j) {
      for (int k = 1; k <= internal->dim_ICM_3; ++k) {
        for (int l = 1; l <= internal->dim_ICM_4; ++l) {
          internal->initial_ICM[i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_123 * (l - 1)] = internal->init_ICM[internal->dim_init_ICM_123 * (l - 1) + internal->dim_init_ICM_12 * (k - 1) + internal->dim_init_ICM_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_ID_1; ++i) {
    for (int j = 1; j <= internal->dim_ID_2; ++j) {
      for (int k = 1; k <= internal->dim_ID_3; ++k) {
        for (int l = 1; l <= internal->dim_ID_4; ++l) {
          internal->initial_ID[i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_123 * (l - 1)] = internal->init_ID[internal->dim_init_ID_123 * (l - 1) + internal->dim_init_ID_12 * (k - 1) + internal->dim_init_ID_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_P_1; ++i) {
    for (int j = 1; j <= internal->dim_P_2; ++j) {
      for (int k = 1; k <= internal->dim_P_3; ++k) {
        for (int l = 1; l <= internal->dim_P_4; ++l) {
          internal->initial_P[i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_123 * (l - 1)] = internal->init_P[internal->dim_init_P_123 * (l - 1) + internal->dim_init_P_12 * (k - 1) + internal->dim_init_P_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_S_1; ++i) {
    for (int j = 1; j <= internal->dim_S_2; ++j) {
      for (int k = 1; k <= internal->dim_S_3; ++k) {
        for (int l = 1; l <= internal->dim_S_4; ++l) {
          internal->initial_S[i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_123 * (l - 1)] = internal->init_S[internal->dim_init_S_123 * (l - 1) + internal->dim_init_S_12 * (k - 1) + internal->dim_init_S_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_T_1; ++i) {
    for (int j = 1; j <= internal->dim_T_2; ++j) {
      for (int k = 1; k <= internal->dim_T_3; ++k) {
        for (int l = 1; l <= internal->dim_T_4; ++l) {
          internal->initial_T[i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_123 * (l - 1)] = internal->init_T[internal->dim_init_T_123 * (l - 1) + internal->dim_init_T_12 * (k - 1) + internal->dim_init_T_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_U_1; ++i) {
    for (int j = 1; j <= internal->dim_U_2; ++j) {
      for (int k = 1; k <= internal->dim_U_3; ++k) {
        for (int l = 1; l <= internal->dim_U_4; ++l) {
          internal->initial_U[i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_123 * (l - 1)] = internal->init_U[internal->dim_init_U_123 * (l - 1) + internal->dim_init_U_12 * (k - 1) + internal->dim_init_U_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  interpolate_check_y(internal->dim_ttt, internal->dim_IVRM_start, 0, "IVRM_start", "IVRM_sr");
  cinterpolate_free(internal->interpolate_IVRM_sr);
  internal->interpolate_IVRM_sr = cinterpolate_alloc("spline", internal->dim_ttt, 1, internal->ttt, internal->IVRM_start, true, false);
  return R_NilValue;
}
SEXP odin_model_IVM_SMChet_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_IVM_SMChet_use_dde_ptr) {
  odin_model_IVM_SMChet_internal *internal = odin_model_IVM_SMChet_get_internal(internal_p, 1);
  const double t = REAL(t_ptr)[0];
  internal->initial_t = t;
  internal->odin_model_IVM_SMChet_use_dde = INTEGER(odin_model_IVM_SMChet_use_dde_ptr)[0];
  if (state_ptr != R_NilValue) {
    double * state = REAL(state_ptr);
    internal->initial_Sv = state[0];
    internal->initial_Iv = state[1];
    internal->initial_PL = state[2];
    internal->initial_LL = state[3];
    internal->initial_EL = state[4];
    memcpy(internal->initial_Ev, state + 5, internal->dim_Ev * sizeof(double));
    memcpy(internal->initial_Sx, state + internal->offset_variable_Sx, internal->dim_Sx * sizeof(double));
    memcpy(internal->initial_Ix, state + internal->offset_variable_Ix, internal->dim_Ix * sizeof(double));
    memcpy(internal->initial_Ex, state + internal->offset_variable_Ex, internal->dim_Ex * sizeof(double));
    memcpy(internal->initial_S, state + internal->offset_variable_S, internal->dim_S * sizeof(double));
    memcpy(internal->initial_T, state + internal->offset_variable_T, internal->dim_T * sizeof(double));
    memcpy(internal->initial_D, state + internal->offset_variable_D, internal->dim_D * sizeof(double));
    memcpy(internal->initial_A, state + internal->offset_variable_A, internal->dim_A * sizeof(double));
    memcpy(internal->initial_U, state + internal->offset_variable_U, internal->dim_U * sizeof(double));
    memcpy(internal->initial_P, state + internal->offset_variable_P, internal->dim_P * sizeof(double));
    memcpy(internal->initial_ICM, state + internal->offset_variable_ICM, internal->dim_ICM * sizeof(double));
    memcpy(internal->initial_ICA, state + internal->offset_variable_ICA, internal->dim_ICA * sizeof(double));
    memcpy(internal->initial_IB, state + internal->offset_variable_IB, internal->dim_IB * sizeof(double));
    memcpy(internal->initial_ID, state + internal->offset_variable_ID, internal->dim_ID * sizeof(double));
  }
  return R_NilValue;
}
SEXP odin_model_IVM_SMChet_metadata(SEXP internal_p) {
  odin_model_IVM_SMChet_internal *internal = odin_model_IVM_SMChet_get_internal(internal_p, 1);
  SEXP ret = PROTECT(allocVector(VECSXP, 4));
  SEXP nms = PROTECT(allocVector(STRSXP, 4));
  SET_STRING_ELT(nms, 0, mkChar("variable_order"));
  SET_STRING_ELT(nms, 1, mkChar("output_order"));
  SET_STRING_ELT(nms, 2, mkChar("n_out"));
  SET_STRING_ELT(nms, 3, mkChar("interpolate_t"));
  setAttrib(ret, R_NamesSymbol, nms);
  SEXP variable_length = PROTECT(allocVector(VECSXP, 19));
  SEXP variable_names = PROTECT(allocVector(STRSXP, 19));
  setAttrib(variable_length, R_NamesSymbol, variable_names);
  SET_VECTOR_ELT(variable_length, 0, R_NilValue);
  SET_VECTOR_ELT(variable_length, 1, R_NilValue);
  SET_VECTOR_ELT(variable_length, 2, R_NilValue);
  SET_VECTOR_ELT(variable_length, 3, R_NilValue);
  SET_VECTOR_ELT(variable_length, 4, R_NilValue);
  SET_VECTOR_ELT(variable_length, 5, ScalarInteger(internal->dim_Ev));
  SET_VECTOR_ELT(variable_length, 6, ScalarInteger(internal->dim_Sx));
  SET_VECTOR_ELT(variable_length, 7, ScalarInteger(internal->dim_Ix));
  SET_VECTOR_ELT(variable_length, 8, allocVector(INTSXP, 2));
  int * dim_Ex = INTEGER(VECTOR_ELT(variable_length, 8));
  dim_Ex[0] = internal->dim_Ex_1;
  dim_Ex[1] = internal->dim_Ex_2;
  SET_VECTOR_ELT(variable_length, 9, allocVector(INTSXP, 4));
  int * dim_S = INTEGER(VECTOR_ELT(variable_length, 9));
  dim_S[0] = internal->dim_S_1;
  dim_S[1] = internal->dim_S_2;
  dim_S[2] = internal->dim_S_3;
  dim_S[3] = internal->dim_S_4;
  SET_VECTOR_ELT(variable_length, 10, allocVector(INTSXP, 4));
  int * dim_T = INTEGER(VECTOR_ELT(variable_length, 10));
  dim_T[0] = internal->dim_T_1;
  dim_T[1] = internal->dim_T_2;
  dim_T[2] = internal->dim_T_3;
  dim_T[3] = internal->dim_T_4;
  SET_VECTOR_ELT(variable_length, 11, allocVector(INTSXP, 4));
  int * dim_D = INTEGER(VECTOR_ELT(variable_length, 11));
  dim_D[0] = internal->dim_D_1;
  dim_D[1] = internal->dim_D_2;
  dim_D[2] = internal->dim_D_3;
  dim_D[3] = internal->dim_D_4;
  SET_VECTOR_ELT(variable_length, 12, allocVector(INTSXP, 4));
  int * dim_A = INTEGER(VECTOR_ELT(variable_length, 12));
  dim_A[0] = internal->dim_A_1;
  dim_A[1] = internal->dim_A_2;
  dim_A[2] = internal->dim_A_3;
  dim_A[3] = internal->dim_A_4;
  SET_VECTOR_ELT(variable_length, 13, allocVector(INTSXP, 4));
  int * dim_U = INTEGER(VECTOR_ELT(variable_length, 13));
  dim_U[0] = internal->dim_U_1;
  dim_U[1] = internal->dim_U_2;
  dim_U[2] = internal->dim_U_3;
  dim_U[3] = internal->dim_U_4;
  SET_VECTOR_ELT(variable_length, 14, allocVector(INTSXP, 4));
  int * dim_P = INTEGER(VECTOR_ELT(variable_length, 14));
  dim_P[0] = internal->dim_P_1;
  dim_P[1] = internal->dim_P_2;
  dim_P[2] = internal->dim_P_3;
  dim_P[3] = internal->dim_P_4;
  SET_VECTOR_ELT(variable_length, 15, allocVector(INTSXP, 4));
  int * dim_ICM = INTEGER(VECTOR_ELT(variable_length, 15));
  dim_ICM[0] = internal->dim_ICM_1;
  dim_ICM[1] = internal->dim_ICM_2;
  dim_ICM[2] = internal->dim_ICM_3;
  dim_ICM[3] = internal->dim_ICM_4;
  SET_VECTOR_ELT(variable_length, 16, allocVector(INTSXP, 4));
  int * dim_ICA = INTEGER(VECTOR_ELT(variable_length, 16));
  dim_ICA[0] = internal->dim_ICA_1;
  dim_ICA[1] = internal->dim_ICA_2;
  dim_ICA[2] = internal->dim_ICA_3;
  dim_ICA[3] = internal->dim_ICA_4;
  SET_VECTOR_ELT(variable_length, 17, allocVector(INTSXP, 4));
  int * dim_IB = INTEGER(VECTOR_ELT(variable_length, 17));
  dim_IB[0] = internal->dim_IB_1;
  dim_IB[1] = internal->dim_IB_2;
  dim_IB[2] = internal->dim_IB_3;
  dim_IB[3] = internal->dim_IB_4;
  SET_VECTOR_ELT(variable_length, 18, allocVector(INTSXP, 4));
  int * dim_ID = INTEGER(VECTOR_ELT(variable_length, 18));
  dim_ID[0] = internal->dim_ID_1;
  dim_ID[1] = internal->dim_ID_2;
  dim_ID[2] = internal->dim_ID_3;
  dim_ID[3] = internal->dim_ID_4;
  SET_STRING_ELT(variable_names, 0, mkChar("Sv"));
  SET_STRING_ELT(variable_names, 1, mkChar("Iv"));
  SET_STRING_ELT(variable_names, 2, mkChar("PL"));
  SET_STRING_ELT(variable_names, 3, mkChar("LL"));
  SET_STRING_ELT(variable_names, 4, mkChar("EL"));
  SET_STRING_ELT(variable_names, 5, mkChar("Ev"));
  SET_STRING_ELT(variable_names, 6, mkChar("Sx"));
  SET_STRING_ELT(variable_names, 7, mkChar("Ix"));
  SET_STRING_ELT(variable_names, 8, mkChar("Ex"));
  SET_STRING_ELT(variable_names, 9, mkChar("S"));
  SET_STRING_ELT(variable_names, 10, mkChar("T"));
  SET_STRING_ELT(variable_names, 11, mkChar("D"));
  SET_STRING_ELT(variable_names, 12, mkChar("A"));
  SET_STRING_ELT(variable_names, 13, mkChar("U"));
  SET_STRING_ELT(variable_names, 14, mkChar("P"));
  SET_STRING_ELT(variable_names, 15, mkChar("ICM"));
  SET_STRING_ELT(variable_names, 16, mkChar("ICA"));
  SET_STRING_ELT(variable_names, 17, mkChar("IB"));
  SET_STRING_ELT(variable_names, 18, mkChar("ID"));
  SET_VECTOR_ELT(ret, 0, variable_length);
  UNPROTECT(2);
  SEXP output_length = PROTECT(allocVector(VECSXP, 44));
  SEXP output_names = PROTECT(allocVector(STRSXP, 44));
  setAttrib(output_length, R_NamesSymbol, output_names);
  SET_VECTOR_ELT(output_length, 0, R_NilValue);
  SET_VECTOR_ELT(output_length, 1, R_NilValue);
  SET_VECTOR_ELT(output_length, 2, R_NilValue);
  SET_VECTOR_ELT(output_length, 3, R_NilValue);
  SET_VECTOR_ELT(output_length, 4, R_NilValue);
  SET_VECTOR_ELT(output_length, 5, R_NilValue);
  SET_VECTOR_ELT(output_length, 6, R_NilValue);
  SET_VECTOR_ELT(output_length, 7, R_NilValue);
  SET_VECTOR_ELT(output_length, 8, R_NilValue);
  SET_VECTOR_ELT(output_length, 9, R_NilValue);
  SET_VECTOR_ELT(output_length, 10, R_NilValue);
  SET_VECTOR_ELT(output_length, 11, R_NilValue);
  SET_VECTOR_ELT(output_length, 12, R_NilValue);
  SET_VECTOR_ELT(output_length, 13, R_NilValue);
  SET_VECTOR_ELT(output_length, 14, R_NilValue);
  SET_VECTOR_ELT(output_length, 15, R_NilValue);
  SET_VECTOR_ELT(output_length, 16, R_NilValue);
  SET_VECTOR_ELT(output_length, 17, R_NilValue);
  SET_VECTOR_ELT(output_length, 18, R_NilValue);
  SET_VECTOR_ELT(output_length, 19, R_NilValue);
  SET_VECTOR_ELT(output_length, 20, R_NilValue);
  SET_VECTOR_ELT(output_length, 21, R_NilValue);
  SET_VECTOR_ELT(output_length, 22, R_NilValue);
  SET_VECTOR_ELT(output_length, 23, R_NilValue);
  SET_VECTOR_ELT(output_length, 24, R_NilValue);
  SET_VECTOR_ELT(output_length, 25, R_NilValue);
  SET_VECTOR_ELT(output_length, 26, R_NilValue);
  SET_VECTOR_ELT(output_length, 27, R_NilValue);
  SET_VECTOR_ELT(output_length, 28, R_NilValue);
  SET_VECTOR_ELT(output_length, 29, R_NilValue);
  SET_VECTOR_ELT(output_length, 30, R_NilValue);
  SET_VECTOR_ELT(output_length, 31, R_NilValue);
  SET_VECTOR_ELT(output_length, 32, R_NilValue);
  SET_VECTOR_ELT(output_length, 33, R_NilValue);
  SET_VECTOR_ELT(output_length, 34, R_NilValue);
  SET_VECTOR_ELT(output_length, 35, R_NilValue);
  SET_VECTOR_ELT(output_length, 36, R_NilValue);
  SET_VECTOR_ELT(output_length, 37, R_NilValue);
  SET_VECTOR_ELT(output_length, 38, R_NilValue);
  SET_VECTOR_ELT(output_length, 39, R_NilValue);
  SET_VECTOR_ELT(output_length, 40, R_NilValue);
  SET_VECTOR_ELT(output_length, 41, R_NilValue);
  SET_VECTOR_ELT(output_length, 42, R_NilValue);
  SET_VECTOR_ELT(output_length, 43, R_NilValue);
  SET_STRING_ELT(output_names, 0, mkChar("Sout"));
  SET_STRING_ELT(output_names, 1, mkChar("Tout"));
  SET_STRING_ELT(output_names, 2, mkChar("Dout"));
  SET_STRING_ELT(output_names, 3, mkChar("Aout"));
  SET_STRING_ELT(output_names, 4, mkChar("Uout"));
  SET_STRING_ELT(output_names, 5, mkChar("Pout"));
  SET_STRING_ELT(output_names, 6, mkChar("Hout"));
  SET_STRING_ELT(output_names, 7, mkChar("H1out"));
  SET_STRING_ELT(output_names, 8, mkChar("H2out"));
  SET_STRING_ELT(output_names, 9, mkChar("EIR1"));
  SET_STRING_ELT(output_names, 10, mkChar("EIR2"));
  SET_STRING_ELT(output_names, 11, mkChar("FOI1"));
  SET_STRING_ELT(output_names, 12, mkChar("FOI2"));
  SET_STRING_ELT(output_names, 13, mkChar("IB1"));
  SET_STRING_ELT(output_names, 14, mkChar("IB2"));
  SET_STRING_ELT(output_names, 15, mkChar("A1out"));
  SET_STRING_ELT(output_names, 16, mkChar("A2out"));
  SET_STRING_ELT(output_names, 17, mkChar("S1out"));
  SET_STRING_ELT(output_names, 18, mkChar("S2out"));
  SET_STRING_ELT(output_names, 19, mkChar("MDA_sr"));
  SET_STRING_ELT(output_names, 20, mkChar("MDA_Aout1"));
  SET_STRING_ELT(output_names, 21, mkChar("MDA_Aout2"));
  SET_STRING_ELT(output_names, 22, mkChar("prev"));
  SET_STRING_ELT(output_names, 23, mkChar("prev2_10"));
  SET_STRING_ELT(output_names, 24, mkChar("prev_pcr_0to5"));
  SET_STRING_ELT(output_names, 25, mkChar("prev_pcr"));
  SET_STRING_ELT(output_names, 26, mkChar("prev_slide"));
  SET_STRING_ELT(output_names, 27, mkChar("prev_slide_0to5"));
  SET_STRING_ELT(output_names, 28, mkChar("prev_slide_5to10"));
  SET_STRING_ELT(output_names, 29, mkChar("prev_slide_0to10"));
  SET_STRING_ELT(output_names, 30, mkChar("clin_inc_treated"));
  SET_STRING_ELT(output_names, 31, mkChar("clin_inc_all"));
  SET_STRING_ELT(output_names, 32, mkChar("clin_inc_0to5"));
  SET_STRING_ELT(output_names, 33, mkChar("clin_inc_5to10"));
  SET_STRING_ELT(output_names, 34, mkChar("clin_inc_0to10"));
  SET_STRING_ELT(output_names, 35, mkChar("clin_inc_0to10_ACD"));
  SET_STRING_ELT(output_names, 36, mkChar("dens"));
  SET_STRING_ELT(output_names, 37, mkChar("Svtot"));
  SET_STRING_ELT(output_names, 38, mkChar("Evtot"));
  SET_STRING_ELT(output_names, 39, mkChar("Ivtot"));
  SET_STRING_ELT(output_names, 40, mkChar("Nvtot"));
  SET_STRING_ELT(output_names, 41, mkChar("IVRM_sr"));
  SET_STRING_ELT(output_names, 42, mkChar("mu"));
  SET_STRING_ELT(output_names, 43, mkChar("betaa"));
  SET_VECTOR_ELT(ret, 1, output_length);
  UNPROTECT(2);
  SET_VECTOR_ELT(ret, 2, ScalarInteger(44));
  SEXP interpolate_t = PROTECT(allocVector(VECSXP, 3));
  SEXP interpolate_t_nms = PROTECT(allocVector(STRSXP, 3));
  setAttrib(interpolate_t, R_NamesSymbol, interpolate_t_nms);
  SET_VECTOR_ELT(interpolate_t, 0, ScalarReal(internal->ttt[0]));
  SET_VECTOR_ELT(interpolate_t, 1, ScalarReal(internal->ttt[internal->dim_ttt - 1]));
  SET_STRING_ELT(interpolate_t_nms, 0, mkChar("min"));
  SET_STRING_ELT(interpolate_t_nms, 1, mkChar("max"));
  SET_VECTOR_ELT(ret, 3, interpolate_t);
  UNPROTECT(2);
  UNPROTECT(2);
  return ret;
}
SEXP odin_model_IVM_SMChet_initial_conditions(SEXP internal_p, SEXP t_ptr) {
  double t = scalar_real(t_ptr, "t");
  odin_model_IVM_SMChet_internal *internal = odin_model_IVM_SMChet_get_internal(internal_p, 1);
  SEXP r_state = PROTECT(allocVector(REALSXP, internal->dim_A + internal->dim_D + internal->dim_Ev + internal->dim_Ex + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_ID + internal->dim_Ix + internal->dim_P + internal->dim_S + internal->dim_Sx + internal->dim_T + internal->dim_U + 5));
  double * state = REAL(r_state);
  state[0] = internal->initial_Sv;
  state[1] = internal->initial_Iv;
  state[2] = internal->initial_PL;
  state[3] = internal->initial_LL;
  state[4] = internal->initial_EL;
  memcpy(state + 5, internal->initial_Ev, internal->dim_Ev * sizeof(double));
  memcpy(state + internal->offset_variable_Sx, internal->initial_Sx, internal->dim_Sx * sizeof(double));
  memcpy(state + internal->offset_variable_Ix, internal->initial_Ix, internal->dim_Ix * sizeof(double));
  memcpy(state + internal->offset_variable_Ex, internal->initial_Ex, internal->dim_Ex * sizeof(double));
  memcpy(state + internal->offset_variable_S, internal->initial_S, internal->dim_S * sizeof(double));
  memcpy(state + internal->offset_variable_T, internal->initial_T, internal->dim_T * sizeof(double));
  memcpy(state + internal->offset_variable_D, internal->initial_D, internal->dim_D * sizeof(double));
  memcpy(state + internal->offset_variable_A, internal->initial_A, internal->dim_A * sizeof(double));
  memcpy(state + internal->offset_variable_U, internal->initial_U, internal->dim_U * sizeof(double));
  memcpy(state + internal->offset_variable_P, internal->initial_P, internal->dim_P * sizeof(double));
  memcpy(state + internal->offset_variable_ICM, internal->initial_ICM, internal->dim_ICM * sizeof(double));
  memcpy(state + internal->offset_variable_ICA, internal->initial_ICA, internal->dim_ICA * sizeof(double));
  memcpy(state + internal->offset_variable_IB, internal->initial_IB, internal->dim_IB * sizeof(double));
  memcpy(state + internal->offset_variable_ID, internal->initial_ID, internal->dim_ID * sizeof(double));
  UNPROTECT(1);
  return r_state;
}
void odin_model_IVM_SMChet_rhs(odin_model_IVM_SMChet_internal* internal, double t, double * state, double * dstatedt, double * output) {
  double * S = state + internal->offset_variable_S;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * IB = state + internal->offset_variable_IB;
  double * ID = state + internal->offset_variable_ID;
  double Sv = state[0];
  double * Ev = state + 5;
  double Iv = state[1];
  double * Sx = state + internal->offset_variable_Sx;
  double * Ex = state + internal->offset_variable_Ex;
  double * Ix = state + internal->offset_variable_Ix;
  double EL = state[4];
  double LL = state[3];
  double PL = state[2];
  double betaa = 0.5 * PL / (double) internal->dPL;
  dstatedt[2] = LL / (double) internal->dLL - internal->muPL * PL - PL / (double) internal->dPL;
  double Evtot = odin_sum1(Ev, 0, internal->dim_Ev) + odin_sum1(Ex, 0, internal->dim_Ex);
  double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
  double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
  double Ivtot = Iv + odin_sum1(Ix, 0, internal->dim_Ix);
  double MDA_sr = (t <= internal->MDA_t1 + 1 ? internal->MDA_t1 : (t > internal->MDA_t1 && t <= internal->MDA_t2 + 1 ? internal->MDA_t2 : (t > internal->MDA_t2 && t <= internal->MDA_t3 + 1 ? internal->MDA_t3 : (t > internal->MDA_t3 && t <= internal->MDA_t4 + 1 ? internal->MDA_t4 : (t > internal->MDA_t4 && t <= internal->MDA_t5 + 1 ? internal->MDA_t5 : (t > internal->MDA_t5 && t <= internal->MDA_t6 + 1 ? internal->MDA_t6 : (t > internal->MDA_t6 && t <= internal->MDA_t7 + 1 ? internal->MDA_t7 : internal->MDA_t8)))))));
  double Svtot = Sv + odin_sum1(Sx, 0, internal->dim_Sx);
  double theta2 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
  double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
  double mv = Svtot + Evtot + Ivtot;
  double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
  double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
  double Ah = odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, 0, internal->dim_A_4, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123);
  double Dh = odin_sum4(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, 0, internal->dim_D_4, internal->dim_D_1, internal->dim_D_12, internal->dim_D_123);
  double Ph = odin_sum4(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, 0, internal->dim_P_4, internal->dim_P_1, internal->dim_P_12, internal->dim_P_123);
  double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
  double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
  double Sh = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, 0, internal->dim_S_4, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123);
  double Th = odin_sum4(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, 0, internal->dim_T_4, internal->dim_T_1, internal->dim_T_12, internal->dim_T_123);
  double Uh = odin_sum4(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, 0, internal->dim_U_4, internal->dim_U_1, internal->dim_U_12, internal->dim_U_123);
  {
     int i = 1;
     internal->z[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z[i - 1] = internal->bites_Bed * r_ITN;
  }
  {
     int i = 3;
     internal->z[i - 1] = internal->bites_Indoors * r_IRS;
  }
  {
     int i = 4;
     internal->z[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->ncc; ++l) {
           dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_123 * (l - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_123 * (l - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + (internal->init_ICM[internal->dim_init_ICM_123 * (l - 1) + internal->dim_init_ICM_12 * (k - 1) + internal->dim_init_ICM_1 * (j - 1) + i - 1] - ICM[internal->dim_ICM_123 * (l - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1]) / (double) internal->x_I[i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_123 * (l - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_123 * (l - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - (ICM[internal->dim_ICM_123 * (l - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - ICM[internal->dim_ICM_123 * (l - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
        }
      }
    }
  }
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double Iv;
    double *Ix;
    double *IB;
    if (t <= internal->initial_t) {
      Iv = internal->initial_Iv;
      Ix = internal->initial_Ix;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_IVM_SMChet_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv = internal->delay_state_FOI[0];
      Ix = internal->delay_state_FOI + 1;
      IB = internal->delay_state_FOI + internal->offset_FOI_IB;
    }
    double Ivtot = Iv + odin_sum1(Ix, 0, internal->dim_Ix);
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    {
       int i = 1;
       internal->delay_array_z[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          for (int l = 1; l <= internal->ncc; ++l) {
            internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1) + internal->dim_b_123 * (l - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
          }
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_yy[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy[i - 1] = internal->delay_array_w[1];
    }
    {
       int i = 3;
       internal->delay_array_yy[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS);
    }
    {
       int i = 4;
       internal->delay_array_yy[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS);
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human[i - 1] = av * internal->delay_array_yy[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          int l = 1;
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_123 * (l - 1)] = internal->delay_array_av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] / (double) internal->omega * Ivtot;
        }
      }
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          int l = 2;
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_123 * (l - 1)] = internal->delay_array_av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] / (double) internal->omega * Ivtot;
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          for (int l = 1; l <= internal->ncc; ++l) {
            internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_123 * (l - 1)] = internal->delay_array_EIR[internal->dim_EIR_123 * (l - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) internal->B2 * ((IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_123 * (l - 1) + internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
          }
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          for (int l = 1; l <= internal->dim_FOI_4; ++l) {
            internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_123 * (l - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_123 * (l - 1) + internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
          }
        }
      }
    }
  }
  // delay block for FOIv
  double FOIv;
  {
    const double t_true = t;
    const double t = t_true - internal->delayGam;
    double *T;
    double *D;
    double *A;
    double *U;
    double *ID;
    if (t <= internal->initial_t) {
      T = internal->initial_T;
      D = internal->initial_D;
      A = internal->initial_A;
      U = internal->initial_U;
      ID = internal->initial_ID;
    } else {
      lagvalue(t, internal->odin_model_IVM_SMChet_use_dde, internal->delay_index_FOIv, internal->dim_delay_FOIv, internal->delay_state_FOIv);
      T = internal->delay_state_FOIv + 0;
      D = internal->delay_state_FOIv + internal->dim_T;
      A = internal->delay_state_FOIv + internal->offset_FOIv_A;
      U = internal->delay_state_FOIv + internal->offset_FOIv_U;
      ID = internal->delay_state_FOIv + internal->offset_FOIv_ID;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    {
       int i = 1;
       internal->delay_array_z[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          for (int l = 1; l <= internal->dim_p_det_4; ++l) {
            internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_123 * (l - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
          }
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          for (int l = 1; l <= internal->dim_cA_4; ++l) {
            internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1) + internal->dim_cA_123 * (l - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
          }
        }
      }
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_mosq[i - 1] = av * internal->delay_array_w[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          for (int l = 1; l <= internal->ncc; ++l) {
            internal->delay_array_FOIvijk[i - 1 + internal->dim_FOIvijk_1 * (j - 1) + internal->dim_FOIvijk_12 * (k - 1) + internal->dim_FOIvijk_123 * (l - 1)] = (internal->cT * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_123 * (l - 1) + internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq[k - 1] * internal->foi_age[i - 1] / (double) (internal->omega * internal->B2);
          }
        }
      }
    }
    double lag_FOIv = odin_sum1(internal->delay_array_FOIvijk, 0, internal->dim_FOIvijk);
    FOIv = lag_FOIv;
  }
  double H = Sh + Th + Dh + Ah + Uh + Ph;
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        for (int l = 1; l <= internal->dim_IC_4; ++l) {
          internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1) + internal->dim_IC_123 * (l - 1)] = ICM[internal->dim_ICM_123 * (l - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_123 * (l - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          internal->MDA_A[i - 1 + internal->dim_MDA_A_1 * (j - 1) + internal->dim_MDA_A_12 * (k - 1) + internal->dim_MDA_A_123 * (l - 1)] = 0;
        }
      }
    }
  }
  for (int i = 2; i <= internal->SMCyrs; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        int l = 1;
        internal->MDA_A[i - 1 + internal->dim_MDA_A_1 * (j - 1) + internal->dim_MDA_A_12 * (k - 1) + internal->dim_MDA_A_123 * (l - 1)] = (t >= MDA_sr && t < (MDA_sr + 1) ? log(1 / (double) (1 - internal->MDA_eff1)) * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] : 0);
      }
    }
  }
  for (int i = 2; i <= internal->SMCyrs; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        int l = 2;
        internal->MDA_A[i - 1 + internal->dim_MDA_A_1 * (j - 1) + internal->dim_MDA_A_12 * (k - 1) + internal->dim_MDA_A_123 * (l - 1)] = (t >= MDA_sr && t < (MDA_sr + 1) ? log(1 / (double) (1 - internal->MDA_eff2)) * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] : 0);
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          internal->MDA_D[i - 1 + internal->dim_MDA_D_1 * (j - 1) + internal->dim_MDA_D_12 * (k - 1) + internal->dim_MDA_D_123 * (l - 1)] = 0;
        }
      }
    }
  }
  for (int i = 2; i <= internal->SMCyrs; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        int l = 1;
        internal->MDA_D[i - 1 + internal->dim_MDA_D_1 * (j - 1) + internal->dim_MDA_D_12 * (k - 1) + internal->dim_MDA_D_123 * (l - 1)] = (t >= MDA_sr && t < (MDA_sr + 1) ? log(1 / (double) (1 - internal->MDA_eff1)) * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] : 0);
      }
    }
  }
  for (int i = 2; i <= internal->SMCyrs; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        int l = 2;
        internal->MDA_D[i - 1 + internal->dim_MDA_D_1 * (j - 1) + internal->dim_MDA_D_12 * (k - 1) + internal->dim_MDA_D_123 * (l - 1)] = (t >= MDA_sr && t < (MDA_sr + 1) ? log(1 / (double) (1 - internal->MDA_eff2)) * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] : 0);
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          internal->MDA_S[i - 1 + internal->dim_MDA_S_1 * (j - 1) + internal->dim_MDA_S_12 * (k - 1) + internal->dim_MDA_S_123 * (l - 1)] = 0;
        }
      }
    }
  }
  for (int i = 2; i <= internal->SMCyrs; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        int l = 1;
        internal->MDA_S[i - 1 + internal->dim_MDA_S_1 * (j - 1) + internal->dim_MDA_S_12 * (k - 1) + internal->dim_MDA_S_123 * (l - 1)] = (t >= MDA_sr && t < (MDA_sr + 1) ? log(1 / (double) (1 - internal->MDA_eff1)) * S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] : 0);
      }
    }
  }
  for (int i = 2; i <= internal->SMCyrs; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        int l = 2;
        internal->MDA_S[i - 1 + internal->dim_MDA_S_1 * (j - 1) + internal->dim_MDA_S_12 * (k - 1) + internal->dim_MDA_S_123 * (l - 1)] = (t >= MDA_sr && t < (MDA_sr + 1) ? log(1 / (double) (1 - internal->MDA_eff2)) * S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] : 0);
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          internal->MDA_T[i - 1 + internal->dim_MDA_T_1 * (j - 1) + internal->dim_MDA_T_12 * (k - 1) + internal->dim_MDA_T_123 * (l - 1)] = 0;
        }
      }
    }
  }
  for (int i = 2; i <= internal->SMCyrs; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        int l = 1;
        internal->MDA_T[i - 1 + internal->dim_MDA_T_1 * (j - 1) + internal->dim_MDA_T_12 * (k - 1) + internal->dim_MDA_T_123 * (l - 1)] = (t >= MDA_sr && t < (MDA_sr + 1) ? log(1 / (double) (1 - internal->MDA_eff1)) * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] : 0);
      }
    }
  }
  for (int i = 2; i <= internal->SMCyrs; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        int l = 2;
        internal->MDA_T[i - 1 + internal->dim_MDA_T_1 * (j - 1) + internal->dim_MDA_T_12 * (k - 1) + internal->dim_MDA_T_123 * (l - 1)] = (t >= MDA_sr && t < (MDA_sr + 1) ? log(1 / (double) (1 - internal->MDA_eff2)) * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] : 0);
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          internal->MDA_U[i - 1 + internal->dim_MDA_U_1 * (j - 1) + internal->dim_MDA_U_12 * (k - 1) + internal->dim_MDA_U_123 * (l - 1)] = 0;
        }
      }
    }
  }
  for (int i = 2; i <= internal->SMCyrs; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        int l = 1;
        internal->MDA_U[i - 1 + internal->dim_MDA_U_1 * (j - 1) + internal->dim_MDA_U_12 * (k - 1) + internal->dim_MDA_U_123 * (l - 1)] = (t >= MDA_sr && t < (MDA_sr + 1) ? log(1 / (double) (1 - internal->MDA_eff1)) * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] : 0);
      }
    }
  }
  for (int i = 2; i <= internal->SMCyrs; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        int l = 2;
        internal->MDA_U[i - 1 + internal->dim_MDA_U_1 * (j - 1) + internal->dim_MDA_U_12 * (k - 1) + internal->dim_MDA_U_123 * (l - 1)] = (t >= MDA_sr && t < (MDA_sr + 1) ? log(1 / (double) (1 - internal->MDA_eff2)) * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] : 0);
      }
    }
  }
  {
     int i = 1;
     internal->w[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
  }
  {
     int i = 3;
     internal->w[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
  }
  {
     int i = 4;
     internal->w[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1) + internal->dim_Y_123 * (l - 1)] = S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi[i - 1] = internal->cov[i - 1] * internal->z[i - 1];
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->ncc; ++l) {
           dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_123 * (l - 1)] = internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_123 * (l - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_123 * (l - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_123 * (l - 1)] = internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_123 * (l - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - (ICA[internal->dim_ICA_123 * (l - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_123 * (l - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
        }
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->ncc; ++l) {
           dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_123 * (l - 1)] = internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_123 * (l - 1)] = internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - (ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] - ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
        }
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->ncc; ++l) {
           dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_123 * (l - 1)] = internal->rT * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_123 * (l - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_123 * (l - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->MDA_T[internal->dim_MDA_T_123 * (l - 1) + internal->dim_MDA_T_12 * (k - 1) + internal->dim_MDA_T_1 * (j - 1) + i - 1] + internal->MDA_D[internal->dim_MDA_D_123 * (l - 1) + internal->dim_MDA_D_12 * (k - 1) + internal->dim_MDA_D_1 * (j - 1) + i - 1] + internal->MDA_A[internal->dim_MDA_A_123 * (l - 1) + internal->dim_MDA_A_12 * (k - 1) + internal->dim_MDA_A_1 * (j - 1) + i - 1] + internal->MDA_U[internal->dim_MDA_U_123 * (l - 1) + internal->dim_MDA_U_12 * (k - 1) + internal->dim_MDA_U_1 * (j - 1) + i - 1] + internal->MDA_S[internal->dim_MDA_S_123 * (l - 1) + internal->dim_MDA_S_12 * (k - 1) + internal->dim_MDA_S_1 * (j - 1) + i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_123 * (l - 1)] = internal->rT * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_123 * (l - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_123 * (l - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * P[internal->dim_P_123 * (l - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1 - 1] + internal->MDA_T[internal->dim_MDA_T_123 * (l - 1) + internal->dim_MDA_T_12 * (k - 1) + internal->dim_MDA_T_1 * (j - 1) + i - 1] + internal->MDA_D[internal->dim_MDA_D_123 * (l - 1) + internal->dim_MDA_D_12 * (k - 1) + internal->dim_MDA_D_1 * (j - 1) + i - 1] + internal->MDA_A[internal->dim_MDA_A_123 * (l - 1) + internal->dim_MDA_A_12 * (k - 1) + internal->dim_MDA_A_1 * (j - 1) + i - 1] + internal->MDA_U[internal->dim_MDA_U_123 * (l - 1) + internal->dim_MDA_U_12 * (k - 1) + internal->dim_MDA_U_1 * (j - 1) + i - 1] + internal->MDA_S[internal->dim_MDA_S_123 * (l - 1) + internal->dim_MDA_S_12 * (k - 1) + internal->dim_MDA_S_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->ncc; ++l) {
           dstatedt[internal->offset_variable_S + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_123 * (l - 1)] = -(internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_123 * (l - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->cov[k - 1] * internal->eta * H * internal->het_wt[j - 1] * internal->ccov[l - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] - internal->MDA_S[internal->dim_MDA_S_123 * (l - 1) + internal->dim_MDA_S_12 * (k - 1) + internal->dim_MDA_S_1 * (j - 1) + i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          dstatedt[internal->offset_variable_S + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_123 * (l - 1)] = -(internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_123 * (l - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1 - 1] - internal->MDA_S[internal->dim_MDA_S_123 * (l - 1) + internal->dim_MDA_S_12 * (k - 1) + internal->dim_MDA_S_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->ncc; ++l) {
           dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_123 * (l - 1)] = internal->rA * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->MDA_U[internal->dim_MDA_U_123 * (l - 1) + internal->dim_MDA_U_12 * (k - 1) + internal->dim_MDA_U_1 * (j - 1) + i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_123 * (l - 1)] = internal->rA * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1 - 1] - internal->MDA_U[internal->dim_MDA_U_123 * (l - 1) + internal->dim_MDA_U_12 * (k - 1) + internal->dim_MDA_U_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  double IVRM_sr = 0.0;
  cinterpolate_eval(t, internal->interpolate_IVRM_sr, &IVRM_sr);
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1) + internal->dim_phi_123 * (l - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_123 * (l - 1) + internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
        }
      }
    }
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi[i - 1] = internal->cov[i - 1] * internal->w[i - 1];
  }
  {
     int i = 1;
     internal->yy[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy[i - 1] = internal->w[1];
  }
  {
     int i = 3;
     internal->yy[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS);
  }
  {
     int i = 4;
     internal->yy[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS);
  }
  double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi, 0, internal->dim_zhi));
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_123 * (l - 1)] = internal->phi[internal->dim_phi_123 * (l - 1) + internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_123 * (l - 1) + internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->ncc; ++l) {
           dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_123 * (l - 1)] = (1 - internal->phi[internal->dim_phi_123 * (l - 1) + internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_123 * (l - 1) + internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->MDA_A[internal->dim_MDA_A_123 * (l - 1) + internal->dim_MDA_A_12 * (k - 1) + internal->dim_MDA_A_1 * (j - 1) + i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_123 * (l - 1)] = (1 - internal->phi[internal->dim_phi_123 * (l - 1) + internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_123 * (l - 1) + internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1 - 1] - internal->MDA_A[internal->dim_MDA_A_123 * (l - 1) + internal->dim_MDA_A_12 * (k - 1) + internal->dim_MDA_A_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi, 0, internal->dim_whi));
  double zbar = internal->Q0 * zh;
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->ncc; ++l) {
           dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_123 * (l - 1)] = (1 - internal->ft) * internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->MDA_D[internal->dim_MDA_D_123 * (l - 1) + internal->dim_MDA_D_12 * (k - 1) + internal->dim_MDA_D_1 * (j - 1) + i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_123 * (l - 1)] = (1 - internal->ft) * internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1 - 1] - internal->MDA_D[internal->dim_MDA_D_123 * (l - 1) + internal->dim_MDA_D_12 * (k - 1) + internal->dim_MDA_D_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->ncc; ++l) {
           dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_123 * (l - 1)] = internal->ft * internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->MDA_T[internal->dim_MDA_T_123 * (l - 1) + internal->dim_MDA_T_12 * (k - 1) + internal->dim_MDA_T_1 * (j - 1) + i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_123 * (l - 1)] = internal->ft * internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1 - 1] - internal->MDA_T[internal->dim_MDA_T_123 * (l - 1) + internal->dim_MDA_T_12 * (k - 1) + internal->dim_MDA_T_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
  double wbar = 1 - internal->Q0 + internal->Q0 * wh;
  double p1 = wbar * internal->p10 / (double) (1 - zbar * internal->p10);
  double Q = 1 - (1 - internal->Q0) / (double) wbar;
  double av = fv * Q;
  double mu = -(fv) * log(p1 * internal->p2);
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human[i - 1] = av * internal->yy[i - 1] / (double) wh;
  }
  double avB2 = av * internal->B2;
  double eov = internal->betaL / (double) mu * (exp(mu / (double) fv) - 1);
  for (int i = 1; i <= internal->eff_len; ++i) {
    internal->mu_vi[i - 1] = internal->haz[i - 1] * mu;
  }
  double beta_larval = eov * mu * exp(-(mu) / (double) fv) / (double) (1 - exp(-(mu) / (double) fv));
  {
     int i = 1;
     dstatedt[5 + i - 1] = (t >= (IVRM_sr) && t < (IVRM_sr + internal->eff_len) ? FOIv * Sv * (1 - internal->ivm_cov) - mu * Ev[0] - (1 / (double) internal->tau_v + avB2 * internal->ivm_cov) * Ev[0] : FOIv * Sv - 1 / (double) internal->tau_v * Ev[0] - mu * Ev[0]);
  }
  for (int i = 2; i <= internal->spor_len; ++i) {
    dstatedt[5 + i - 1] = (t >= (IVRM_sr) && t < (IVRM_sr + internal->eff_len) ? 1 / (double) internal->tau_v * Ev[i - 1 - 1] - avB2 * internal->ivm_cov * Ev[i - 1] - 1 / (double) internal->tau_v * Ev[i - 1] - mu * Ev[i - 1] : 1 / (double) internal->tau_v * Ev[i - 1 - 1] - 1 / (double) internal->tau_v * Ev[i - 1] - mu * Ev[i - 1]);
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->eff_len; ++j) {
       dstatedt[internal->offset_variable_Ex + i - 1 + internal->dim_Ex_1 * (j - 1)] = (t >= (IVRM_sr + j) && t < (IVRM_sr + j + 1) && t < (IVRM_sr + internal->eff_len) ? (avB2 * internal->ivm_cov * Ev[0] + FOIv * Sv * internal->ivm_cov) - 1 / (double) internal->tau_v * Ex[internal->dim_Ex_1 * (j - 1) + 0] - internal->mu_vi[j - 1] * Ex[internal->dim_Ex_1 * (j - 1) + 0] + FOIv * Sx[j - 1] : -(1) / (double) internal->tau_v * Ex[internal->dim_Ex_1 * (j - 1) + 0] - internal->mu_vi[j - 1] * Ex[internal->dim_Ex_1 * (j - 1) + 0] + FOIv * Sx[j - 1]);
     }
  }
  for (int i = 2; i <= internal->spor_len; ++i) {
    for (int j = 1; j <= internal->eff_len; ++j) {
      dstatedt[internal->offset_variable_Ex + i - 1 + internal->dim_Ex_1 * (j - 1)] = (t >= (IVRM_sr + j) && t < (IVRM_sr + j + 1) && t < (IVRM_sr + internal->eff_len) ? avB2 * internal->ivm_cov * Ev[i - 1] + 1 / (double) internal->tau_v * Ex[internal->dim_Ex_1 * (j - 1) + i - 1 - 1] - 1 / (double) internal->tau_v * Ex[internal->dim_Ex_1 * (j - 1) + i - 1] - internal->mu_vi[j - 1] * Ex[internal->dim_Ex_1 * (j - 1) + i - 1] : -(1) / (double) internal->tau_v * Ex[internal->dim_Ex_1 * (j - 1) + i - 1] + 1 / (double) internal->tau_v * Ex[internal->dim_Ex_1 * (j - 1) + i - 1 - 1] - internal->mu_vi[j - 1] * Ex[internal->dim_Ex_1 * (j - 1) + i - 1]);
    }
  }
  dstatedt[1] = (t >= (IVRM_sr) && t < (IVRM_sr + internal->eff_len) ? -(avB2) * internal->ivm_cov * Iv + 1 / (double) internal->tau_v * Ev[internal->spor_len - 1] - mu * Iv : 1 / (double) internal->tau_v * Ev[internal->spor_len - 1] - mu * Iv);
  for (int i = 1; i <= internal->eff_len; ++i) {
    dstatedt[internal->offset_variable_Ix + i - 1] = (t >= (IVRM_sr + i) && t < (IVRM_sr + i + 1) && t < (IVRM_sr + internal->eff_len) ? avB2 * internal->ivm_cov * Iv + 1 / (double) internal->tau_v * Ex[internal->dim_Ex_1 * (i - 1) + internal->spor_len - 1] - internal->mu_vi[i - 1] * Ix[i - 1] : 1 / (double) internal->tau_v * Ex[internal->dim_Ex_1 * (i - 1) + internal->spor_len - 1] - internal->mu_vi[i - 1] * Ix[i - 1]);
  }
  dstatedt[0] = (t >= (IVRM_sr) && t < (IVRM_sr + internal->eff_len) ? betaa - mu * Sv - avB2 * Sv * internal->ivm_cov - FOIv * Sv * (1 - internal->ivm_cov) : betaa - FOIv * Sv - mu * Sv);
  for (int i = 1; i <= internal->eff_len; ++i) {
    dstatedt[internal->offset_variable_Sx + i - 1] = (t >= (IVRM_sr + i) && t < (IVRM_sr + i + 1) && t < (IVRM_sr + internal->eff_len) ? (internal->ivm_cov * (avB2 - FOIv) * Sv) - FOIv * Sx[i - 1] - internal->mu_vi[i - 1] * Sx[i - 1] : -(internal->mu_vi[i - 1]) * Sx[i - 1] - FOIv * Sx[i - 1]);
  }
  for (int i = 1; i <= internal->dim_EIR_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_3; ++k) {
        int l = 1;
        internal->EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_123 * (l - 1)] = internal->av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] / (double) internal->omega * Ivtot;
      }
    }
  }
  for (int i = 1; i <= internal->dim_EIR_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_3; ++k) {
        int l = 2;
        internal->EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_123 * (l - 1)] = internal->av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] / (double) internal->omega * Ivtot;
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->ncc; ++l) {
           dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_123 * (l - 1)] = internal->EIR[internal->dim_EIR_123 * (l - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_123 * (l - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_123 * (l - 1)] = internal->EIR[internal->dim_EIR_123 * (l - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_123 * (l - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - (IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] - IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
        }
      }
    }
  }
  double lambda = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  double K0 = 2 * internal->mv0 * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda + 1) / (double) (lambda / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1);
  double KL = K0 * theta2;
  dstatedt[4] = beta_larval * mv - internal->muEL * (1 + (EL + LL) / (double) KL) * EL - EL / (double) internal->dEL;
  dstatedt[3] = EL / (double) internal->dEL - internal->muLL * (1 + internal->gammaL * (EL + LL) / (double) KL) * LL - LL / (double) internal->dLL;
  if (output) {
    output[43] = betaa;
    output[38] = Evtot;
    output[39] = Ivtot;
    output[19] = MDA_sr;
    output[37] = Svtot;
    output[15] = odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, 0, 1, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123);
    output[16] = odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, 1, 2, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123);
    output[3] = odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, 0, internal->dim_A_4, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123);
    output[36] = odin_sum1(internal->den, 0, internal->dim_den);
    output[2] = odin_sum4(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, 0, internal->dim_D_4, internal->dim_D_1, internal->dim_D_12, internal->dim_D_123);
    output[7] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, 0, 1, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123) + odin_sum4(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, 0, 1, internal->dim_T_1, internal->dim_T_12, internal->dim_T_123) + odin_sum4(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, 0, 1, internal->dim_D_1, internal->dim_D_12, internal->dim_D_123) + odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, 0, 1, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123) + odin_sum4(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, 0, 1, internal->dim_U_1, internal->dim_U_12, internal->dim_U_123) + odin_sum4(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, 0, 1, internal->dim_P_1, internal->dim_P_12, internal->dim_P_123);
    output[8] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, 1, 2, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123) + odin_sum4(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, 1, 2, internal->dim_T_1, internal->dim_T_12, internal->dim_T_123) + odin_sum4(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, 1, 2, internal->dim_D_1, internal->dim_D_12, internal->dim_D_123) + odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, 1, 2, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123) + odin_sum4(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, 1, 2, internal->dim_U_1, internal->dim_U_12, internal->dim_U_123) + odin_sum4(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, 1, 2, internal->dim_P_1, internal->dim_P_12, internal->dim_P_123);
    output[6] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, 0, internal->dim_S_4, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123) + odin_sum4(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, 0, internal->dim_T_4, internal->dim_T_1, internal->dim_T_12, internal->dim_T_123) + odin_sum4(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, 0, internal->dim_D_4, internal->dim_D_1, internal->dim_D_12, internal->dim_D_123) + odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, 0, internal->dim_A_4, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123) + odin_sum4(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, 0, internal->dim_U_4, internal->dim_U_1, internal->dim_U_12, internal->dim_U_123) + odin_sum4(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, 0, internal->dim_P_4, internal->dim_P_1, internal->dim_P_12, internal->dim_P_123);
    output[40] = mv;
    output[5] = odin_sum4(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, 0, internal->dim_P_4, internal->dim_P_1, internal->dim_P_12, internal->dim_P_123);
    output[17] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, 0, 1, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123);
    output[18] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, 1, 2, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123);
    output[0] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, 0, internal->dim_S_4, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123);
    output[1] = odin_sum4(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, 0, internal->dim_T_4, internal->dim_T_1, internal->dim_T_12, internal->dim_T_123);
    output[4] = odin_sum4(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, 0, internal->dim_U_4, internal->dim_U_1, internal->dim_U_12, internal->dim_U_123);
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          for (int l = 1; l <= internal->dim_p_det_4; ++l) {
            internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_123 * (l - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
          }
        }
      }
    }
    for (int i = 1; i <= internal->dim_prev_all_pcr_1; ++i) {
      for (int j = 1; j <= internal->dim_prev_all_pcr_2; ++j) {
        for (int k = 1; k <= internal->dim_prev_all_pcr_3; ++k) {
          for (int l = 1; l <= internal->dim_prev_all_pcr_4; ++l) {
            internal->prev_all_pcr[i - 1 + internal->dim_prev_all_pcr_1 * (j - 1) + internal->dim_prev_all_pcr_12 * (k - 1) + internal->dim_prev_all_pcr_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    for (int i = 1; i <= internal->age05; ++i) {
      for (int j = 1; j <= internal->dim_prev0to5_pcr_2; ++j) {
        for (int k = 1; k <= internal->dim_prev0to5_pcr_3; ++k) {
          for (int l = 1; l <= internal->dim_prev0to5_pcr_4; ++l) {
            internal->prev0to5_pcr[i - 1 + internal->dim_prev0to5_pcr_1 * (j - 1) + internal->dim_prev0to5_pcr_12 * (k - 1) + internal->dim_prev0to5_pcr_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          for (int l = 1; l <= internal->ncc; ++l) {
            internal->clin_inc_ACD[i - 1 + internal->dim_clin_inc_ACD_1 * (j - 1) + internal->dim_clin_inc_ACD_12 * (k - 1) + internal->dim_clin_inc_ACD_123 * (l - 1)] = internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_123 * (l - 1) + internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    output[11] = odin_sum4(internal->FOI, 0, internal->dim_FOI_1, 0, internal->dim_FOI_2, 0, internal->dim_FOI_3, 0, 1, internal->dim_FOI_1, internal->dim_FOI_12, internal->dim_FOI_123);
    output[12] = odin_sum4(internal->FOI, 0, internal->dim_FOI_1, 0, internal->dim_FOI_2, 0, internal->dim_FOI_3, 1, 2, internal->dim_FOI_1, internal->dim_FOI_12, internal->dim_FOI_123);
    output[13] = odin_sum4(internal->FOI, 0, internal->dim_FOI_1, 0, internal->dim_FOI_2, 0, internal->dim_FOI_3, 0, 1, internal->dim_FOI_1, internal->dim_FOI_12, internal->dim_FOI_123);
    output[14] = odin_sum4(internal->FOI, 0, internal->dim_FOI_1, 0, internal->dim_FOI_2, 0, internal->dim_FOI_3, 1, 2, internal->dim_FOI_1, internal->dim_FOI_12, internal->dim_FOI_123);
    output[20] = odin_sum4(internal->MDA_A, 0, internal->dim_MDA_A_1, 0, internal->dim_MDA_A_2, 0, internal->dim_MDA_A_3, 0, 1, internal->dim_MDA_A_1, internal->dim_MDA_A_12, internal->dim_MDA_A_123);
    output[21] = odin_sum4(internal->MDA_A, 0, internal->dim_MDA_A_1, 0, internal->dim_MDA_A_2, 0, internal->dim_MDA_A_3, 1, 2, internal->dim_MDA_A_1, internal->dim_MDA_A_12, internal->dim_MDA_A_123);
    output[25] = odin_sum4(internal->prev_all_pcr, 0, internal->dim_prev_all_pcr_1, 0, internal->dim_prev_all_pcr_2, 0, internal->dim_prev_all_pcr_3, 0, internal->dim_prev_all_pcr_4, internal->dim_prev_all_pcr_1, internal->dim_prev_all_pcr_12, internal->dim_prev_all_pcr_123) / (double) odin_sum1(internal->den, 0, internal->na);
    output[24] = odin_sum4(internal->prev0to5_pcr, 0, internal->dim_prev0to5_pcr_1, 0, internal->dim_prev0to5_pcr_2, 0, internal->dim_prev0to5_pcr_3, 0, internal->dim_prev0to5_pcr_4, internal->dim_prev0to5_pcr_1, internal->dim_prev0to5_pcr_12, internal->dim_prev0to5_pcr_123) / (double) odin_sum1(internal->den, 0, internal->age05);
    for (int i = 1; i <= internal->dim_prev_all_slide_1; ++i) {
      for (int j = 1; j <= internal->dim_prev_all_slide_2; ++j) {
        for (int k = 1; k <= internal->dim_prev_all_slide_3; ++k) {
          for (int l = 1; l <= internal->dim_prev_all_slide_4; ++l) {
            internal->prev_all_slide[i - 1 + internal->dim_prev_all_slide_1 * (j - 1) + internal->dim_prev_all_slide_12 * (k - 1) + internal->dim_prev_all_slide_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    for (int i = 1; i <= internal->age10; ++i) {
      for (int j = 1; j <= internal->dim_prev0to10_slide_2; ++j) {
        for (int k = 1; k <= internal->dim_prev0to10_slide_3; ++k) {
          for (int l = 1; l <= internal->dim_prev0to10_slide_4; ++l) {
            internal->prev0to10_slide[i - 1 + internal->dim_prev0to10_slide_1 * (j - 1) + internal->dim_prev0to10_slide_12 * (k - 1) + internal->dim_prev0to10_slide_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    for (int i = 1; i <= internal->age05; ++i) {
      for (int j = 1; j <= internal->dim_prev0to5_slide_2; ++j) {
        for (int k = 1; k <= internal->dim_prev0to5_slide_3; ++k) {
          for (int l = 1; l <= internal->dim_prev0to5_slide_4; ++l) {
            internal->prev0to5_slide[i - 1 + internal->dim_prev0to5_slide_1 * (j - 1) + internal->dim_prev0to5_slide_12 * (k - 1) + internal->dim_prev0to5_slide_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    for (int i = 1; i <= internal->age59; ++i) {
      for (int j = 1; j <= internal->dim_prev0to59_2; ++j) {
        for (int k = 1; k <= internal->dim_prev0to59_3; ++k) {
          for (int l = 1; l <= internal->dim_prev0to59_4; ++l) {
            internal->prev0to59[i - 1 + internal->dim_prev0to59_1 * (j - 1) + internal->dim_prev0to59_12 * (k - 1) + internal->dim_prev0to59_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    for (int i = 1; i <= (internal->age02 - 1); ++i) {
      for (int j = 1; j <= internal->dim_prev2to10_2; ++j) {
        for (int k = 1; k <= internal->dim_prev2to10_3; ++k) {
          for (int l = 1; l <= internal->dim_prev2to10_4; ++l) {
            internal->prev2to10[i - 1 + internal->dim_prev2to10_1 * (j - 1) + internal->dim_prev2to10_12 * (k - 1) + internal->dim_prev2to10_123 * (l - 1)] = 0;
          }
        }
      }
    }
    for (int i = internal->age02; i <= internal->age10; ++i) {
      for (int j = 1; j <= internal->dim_prev2to10_2; ++j) {
        for (int k = 1; k <= internal->dim_prev2to10_3; ++k) {
          for (int l = 1; l <= internal->dim_prev2to10_4; ++l) {
            internal->prev2to10[i - 1 + internal->dim_prev2to10_1 * (j - 1) + internal->dim_prev2to10_12 * (k - 1) + internal->dim_prev2to10_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    for (int i = 1; i <= (internal->age05 - 1); ++i) {
      for (int j = 1; j <= internal->dim_prev5to10_slide_2; ++j) {
        for (int k = 1; k <= internal->dim_prev5to10_slide_3; ++k) {
          for (int l = 1; l <= internal->dim_prev5to10_slide_4; ++l) {
            internal->prev5to10_slide[i - 1 + internal->dim_prev5to10_slide_1 * (j - 1) + internal->dim_prev5to10_slide_12 * (k - 1) + internal->dim_prev5to10_slide_123 * (l - 1)] = 0;
          }
        }
      }
    }
    for (int i = internal->age05; i <= internal->age10; ++i) {
      for (int j = 1; j <= internal->dim_prev5to10_slide_2; ++j) {
        for (int k = 1; k <= internal->dim_prev5to10_slide_3; ++k) {
          for (int l = 1; l <= internal->dim_prev5to10_slide_4; ++l) {
            internal->prev5to10_slide[i - 1 + internal->dim_prev5to10_slide_1 * (j - 1) + internal->dim_prev5to10_slide_12 * (k - 1) + internal->dim_prev5to10_slide_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    for (int i = 1; i <= internal->age10; ++i) {
      for (int j = 1; j <= internal->dim_clin_inc0to10_ACD_2; ++j) {
        for (int k = 1; k <= internal->dim_clin_inc0to10_ACD_3; ++k) {
          for (int l = 1; l <= internal->dim_clin_inc0to10_ACD_4; ++l) {
            internal->clin_inc0to10_ACD[i - 1 + internal->dim_clin_inc0to10_ACD_1 * (j - 1) + internal->dim_clin_inc0to10_ACD_12 * (k - 1) + internal->dim_clin_inc0to10_ACD_123 * (l - 1)] = internal->clin_inc_ACD[internal->dim_clin_inc_ACD_123 * (l - 1) + internal->dim_clin_inc_ACD_12 * (k - 1) + internal->dim_clin_inc_ACD_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    output[41] = IVRM_sr;
    output[22] = odin_sum4(internal->prev0to59, 0, internal->dim_prev0to59_1, 0, internal->dim_prev0to59_2, 0, internal->dim_prev0to59_3, 0, internal->dim_prev0to59_4, internal->dim_prev0to59_1, internal->dim_prev0to59_12, internal->dim_prev0to59_123) / (double) odin_sum1(internal->den, 0, internal->age59);
    output[26] = odin_sum4(internal->prev_all_slide, 0, internal->dim_prev_all_slide_1, 0, internal->dim_prev_all_slide_2, 0, internal->dim_prev_all_slide_3, 0, internal->dim_prev_all_slide_4, internal->dim_prev_all_slide_1, internal->dim_prev_all_slide_12, internal->dim_prev_all_slide_123);
    output[29] = odin_sum4(internal->prev0to10_slide, 0, internal->dim_prev0to10_slide_1, 0, internal->dim_prev0to10_slide_2, 0, internal->dim_prev0to10_slide_3, 0, internal->dim_prev0to10_slide_4, internal->dim_prev0to10_slide_1, internal->dim_prev0to10_slide_12, internal->dim_prev0to10_slide_123) / (double) odin_sum1(internal->den, 0, internal->age10);
    output[27] = odin_sum4(internal->prev0to5_slide, 0, internal->dim_prev0to5_slide_1, 0, internal->dim_prev0to5_slide_2, 0, internal->dim_prev0to5_slide_3, 0, internal->dim_prev0to5_slide_4, internal->dim_prev0to5_slide_1, internal->dim_prev0to5_slide_12, internal->dim_prev0to5_slide_123) / (double) odin_sum1(internal->den, 0, internal->age05);
    output[28] = odin_sum4(internal->prev5to10_slide, 0, internal->dim_prev5to10_slide_1, 0, internal->dim_prev5to10_slide_2, 0, internal->dim_prev5to10_slide_3, 0, internal->dim_prev5to10_slide_4, internal->dim_prev5to10_slide_1, internal->dim_prev5to10_slide_12, internal->dim_prev5to10_slide_123) / (double) odin_sum1(internal->den, internal->age05 - 1, internal->age10);
    output[23] = odin_sum4(internal->prev2to10, 0, internal->dim_prev2to10_1, 0, internal->dim_prev2to10_2, 0, internal->dim_prev2to10_3, 0, internal->dim_prev2to10_4, internal->dim_prev2to10_1, internal->dim_prev2to10_12, internal->dim_prev2to10_123) / (double) odin_sum1(internal->den, internal->age02 - 1, internal->age10);
    for (int i = 1; i <= internal->age10; ++i) {
      for (int j = 1; j <= internal->dim_clin_inc0to10_2; ++j) {
        for (int k = 1; k <= internal->dim_clin_inc0to10_3; ++k) {
          for (int l = 1; l <= internal->dim_clin_inc0to10_4; ++l) {
            internal->clin_inc0to10[i - 1 + internal->dim_clin_inc0to10_1 * (j - 1) + internal->dim_clin_inc0to10_12 * (k - 1) + internal->dim_clin_inc0to10_123 * (l - 1)] = internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    for (int i = 1; i <= internal->age05; ++i) {
      for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
        for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
          for (int l = 1; l <= internal->dim_clin_inc0to5_4; ++l) {
            internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1) + internal->dim_clin_inc0to5_123 * (l - 1)] = internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    for (int i = 1; i <= (internal->age05); ++i) {
      for (int j = 1; j <= internal->dim_clin_inc5to10_2; ++j) {
        for (int k = 1; k <= internal->dim_clin_inc5to10_3; ++k) {
          for (int l = 1; l <= internal->dim_clin_inc5to10_4; ++l) {
            internal->clin_inc5to10[i - 1 + internal->dim_clin_inc5to10_1 * (j - 1) + internal->dim_clin_inc5to10_12 * (k - 1) + internal->dim_clin_inc5to10_123 * (l - 1)] = 0;
          }
        }
      }
    }
    for (int i = (internal->age05 + 1); i <= internal->age10; ++i) {
      for (int j = 1; j <= internal->dim_clin_inc5to10_2; ++j) {
        for (int k = 1; k <= internal->dim_clin_inc5to10_3; ++k) {
          for (int l = 1; l <= internal->dim_clin_inc5to10_4; ++l) {
            internal->clin_inc5to10[i - 1 + internal->dim_clin_inc5to10_1 * (j - 1) + internal->dim_clin_inc5to10_12 * (k - 1) + internal->dim_clin_inc5to10_123 * (l - 1)] = internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    output[35] = odin_sum4(internal->clin_inc0to10_ACD, 0, internal->dim_clin_inc0to10_ACD_1, 0, internal->dim_clin_inc0to10_ACD_2, 0, internal->dim_clin_inc0to10_ACD_3, 0, internal->dim_clin_inc0to10_ACD_4, internal->dim_clin_inc0to10_ACD_1, internal->dim_clin_inc0to10_ACD_12, internal->dim_clin_inc0to10_ACD_123) / (double) odin_sum1(internal->den, 0, internal->age10) * 365;
    output[31] = odin_sum1(internal->clin_inc, 0, internal->dim_clin_inc) * 365;
    output[30] = odin_sum1(internal->clin_inc, 0, internal->dim_clin_inc) * 365 * internal->ft;
    output[34] = odin_sum4(internal->clin_inc0to10, 0, internal->dim_clin_inc0to10_1, 0, internal->dim_clin_inc0to10_2, 0, internal->dim_clin_inc0to10_3, 0, internal->dim_clin_inc0to10_4, internal->dim_clin_inc0to10_1, internal->dim_clin_inc0to10_12, internal->dim_clin_inc0to10_123) / (double) odin_sum1(internal->den, 0, internal->age10) * 365;
    output[32] = odin_sum4(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5_1, 0, internal->dim_clin_inc0to5_2, 0, internal->dim_clin_inc0to5_3, 0, internal->dim_clin_inc0to5_4, internal->dim_clin_inc0to5_1, internal->dim_clin_inc0to5_12, internal->dim_clin_inc0to5_123) / (double) odin_sum1(internal->den, 0, internal->age05) * 365;
    output[33] = odin_sum4(internal->clin_inc5to10, 0, internal->dim_clin_inc5to10_1, 0, internal->dim_clin_inc5to10_2, 0, internal->dim_clin_inc5to10_3, 0, internal->dim_clin_inc5to10_4, internal->dim_clin_inc5to10_1, internal->dim_clin_inc5to10_12, internal->dim_clin_inc5to10_123) / (double) odin_sum1(internal->den, (internal->age05 + 1) - 1, internal->age10) * 365;
    output[42] = mu;
    output[9] = odin_sum4(internal->EIR, 0, internal->dim_EIR_1, 0, internal->dim_EIR_2, 0, internal->dim_EIR_3, 0, 1, internal->dim_EIR_1, internal->dim_EIR_12, internal->dim_EIR_123);
    output[10] = odin_sum4(internal->EIR, 0, internal->dim_EIR_1, 0, internal->dim_EIR_2, 0, internal->dim_EIR_3, 1, 2, internal->dim_EIR_1, internal->dim_EIR_12, internal->dim_EIR_123);
  }
}
void odin_model_IVM_SMChet_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal) {
  odin_model_IVM_SMChet_rhs((odin_model_IVM_SMChet_internal*)internal, t, state, dstatedt, NULL);
}
void odin_model_IVM_SMChet_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np) {
  odin_model_IVM_SMChet_rhs(odin_model_IVM_SMChet_internal_ds, *t, state, dstatedt, output);
}
void odin_model_IVM_SMChet_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p) {
  odin_model_IVM_SMChet_internal *internal = (odin_model_IVM_SMChet_internal*) internal_p;
  double * S = state + internal->offset_variable_S;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * ID = state + internal->offset_variable_ID;
  double Sv = state[0];
  double * Ev = state + 5;
  double Iv = state[1];
  double * Sx = state + internal->offset_variable_Sx;
  double * Ex = state + internal->offset_variable_Ex;
  double * Ix = state + internal->offset_variable_Ix;
  double PL = state[2];
  double betaa = 0.5 * PL / (double) internal->dPL;
  double Evtot = odin_sum1(Ev, 0, internal->dim_Ev) + odin_sum1(Ex, 0, internal->dim_Ex);
  double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
  double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
  double Ivtot = Iv + odin_sum1(Ix, 0, internal->dim_Ix);
  double MDA_sr = (t <= internal->MDA_t1 + 1 ? internal->MDA_t1 : (t > internal->MDA_t1 && t <= internal->MDA_t2 + 1 ? internal->MDA_t2 : (t > internal->MDA_t2 && t <= internal->MDA_t3 + 1 ? internal->MDA_t3 : (t > internal->MDA_t3 && t <= internal->MDA_t4 + 1 ? internal->MDA_t4 : (t > internal->MDA_t4 && t <= internal->MDA_t5 + 1 ? internal->MDA_t5 : (t > internal->MDA_t5 && t <= internal->MDA_t6 + 1 ? internal->MDA_t6 : (t > internal->MDA_t6 && t <= internal->MDA_t7 + 1 ? internal->MDA_t7 : internal->MDA_t8)))))));
  double Svtot = Sv + odin_sum1(Sx, 0, internal->dim_Sx);
  double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
  double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
  double mv = Svtot + Evtot + Ivtot;
  output[43] = betaa;
  output[38] = Evtot;
  output[39] = Ivtot;
  output[19] = MDA_sr;
  output[37] = Svtot;
  double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
  double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
  output[15] = odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, 0, 1, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123);
  output[16] = odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, 1, 2, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123);
  output[3] = odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, 0, internal->dim_A_4, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123);
  output[36] = odin_sum1(internal->den, 0, internal->dim_den);
  output[2] = odin_sum4(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, 0, internal->dim_D_4, internal->dim_D_1, internal->dim_D_12, internal->dim_D_123);
  output[7] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, 0, 1, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123) + odin_sum4(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, 0, 1, internal->dim_T_1, internal->dim_T_12, internal->dim_T_123) + odin_sum4(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, 0, 1, internal->dim_D_1, internal->dim_D_12, internal->dim_D_123) + odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, 0, 1, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123) + odin_sum4(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, 0, 1, internal->dim_U_1, internal->dim_U_12, internal->dim_U_123) + odin_sum4(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, 0, 1, internal->dim_P_1, internal->dim_P_12, internal->dim_P_123);
  output[8] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, 1, 2, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123) + odin_sum4(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, 1, 2, internal->dim_T_1, internal->dim_T_12, internal->dim_T_123) + odin_sum4(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, 1, 2, internal->dim_D_1, internal->dim_D_12, internal->dim_D_123) + odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, 1, 2, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123) + odin_sum4(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, 1, 2, internal->dim_U_1, internal->dim_U_12, internal->dim_U_123) + odin_sum4(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, 1, 2, internal->dim_P_1, internal->dim_P_12, internal->dim_P_123);
  output[6] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, 0, internal->dim_S_4, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123) + odin_sum4(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, 0, internal->dim_T_4, internal->dim_T_1, internal->dim_T_12, internal->dim_T_123) + odin_sum4(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, 0, internal->dim_D_4, internal->dim_D_1, internal->dim_D_12, internal->dim_D_123) + odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, 0, internal->dim_A_4, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123) + odin_sum4(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, 0, internal->dim_U_4, internal->dim_U_1, internal->dim_U_12, internal->dim_U_123) + odin_sum4(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, 0, internal->dim_P_4, internal->dim_P_1, internal->dim_P_12, internal->dim_P_123);
  output[40] = mv;
  output[5] = odin_sum4(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, 0, internal->dim_P_4, internal->dim_P_1, internal->dim_P_12, internal->dim_P_123);
  output[17] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, 0, 1, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123);
  output[18] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, 1, 2, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123);
  output[0] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, 0, internal->dim_S_4, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123);
  output[1] = odin_sum4(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, 0, internal->dim_T_4, internal->dim_T_1, internal->dim_T_12, internal->dim_T_123);
  output[4] = odin_sum4(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, 0, internal->dim_U_4, internal->dim_U_1, internal->dim_U_12, internal->dim_U_123);
  double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
  double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
  {
     int i = 1;
     internal->z[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z[i - 1] = internal->bites_Bed * r_ITN;
  }
  {
     int i = 3;
     internal->z[i - 1] = internal->bites_Indoors * r_IRS;
  }
  {
     int i = 4;
     internal->z[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
  }
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double Iv;
    double *Ix;
    double *IB;
    if (t <= internal->initial_t) {
      Iv = internal->initial_Iv;
      Ix = internal->initial_Ix;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_IVM_SMChet_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv = internal->delay_state_FOI[0];
      Ix = internal->delay_state_FOI + 1;
      IB = internal->delay_state_FOI + internal->offset_FOI_IB;
    }
    double Ivtot = Iv + odin_sum1(Ix, 0, internal->dim_Ix);
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    {
       int i = 1;
       internal->delay_array_z[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          for (int l = 1; l <= internal->ncc; ++l) {
            internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1) + internal->dim_b_123 * (l - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
          }
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_yy[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy[i - 1] = internal->delay_array_w[1];
    }
    {
       int i = 3;
       internal->delay_array_yy[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS);
    }
    {
       int i = 4;
       internal->delay_array_yy[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS);
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human[i - 1] = av * internal->delay_array_yy[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          int l = 1;
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_123 * (l - 1)] = internal->delay_array_av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] / (double) internal->omega * Ivtot;
        }
      }
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          int l = 2;
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_123 * (l - 1)] = internal->delay_array_av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] / (double) internal->omega * Ivtot;
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          for (int l = 1; l <= internal->ncc; ++l) {
            internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_123 * (l - 1)] = internal->delay_array_EIR[internal->dim_EIR_123 * (l - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) internal->B2 * ((IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_123 * (l - 1) + internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
          }
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          for (int l = 1; l <= internal->dim_FOI_4; ++l) {
            internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_123 * (l - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_123 * (l - 1) + internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
          }
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        for (int l = 1; l <= internal->dim_IC_4; ++l) {
          internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1) + internal->dim_IC_123 * (l - 1)] = ICM[internal->dim_ICM_123 * (l - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_123 * (l - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          internal->MDA_A[i - 1 + internal->dim_MDA_A_1 * (j - 1) + internal->dim_MDA_A_12 * (k - 1) + internal->dim_MDA_A_123 * (l - 1)] = 0;
        }
      }
    }
  }
  for (int i = 2; i <= internal->SMCyrs; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        int l = 1;
        internal->MDA_A[i - 1 + internal->dim_MDA_A_1 * (j - 1) + internal->dim_MDA_A_12 * (k - 1) + internal->dim_MDA_A_123 * (l - 1)] = (t >= MDA_sr && t < (MDA_sr + 1) ? log(1 / (double) (1 - internal->MDA_eff1)) * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] : 0);
      }
    }
  }
  for (int i = 2; i <= internal->SMCyrs; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        int l = 2;
        internal->MDA_A[i - 1 + internal->dim_MDA_A_1 * (j - 1) + internal->dim_MDA_A_12 * (k - 1) + internal->dim_MDA_A_123 * (l - 1)] = (t >= MDA_sr && t < (MDA_sr + 1) ? log(1 / (double) (1 - internal->MDA_eff2)) * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] : 0);
      }
    }
  }
  for (int i = 1; i <= internal->dim_p_det_1; ++i) {
    for (int j = 1; j <= internal->dim_p_det_2; ++j) {
      for (int k = 1; k <= internal->dim_p_det_3; ++k) {
        for (int l = 1; l <= internal->dim_p_det_4; ++l) {
          internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_123 * (l - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_prev_all_pcr_1; ++i) {
    for (int j = 1; j <= internal->dim_prev_all_pcr_2; ++j) {
      for (int k = 1; k <= internal->dim_prev_all_pcr_3; ++k) {
        for (int l = 1; l <= internal->dim_prev_all_pcr_4; ++l) {
          internal->prev_all_pcr[i - 1 + internal->dim_prev_all_pcr_1 * (j - 1) + internal->dim_prev_all_pcr_12 * (k - 1) + internal->dim_prev_all_pcr_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->age05; ++i) {
    for (int j = 1; j <= internal->dim_prev0to5_pcr_2; ++j) {
      for (int k = 1; k <= internal->dim_prev0to5_pcr_3; ++k) {
        for (int l = 1; l <= internal->dim_prev0to5_pcr_4; ++l) {
          internal->prev0to5_pcr[i - 1 + internal->dim_prev0to5_pcr_1 * (j - 1) + internal->dim_prev0to5_pcr_12 * (k - 1) + internal->dim_prev0to5_pcr_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  {
     int i = 1;
     internal->w[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
  }
  {
     int i = 3;
     internal->w[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
  }
  {
     int i = 4;
     internal->w[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1) + internal->dim_Y_123 * (l - 1)] = S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi[i - 1] = internal->cov[i - 1] * internal->z[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          internal->clin_inc_ACD[i - 1 + internal->dim_clin_inc_ACD_1 * (j - 1) + internal->dim_clin_inc_ACD_12 * (k - 1) + internal->dim_clin_inc_ACD_123 * (l - 1)] = internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_123 * (l - 1) + internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  double IVRM_sr = 0.0;
  cinterpolate_eval(t, internal->interpolate_IVRM_sr, &IVRM_sr);
  output[11] = odin_sum4(internal->FOI, 0, internal->dim_FOI_1, 0, internal->dim_FOI_2, 0, internal->dim_FOI_3, 0, 1, internal->dim_FOI_1, internal->dim_FOI_12, internal->dim_FOI_123);
  output[12] = odin_sum4(internal->FOI, 0, internal->dim_FOI_1, 0, internal->dim_FOI_2, 0, internal->dim_FOI_3, 1, 2, internal->dim_FOI_1, internal->dim_FOI_12, internal->dim_FOI_123);
  output[13] = odin_sum4(internal->FOI, 0, internal->dim_FOI_1, 0, internal->dim_FOI_2, 0, internal->dim_FOI_3, 0, 1, internal->dim_FOI_1, internal->dim_FOI_12, internal->dim_FOI_123);
  output[14] = odin_sum4(internal->FOI, 0, internal->dim_FOI_1, 0, internal->dim_FOI_2, 0, internal->dim_FOI_3, 1, 2, internal->dim_FOI_1, internal->dim_FOI_12, internal->dim_FOI_123);
  output[20] = odin_sum4(internal->MDA_A, 0, internal->dim_MDA_A_1, 0, internal->dim_MDA_A_2, 0, internal->dim_MDA_A_3, 0, 1, internal->dim_MDA_A_1, internal->dim_MDA_A_12, internal->dim_MDA_A_123);
  output[21] = odin_sum4(internal->MDA_A, 0, internal->dim_MDA_A_1, 0, internal->dim_MDA_A_2, 0, internal->dim_MDA_A_3, 1, 2, internal->dim_MDA_A_1, internal->dim_MDA_A_12, internal->dim_MDA_A_123);
  output[25] = odin_sum4(internal->prev_all_pcr, 0, internal->dim_prev_all_pcr_1, 0, internal->dim_prev_all_pcr_2, 0, internal->dim_prev_all_pcr_3, 0, internal->dim_prev_all_pcr_4, internal->dim_prev_all_pcr_1, internal->dim_prev_all_pcr_12, internal->dim_prev_all_pcr_123) / (double) odin_sum1(internal->den, 0, internal->na);
  output[24] = odin_sum4(internal->prev0to5_pcr, 0, internal->dim_prev0to5_pcr_1, 0, internal->dim_prev0to5_pcr_2, 0, internal->dim_prev0to5_pcr_3, 0, internal->dim_prev0to5_pcr_4, internal->dim_prev0to5_pcr_1, internal->dim_prev0to5_pcr_12, internal->dim_prev0to5_pcr_123) / (double) odin_sum1(internal->den, 0, internal->age05);
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1) + internal->dim_phi_123 * (l - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_123 * (l - 1) + internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_prev_all_slide_1; ++i) {
    for (int j = 1; j <= internal->dim_prev_all_slide_2; ++j) {
      for (int k = 1; k <= internal->dim_prev_all_slide_3; ++k) {
        for (int l = 1; l <= internal->dim_prev_all_slide_4; ++l) {
          internal->prev_all_slide[i - 1 + internal->dim_prev_all_slide_1 * (j - 1) + internal->dim_prev_all_slide_12 * (k - 1) + internal->dim_prev_all_slide_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->age10; ++i) {
    for (int j = 1; j <= internal->dim_prev0to10_slide_2; ++j) {
      for (int k = 1; k <= internal->dim_prev0to10_slide_3; ++k) {
        for (int l = 1; l <= internal->dim_prev0to10_slide_4; ++l) {
          internal->prev0to10_slide[i - 1 + internal->dim_prev0to10_slide_1 * (j - 1) + internal->dim_prev0to10_slide_12 * (k - 1) + internal->dim_prev0to10_slide_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->age05; ++i) {
    for (int j = 1; j <= internal->dim_prev0to5_slide_2; ++j) {
      for (int k = 1; k <= internal->dim_prev0to5_slide_3; ++k) {
        for (int l = 1; l <= internal->dim_prev0to5_slide_4; ++l) {
          internal->prev0to5_slide[i - 1 + internal->dim_prev0to5_slide_1 * (j - 1) + internal->dim_prev0to5_slide_12 * (k - 1) + internal->dim_prev0to5_slide_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->age59; ++i) {
    for (int j = 1; j <= internal->dim_prev0to59_2; ++j) {
      for (int k = 1; k <= internal->dim_prev0to59_3; ++k) {
        for (int l = 1; l <= internal->dim_prev0to59_4; ++l) {
          internal->prev0to59[i - 1 + internal->dim_prev0to59_1 * (j - 1) + internal->dim_prev0to59_12 * (k - 1) + internal->dim_prev0to59_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= (internal->age02 - 1); ++i) {
    for (int j = 1; j <= internal->dim_prev2to10_2; ++j) {
      for (int k = 1; k <= internal->dim_prev2to10_3; ++k) {
        for (int l = 1; l <= internal->dim_prev2to10_4; ++l) {
          internal->prev2to10[i - 1 + internal->dim_prev2to10_1 * (j - 1) + internal->dim_prev2to10_12 * (k - 1) + internal->dim_prev2to10_123 * (l - 1)] = 0;
        }
      }
    }
  }
  for (int i = internal->age02; i <= internal->age10; ++i) {
    for (int j = 1; j <= internal->dim_prev2to10_2; ++j) {
      for (int k = 1; k <= internal->dim_prev2to10_3; ++k) {
        for (int l = 1; l <= internal->dim_prev2to10_4; ++l) {
          internal->prev2to10[i - 1 + internal->dim_prev2to10_1 * (j - 1) + internal->dim_prev2to10_12 * (k - 1) + internal->dim_prev2to10_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= (internal->age05 - 1); ++i) {
    for (int j = 1; j <= internal->dim_prev5to10_slide_2; ++j) {
      for (int k = 1; k <= internal->dim_prev5to10_slide_3; ++k) {
        for (int l = 1; l <= internal->dim_prev5to10_slide_4; ++l) {
          internal->prev5to10_slide[i - 1 + internal->dim_prev5to10_slide_1 * (j - 1) + internal->dim_prev5to10_slide_12 * (k - 1) + internal->dim_prev5to10_slide_123 * (l - 1)] = 0;
        }
      }
    }
  }
  for (int i = internal->age05; i <= internal->age10; ++i) {
    for (int j = 1; j <= internal->dim_prev5to10_slide_2; ++j) {
      for (int k = 1; k <= internal->dim_prev5to10_slide_3; ++k) {
        for (int l = 1; l <= internal->dim_prev5to10_slide_4; ++l) {
          internal->prev5to10_slide[i - 1 + internal->dim_prev5to10_slide_1 * (j - 1) + internal->dim_prev5to10_slide_12 * (k - 1) + internal->dim_prev5to10_slide_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi[i - 1] = internal->cov[i - 1] * internal->w[i - 1];
  }
  {
     int i = 1;
     internal->yy[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy[i - 1] = internal->w[1];
  }
  {
     int i = 3;
     internal->yy[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS);
  }
  {
     int i = 4;
     internal->yy[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS);
  }
  double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi, 0, internal->dim_zhi));
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->ncc; ++l) {
          internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_123 * (l - 1)] = internal->phi[internal->dim_phi_123 * (l - 1) + internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_123 * (l - 1) + internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->age10; ++i) {
    for (int j = 1; j <= internal->dim_clin_inc0to10_ACD_2; ++j) {
      for (int k = 1; k <= internal->dim_clin_inc0to10_ACD_3; ++k) {
        for (int l = 1; l <= internal->dim_clin_inc0to10_ACD_4; ++l) {
          internal->clin_inc0to10_ACD[i - 1 + internal->dim_clin_inc0to10_ACD_1 * (j - 1) + internal->dim_clin_inc0to10_ACD_12 * (k - 1) + internal->dim_clin_inc0to10_ACD_123 * (l - 1)] = internal->clin_inc_ACD[internal->dim_clin_inc_ACD_123 * (l - 1) + internal->dim_clin_inc_ACD_12 * (k - 1) + internal->dim_clin_inc_ACD_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  output[41] = IVRM_sr;
  output[22] = odin_sum4(internal->prev0to59, 0, internal->dim_prev0to59_1, 0, internal->dim_prev0to59_2, 0, internal->dim_prev0to59_3, 0, internal->dim_prev0to59_4, internal->dim_prev0to59_1, internal->dim_prev0to59_12, internal->dim_prev0to59_123) / (double) odin_sum1(internal->den, 0, internal->age59);
  output[26] = odin_sum4(internal->prev_all_slide, 0, internal->dim_prev_all_slide_1, 0, internal->dim_prev_all_slide_2, 0, internal->dim_prev_all_slide_3, 0, internal->dim_prev_all_slide_4, internal->dim_prev_all_slide_1, internal->dim_prev_all_slide_12, internal->dim_prev_all_slide_123);
  output[29] = odin_sum4(internal->prev0to10_slide, 0, internal->dim_prev0to10_slide_1, 0, internal->dim_prev0to10_slide_2, 0, internal->dim_prev0to10_slide_3, 0, internal->dim_prev0to10_slide_4, internal->dim_prev0to10_slide_1, internal->dim_prev0to10_slide_12, internal->dim_prev0to10_slide_123) / (double) odin_sum1(internal->den, 0, internal->age10);
  output[27] = odin_sum4(internal->prev0to5_slide, 0, internal->dim_prev0to5_slide_1, 0, internal->dim_prev0to5_slide_2, 0, internal->dim_prev0to5_slide_3, 0, internal->dim_prev0to5_slide_4, internal->dim_prev0to5_slide_1, internal->dim_prev0to5_slide_12, internal->dim_prev0to5_slide_123) / (double) odin_sum1(internal->den, 0, internal->age05);
  output[28] = odin_sum4(internal->prev5to10_slide, 0, internal->dim_prev5to10_slide_1, 0, internal->dim_prev5to10_slide_2, 0, internal->dim_prev5to10_slide_3, 0, internal->dim_prev5to10_slide_4, internal->dim_prev5to10_slide_1, internal->dim_prev5to10_slide_12, internal->dim_prev5to10_slide_123) / (double) odin_sum1(internal->den, internal->age05 - 1, internal->age10);
  output[23] = odin_sum4(internal->prev2to10, 0, internal->dim_prev2to10_1, 0, internal->dim_prev2to10_2, 0, internal->dim_prev2to10_3, 0, internal->dim_prev2to10_4, internal->dim_prev2to10_1, internal->dim_prev2to10_12, internal->dim_prev2to10_123) / (double) odin_sum1(internal->den, internal->age02 - 1, internal->age10);
  double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi, 0, internal->dim_whi));
  double zbar = internal->Q0 * zh;
  for (int i = 1; i <= internal->age10; ++i) {
    for (int j = 1; j <= internal->dim_clin_inc0to10_2; ++j) {
      for (int k = 1; k <= internal->dim_clin_inc0to10_3; ++k) {
        for (int l = 1; l <= internal->dim_clin_inc0to10_4; ++l) {
          internal->clin_inc0to10[i - 1 + internal->dim_clin_inc0to10_1 * (j - 1) + internal->dim_clin_inc0to10_12 * (k - 1) + internal->dim_clin_inc0to10_123 * (l - 1)] = internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->age05; ++i) {
    for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
      for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
        for (int l = 1; l <= internal->dim_clin_inc0to5_4; ++l) {
          internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1) + internal->dim_clin_inc0to5_123 * (l - 1)] = internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= (internal->age05); ++i) {
    for (int j = 1; j <= internal->dim_clin_inc5to10_2; ++j) {
      for (int k = 1; k <= internal->dim_clin_inc5to10_3; ++k) {
        for (int l = 1; l <= internal->dim_clin_inc5to10_4; ++l) {
          internal->clin_inc5to10[i - 1 + internal->dim_clin_inc5to10_1 * (j - 1) + internal->dim_clin_inc5to10_12 * (k - 1) + internal->dim_clin_inc5to10_123 * (l - 1)] = 0;
        }
      }
    }
  }
  for (int i = (internal->age05 + 1); i <= internal->age10; ++i) {
    for (int j = 1; j <= internal->dim_clin_inc5to10_2; ++j) {
      for (int k = 1; k <= internal->dim_clin_inc5to10_3; ++k) {
        for (int l = 1; l <= internal->dim_clin_inc5to10_4; ++l) {
          internal->clin_inc5to10[i - 1 + internal->dim_clin_inc5to10_1 * (j - 1) + internal->dim_clin_inc5to10_12 * (k - 1) + internal->dim_clin_inc5to10_123 * (l - 1)] = internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
  output[35] = odin_sum4(internal->clin_inc0to10_ACD, 0, internal->dim_clin_inc0to10_ACD_1, 0, internal->dim_clin_inc0to10_ACD_2, 0, internal->dim_clin_inc0to10_ACD_3, 0, internal->dim_clin_inc0to10_ACD_4, internal->dim_clin_inc0to10_ACD_1, internal->dim_clin_inc0to10_ACD_12, internal->dim_clin_inc0to10_ACD_123) / (double) odin_sum1(internal->den, 0, internal->age10) * 365;
  output[31] = odin_sum1(internal->clin_inc, 0, internal->dim_clin_inc) * 365;
  output[30] = odin_sum1(internal->clin_inc, 0, internal->dim_clin_inc) * 365 * internal->ft;
  double wbar = 1 - internal->Q0 + internal->Q0 * wh;
  output[34] = odin_sum4(internal->clin_inc0to10, 0, internal->dim_clin_inc0to10_1, 0, internal->dim_clin_inc0to10_2, 0, internal->dim_clin_inc0to10_3, 0, internal->dim_clin_inc0to10_4, internal->dim_clin_inc0to10_1, internal->dim_clin_inc0to10_12, internal->dim_clin_inc0to10_123) / (double) odin_sum1(internal->den, 0, internal->age10) * 365;
  output[32] = odin_sum4(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5_1, 0, internal->dim_clin_inc0to5_2, 0, internal->dim_clin_inc0to5_3, 0, internal->dim_clin_inc0to5_4, internal->dim_clin_inc0to5_1, internal->dim_clin_inc0to5_12, internal->dim_clin_inc0to5_123) / (double) odin_sum1(internal->den, 0, internal->age05) * 365;
  output[33] = odin_sum4(internal->clin_inc5to10, 0, internal->dim_clin_inc5to10_1, 0, internal->dim_clin_inc5to10_2, 0, internal->dim_clin_inc5to10_3, 0, internal->dim_clin_inc5to10_4, internal->dim_clin_inc5to10_1, internal->dim_clin_inc5to10_12, internal->dim_clin_inc5to10_123) / (double) odin_sum1(internal->den, (internal->age05 + 1) - 1, internal->age10) * 365;
  double p1 = wbar * internal->p10 / (double) (1 - zbar * internal->p10);
  double Q = 1 - (1 - internal->Q0) / (double) wbar;
  double av = fv * Q;
  double mu = -(fv) * log(p1 * internal->p2);
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human[i - 1] = av * internal->yy[i - 1] / (double) wh;
  }
  output[42] = mu;
  for (int i = 1; i <= internal->dim_EIR_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_3; ++k) {
        int l = 1;
        internal->EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_123 * (l - 1)] = internal->av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] / (double) internal->omega * Ivtot;
      }
    }
  }
  for (int i = 1; i <= internal->dim_EIR_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_3; ++k) {
        int l = 2;
        internal->EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_123 * (l - 1)] = internal->av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] / (double) internal->omega * Ivtot;
      }
    }
  }
  output[9] = odin_sum4(internal->EIR, 0, internal->dim_EIR_1, 0, internal->dim_EIR_2, 0, internal->dim_EIR_3, 0, 1, internal->dim_EIR_1, internal->dim_EIR_12, internal->dim_EIR_123);
  output[10] = odin_sum4(internal->EIR, 0, internal->dim_EIR_1, 0, internal->dim_EIR_2, 0, internal->dim_EIR_3, 1, 2, internal->dim_EIR_1, internal->dim_EIR_12, internal->dim_EIR_123);
}
SEXP odin_model_IVM_SMChet_rhs_r(SEXP internal_p, SEXP t, SEXP state) {
  SEXP dstatedt = PROTECT(allocVector(REALSXP, LENGTH(state)));
  odin_model_IVM_SMChet_internal *internal = odin_model_IVM_SMChet_get_internal(internal_p, 1);
  SEXP output_ptr = PROTECT(allocVector(REALSXP, 44));
  setAttrib(dstatedt, install("output"), output_ptr);
  UNPROTECT(1);
  double *output = REAL(output_ptr);
  const double initial_t = internal->initial_t;
  if (ISNA(initial_t)) {
    internal->initial_t = scalar_real(t, "t");
  }
  odin_model_IVM_SMChet_rhs(internal, scalar_real(t, "t"), REAL(state), REAL(dstatedt), output);
  if (ISNA(initial_t)) {
    internal->initial_t = initial_t;
  }
  UNPROTECT(1);
  return dstatedt;
}
odin_model_metapop_internal* odin_model_metapop_get_internal(SEXP internal_p, int closed_error) {
  odin_model_metapop_internal *internal = NULL;
  if (TYPEOF(internal_p) != EXTPTRSXP) {
    Rf_error("Expected an external pointer");
  }
  internal = (odin_model_metapop_internal*) R_ExternalPtrAddr(internal_p);
  if (!internal && closed_error) {
    Rf_error("Pointer has been invalidated");
  }
  return internal;
}
void odin_model_metapop_finalise(SEXP internal_p) {
  odin_model_metapop_internal *internal = odin_model_metapop_get_internal(internal_p, 0);
  if (internal_p) {
    Free(internal->age);
    Free(internal->age_rate);
    Free(internal->Ah);
    Free(internal->av);
    Free(internal->av_human);
    Free(internal->av_mosq);
    Free(internal->b);
    Free(internal->beta_larval);
    Free(internal->betaa);
    Free(internal->cA);
    Free(internal->clin_inc);
    Free(internal->clin_inc0to5);
    Free(internal->cov);
    Free(internal->cov_);
    Free(internal->delay_array_av);
    Free(internal->delay_array_av_human);
    Free(internal->delay_array_av_mosq);
    Free(internal->delay_array_b);
    Free(internal->delay_array_cA);
    Free(internal->delay_array_EIR);
    Free(internal->delay_array_FOI_lag);
    Free(internal->delay_array_FOIvijk);
    Free(internal->delay_array_fv);
    Free(internal->delay_array_ince);
    Free(internal->delay_array_lag_FOIv);
    Free(internal->delay_array_lag_incv);
    Free(internal->delay_array_lag_mix_FOIv);
    Free(internal->delay_array_mu);
    Free(internal->delay_array_p_det);
    Free(internal->delay_array_p1);
    Free(internal->delay_array_Q);
    Free(internal->delay_array_rows);
    Free(internal->delay_array_rows_v);
    Free(internal->delay_array_surv);
    Free(internal->delay_array_w);
    Free(internal->delay_array_w_);
    Free(internal->delay_array_wbar);
    Free(internal->delay_array_wh);
    Free(internal->delay_array_whi);
    Free(internal->delay_array_yy);
    Free(internal->delay_array_yy_);
    Free(internal->delay_array_z);
    Free(internal->delay_array_z_);
    Free(internal->delay_array_zbar);
    Free(internal->delay_array_zh);
    Free(internal->delay_array_zhi);
    Free(internal->delay_index_FOI);
    Free(internal->delay_index_FOIv);
    Free(internal->delay_index_incv);
    Free(internal->delay_state_FOI);
    Free(internal->delay_state_FOIv);
    Free(internal->delay_state_incv);
    Free(internal->den);
    Free(internal->Dh);
    Free(internal->EIR);
    Free(internal->eov);
    Free(internal->fd);
    Free(internal->FOI);
    Free(internal->foi_age);
    Free(internal->FOI_lag);
    Free(internal->FOIv);
    Free(internal->FOIvijk);
    Free(internal->fv);
    Free(internal->H);
    Free(internal->het_wt);
    Free(internal->IC);
    Free(internal->ince);
    Free(internal->incv);
    Free(internal->init_A);
    Free(internal->init_D);
    Free(internal->init_EL);
    Free(internal->init_Ev);
    Free(internal->init_IB);
    Free(internal->init_ICA);
    Free(internal->init_ICM);
    Free(internal->init_ICM_pre);
    Free(internal->init_ID);
    Free(internal->init_Iv);
    Free(internal->init_LL);
    Free(internal->init_P);
    Free(internal->init_PL);
    Free(internal->init_S);
    Free(internal->init_Sv);
    Free(internal->init_T);
    Free(internal->init_U);
    Free(internal->initial_A);
    Free(internal->initial_D);
    Free(internal->initial_EL);
    Free(internal->initial_Ev);
    Free(internal->initial_IB);
    Free(internal->initial_ICA);
    Free(internal->initial_ICM);
    Free(internal->initial_ID);
    Free(internal->initial_Iv);
    Free(internal->initial_LL);
    Free(internal->initial_P);
    Free(internal->initial_PL);
    Free(internal->initial_S);
    Free(internal->initial_Sv);
    Free(internal->initial_T);
    Free(internal->initial_U);
    Free(internal->irs_cov);
    Free(internal->itn_cov);
    Free(internal->K0);
    Free(internal->KL);
    Free(internal->lag_FOIv);
    Free(internal->lag_incv);
    Free(internal->lag_mix_FOIv);
    Free(internal->lambda);
    Free(internal->mix);
    Free(internal->mu);
    Free(internal->mv);
    Free(internal->mv0);
    Free(internal->p_det);
    Free(internal->p1);
    Free(internal->Ph);
    Free(internal->phi);
    Free(internal->prev0to59);
    Free(internal->Q);
    Free(internal->rel_foi);
    Free(internal->rows);
    Free(internal->rows_v);
    Free(internal->Sh);
    Free(internal->surv);
    Free(internal->Th);
    Free(internal->Uh);
    Free(internal->w);
    Free(internal->w_);
    Free(internal->wbar);
    Free(internal->wh);
    Free(internal->whi);
    Free(internal->x_I);
    Free(internal->Y);
    Free(internal->yy);
    Free(internal->yy_);
    Free(internal->z);
    Free(internal->z_);
    Free(internal->zbar);
    Free(internal->zh);
    Free(internal->zhi);
    Free(internal);
    R_ClearExternalPtr(internal_p);
  }
}
SEXP odin_model_metapop_create(SEXP user) {
  odin_model_metapop_internal *internal = (odin_model_metapop_internal*) Calloc(1, odin_model_metapop_internal);
  internal->age = NULL;
  internal->age_rate = NULL;
  internal->Ah = NULL;
  internal->av = NULL;
  internal->av_human = NULL;
  internal->av_mosq = NULL;
  internal->b = NULL;
  internal->beta_larval = NULL;
  internal->betaa = NULL;
  internal->cA = NULL;
  internal->clin_inc = NULL;
  internal->clin_inc0to5 = NULL;
  internal->cov = NULL;
  internal->cov_ = NULL;
  internal->delay_array_av = NULL;
  internal->delay_array_av_human = NULL;
  internal->delay_array_av_mosq = NULL;
  internal->delay_array_b = NULL;
  internal->delay_array_cA = NULL;
  internal->delay_array_EIR = NULL;
  internal->delay_array_FOI_lag = NULL;
  internal->delay_array_FOIvijk = NULL;
  internal->delay_array_fv = NULL;
  internal->delay_array_ince = NULL;
  internal->delay_array_lag_FOIv = NULL;
  internal->delay_array_lag_incv = NULL;
  internal->delay_array_lag_mix_FOIv = NULL;
  internal->delay_array_mu = NULL;
  internal->delay_array_p_det = NULL;
  internal->delay_array_p1 = NULL;
  internal->delay_array_Q = NULL;
  internal->delay_array_rows = NULL;
  internal->delay_array_rows_v = NULL;
  internal->delay_array_surv = NULL;
  internal->delay_array_w = NULL;
  internal->delay_array_w_ = NULL;
  internal->delay_array_wbar = NULL;
  internal->delay_array_wh = NULL;
  internal->delay_array_whi = NULL;
  internal->delay_array_yy = NULL;
  internal->delay_array_yy_ = NULL;
  internal->delay_array_z = NULL;
  internal->delay_array_z_ = NULL;
  internal->delay_array_zbar = NULL;
  internal->delay_array_zh = NULL;
  internal->delay_array_zhi = NULL;
  internal->delay_index_FOI = NULL;
  internal->delay_index_FOIv = NULL;
  internal->delay_index_incv = NULL;
  internal->delay_state_FOI = NULL;
  internal->delay_state_FOIv = NULL;
  internal->delay_state_incv = NULL;
  internal->den = NULL;
  internal->Dh = NULL;
  internal->EIR = NULL;
  internal->eov = NULL;
  internal->fd = NULL;
  internal->FOI = NULL;
  internal->foi_age = NULL;
  internal->FOI_lag = NULL;
  internal->FOIv = NULL;
  internal->FOIvijk = NULL;
  internal->fv = NULL;
  internal->H = NULL;
  internal->het_wt = NULL;
  internal->IC = NULL;
  internal->ince = NULL;
  internal->incv = NULL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_EL = NULL;
  internal->init_Ev = NULL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ICM_pre = NULL;
  internal->init_ID = NULL;
  internal->init_Iv = NULL;
  internal->init_LL = NULL;
  internal->init_P = NULL;
  internal->init_PL = NULL;
  internal->init_S = NULL;
  internal->init_Sv = NULL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->initial_A = NULL;
  internal->initial_D = NULL;
  internal->initial_EL = NULL;
  internal->initial_Ev = NULL;
  internal->initial_IB = NULL;
  internal->initial_ICA = NULL;
  internal->initial_ICM = NULL;
  internal->initial_ID = NULL;
  internal->initial_Iv = NULL;
  internal->initial_LL = NULL;
  internal->initial_P = NULL;
  internal->initial_PL = NULL;
  internal->initial_S = NULL;
  internal->initial_Sv = NULL;
  internal->initial_T = NULL;
  internal->initial_U = NULL;
  internal->irs_cov = NULL;
  internal->itn_cov = NULL;
  internal->K0 = NULL;
  internal->KL = NULL;
  internal->lag_FOIv = NULL;
  internal->lag_incv = NULL;
  internal->lag_mix_FOIv = NULL;
  internal->lambda = NULL;
  internal->mix = NULL;
  internal->mu = NULL;
  internal->mv = NULL;
  internal->mv0 = NULL;
  internal->p_det = NULL;
  internal->p1 = NULL;
  internal->Ph = NULL;
  internal->phi = NULL;
  internal->prev0to59 = NULL;
  internal->Q = NULL;
  internal->rel_foi = NULL;
  internal->rows = NULL;
  internal->rows_v = NULL;
  internal->Sh = NULL;
  internal->surv = NULL;
  internal->Th = NULL;
  internal->Uh = NULL;
  internal->w = NULL;
  internal->w_ = NULL;
  internal->wbar = NULL;
  internal->wh = NULL;
  internal->whi = NULL;
  internal->x_I = NULL;
  internal->Y = NULL;
  internal->yy = NULL;
  internal->yy_ = NULL;
  internal->z = NULL;
  internal->z_ = NULL;
  internal->zbar = NULL;
  internal->zh = NULL;
  internal->zhi = NULL;
  internal->dim_w_ = 4;
  internal->dim_yy_ = 4;
  internal->dim_z_ = 4;
  Free(internal->w_);
  internal->w_ = (double*) Calloc(internal->dim_w_, double);
  Free(internal->yy_);
  internal->yy_ = (double*) Calloc(internal->dim_yy_, double);
  Free(internal->z_);
  internal->z_ = (double*) Calloc(internal->dim_z_, double);
  Free(internal->delay_array_w_);
  internal->delay_array_w_ = (double*) Calloc(internal->dim_w_, double);
  Free(internal->delay_array_yy_);
  internal->delay_array_yy_ = (double*) Calloc(internal->dim_yy_, double);
  Free(internal->delay_array_z_);
  internal->delay_array_z_ = (double*) Calloc(internal->dim_z_, double);
  internal->aD = NA_REAL;
  internal->age = NULL;
  internal->age_20_factor = NA_REAL;
  internal->age_rate = NULL;
  internal->age05 = NA_INTEGER;
  internal->age20l = NA_INTEGER;
  internal->age20u = NA_INTEGER;
  internal->age59 = NA_INTEGER;
  internal->b0 = NA_REAL;
  internal->b1 = NA_REAL;
  internal->betaL = NA_REAL;
  internal->bites_Bed = NA_REAL;
  internal->bites_Indoors = NA_REAL;
  internal->cD = NA_REAL;
  internal->chi = NA_REAL;
  internal->cT = NA_REAL;
  internal->cU = NA_REAL;
  internal->d_IRS0 = NA_REAL;
  internal->d_ITN0 = NA_REAL;
  internal->d1 = NA_REAL;
  internal->dB = NA_REAL;
  internal->dCA = NA_REAL;
  internal->dCM = NA_REAL;
  internal->dE = NA_REAL;
  internal->dEL = NA_REAL;
  internal->delayGam = NA_REAL;
  internal->delayMos = NA_REAL;
  internal->den = NULL;
  internal->dID = NA_REAL;
  internal->dLL = NA_REAL;
  internal->dPL = NA_REAL;
  internal->eta = NA_REAL;
  internal->fD0 = NA_REAL;
  internal->foi_age = NULL;
  internal->ft = NA_REAL;
  internal->gamma1 = NA_REAL;
  internal->gammaD = NA_REAL;
  internal->gammaL = NA_REAL;
  internal->het_wt = NULL;
  internal->IB0 = NA_REAL;
  internal->IC0 = NA_REAL;
  internal->ID0 = NA_REAL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_EL = NULL;
  internal->init_Ev = NULL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ID = NULL;
  internal->init_Iv = NULL;
  internal->init_LL = NULL;
  internal->init_P = NULL;
  internal->init_PL = NULL;
  internal->init_S = NULL;
  internal->init_Sv = NULL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->irs_cov = NULL;
  internal->IRS_interval = NA_REAL;
  internal->irs_loss = NA_REAL;
  internal->itn_cov = NULL;
  internal->ITN_interval = NA_REAL;
  internal->ITN_IRS_on = NA_REAL;
  internal->itn_loss = NA_REAL;
  internal->kB = NA_REAL;
  internal->kC = NA_REAL;
  internal->kD = NA_REAL;
  internal->mix = NULL;
  internal->mu0 = NA_REAL;
  internal->muEL = NA_REAL;
  internal->muLL = NA_REAL;
  internal->muPL = NA_REAL;
  internal->mv0 = NULL;
  internal->na = NA_INTEGER;
  internal->nh = NA_INTEGER;
  internal->np = NA_INTEGER;
  internal->num_int = NA_INTEGER;
  internal->omega = NA_REAL;
  internal->p10 = NA_REAL;
  internal->p2 = NA_REAL;
  internal->phi0 = NA_REAL;
  internal->phi1 = NA_REAL;
  internal->pi = NA_REAL;
  internal->PM = NA_REAL;
  internal->Q0 = NA_REAL;
  internal->r_IRS0 = NA_REAL;
  internal->r_ITN0 = NA_REAL;
  internal->r_ITN1 = NA_REAL;
  internal->rA = NA_REAL;
  internal->rD = NA_REAL;
  internal->rel_foi = NULL;
  internal->rP = NA_REAL;
  internal->rT = NA_REAL;
  internal->rU = NA_REAL;
  internal->ssa0 = NA_REAL;
  internal->ssa1 = NA_REAL;
  internal->ssa2 = NA_REAL;
  internal->ssa3 = NA_REAL;
  internal->ssb1 = NA_REAL;
  internal->ssb2 = NA_REAL;
  internal->ssb3 = NA_REAL;
  internal->tau1 = NA_REAL;
  internal->tau2 = NA_REAL;
  internal->theta_c = NA_REAL;
  internal->uB = NA_REAL;
  internal->uCA = NA_REAL;
  internal->uD = NA_REAL;
  internal->x_I = NULL;
  internal->initial_t = NA_REAL;
  SEXP ptr = PROTECT(R_MakeExternalPtr(internal, R_NilValue, R_NilValue));
  R_RegisterCFinalizer(ptr, odin_model_metapop_finalise);
  UNPROTECT(1);
  return ptr;
}
static odin_model_metapop_internal *odin_model_metapop_internal_ds;
void odin_model_metapop_initmod_desolve(void(* odeparms) (int *, double *)) {
  static DL_FUNC get_desolve_gparms = NULL;
  if (get_desolve_gparms == NULL) {
    get_desolve_gparms =
      R_GetCCallable("deSolve", "get_deSolve_gparms");
  }
  odin_model_metapop_internal_ds = odin_model_metapop_get_internal(get_desolve_gparms(), 1);
}
SEXP odin_model_metapop_contents(SEXP internal_p) {
  odin_model_metapop_internal *internal = odin_model_metapop_get_internal(internal_p, 1);
  SEXP contents = PROTECT(allocVector(VECSXP, 592));
  SET_VECTOR_ELT(contents, 0, ScalarReal(internal->aD));
  SEXP age = PROTECT(allocVector(REALSXP, internal->dim_age));
  memcpy(REAL(age), internal->age, internal->dim_age * sizeof(double));
  SET_VECTOR_ELT(contents, 1, age);
  SET_VECTOR_ELT(contents, 2, ScalarReal(internal->age_20_factor));
  SEXP age_rate = PROTECT(allocVector(REALSXP, internal->dim_age_rate));
  memcpy(REAL(age_rate), internal->age_rate, internal->dim_age_rate * sizeof(double));
  SET_VECTOR_ELT(contents, 3, age_rate);
  SET_VECTOR_ELT(contents, 4, ScalarInteger(internal->age05));
  SET_VECTOR_ELT(contents, 5, ScalarInteger(internal->age20l));
  SET_VECTOR_ELT(contents, 6, ScalarInteger(internal->age20u));
  SET_VECTOR_ELT(contents, 7, ScalarInteger(internal->age59));
  SEXP Ah = PROTECT(allocVector(REALSXP, internal->dim_Ah));
  memcpy(REAL(Ah), internal->Ah, internal->dim_Ah * sizeof(double));
  SET_VECTOR_ELT(contents, 8, Ah);
  SEXP av = PROTECT(allocVector(REALSXP, internal->dim_av));
  memcpy(REAL(av), internal->av, internal->dim_av * sizeof(double));
  SET_VECTOR_ELT(contents, 9, av);
  SEXP av_human = PROTECT(allocVector(REALSXP, internal->dim_av_human));
  memcpy(REAL(av_human), internal->av_human, internal->dim_av_human * sizeof(double));
  odin_set_dim(av_human, 2, internal->dim_av_human_1, internal->dim_av_human_2);
  SET_VECTOR_ELT(contents, 10, av_human);
  SEXP av_mosq = PROTECT(allocVector(REALSXP, internal->dim_av_mosq));
  memcpy(REAL(av_mosq), internal->av_mosq, internal->dim_av_mosq * sizeof(double));
  odin_set_dim(av_mosq, 2, internal->dim_av_mosq_1, internal->dim_av_mosq_2);
  SET_VECTOR_ELT(contents, 11, av_mosq);
  SEXP b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(b), internal->b, internal->dim_b * sizeof(double));
  odin_set_dim(b, 4, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3, internal->dim_b_4);
  SET_VECTOR_ELT(contents, 12, b);
  SET_VECTOR_ELT(contents, 13, ScalarReal(internal->b_lambda));
  SET_VECTOR_ELT(contents, 14, ScalarReal(internal->b0));
  SET_VECTOR_ELT(contents, 15, ScalarReal(internal->b1));
  SEXP beta_larval = PROTECT(allocVector(REALSXP, internal->dim_beta_larval));
  memcpy(REAL(beta_larval), internal->beta_larval, internal->dim_beta_larval * sizeof(double));
  SET_VECTOR_ELT(contents, 16, beta_larval);
  SEXP betaa = PROTECT(allocVector(REALSXP, internal->dim_betaa));
  memcpy(REAL(betaa), internal->betaa, internal->dim_betaa * sizeof(double));
  SET_VECTOR_ELT(contents, 17, betaa);
  SET_VECTOR_ELT(contents, 18, ScalarReal(internal->betaL));
  SET_VECTOR_ELT(contents, 19, ScalarReal(internal->bites_Bed));
  SET_VECTOR_ELT(contents, 20, ScalarReal(internal->bites_Indoors));
  SEXP cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(cA), internal->cA, internal->dim_cA * sizeof(double));
  odin_set_dim(cA, 4, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3, internal->dim_cA_4);
  SET_VECTOR_ELT(contents, 21, cA);
  SET_VECTOR_ELT(contents, 22, ScalarReal(internal->cD));
  SET_VECTOR_ELT(contents, 23, ScalarReal(internal->chi));
  SEXP clin_inc = PROTECT(allocVector(REALSXP, internal->dim_clin_inc));
  memcpy(REAL(clin_inc), internal->clin_inc, internal->dim_clin_inc * sizeof(double));
  odin_set_dim(clin_inc, 4, internal->dim_clin_inc_1, internal->dim_clin_inc_2, internal->dim_clin_inc_3, internal->dim_clin_inc_4);
  SET_VECTOR_ELT(contents, 24, clin_inc);
  SEXP clin_inc0to5 = PROTECT(allocVector(REALSXP, internal->dim_clin_inc0to5));
  memcpy(REAL(clin_inc0to5), internal->clin_inc0to5, internal->dim_clin_inc0to5 * sizeof(double));
  odin_set_dim(clin_inc0to5, 4, internal->dim_clin_inc0to5_1, internal->dim_clin_inc0to5_2, internal->dim_clin_inc0to5_3, internal->dim_clin_inc0to5_4);
  SET_VECTOR_ELT(contents, 25, clin_inc0to5);
  SEXP cov = PROTECT(allocVector(REALSXP, internal->dim_cov));
  memcpy(REAL(cov), internal->cov, internal->dim_cov * sizeof(double));
  odin_set_dim(cov, 2, internal->dim_cov_1, internal->dim_cov_2);
  SET_VECTOR_ELT(contents, 26, cov);
  SEXP cov_ = PROTECT(allocVector(REALSXP, internal->dim_cov_));
  memcpy(REAL(cov_), internal->cov_, internal->dim_cov_ * sizeof(double));
  odin_set_dim(cov_, 2, internal->dim_cov__1, internal->dim_cov__2);
  SET_VECTOR_ELT(contents, 27, cov_);
  SET_VECTOR_ELT(contents, 28, ScalarReal(internal->cT));
  SET_VECTOR_ELT(contents, 29, ScalarReal(internal->cU));
  SET_VECTOR_ELT(contents, 30, ScalarReal(internal->d_IRS0));
  SET_VECTOR_ELT(contents, 31, ScalarReal(internal->d_ITN0));
  SET_VECTOR_ELT(contents, 32, ScalarReal(internal->d1));
  SET_VECTOR_ELT(contents, 33, ScalarReal(internal->dB));
  SET_VECTOR_ELT(contents, 34, ScalarReal(internal->dCA));
  SET_VECTOR_ELT(contents, 35, ScalarReal(internal->dCM));
  SET_VECTOR_ELT(contents, 36, ScalarReal(internal->dE));
  SET_VECTOR_ELT(contents, 37, ScalarReal(internal->dEL));
  SEXP delay_array_av = PROTECT(allocVector(REALSXP, internal->dim_av));
  memcpy(REAL(delay_array_av), internal->delay_array_av, internal->dim_av * sizeof(double));
  SET_VECTOR_ELT(contents, 38, delay_array_av);
  SEXP delay_array_av_human = PROTECT(allocVector(REALSXP, internal->dim_av_human));
  memcpy(REAL(delay_array_av_human), internal->delay_array_av_human, internal->dim_av_human * sizeof(double));
  odin_set_dim(delay_array_av_human, 2, internal->dim_av_human_1, internal->dim_av_human_2);
  SET_VECTOR_ELT(contents, 39, delay_array_av_human);
  SEXP delay_array_av_mosq = PROTECT(allocVector(REALSXP, internal->dim_av_mosq));
  memcpy(REAL(delay_array_av_mosq), internal->delay_array_av_mosq, internal->dim_av_mosq * sizeof(double));
  odin_set_dim(delay_array_av_mosq, 2, internal->dim_av_mosq_1, internal->dim_av_mosq_2);
  SET_VECTOR_ELT(contents, 40, delay_array_av_mosq);
  SEXP delay_array_b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(delay_array_b), internal->delay_array_b, internal->dim_b * sizeof(double));
  odin_set_dim(delay_array_b, 4, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3, internal->dim_b_4);
  SET_VECTOR_ELT(contents, 41, delay_array_b);
  SEXP delay_array_cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(delay_array_cA), internal->delay_array_cA, internal->dim_cA * sizeof(double));
  odin_set_dim(delay_array_cA, 4, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3, internal->dim_cA_4);
  SET_VECTOR_ELT(contents, 42, delay_array_cA);
  SEXP delay_array_EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(delay_array_EIR), internal->delay_array_EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(delay_array_EIR, 4, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3, internal->dim_EIR_4);
  SET_VECTOR_ELT(contents, 43, delay_array_EIR);
  SEXP delay_array_FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(delay_array_FOI_lag), internal->delay_array_FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(delay_array_FOI_lag, 4, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3, internal->dim_FOI_lag_4);
  SET_VECTOR_ELT(contents, 44, delay_array_FOI_lag);
  SEXP delay_array_FOIvijk = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk));
  memcpy(REAL(delay_array_FOIvijk), internal->delay_array_FOIvijk, internal->dim_FOIvijk * sizeof(double));
  odin_set_dim(delay_array_FOIvijk, 4, internal->dim_FOIvijk_1, internal->dim_FOIvijk_2, internal->dim_FOIvijk_3, internal->dim_FOIvijk_4);
  SET_VECTOR_ELT(contents, 45, delay_array_FOIvijk);
  SEXP delay_array_fv = PROTECT(allocVector(REALSXP, internal->dim_fv));
  memcpy(REAL(delay_array_fv), internal->delay_array_fv, internal->dim_fv * sizeof(double));
  SET_VECTOR_ELT(contents, 46, delay_array_fv);
  SEXP delay_array_ince = PROTECT(allocVector(REALSXP, internal->dim_ince));
  memcpy(REAL(delay_array_ince), internal->delay_array_ince, internal->dim_ince * sizeof(double));
  SET_VECTOR_ELT(contents, 47, delay_array_ince);
  SEXP delay_array_lag_FOIv = PROTECT(allocVector(REALSXP, internal->dim_lag_FOIv));
  memcpy(REAL(delay_array_lag_FOIv), internal->delay_array_lag_FOIv, internal->dim_lag_FOIv * sizeof(double));
  SET_VECTOR_ELT(contents, 48, delay_array_lag_FOIv);
  SEXP delay_array_lag_incv = PROTECT(allocVector(REALSXP, internal->dim_lag_incv));
  memcpy(REAL(delay_array_lag_incv), internal->delay_array_lag_incv, internal->dim_lag_incv * sizeof(double));
  SET_VECTOR_ELT(contents, 49, delay_array_lag_incv);
  SEXP delay_array_lag_mix_FOIv = PROTECT(allocVector(REALSXP, internal->dim_lag_mix_FOIv));
  memcpy(REAL(delay_array_lag_mix_FOIv), internal->delay_array_lag_mix_FOIv, internal->dim_lag_mix_FOIv * sizeof(double));
  SET_VECTOR_ELT(contents, 50, delay_array_lag_mix_FOIv);
  SEXP delay_array_mu = PROTECT(allocVector(REALSXP, internal->dim_mu));
  memcpy(REAL(delay_array_mu), internal->delay_array_mu, internal->dim_mu * sizeof(double));
  SET_VECTOR_ELT(contents, 51, delay_array_mu);
  SEXP delay_array_p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(delay_array_p_det), internal->delay_array_p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(delay_array_p_det, 4, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3, internal->dim_p_det_4);
  SET_VECTOR_ELT(contents, 52, delay_array_p_det);
  SEXP delay_array_p1 = PROTECT(allocVector(REALSXP, internal->dim_p1));
  memcpy(REAL(delay_array_p1), internal->delay_array_p1, internal->dim_p1 * sizeof(double));
  SET_VECTOR_ELT(contents, 53, delay_array_p1);
  SEXP delay_array_Q = PROTECT(allocVector(REALSXP, internal->dim_Q));
  memcpy(REAL(delay_array_Q), internal->delay_array_Q, internal->dim_Q * sizeof(double));
  SET_VECTOR_ELT(contents, 54, delay_array_Q);
  SEXP delay_array_rows = PROTECT(allocVector(REALSXP, internal->dim_rows));
  memcpy(REAL(delay_array_rows), internal->delay_array_rows, internal->dim_rows * sizeof(double));
  odin_set_dim(delay_array_rows, 2, internal->dim_rows_1, internal->dim_rows_2);
  SET_VECTOR_ELT(contents, 55, delay_array_rows);
  SEXP delay_array_rows_v = PROTECT(allocVector(REALSXP, internal->dim_rows_v));
  memcpy(REAL(delay_array_rows_v), internal->delay_array_rows_v, internal->dim_rows_v * sizeof(double));
  odin_set_dim(delay_array_rows_v, 2, internal->dim_rows_v_1, internal->dim_rows_v_2);
  SET_VECTOR_ELT(contents, 56, delay_array_rows_v);
  SEXP delay_array_surv = PROTECT(allocVector(REALSXP, internal->dim_surv));
  memcpy(REAL(delay_array_surv), internal->delay_array_surv, internal->dim_surv * sizeof(double));
  SET_VECTOR_ELT(contents, 57, delay_array_surv);
  SEXP delay_array_w = PROTECT(allocVector(REALSXP, internal->dim_w));
  memcpy(REAL(delay_array_w), internal->delay_array_w, internal->dim_w * sizeof(double));
  SET_VECTOR_ELT(contents, 58, delay_array_w);
  SEXP delay_array_w_ = PROTECT(allocVector(REALSXP, internal->dim_w_));
  memcpy(REAL(delay_array_w_), internal->delay_array_w_, internal->dim_w_ * sizeof(double));
  SET_VECTOR_ELT(contents, 59, delay_array_w_);
  SEXP delay_array_wbar = PROTECT(allocVector(REALSXP, internal->dim_wbar));
  memcpy(REAL(delay_array_wbar), internal->delay_array_wbar, internal->dim_wbar * sizeof(double));
  SET_VECTOR_ELT(contents, 60, delay_array_wbar);
  SEXP delay_array_wh = PROTECT(allocVector(REALSXP, internal->dim_wh));
  memcpy(REAL(delay_array_wh), internal->delay_array_wh, internal->dim_wh * sizeof(double));
  SET_VECTOR_ELT(contents, 61, delay_array_wh);
  SEXP delay_array_whi = PROTECT(allocVector(REALSXP, internal->dim_whi));
  memcpy(REAL(delay_array_whi), internal->delay_array_whi, internal->dim_whi * sizeof(double));
  odin_set_dim(delay_array_whi, 2, internal->dim_whi_1, internal->dim_whi_2);
  SET_VECTOR_ELT(contents, 62, delay_array_whi);
  SEXP delay_array_yy = PROTECT(allocVector(REALSXP, internal->dim_yy));
  memcpy(REAL(delay_array_yy), internal->delay_array_yy, internal->dim_yy * sizeof(double));
  SET_VECTOR_ELT(contents, 63, delay_array_yy);
  SEXP delay_array_yy_ = PROTECT(allocVector(REALSXP, internal->dim_yy_));
  memcpy(REAL(delay_array_yy_), internal->delay_array_yy_, internal->dim_yy_ * sizeof(double));
  SET_VECTOR_ELT(contents, 64, delay_array_yy_);
  SEXP delay_array_z = PROTECT(allocVector(REALSXP, internal->dim_z));
  memcpy(REAL(delay_array_z), internal->delay_array_z, internal->dim_z * sizeof(double));
  SET_VECTOR_ELT(contents, 65, delay_array_z);
  SEXP delay_array_z_ = PROTECT(allocVector(REALSXP, internal->dim_z_));
  memcpy(REAL(delay_array_z_), internal->delay_array_z_, internal->dim_z_ * sizeof(double));
  SET_VECTOR_ELT(contents, 66, delay_array_z_);
  SEXP delay_array_zbar = PROTECT(allocVector(REALSXP, internal->dim_zbar));
  memcpy(REAL(delay_array_zbar), internal->delay_array_zbar, internal->dim_zbar * sizeof(double));
  SET_VECTOR_ELT(contents, 67, delay_array_zbar);
  SEXP delay_array_zh = PROTECT(allocVector(REALSXP, internal->dim_zh));
  memcpy(REAL(delay_array_zh), internal->delay_array_zh, internal->dim_zh * sizeof(double));
  SET_VECTOR_ELT(contents, 68, delay_array_zh);
  SEXP delay_array_zhi = PROTECT(allocVector(REALSXP, internal->dim_zhi));
  memcpy(REAL(delay_array_zhi), internal->delay_array_zhi, internal->dim_zhi * sizeof(double));
  odin_set_dim(delay_array_zhi, 2, internal->dim_zhi_1, internal->dim_zhi_2);
  SET_VECTOR_ELT(contents, 69, delay_array_zhi);
  SEXP delay_index_FOI = PROTECT(allocVector(INTSXP, internal->dim_delay_FOI));
  memcpy(INTEGER(delay_index_FOI), internal->delay_index_FOI, internal->dim_delay_FOI * sizeof(int));
  SET_VECTOR_ELT(contents, 70, delay_index_FOI);
  SEXP delay_index_FOIv = PROTECT(allocVector(INTSXP, internal->dim_delay_FOIv));
  memcpy(INTEGER(delay_index_FOIv), internal->delay_index_FOIv, internal->dim_delay_FOIv * sizeof(int));
  SET_VECTOR_ELT(contents, 71, delay_index_FOIv);
  SEXP delay_index_incv = PROTECT(allocVector(INTSXP, internal->dim_delay_incv));
  memcpy(INTEGER(delay_index_incv), internal->delay_index_incv, internal->dim_delay_incv * sizeof(int));
  SET_VECTOR_ELT(contents, 72, delay_index_incv);
  SEXP delay_state_FOI = PROTECT(allocVector(REALSXP, internal->dim_delay_FOI));
  memcpy(REAL(delay_state_FOI), internal->delay_state_FOI, internal->dim_delay_FOI * sizeof(double));
  SET_VECTOR_ELT(contents, 73, delay_state_FOI);
  SEXP delay_state_FOIv = PROTECT(allocVector(REALSXP, internal->dim_delay_FOIv));
  memcpy(REAL(delay_state_FOIv), internal->delay_state_FOIv, internal->dim_delay_FOIv * sizeof(double));
  SET_VECTOR_ELT(contents, 74, delay_state_FOIv);
  SEXP delay_state_incv = PROTECT(allocVector(REALSXP, internal->dim_delay_incv));
  memcpy(REAL(delay_state_incv), internal->delay_state_incv, internal->dim_delay_incv * sizeof(double));
  SET_VECTOR_ELT(contents, 75, delay_state_incv);
  SET_VECTOR_ELT(contents, 76, ScalarReal(internal->delayGam));
  SET_VECTOR_ELT(contents, 77, ScalarReal(internal->delayMos));
  SEXP den = PROTECT(allocVector(REALSXP, internal->dim_den));
  memcpy(REAL(den), internal->den, internal->dim_den * sizeof(double));
  SET_VECTOR_ELT(contents, 78, den);
  SEXP Dh = PROTECT(allocVector(REALSXP, internal->dim_Dh));
  memcpy(REAL(Dh), internal->Dh, internal->dim_Dh * sizeof(double));
  SET_VECTOR_ELT(contents, 79, Dh);
  SET_VECTOR_ELT(contents, 80, ScalarReal(internal->dID));
  SET_VECTOR_ELT(contents, 81, ScalarInteger(internal->dim_A));
  SET_VECTOR_ELT(contents, 82, ScalarInteger(internal->dim_A_1));
  SET_VECTOR_ELT(contents, 83, ScalarInteger(internal->dim_A_12));
  SET_VECTOR_ELT(contents, 84, ScalarInteger(internal->dim_A_123));
  SET_VECTOR_ELT(contents, 85, ScalarInteger(internal->dim_A_2));
  SET_VECTOR_ELT(contents, 86, ScalarInteger(internal->dim_A_3));
  SET_VECTOR_ELT(contents, 87, ScalarInteger(internal->dim_A_4));
  SET_VECTOR_ELT(contents, 88, ScalarInteger(internal->dim_age));
  SET_VECTOR_ELT(contents, 89, ScalarInteger(internal->dim_age_rate));
  SET_VECTOR_ELT(contents, 90, ScalarInteger(internal->dim_Ah));
  SET_VECTOR_ELT(contents, 91, ScalarInteger(internal->dim_Aout));
  SET_VECTOR_ELT(contents, 92, ScalarInteger(internal->dim_av));
  SET_VECTOR_ELT(contents, 93, ScalarInteger(internal->dim_av_human));
  SET_VECTOR_ELT(contents, 94, ScalarInteger(internal->dim_av_human_1));
  SET_VECTOR_ELT(contents, 95, ScalarInteger(internal->dim_av_human_2));
  SET_VECTOR_ELT(contents, 96, ScalarInteger(internal->dim_av_mosq));
  SET_VECTOR_ELT(contents, 97, ScalarInteger(internal->dim_av_mosq_1));
  SET_VECTOR_ELT(contents, 98, ScalarInteger(internal->dim_av_mosq_2));
  SET_VECTOR_ELT(contents, 99, ScalarInteger(internal->dim_b));
  SET_VECTOR_ELT(contents, 100, ScalarInteger(internal->dim_b_1));
  SET_VECTOR_ELT(contents, 101, ScalarInteger(internal->dim_b_12));
  SET_VECTOR_ELT(contents, 102, ScalarInteger(internal->dim_b_123));
  SET_VECTOR_ELT(contents, 103, ScalarInteger(internal->dim_b_2));
  SET_VECTOR_ELT(contents, 104, ScalarInteger(internal->dim_b_3));
  SET_VECTOR_ELT(contents, 105, ScalarInteger(internal->dim_b_4));
  SET_VECTOR_ELT(contents, 106, ScalarInteger(internal->dim_beta_larval));
  SET_VECTOR_ELT(contents, 107, ScalarInteger(internal->dim_betaa));
  SET_VECTOR_ELT(contents, 108, ScalarInteger(internal->dim_cA));
  SET_VECTOR_ELT(contents, 109, ScalarInteger(internal->dim_cA_1));
  SET_VECTOR_ELT(contents, 110, ScalarInteger(internal->dim_cA_12));
  SET_VECTOR_ELT(contents, 111, ScalarInteger(internal->dim_cA_123));
  SET_VECTOR_ELT(contents, 112, ScalarInteger(internal->dim_cA_2));
  SET_VECTOR_ELT(contents, 113, ScalarInteger(internal->dim_cA_3));
  SET_VECTOR_ELT(contents, 114, ScalarInteger(internal->dim_cA_4));
  SET_VECTOR_ELT(contents, 115, ScalarInteger(internal->dim_clin_inc));
  SET_VECTOR_ELT(contents, 116, ScalarInteger(internal->dim_clin_inc_1));
  SET_VECTOR_ELT(contents, 117, ScalarInteger(internal->dim_clin_inc_12));
  SET_VECTOR_ELT(contents, 118, ScalarInteger(internal->dim_clin_inc_123));
  SET_VECTOR_ELT(contents, 119, ScalarInteger(internal->dim_clin_inc_2));
  SET_VECTOR_ELT(contents, 120, ScalarInteger(internal->dim_clin_inc_3));
  SET_VECTOR_ELT(contents, 121, ScalarInteger(internal->dim_clin_inc_4));
  SET_VECTOR_ELT(contents, 122, ScalarInteger(internal->dim_clin_inc0to5));
  SET_VECTOR_ELT(contents, 123, ScalarInteger(internal->dim_clin_inc0to5_1));
  SET_VECTOR_ELT(contents, 124, ScalarInteger(internal->dim_clin_inc0to5_12));
  SET_VECTOR_ELT(contents, 125, ScalarInteger(internal->dim_clin_inc0to5_123));
  SET_VECTOR_ELT(contents, 126, ScalarInteger(internal->dim_clin_inc0to5_2));
  SET_VECTOR_ELT(contents, 127, ScalarInteger(internal->dim_clin_inc0to5_3));
  SET_VECTOR_ELT(contents, 128, ScalarInteger(internal->dim_clin_inc0to5_4));
  SET_VECTOR_ELT(contents, 129, ScalarInteger(internal->dim_cov));
  SET_VECTOR_ELT(contents, 130, ScalarInteger(internal->dim_cov_));
  SET_VECTOR_ELT(contents, 131, ScalarInteger(internal->dim_cov__1));
  SET_VECTOR_ELT(contents, 132, ScalarInteger(internal->dim_cov__2));
  SET_VECTOR_ELT(contents, 133, ScalarInteger(internal->dim_cov_1));
  SET_VECTOR_ELT(contents, 134, ScalarInteger(internal->dim_cov_2));
  SET_VECTOR_ELT(contents, 135, ScalarInteger(internal->dim_D));
  SET_VECTOR_ELT(contents, 136, ScalarInteger(internal->dim_D_1));
  SET_VECTOR_ELT(contents, 137, ScalarInteger(internal->dim_D_12));
  SET_VECTOR_ELT(contents, 138, ScalarInteger(internal->dim_D_123));
  SET_VECTOR_ELT(contents, 139, ScalarInteger(internal->dim_D_2));
  SET_VECTOR_ELT(contents, 140, ScalarInteger(internal->dim_D_3));
  SET_VECTOR_ELT(contents, 141, ScalarInteger(internal->dim_D_4));
  SET_VECTOR_ELT(contents, 142, ScalarInteger(internal->dim_delay_FOI));
  SET_VECTOR_ELT(contents, 143, ScalarInteger(internal->dim_delay_FOIv));
  SET_VECTOR_ELT(contents, 144, ScalarInteger(internal->dim_delay_incv));
  SET_VECTOR_ELT(contents, 145, ScalarInteger(internal->dim_den));
  SET_VECTOR_ELT(contents, 146, ScalarInteger(internal->dim_Dh));
  SET_VECTOR_ELT(contents, 147, ScalarInteger(internal->dim_Dout));
  SET_VECTOR_ELT(contents, 148, ScalarInteger(internal->dim_EIR));
  SET_VECTOR_ELT(contents, 149, ScalarInteger(internal->dim_EIR_1));
  SET_VECTOR_ELT(contents, 150, ScalarInteger(internal->dim_EIR_12));
  SET_VECTOR_ELT(contents, 151, ScalarInteger(internal->dim_EIR_123));
  SET_VECTOR_ELT(contents, 152, ScalarInteger(internal->dim_EIR_2));
  SET_VECTOR_ELT(contents, 153, ScalarInteger(internal->dim_EIR_3));
  SET_VECTOR_ELT(contents, 154, ScalarInteger(internal->dim_EIR_4));
  SET_VECTOR_ELT(contents, 155, ScalarInteger(internal->dim_EL));
  SET_VECTOR_ELT(contents, 156, ScalarInteger(internal->dim_eov));
  SET_VECTOR_ELT(contents, 157, ScalarInteger(internal->dim_Ev));
  SET_VECTOR_ELT(contents, 158, ScalarInteger(internal->dim_fd));
  SET_VECTOR_ELT(contents, 159, ScalarInteger(internal->dim_FOI));
  SET_VECTOR_ELT(contents, 160, ScalarInteger(internal->dim_FOI_1));
  SET_VECTOR_ELT(contents, 161, ScalarInteger(internal->dim_FOI_12));
  SET_VECTOR_ELT(contents, 162, ScalarInteger(internal->dim_FOI_123));
  SET_VECTOR_ELT(contents, 163, ScalarInteger(internal->dim_FOI_2));
  SET_VECTOR_ELT(contents, 164, ScalarInteger(internal->dim_FOI_3));
  SET_VECTOR_ELT(contents, 165, ScalarInteger(internal->dim_FOI_4));
  SET_VECTOR_ELT(contents, 166, ScalarInteger(internal->dim_foi_age));
  SET_VECTOR_ELT(contents, 167, ScalarInteger(internal->dim_FOI_lag));
  SET_VECTOR_ELT(contents, 168, ScalarInteger(internal->dim_FOI_lag_1));
  SET_VECTOR_ELT(contents, 169, ScalarInteger(internal->dim_FOI_lag_12));
  SET_VECTOR_ELT(contents, 170, ScalarInteger(internal->dim_FOI_lag_123));
  SET_VECTOR_ELT(contents, 171, ScalarInteger(internal->dim_FOI_lag_2));
  SET_VECTOR_ELT(contents, 172, ScalarInteger(internal->dim_FOI_lag_3));
  SET_VECTOR_ELT(contents, 173, ScalarInteger(internal->dim_FOI_lag_4));
  SET_VECTOR_ELT(contents, 174, ScalarInteger(internal->dim_FOIv));
  SET_VECTOR_ELT(contents, 175, ScalarInteger(internal->dim_FOIvijk));
  SET_VECTOR_ELT(contents, 176, ScalarInteger(internal->dim_FOIvijk_1));
  SET_VECTOR_ELT(contents, 177, ScalarInteger(internal->dim_FOIvijk_12));
  SET_VECTOR_ELT(contents, 178, ScalarInteger(internal->dim_FOIvijk_123));
  SET_VECTOR_ELT(contents, 179, ScalarInteger(internal->dim_FOIvijk_2));
  SET_VECTOR_ELT(contents, 180, ScalarInteger(internal->dim_FOIvijk_3));
  SET_VECTOR_ELT(contents, 181, ScalarInteger(internal->dim_FOIvijk_4));
  SET_VECTOR_ELT(contents, 182, ScalarInteger(internal->dim_fv));
  SET_VECTOR_ELT(contents, 183, ScalarInteger(internal->dim_H));
  SET_VECTOR_ELT(contents, 184, ScalarInteger(internal->dim_het_wt));
  SET_VECTOR_ELT(contents, 185, ScalarInteger(internal->dim_IB));
  SET_VECTOR_ELT(contents, 186, ScalarInteger(internal->dim_IB_1));
  SET_VECTOR_ELT(contents, 187, ScalarInteger(internal->dim_IB_12));
  SET_VECTOR_ELT(contents, 188, ScalarInteger(internal->dim_IB_123));
  SET_VECTOR_ELT(contents, 189, ScalarInteger(internal->dim_IB_2));
  SET_VECTOR_ELT(contents, 190, ScalarInteger(internal->dim_IB_3));
  SET_VECTOR_ELT(contents, 191, ScalarInteger(internal->dim_IB_4));
  SET_VECTOR_ELT(contents, 192, ScalarInteger(internal->dim_IC));
  SET_VECTOR_ELT(contents, 193, ScalarInteger(internal->dim_IC_1));
  SET_VECTOR_ELT(contents, 194, ScalarInteger(internal->dim_IC_12));
  SET_VECTOR_ELT(contents, 195, ScalarInteger(internal->dim_IC_123));
  SET_VECTOR_ELT(contents, 196, ScalarInteger(internal->dim_IC_2));
  SET_VECTOR_ELT(contents, 197, ScalarInteger(internal->dim_IC_3));
  SET_VECTOR_ELT(contents, 198, ScalarInteger(internal->dim_IC_4));
  SET_VECTOR_ELT(contents, 199, ScalarInteger(internal->dim_ICA));
  SET_VECTOR_ELT(contents, 200, ScalarInteger(internal->dim_ICA_1));
  SET_VECTOR_ELT(contents, 201, ScalarInteger(internal->dim_ICA_12));
  SET_VECTOR_ELT(contents, 202, ScalarInteger(internal->dim_ICA_123));
  SET_VECTOR_ELT(contents, 203, ScalarInteger(internal->dim_ICA_2));
  SET_VECTOR_ELT(contents, 204, ScalarInteger(internal->dim_ICA_3));
  SET_VECTOR_ELT(contents, 205, ScalarInteger(internal->dim_ICA_4));
  SET_VECTOR_ELT(contents, 206, ScalarInteger(internal->dim_ICM));
  SET_VECTOR_ELT(contents, 207, ScalarInteger(internal->dim_ICM_1));
  SET_VECTOR_ELT(contents, 208, ScalarInteger(internal->dim_ICM_12));
  SET_VECTOR_ELT(contents, 209, ScalarInteger(internal->dim_ICM_123));
  SET_VECTOR_ELT(contents, 210, ScalarInteger(internal->dim_ICM_2));
  SET_VECTOR_ELT(contents, 211, ScalarInteger(internal->dim_ICM_3));
  SET_VECTOR_ELT(contents, 212, ScalarInteger(internal->dim_ICM_4));
  SET_VECTOR_ELT(contents, 213, ScalarInteger(internal->dim_ID));
  SET_VECTOR_ELT(contents, 214, ScalarInteger(internal->dim_ID_1));
  SET_VECTOR_ELT(contents, 215, ScalarInteger(internal->dim_ID_12));
  SET_VECTOR_ELT(contents, 216, ScalarInteger(internal->dim_ID_123));
  SET_VECTOR_ELT(contents, 217, ScalarInteger(internal->dim_ID_2));
  SET_VECTOR_ELT(contents, 218, ScalarInteger(internal->dim_ID_3));
  SET_VECTOR_ELT(contents, 219, ScalarInteger(internal->dim_ID_4));
  SET_VECTOR_ELT(contents, 220, ScalarInteger(internal->dim_inc05));
  SET_VECTOR_ELT(contents, 221, ScalarInteger(internal->dim_ince));
  SET_VECTOR_ELT(contents, 222, ScalarInteger(internal->dim_incv));
  SET_VECTOR_ELT(contents, 223, ScalarInteger(internal->dim_init_A));
  SET_VECTOR_ELT(contents, 224, ScalarInteger(internal->dim_init_A_1));
  SET_VECTOR_ELT(contents, 225, ScalarInteger(internal->dim_init_A_12));
  SET_VECTOR_ELT(contents, 226, ScalarInteger(internal->dim_init_A_123));
  SET_VECTOR_ELT(contents, 227, ScalarInteger(internal->dim_init_A_2));
  SET_VECTOR_ELT(contents, 228, ScalarInteger(internal->dim_init_A_3));
  SET_VECTOR_ELT(contents, 229, ScalarInteger(internal->dim_init_A_4));
  SET_VECTOR_ELT(contents, 230, ScalarInteger(internal->dim_init_D));
  SET_VECTOR_ELT(contents, 231, ScalarInteger(internal->dim_init_D_1));
  SET_VECTOR_ELT(contents, 232, ScalarInteger(internal->dim_init_D_12));
  SET_VECTOR_ELT(contents, 233, ScalarInteger(internal->dim_init_D_123));
  SET_VECTOR_ELT(contents, 234, ScalarInteger(internal->dim_init_D_2));
  SET_VECTOR_ELT(contents, 235, ScalarInteger(internal->dim_init_D_3));
  SET_VECTOR_ELT(contents, 236, ScalarInteger(internal->dim_init_D_4));
  SET_VECTOR_ELT(contents, 237, ScalarInteger(internal->dim_init_EL));
  SET_VECTOR_ELT(contents, 238, ScalarInteger(internal->dim_init_Ev));
  SET_VECTOR_ELT(contents, 239, ScalarInteger(internal->dim_init_IB));
  SET_VECTOR_ELT(contents, 240, ScalarInteger(internal->dim_init_IB_1));
  SET_VECTOR_ELT(contents, 241, ScalarInteger(internal->dim_init_IB_12));
  SET_VECTOR_ELT(contents, 242, ScalarInteger(internal->dim_init_IB_123));
  SET_VECTOR_ELT(contents, 243, ScalarInteger(internal->dim_init_IB_2));
  SET_VECTOR_ELT(contents, 244, ScalarInteger(internal->dim_init_IB_3));
  SET_VECTOR_ELT(contents, 245, ScalarInteger(internal->dim_init_IB_4));
  SET_VECTOR_ELT(contents, 246, ScalarInteger(internal->dim_init_ICA));
  SET_VECTOR_ELT(contents, 247, ScalarInteger(internal->dim_init_ICA_1));
  SET_VECTOR_ELT(contents, 248, ScalarInteger(internal->dim_init_ICA_12));
  SET_VECTOR_ELT(contents, 249, ScalarInteger(internal->dim_init_ICA_123));
  SET_VECTOR_ELT(contents, 250, ScalarInteger(internal->dim_init_ICA_2));
  SET_VECTOR_ELT(contents, 251, ScalarInteger(internal->dim_init_ICA_3));
  SET_VECTOR_ELT(contents, 252, ScalarInteger(internal->dim_init_ICA_4));
  SET_VECTOR_ELT(contents, 253, ScalarInteger(internal->dim_init_ICM));
  SET_VECTOR_ELT(contents, 254, ScalarInteger(internal->dim_init_ICM_1));
  SET_VECTOR_ELT(contents, 255, ScalarInteger(internal->dim_init_ICM_12));
  SET_VECTOR_ELT(contents, 256, ScalarInteger(internal->dim_init_ICM_123));
  SET_VECTOR_ELT(contents, 257, ScalarInteger(internal->dim_init_ICM_2));
  SET_VECTOR_ELT(contents, 258, ScalarInteger(internal->dim_init_ICM_3));
  SET_VECTOR_ELT(contents, 259, ScalarInteger(internal->dim_init_ICM_4));
  SET_VECTOR_ELT(contents, 260, ScalarInteger(internal->dim_init_ICM_pre));
  SET_VECTOR_ELT(contents, 261, ScalarInteger(internal->dim_init_ICM_pre_1));
  SET_VECTOR_ELT(contents, 262, ScalarInteger(internal->dim_init_ICM_pre_12));
  SET_VECTOR_ELT(contents, 263, ScalarInteger(internal->dim_init_ICM_pre_2));
  SET_VECTOR_ELT(contents, 264, ScalarInteger(internal->dim_init_ICM_pre_3));
  SET_VECTOR_ELT(contents, 265, ScalarInteger(internal->dim_init_ID));
  SET_VECTOR_ELT(contents, 266, ScalarInteger(internal->dim_init_ID_1));
  SET_VECTOR_ELT(contents, 267, ScalarInteger(internal->dim_init_ID_12));
  SET_VECTOR_ELT(contents, 268, ScalarInteger(internal->dim_init_ID_123));
  SET_VECTOR_ELT(contents, 269, ScalarInteger(internal->dim_init_ID_2));
  SET_VECTOR_ELT(contents, 270, ScalarInteger(internal->dim_init_ID_3));
  SET_VECTOR_ELT(contents, 271, ScalarInteger(internal->dim_init_ID_4));
  SET_VECTOR_ELT(contents, 272, ScalarInteger(internal->dim_init_Iv));
  SET_VECTOR_ELT(contents, 273, ScalarInteger(internal->dim_init_LL));
  SET_VECTOR_ELT(contents, 274, ScalarInteger(internal->dim_init_P));
  SET_VECTOR_ELT(contents, 275, ScalarInteger(internal->dim_init_P_1));
  SET_VECTOR_ELT(contents, 276, ScalarInteger(internal->dim_init_P_12));
  SET_VECTOR_ELT(contents, 277, ScalarInteger(internal->dim_init_P_123));
  SET_VECTOR_ELT(contents, 278, ScalarInteger(internal->dim_init_P_2));
  SET_VECTOR_ELT(contents, 279, ScalarInteger(internal->dim_init_P_3));
  SET_VECTOR_ELT(contents, 280, ScalarInteger(internal->dim_init_P_4));
  SET_VECTOR_ELT(contents, 281, ScalarInteger(internal->dim_init_PL));
  SET_VECTOR_ELT(contents, 282, ScalarInteger(internal->dim_init_S));
  SET_VECTOR_ELT(contents, 283, ScalarInteger(internal->dim_init_S_1));
  SET_VECTOR_ELT(contents, 284, ScalarInteger(internal->dim_init_S_12));
  SET_VECTOR_ELT(contents, 285, ScalarInteger(internal->dim_init_S_123));
  SET_VECTOR_ELT(contents, 286, ScalarInteger(internal->dim_init_S_2));
  SET_VECTOR_ELT(contents, 287, ScalarInteger(internal->dim_init_S_3));
  SET_VECTOR_ELT(contents, 288, ScalarInteger(internal->dim_init_S_4));
  SET_VECTOR_ELT(contents, 289, ScalarInteger(internal->dim_init_Sv));
  SET_VECTOR_ELT(contents, 290, ScalarInteger(internal->dim_init_T));
  SET_VECTOR_ELT(contents, 291, ScalarInteger(internal->dim_init_T_1));
  SET_VECTOR_ELT(contents, 292, ScalarInteger(internal->dim_init_T_12));
  SET_VECTOR_ELT(contents, 293, ScalarInteger(internal->dim_init_T_123));
  SET_VECTOR_ELT(contents, 294, ScalarInteger(internal->dim_init_T_2));
  SET_VECTOR_ELT(contents, 295, ScalarInteger(internal->dim_init_T_3));
  SET_VECTOR_ELT(contents, 296, ScalarInteger(internal->dim_init_T_4));
  SET_VECTOR_ELT(contents, 297, ScalarInteger(internal->dim_init_U));
  SET_VECTOR_ELT(contents, 298, ScalarInteger(internal->dim_init_U_1));
  SET_VECTOR_ELT(contents, 299, ScalarInteger(internal->dim_init_U_12));
  SET_VECTOR_ELT(contents, 300, ScalarInteger(internal->dim_init_U_123));
  SET_VECTOR_ELT(contents, 301, ScalarInteger(internal->dim_init_U_2));
  SET_VECTOR_ELT(contents, 302, ScalarInteger(internal->dim_init_U_3));
  SET_VECTOR_ELT(contents, 303, ScalarInteger(internal->dim_init_U_4));
  SET_VECTOR_ELT(contents, 304, ScalarInteger(internal->dim_irs_cov));
  SET_VECTOR_ELT(contents, 305, ScalarInteger(internal->dim_itn_cov));
  SET_VECTOR_ELT(contents, 306, ScalarInteger(internal->dim_Iv));
  SET_VECTOR_ELT(contents, 307, ScalarInteger(internal->dim_Ivout));
  SET_VECTOR_ELT(contents, 308, ScalarInteger(internal->dim_K0));
  SET_VECTOR_ELT(contents, 309, ScalarInteger(internal->dim_KL));
  SET_VECTOR_ELT(contents, 310, ScalarInteger(internal->dim_lag_FOIv));
  SET_VECTOR_ELT(contents, 311, ScalarInteger(internal->dim_lag_incv));
  SET_VECTOR_ELT(contents, 312, ScalarInteger(internal->dim_lag_mix_FOIv));
  SET_VECTOR_ELT(contents, 313, ScalarInteger(internal->dim_lambda));
  SET_VECTOR_ELT(contents, 314, ScalarInteger(internal->dim_LL));
  SET_VECTOR_ELT(contents, 315, ScalarInteger(internal->dim_mix));
  SET_VECTOR_ELT(contents, 316, ScalarInteger(internal->dim_mix_1));
  SET_VECTOR_ELT(contents, 317, ScalarInteger(internal->dim_mix_2));
  SET_VECTOR_ELT(contents, 318, ScalarInteger(internal->dim_mu));
  SET_VECTOR_ELT(contents, 319, ScalarInteger(internal->dim_mv));
  SET_VECTOR_ELT(contents, 320, ScalarInteger(internal->dim_mv0));
  SET_VECTOR_ELT(contents, 321, ScalarInteger(internal->dim_P));
  SET_VECTOR_ELT(contents, 322, ScalarInteger(internal->dim_P_1));
  SET_VECTOR_ELT(contents, 323, ScalarInteger(internal->dim_P_12));
  SET_VECTOR_ELT(contents, 324, ScalarInteger(internal->dim_P_123));
  SET_VECTOR_ELT(contents, 325, ScalarInteger(internal->dim_P_2));
  SET_VECTOR_ELT(contents, 326, ScalarInteger(internal->dim_P_3));
  SET_VECTOR_ELT(contents, 327, ScalarInteger(internal->dim_P_4));
  SET_VECTOR_ELT(contents, 328, ScalarInteger(internal->dim_p_det));
  SET_VECTOR_ELT(contents, 329, ScalarInteger(internal->dim_p_det_1));
  SET_VECTOR_ELT(contents, 330, ScalarInteger(internal->dim_p_det_12));
  SET_VECTOR_ELT(contents, 331, ScalarInteger(internal->dim_p_det_123));
  SET_VECTOR_ELT(contents, 332, ScalarInteger(internal->dim_p_det_2));
  SET_VECTOR_ELT(contents, 333, ScalarInteger(internal->dim_p_det_3));
  SET_VECTOR_ELT(contents, 334, ScalarInteger(internal->dim_p_det_4));
  SET_VECTOR_ELT(contents, 335, ScalarInteger(internal->dim_p1));
  SET_VECTOR_ELT(contents, 336, ScalarInteger(internal->dim_Ph));
  SET_VECTOR_ELT(contents, 337, ScalarInteger(internal->dim_phi));
  SET_VECTOR_ELT(contents, 338, ScalarInteger(internal->dim_phi_1));
  SET_VECTOR_ELT(contents, 339, ScalarInteger(internal->dim_phi_12));
  SET_VECTOR_ELT(contents, 340, ScalarInteger(internal->dim_phi_123));
  SET_VECTOR_ELT(contents, 341, ScalarInteger(internal->dim_phi_2));
  SET_VECTOR_ELT(contents, 342, ScalarInteger(internal->dim_phi_3));
  SET_VECTOR_ELT(contents, 343, ScalarInteger(internal->dim_phi_4));
  SET_VECTOR_ELT(contents, 344, ScalarInteger(internal->dim_PL));
  SET_VECTOR_ELT(contents, 345, ScalarInteger(internal->dim_Pout));
  SET_VECTOR_ELT(contents, 346, ScalarInteger(internal->dim_prev));
  SET_VECTOR_ELT(contents, 347, ScalarInteger(internal->dim_prev0to59));
  SET_VECTOR_ELT(contents, 348, ScalarInteger(internal->dim_prev0to59_1));
  SET_VECTOR_ELT(contents, 349, ScalarInteger(internal->dim_prev0to59_12));
  SET_VECTOR_ELT(contents, 350, ScalarInteger(internal->dim_prev0to59_123));
  SET_VECTOR_ELT(contents, 351, ScalarInteger(internal->dim_prev0to59_2));
  SET_VECTOR_ELT(contents, 352, ScalarInteger(internal->dim_prev0to59_3));
  SET_VECTOR_ELT(contents, 353, ScalarInteger(internal->dim_prev0to59_4));
  SET_VECTOR_ELT(contents, 354, ScalarInteger(internal->dim_Q));
  SET_VECTOR_ELT(contents, 355, ScalarInteger(internal->dim_rel_foi));
  SET_VECTOR_ELT(contents, 356, ScalarInteger(internal->dim_rows));
  SET_VECTOR_ELT(contents, 357, ScalarInteger(internal->dim_rows_1));
  SET_VECTOR_ELT(contents, 358, ScalarInteger(internal->dim_rows_2));
  SET_VECTOR_ELT(contents, 359, ScalarInteger(internal->dim_rows_v));
  SET_VECTOR_ELT(contents, 360, ScalarInteger(internal->dim_rows_v_1));
  SET_VECTOR_ELT(contents, 361, ScalarInteger(internal->dim_rows_v_2));
  SET_VECTOR_ELT(contents, 362, ScalarInteger(internal->dim_S));
  SET_VECTOR_ELT(contents, 363, ScalarInteger(internal->dim_S_1));
  SET_VECTOR_ELT(contents, 364, ScalarInteger(internal->dim_S_12));
  SET_VECTOR_ELT(contents, 365, ScalarInteger(internal->dim_S_123));
  SET_VECTOR_ELT(contents, 366, ScalarInteger(internal->dim_S_2));
  SET_VECTOR_ELT(contents, 367, ScalarInteger(internal->dim_S_3));
  SET_VECTOR_ELT(contents, 368, ScalarInteger(internal->dim_S_4));
  SET_VECTOR_ELT(contents, 369, ScalarInteger(internal->dim_Sh));
  SET_VECTOR_ELT(contents, 370, ScalarInteger(internal->dim_Sout));
  SET_VECTOR_ELT(contents, 371, ScalarInteger(internal->dim_surv));
  SET_VECTOR_ELT(contents, 372, ScalarInteger(internal->dim_Sv));
  SET_VECTOR_ELT(contents, 373, ScalarInteger(internal->dim_T));
  SET_VECTOR_ELT(contents, 374, ScalarInteger(internal->dim_T_1));
  SET_VECTOR_ELT(contents, 375, ScalarInteger(internal->dim_T_12));
  SET_VECTOR_ELT(contents, 376, ScalarInteger(internal->dim_T_123));
  SET_VECTOR_ELT(contents, 377, ScalarInteger(internal->dim_T_2));
  SET_VECTOR_ELT(contents, 378, ScalarInteger(internal->dim_T_3));
  SET_VECTOR_ELT(contents, 379, ScalarInteger(internal->dim_T_4));
  SET_VECTOR_ELT(contents, 380, ScalarInteger(internal->dim_Th));
  SET_VECTOR_ELT(contents, 381, ScalarInteger(internal->dim_Tout));
  SET_VECTOR_ELT(contents, 382, ScalarInteger(internal->dim_U));
  SET_VECTOR_ELT(contents, 383, ScalarInteger(internal->dim_U_1));
  SET_VECTOR_ELT(contents, 384, ScalarInteger(internal->dim_U_12));
  SET_VECTOR_ELT(contents, 385, ScalarInteger(internal->dim_U_123));
  SET_VECTOR_ELT(contents, 386, ScalarInteger(internal->dim_U_2));
  SET_VECTOR_ELT(contents, 387, ScalarInteger(internal->dim_U_3));
  SET_VECTOR_ELT(contents, 388, ScalarInteger(internal->dim_U_4));
  SET_VECTOR_ELT(contents, 389, ScalarInteger(internal->dim_Uh));
  SET_VECTOR_ELT(contents, 390, ScalarInteger(internal->dim_Uout));
  SET_VECTOR_ELT(contents, 391, ScalarInteger(internal->dim_w));
  SET_VECTOR_ELT(contents, 392, ScalarInteger(internal->dim_w_));
  SET_VECTOR_ELT(contents, 393, ScalarInteger(internal->dim_wbar));
  SET_VECTOR_ELT(contents, 394, ScalarInteger(internal->dim_wh));
  SET_VECTOR_ELT(contents, 395, ScalarInteger(internal->dim_whi));
  SET_VECTOR_ELT(contents, 396, ScalarInteger(internal->dim_whi_1));
  SET_VECTOR_ELT(contents, 397, ScalarInteger(internal->dim_whi_2));
  SET_VECTOR_ELT(contents, 398, ScalarInteger(internal->dim_x_I));
  SET_VECTOR_ELT(contents, 399, ScalarInteger(internal->dim_Y));
  SET_VECTOR_ELT(contents, 400, ScalarInteger(internal->dim_Y_1));
  SET_VECTOR_ELT(contents, 401, ScalarInteger(internal->dim_Y_12));
  SET_VECTOR_ELT(contents, 402, ScalarInteger(internal->dim_Y_123));
  SET_VECTOR_ELT(contents, 403, ScalarInteger(internal->dim_Y_2));
  SET_VECTOR_ELT(contents, 404, ScalarInteger(internal->dim_Y_3));
  SET_VECTOR_ELT(contents, 405, ScalarInteger(internal->dim_Y_4));
  SET_VECTOR_ELT(contents, 406, ScalarInteger(internal->dim_yy));
  SET_VECTOR_ELT(contents, 407, ScalarInteger(internal->dim_yy_));
  SET_VECTOR_ELT(contents, 408, ScalarInteger(internal->dim_z));
  SET_VECTOR_ELT(contents, 409, ScalarInteger(internal->dim_z_));
  SET_VECTOR_ELT(contents, 410, ScalarInteger(internal->dim_zbar));
  SET_VECTOR_ELT(contents, 411, ScalarInteger(internal->dim_zh));
  SET_VECTOR_ELT(contents, 412, ScalarInteger(internal->dim_zhi));
  SET_VECTOR_ELT(contents, 413, ScalarInteger(internal->dim_zhi_1));
  SET_VECTOR_ELT(contents, 414, ScalarInteger(internal->dim_zhi_2));
  SET_VECTOR_ELT(contents, 415, ScalarReal(internal->dLL));
  SET_VECTOR_ELT(contents, 416, ScalarReal(internal->dPL));
  SEXP EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(EIR), internal->EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(EIR, 4, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3, internal->dim_EIR_4);
  SET_VECTOR_ELT(contents, 417, EIR);
  SEXP eov = PROTECT(allocVector(REALSXP, internal->dim_eov));
  memcpy(REAL(eov), internal->eov, internal->dim_eov * sizeof(double));
  SET_VECTOR_ELT(contents, 418, eov);
  SET_VECTOR_ELT(contents, 419, ScalarReal(internal->eta));
  SEXP fd = PROTECT(allocVector(REALSXP, internal->dim_fd));
  memcpy(REAL(fd), internal->fd, internal->dim_fd * sizeof(double));
  SET_VECTOR_ELT(contents, 420, fd);
  SET_VECTOR_ELT(contents, 421, ScalarReal(internal->fD0));
  SEXP FOI = PROTECT(allocVector(REALSXP, internal->dim_FOI));
  memcpy(REAL(FOI), internal->FOI, internal->dim_FOI * sizeof(double));
  odin_set_dim(FOI, 4, internal->dim_FOI_1, internal->dim_FOI_2, internal->dim_FOI_3, internal->dim_FOI_4);
  SET_VECTOR_ELT(contents, 422, FOI);
  SEXP foi_age = PROTECT(allocVector(REALSXP, internal->dim_foi_age));
  memcpy(REAL(foi_age), internal->foi_age, internal->dim_foi_age * sizeof(double));
  SET_VECTOR_ELT(contents, 423, foi_age);
  SEXP FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(FOI_lag), internal->FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(FOI_lag, 4, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3, internal->dim_FOI_lag_4);
  SET_VECTOR_ELT(contents, 424, FOI_lag);
  SEXP FOIv = PROTECT(allocVector(REALSXP, internal->dim_FOIv));
  memcpy(REAL(FOIv), internal->FOIv, internal->dim_FOIv * sizeof(double));
  SET_VECTOR_ELT(contents, 425, FOIv);
  SEXP FOIvijk = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk));
  memcpy(REAL(FOIvijk), internal->FOIvijk, internal->dim_FOIvijk * sizeof(double));
  odin_set_dim(FOIvijk, 4, internal->dim_FOIvijk_1, internal->dim_FOIvijk_2, internal->dim_FOIvijk_3, internal->dim_FOIvijk_4);
  SET_VECTOR_ELT(contents, 426, FOIvijk);
  SET_VECTOR_ELT(contents, 427, ScalarReal(internal->ft));
  SEXP fv = PROTECT(allocVector(REALSXP, internal->dim_fv));
  memcpy(REAL(fv), internal->fv, internal->dim_fv * sizeof(double));
  SET_VECTOR_ELT(contents, 428, fv);
  SET_VECTOR_ELT(contents, 429, ScalarReal(internal->gamma1));
  SET_VECTOR_ELT(contents, 430, ScalarReal(internal->gammaD));
  SET_VECTOR_ELT(contents, 431, ScalarReal(internal->gammaL));
  SEXP H = PROTECT(allocVector(REALSXP, internal->dim_H));
  memcpy(REAL(H), internal->H, internal->dim_H * sizeof(double));
  SET_VECTOR_ELT(contents, 432, H);
  SEXP het_wt = PROTECT(allocVector(REALSXP, internal->dim_het_wt));
  memcpy(REAL(het_wt), internal->het_wt, internal->dim_het_wt * sizeof(double));
  SET_VECTOR_ELT(contents, 433, het_wt);
  SET_VECTOR_ELT(contents, 434, ScalarReal(internal->IB0));
  SEXP IC = PROTECT(allocVector(REALSXP, internal->dim_IC));
  memcpy(REAL(IC), internal->IC, internal->dim_IC * sizeof(double));
  odin_set_dim(IC, 4, internal->dim_IC_1, internal->dim_IC_2, internal->dim_IC_3, internal->dim_IC_4);
  SET_VECTOR_ELT(contents, 435, IC);
  SET_VECTOR_ELT(contents, 436, ScalarReal(internal->IC0));
  SET_VECTOR_ELT(contents, 437, ScalarReal(internal->ID0));
  SEXP ince = PROTECT(allocVector(REALSXP, internal->dim_ince));
  memcpy(REAL(ince), internal->ince, internal->dim_ince * sizeof(double));
  SET_VECTOR_ELT(contents, 438, ince);
  SEXP incv = PROTECT(allocVector(REALSXP, internal->dim_incv));
  memcpy(REAL(incv), internal->incv, internal->dim_incv * sizeof(double));
  SET_VECTOR_ELT(contents, 439, incv);
  SEXP init_A = PROTECT(allocVector(REALSXP, internal->dim_init_A));
  memcpy(REAL(init_A), internal->init_A, internal->dim_init_A * sizeof(double));
  odin_set_dim(init_A, 4, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3, internal->dim_init_A_4);
  SET_VECTOR_ELT(contents, 440, init_A);
  SEXP init_D = PROTECT(allocVector(REALSXP, internal->dim_init_D));
  memcpy(REAL(init_D), internal->init_D, internal->dim_init_D * sizeof(double));
  odin_set_dim(init_D, 4, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3, internal->dim_init_D_4);
  SET_VECTOR_ELT(contents, 441, init_D);
  SEXP init_EL = PROTECT(allocVector(REALSXP, internal->dim_init_EL));
  memcpy(REAL(init_EL), internal->init_EL, internal->dim_init_EL * sizeof(double));
  SET_VECTOR_ELT(contents, 442, init_EL);
  SEXP init_Ev = PROTECT(allocVector(REALSXP, internal->dim_init_Ev));
  memcpy(REAL(init_Ev), internal->init_Ev, internal->dim_init_Ev * sizeof(double));
  SET_VECTOR_ELT(contents, 443, init_Ev);
  SEXP init_IB = PROTECT(allocVector(REALSXP, internal->dim_init_IB));
  memcpy(REAL(init_IB), internal->init_IB, internal->dim_init_IB * sizeof(double));
  odin_set_dim(init_IB, 4, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3, internal->dim_init_IB_4);
  SET_VECTOR_ELT(contents, 444, init_IB);
  SEXP init_ICA = PROTECT(allocVector(REALSXP, internal->dim_init_ICA));
  memcpy(REAL(init_ICA), internal->init_ICA, internal->dim_init_ICA * sizeof(double));
  odin_set_dim(init_ICA, 4, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3, internal->dim_init_ICA_4);
  SET_VECTOR_ELT(contents, 445, init_ICA);
  SEXP init_ICM = PROTECT(allocVector(REALSXP, internal->dim_init_ICM));
  memcpy(REAL(init_ICM), internal->init_ICM, internal->dim_init_ICM * sizeof(double));
  odin_set_dim(init_ICM, 4, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3, internal->dim_init_ICM_4);
  SET_VECTOR_ELT(contents, 446, init_ICM);
  SEXP init_ICM_pre = PROTECT(allocVector(REALSXP, internal->dim_init_ICM_pre));
  memcpy(REAL(init_ICM_pre), internal->init_ICM_pre, internal->dim_init_ICM_pre * sizeof(double));
  odin_set_dim(init_ICM_pre, 3, internal->dim_init_ICM_pre_1, internal->dim_init_ICM_pre_2, internal->dim_init_ICM_pre_3);
  SET_VECTOR_ELT(contents, 447, init_ICM_pre);
  SEXP init_ID = PROTECT(allocVector(REALSXP, internal->dim_init_ID));
  memcpy(REAL(init_ID), internal->init_ID, internal->dim_init_ID * sizeof(double));
  odin_set_dim(init_ID, 4, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3, internal->dim_init_ID_4);
  SET_VECTOR_ELT(contents, 448, init_ID);
  SEXP init_Iv = PROTECT(allocVector(REALSXP, internal->dim_init_Iv));
  memcpy(REAL(init_Iv), internal->init_Iv, internal->dim_init_Iv * sizeof(double));
  SET_VECTOR_ELT(contents, 449, init_Iv);
  SEXP init_LL = PROTECT(allocVector(REALSXP, internal->dim_init_LL));
  memcpy(REAL(init_LL), internal->init_LL, internal->dim_init_LL * sizeof(double));
  SET_VECTOR_ELT(contents, 450, init_LL);
  SEXP init_P = PROTECT(allocVector(REALSXP, internal->dim_init_P));
  memcpy(REAL(init_P), internal->init_P, internal->dim_init_P * sizeof(double));
  odin_set_dim(init_P, 4, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3, internal->dim_init_P_4);
  SET_VECTOR_ELT(contents, 451, init_P);
  SEXP init_PL = PROTECT(allocVector(REALSXP, internal->dim_init_PL));
  memcpy(REAL(init_PL), internal->init_PL, internal->dim_init_PL * sizeof(double));
  SET_VECTOR_ELT(contents, 452, init_PL);
  SEXP init_S = PROTECT(allocVector(REALSXP, internal->dim_init_S));
  memcpy(REAL(init_S), internal->init_S, internal->dim_init_S * sizeof(double));
  odin_set_dim(init_S, 4, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3, internal->dim_init_S_4);
  SET_VECTOR_ELT(contents, 453, init_S);
  SEXP init_Sv = PROTECT(allocVector(REALSXP, internal->dim_init_Sv));
  memcpy(REAL(init_Sv), internal->init_Sv, internal->dim_init_Sv * sizeof(double));
  SET_VECTOR_ELT(contents, 454, init_Sv);
  SEXP init_T = PROTECT(allocVector(REALSXP, internal->dim_init_T));
  memcpy(REAL(init_T), internal->init_T, internal->dim_init_T * sizeof(double));
  odin_set_dim(init_T, 4, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3, internal->dim_init_T_4);
  SET_VECTOR_ELT(contents, 455, init_T);
  SEXP init_U = PROTECT(allocVector(REALSXP, internal->dim_init_U));
  memcpy(REAL(init_U), internal->init_U, internal->dim_init_U * sizeof(double));
  odin_set_dim(init_U, 4, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3, internal->dim_init_U_4);
  SET_VECTOR_ELT(contents, 456, init_U);
  SEXP initial_A = PROTECT(allocVector(REALSXP, internal->dim_A));
  memcpy(REAL(initial_A), internal->initial_A, internal->dim_A * sizeof(double));
  odin_set_dim(initial_A, 4, internal->dim_A_1, internal->dim_A_2, internal->dim_A_3, internal->dim_A_4);
  SET_VECTOR_ELT(contents, 457, initial_A);
  SEXP initial_D = PROTECT(allocVector(REALSXP, internal->dim_D));
  memcpy(REAL(initial_D), internal->initial_D, internal->dim_D * sizeof(double));
  odin_set_dim(initial_D, 4, internal->dim_D_1, internal->dim_D_2, internal->dim_D_3, internal->dim_D_4);
  SET_VECTOR_ELT(contents, 458, initial_D);
  SEXP initial_EL = PROTECT(allocVector(REALSXP, internal->dim_EL));
  memcpy(REAL(initial_EL), internal->initial_EL, internal->dim_EL * sizeof(double));
  SET_VECTOR_ELT(contents, 459, initial_EL);
  SEXP initial_Ev = PROTECT(allocVector(REALSXP, internal->dim_Ev));
  memcpy(REAL(initial_Ev), internal->initial_Ev, internal->dim_Ev * sizeof(double));
  SET_VECTOR_ELT(contents, 460, initial_Ev);
  SEXP initial_IB = PROTECT(allocVector(REALSXP, internal->dim_IB));
  memcpy(REAL(initial_IB), internal->initial_IB, internal->dim_IB * sizeof(double));
  odin_set_dim(initial_IB, 4, internal->dim_IB_1, internal->dim_IB_2, internal->dim_IB_3, internal->dim_IB_4);
  SET_VECTOR_ELT(contents, 461, initial_IB);
  SEXP initial_ICA = PROTECT(allocVector(REALSXP, internal->dim_ICA));
  memcpy(REAL(initial_ICA), internal->initial_ICA, internal->dim_ICA * sizeof(double));
  odin_set_dim(initial_ICA, 4, internal->dim_ICA_1, internal->dim_ICA_2, internal->dim_ICA_3, internal->dim_ICA_4);
  SET_VECTOR_ELT(contents, 462, initial_ICA);
  SEXP initial_ICM = PROTECT(allocVector(REALSXP, internal->dim_ICM));
  memcpy(REAL(initial_ICM), internal->initial_ICM, internal->dim_ICM * sizeof(double));
  odin_set_dim(initial_ICM, 4, internal->dim_ICM_1, internal->dim_ICM_2, internal->dim_ICM_3, internal->dim_ICM_4);
  SET_VECTOR_ELT(contents, 463, initial_ICM);
  SEXP initial_ID = PROTECT(allocVector(REALSXP, internal->dim_ID));
  memcpy(REAL(initial_ID), internal->initial_ID, internal->dim_ID * sizeof(double));
  odin_set_dim(initial_ID, 4, internal->dim_ID_1, internal->dim_ID_2, internal->dim_ID_3, internal->dim_ID_4);
  SET_VECTOR_ELT(contents, 464, initial_ID);
  SEXP initial_Iv = PROTECT(allocVector(REALSXP, internal->dim_Iv));
  memcpy(REAL(initial_Iv), internal->initial_Iv, internal->dim_Iv * sizeof(double));
  SET_VECTOR_ELT(contents, 465, initial_Iv);
  SEXP initial_LL = PROTECT(allocVector(REALSXP, internal->dim_LL));
  memcpy(REAL(initial_LL), internal->initial_LL, internal->dim_LL * sizeof(double));
  SET_VECTOR_ELT(contents, 466, initial_LL);
  SEXP initial_P = PROTECT(allocVector(REALSXP, internal->dim_P));
  memcpy(REAL(initial_P), internal->initial_P, internal->dim_P * sizeof(double));
  odin_set_dim(initial_P, 4, internal->dim_P_1, internal->dim_P_2, internal->dim_P_3, internal->dim_P_4);
  SET_VECTOR_ELT(contents, 467, initial_P);
  SEXP initial_PL = PROTECT(allocVector(REALSXP, internal->dim_PL));
  memcpy(REAL(initial_PL), internal->initial_PL, internal->dim_PL * sizeof(double));
  SET_VECTOR_ELT(contents, 468, initial_PL);
  SEXP initial_S = PROTECT(allocVector(REALSXP, internal->dim_S));
  memcpy(REAL(initial_S), internal->initial_S, internal->dim_S * sizeof(double));
  odin_set_dim(initial_S, 4, internal->dim_S_1, internal->dim_S_2, internal->dim_S_3, internal->dim_S_4);
  SET_VECTOR_ELT(contents, 469, initial_S);
  SEXP initial_Sv = PROTECT(allocVector(REALSXP, internal->dim_Sv));
  memcpy(REAL(initial_Sv), internal->initial_Sv, internal->dim_Sv * sizeof(double));
  SET_VECTOR_ELT(contents, 470, initial_Sv);
  SET_VECTOR_ELT(contents, 471, ScalarReal(internal->initial_t));
  SEXP initial_T = PROTECT(allocVector(REALSXP, internal->dim_T));
  memcpy(REAL(initial_T), internal->initial_T, internal->dim_T * sizeof(double));
  odin_set_dim(initial_T, 4, internal->dim_T_1, internal->dim_T_2, internal->dim_T_3, internal->dim_T_4);
  SET_VECTOR_ELT(contents, 472, initial_T);
  SEXP initial_U = PROTECT(allocVector(REALSXP, internal->dim_U));
  memcpy(REAL(initial_U), internal->initial_U, internal->dim_U * sizeof(double));
  odin_set_dim(initial_U, 4, internal->dim_U_1, internal->dim_U_2, internal->dim_U_3, internal->dim_U_4);
  SET_VECTOR_ELT(contents, 473, initial_U);
  SEXP irs_cov = PROTECT(allocVector(REALSXP, internal->dim_irs_cov));
  memcpy(REAL(irs_cov), internal->irs_cov, internal->dim_irs_cov * sizeof(double));
  SET_VECTOR_ELT(contents, 474, irs_cov);
  SET_VECTOR_ELT(contents, 475, ScalarReal(internal->IRS_interval));
  SET_VECTOR_ELT(contents, 476, ScalarReal(internal->irs_loss));
  SEXP itn_cov = PROTECT(allocVector(REALSXP, internal->dim_itn_cov));
  memcpy(REAL(itn_cov), internal->itn_cov, internal->dim_itn_cov * sizeof(double));
  SET_VECTOR_ELT(contents, 477, itn_cov);
  SET_VECTOR_ELT(contents, 478, ScalarReal(internal->ITN_interval));
  SET_VECTOR_ELT(contents, 479, ScalarReal(internal->ITN_IRS_on));
  SET_VECTOR_ELT(contents, 480, ScalarReal(internal->itn_loss));
  SEXP K0 = PROTECT(allocVector(REALSXP, internal->dim_K0));
  memcpy(REAL(K0), internal->K0, internal->dim_K0 * sizeof(double));
  SET_VECTOR_ELT(contents, 481, K0);
  SET_VECTOR_ELT(contents, 482, ScalarReal(internal->kB));
  SET_VECTOR_ELT(contents, 483, ScalarReal(internal->kC));
  SET_VECTOR_ELT(contents, 484, ScalarReal(internal->kD));
  SEXP KL = PROTECT(allocVector(REALSXP, internal->dim_KL));
  memcpy(REAL(KL), internal->KL, internal->dim_KL * sizeof(double));
  SET_VECTOR_ELT(contents, 485, KL);
  SEXP lag_FOIv = PROTECT(allocVector(REALSXP, internal->dim_lag_FOIv));
  memcpy(REAL(lag_FOIv), internal->lag_FOIv, internal->dim_lag_FOIv * sizeof(double));
  SET_VECTOR_ELT(contents, 486, lag_FOIv);
  SEXP lag_incv = PROTECT(allocVector(REALSXP, internal->dim_lag_incv));
  memcpy(REAL(lag_incv), internal->lag_incv, internal->dim_lag_incv * sizeof(double));
  SET_VECTOR_ELT(contents, 487, lag_incv);
  SEXP lag_mix_FOIv = PROTECT(allocVector(REALSXP, internal->dim_lag_mix_FOIv));
  memcpy(REAL(lag_mix_FOIv), internal->lag_mix_FOIv, internal->dim_lag_mix_FOIv * sizeof(double));
  SET_VECTOR_ELT(contents, 488, lag_mix_FOIv);
  SEXP lambda = PROTECT(allocVector(REALSXP, internal->dim_lambda));
  memcpy(REAL(lambda), internal->lambda, internal->dim_lambda * sizeof(double));
  SET_VECTOR_ELT(contents, 489, lambda);
  SEXP mix = PROTECT(allocVector(REALSXP, internal->dim_mix));
  memcpy(REAL(mix), internal->mix, internal->dim_mix * sizeof(double));
  odin_set_dim(mix, 2, internal->dim_mix_1, internal->dim_mix_2);
  SET_VECTOR_ELT(contents, 490, mix);
  SEXP mu = PROTECT(allocVector(REALSXP, internal->dim_mu));
  memcpy(REAL(mu), internal->mu, internal->dim_mu * sizeof(double));
  SET_VECTOR_ELT(contents, 491, mu);
  SET_VECTOR_ELT(contents, 492, ScalarReal(internal->mu0));
  SET_VECTOR_ELT(contents, 493, ScalarReal(internal->muEL));
  SET_VECTOR_ELT(contents, 494, ScalarReal(internal->muLL));
  SET_VECTOR_ELT(contents, 495, ScalarReal(internal->muPL));
  SEXP mv = PROTECT(allocVector(REALSXP, internal->dim_mv));
  memcpy(REAL(mv), internal->mv, internal->dim_mv * sizeof(double));
  SET_VECTOR_ELT(contents, 496, mv);
  SEXP mv0 = PROTECT(allocVector(REALSXP, internal->dim_mv0));
  memcpy(REAL(mv0), internal->mv0, internal->dim_mv0 * sizeof(double));
  SET_VECTOR_ELT(contents, 497, mv0);
  SET_VECTOR_ELT(contents, 498, ScalarInteger(internal->na));
  SET_VECTOR_ELT(contents, 499, ScalarInteger(internal->nh));
  SET_VECTOR_ELT(contents, 500, ScalarInteger(internal->np));
  SET_VECTOR_ELT(contents, 501, ScalarInteger(internal->num_int));
  SET_VECTOR_ELT(contents, 502, ScalarInteger(internal->offset_FOIv_A));
  SET_VECTOR_ELT(contents, 503, ScalarInteger(internal->offset_FOIv_ID));
  SET_VECTOR_ELT(contents, 504, ScalarInteger(internal->offset_FOIv_U));
  SET_VECTOR_ELT(contents, 505, ScalarInteger(internal->offset_output_Aout));
  SET_VECTOR_ELT(contents, 506, ScalarInteger(internal->offset_output_beta_larval));
  SET_VECTOR_ELT(contents, 507, ScalarInteger(internal->offset_output_cov));
  SET_VECTOR_ELT(contents, 508, ScalarInteger(internal->offset_output_Dout));
  SET_VECTOR_ELT(contents, 509, ScalarInteger(internal->offset_output_inc05));
  SET_VECTOR_ELT(contents, 510, ScalarInteger(internal->offset_output_K0));
  SET_VECTOR_ELT(contents, 511, ScalarInteger(internal->offset_output_KL));
  SET_VECTOR_ELT(contents, 512, ScalarInteger(internal->offset_output_mu));
  SET_VECTOR_ELT(contents, 513, ScalarInteger(internal->offset_output_mv));
  SET_VECTOR_ELT(contents, 514, ScalarInteger(internal->offset_output_Pout));
  SET_VECTOR_ELT(contents, 515, ScalarInteger(internal->offset_output_prev));
  SET_VECTOR_ELT(contents, 516, ScalarInteger(internal->offset_output_Q));
  SET_VECTOR_ELT(contents, 517, ScalarInteger(internal->offset_output_Sout));
  SET_VECTOR_ELT(contents, 518, ScalarInteger(internal->offset_output_Tout));
  SET_VECTOR_ELT(contents, 519, ScalarInteger(internal->offset_output_Uout));
  SET_VECTOR_ELT(contents, 520, ScalarInteger(internal->offset_output_wh));
  SET_VECTOR_ELT(contents, 521, ScalarInteger(internal->offset_variable_A));
  SET_VECTOR_ELT(contents, 522, ScalarInteger(internal->offset_variable_D));
  SET_VECTOR_ELT(contents, 523, ScalarInteger(internal->offset_variable_EL));
  SET_VECTOR_ELT(contents, 524, ScalarInteger(internal->offset_variable_IB));
  SET_VECTOR_ELT(contents, 525, ScalarInteger(internal->offset_variable_ICA));
  SET_VECTOR_ELT(contents, 526, ScalarInteger(internal->offset_variable_ICM));
  SET_VECTOR_ELT(contents, 527, ScalarInteger(internal->offset_variable_ID));
  SET_VECTOR_ELT(contents, 528, ScalarInteger(internal->offset_variable_Iv));
  SET_VECTOR_ELT(contents, 529, ScalarInteger(internal->offset_variable_LL));
  SET_VECTOR_ELT(contents, 530, ScalarInteger(internal->offset_variable_P));
  SET_VECTOR_ELT(contents, 531, ScalarInteger(internal->offset_variable_PL));
  SET_VECTOR_ELT(contents, 532, ScalarInteger(internal->offset_variable_S));
  SET_VECTOR_ELT(contents, 533, ScalarInteger(internal->offset_variable_T));
  SET_VECTOR_ELT(contents, 534, ScalarInteger(internal->offset_variable_U));
  SET_VECTOR_ELT(contents, 535, ScalarReal(internal->omega));
  SEXP p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(p_det), internal->p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(p_det, 4, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3, internal->dim_p_det_4);
  SET_VECTOR_ELT(contents, 536, p_det);
  SEXP p1 = PROTECT(allocVector(REALSXP, internal->dim_p1));
  memcpy(REAL(p1), internal->p1, internal->dim_p1 * sizeof(double));
  SET_VECTOR_ELT(contents, 537, p1);
  SET_VECTOR_ELT(contents, 538, ScalarReal(internal->p10));
  SET_VECTOR_ELT(contents, 539, ScalarReal(internal->p2));
  SEXP Ph = PROTECT(allocVector(REALSXP, internal->dim_Ph));
  memcpy(REAL(Ph), internal->Ph, internal->dim_Ph * sizeof(double));
  SET_VECTOR_ELT(contents, 540, Ph);
  SEXP phi = PROTECT(allocVector(REALSXP, internal->dim_phi));
  memcpy(REAL(phi), internal->phi, internal->dim_phi * sizeof(double));
  odin_set_dim(phi, 4, internal->dim_phi_1, internal->dim_phi_2, internal->dim_phi_3, internal->dim_phi_4);
  SET_VECTOR_ELT(contents, 541, phi);
  SET_VECTOR_ELT(contents, 542, ScalarReal(internal->phi0));
  SET_VECTOR_ELT(contents, 543, ScalarReal(internal->phi1));
  SET_VECTOR_ELT(contents, 544, ScalarReal(internal->pi));
  SET_VECTOR_ELT(contents, 545, ScalarReal(internal->PM));
  SEXP prev0to59 = PROTECT(allocVector(REALSXP, internal->dim_prev0to59));
  memcpy(REAL(prev0to59), internal->prev0to59, internal->dim_prev0to59 * sizeof(double));
  odin_set_dim(prev0to59, 4, internal->dim_prev0to59_1, internal->dim_prev0to59_2, internal->dim_prev0to59_3, internal->dim_prev0to59_4);
  SET_VECTOR_ELT(contents, 546, prev0to59);
  SEXP Q = PROTECT(allocVector(REALSXP, internal->dim_Q));
  memcpy(REAL(Q), internal->Q, internal->dim_Q * sizeof(double));
  SET_VECTOR_ELT(contents, 547, Q);
  SET_VECTOR_ELT(contents, 548, ScalarReal(internal->Q0));
  SET_VECTOR_ELT(contents, 549, ScalarReal(internal->r_IRS0));
  SET_VECTOR_ELT(contents, 550, ScalarReal(internal->r_ITN0));
  SET_VECTOR_ELT(contents, 551, ScalarReal(internal->r_ITN1));
  SET_VECTOR_ELT(contents, 552, ScalarReal(internal->rA));
  SET_VECTOR_ELT(contents, 553, ScalarReal(internal->rD));
  SEXP rel_foi = PROTECT(allocVector(REALSXP, internal->dim_rel_foi));
  memcpy(REAL(rel_foi), internal->rel_foi, internal->dim_rel_foi * sizeof(double));
  SET_VECTOR_ELT(contents, 554, rel_foi);
  SEXP rows = PROTECT(allocVector(REALSXP, internal->dim_rows));
  memcpy(REAL(rows), internal->rows, internal->dim_rows * sizeof(double));
  odin_set_dim(rows, 2, internal->dim_rows_1, internal->dim_rows_2);
  SET_VECTOR_ELT(contents, 555, rows);
  SEXP rows_v = PROTECT(allocVector(REALSXP, internal->dim_rows_v));
  memcpy(REAL(rows_v), internal->rows_v, internal->dim_rows_v * sizeof(double));
  odin_set_dim(rows_v, 2, internal->dim_rows_v_1, internal->dim_rows_v_2);
  SET_VECTOR_ELT(contents, 556, rows_v);
  SET_VECTOR_ELT(contents, 557, ScalarReal(internal->rP));
  SET_VECTOR_ELT(contents, 558, ScalarReal(internal->rT));
  SET_VECTOR_ELT(contents, 559, ScalarReal(internal->rU));
  SEXP Sh = PROTECT(allocVector(REALSXP, internal->dim_Sh));
  memcpy(REAL(Sh), internal->Sh, internal->dim_Sh * sizeof(double));
  SET_VECTOR_ELT(contents, 560, Sh);
  SET_VECTOR_ELT(contents, 561, ScalarReal(internal->ssa0));
  SET_VECTOR_ELT(contents, 562, ScalarReal(internal->ssa1));
  SET_VECTOR_ELT(contents, 563, ScalarReal(internal->ssa2));
  SET_VECTOR_ELT(contents, 564, ScalarReal(internal->ssa3));
  SET_VECTOR_ELT(contents, 565, ScalarReal(internal->ssb1));
  SET_VECTOR_ELT(contents, 566, ScalarReal(internal->ssb2));
  SET_VECTOR_ELT(contents, 567, ScalarReal(internal->ssb3));
  SEXP surv = PROTECT(allocVector(REALSXP, internal->dim_surv));
  memcpy(REAL(surv), internal->surv, internal->dim_surv * sizeof(double));
  SET_VECTOR_ELT(contents, 568, surv);
  SET_VECTOR_ELT(contents, 569, ScalarReal(internal->tau1));
  SET_VECTOR_ELT(contents, 570, ScalarReal(internal->tau2));
  SEXP Th = PROTECT(allocVector(REALSXP, internal->dim_Th));
  memcpy(REAL(Th), internal->Th, internal->dim_Th * sizeof(double));
  SET_VECTOR_ELT(contents, 571, Th);
  SET_VECTOR_ELT(contents, 572, ScalarReal(internal->theta_c));
  SET_VECTOR_ELT(contents, 573, ScalarReal(internal->uB));
  SET_VECTOR_ELT(contents, 574, ScalarReal(internal->uCA));
  SET_VECTOR_ELT(contents, 575, ScalarReal(internal->uD));
  SEXP Uh = PROTECT(allocVector(REALSXP, internal->dim_Uh));
  memcpy(REAL(Uh), internal->Uh, internal->dim_Uh * sizeof(double));
  SET_VECTOR_ELT(contents, 576, Uh);
  SEXP w = PROTECT(allocVector(REALSXP, internal->dim_w));
  memcpy(REAL(w), internal->w, internal->dim_w * sizeof(double));
  SET_VECTOR_ELT(contents, 577, w);
  SEXP w_ = PROTECT(allocVector(REALSXP, internal->dim_w_));
  memcpy(REAL(w_), internal->w_, internal->dim_w_ * sizeof(double));
  SET_VECTOR_ELT(contents, 578, w_);
  SEXP wbar = PROTECT(allocVector(REALSXP, internal->dim_wbar));
  memcpy(REAL(wbar), internal->wbar, internal->dim_wbar * sizeof(double));
  SET_VECTOR_ELT(contents, 579, wbar);
  SEXP wh = PROTECT(allocVector(REALSXP, internal->dim_wh));
  memcpy(REAL(wh), internal->wh, internal->dim_wh * sizeof(double));
  SET_VECTOR_ELT(contents, 580, wh);
  SEXP whi = PROTECT(allocVector(REALSXP, internal->dim_whi));
  memcpy(REAL(whi), internal->whi, internal->dim_whi * sizeof(double));
  odin_set_dim(whi, 2, internal->dim_whi_1, internal->dim_whi_2);
  SET_VECTOR_ELT(contents, 581, whi);
  SEXP x_I = PROTECT(allocVector(REALSXP, internal->dim_x_I));
  memcpy(REAL(x_I), internal->x_I, internal->dim_x_I * sizeof(double));
  SET_VECTOR_ELT(contents, 582, x_I);
  SEXP Y = PROTECT(allocVector(REALSXP, internal->dim_Y));
  memcpy(REAL(Y), internal->Y, internal->dim_Y * sizeof(double));
  odin_set_dim(Y, 4, internal->dim_Y_1, internal->dim_Y_2, internal->dim_Y_3, internal->dim_Y_4);
  SET_VECTOR_ELT(contents, 583, Y);
  SEXP yy = PROTECT(allocVector(REALSXP, internal->dim_yy));
  memcpy(REAL(yy), internal->yy, internal->dim_yy * sizeof(double));
  SET_VECTOR_ELT(contents, 584, yy);
  SEXP yy_ = PROTECT(allocVector(REALSXP, internal->dim_yy_));
  memcpy(REAL(yy_), internal->yy_, internal->dim_yy_ * sizeof(double));
  SET_VECTOR_ELT(contents, 585, yy_);
  SEXP z = PROTECT(allocVector(REALSXP, internal->dim_z));
  memcpy(REAL(z), internal->z, internal->dim_z * sizeof(double));
  SET_VECTOR_ELT(contents, 586, z);
  SEXP z_ = PROTECT(allocVector(REALSXP, internal->dim_z_));
  memcpy(REAL(z_), internal->z_, internal->dim_z_ * sizeof(double));
  SET_VECTOR_ELT(contents, 587, z_);
  SEXP zbar = PROTECT(allocVector(REALSXP, internal->dim_zbar));
  memcpy(REAL(zbar), internal->zbar, internal->dim_zbar * sizeof(double));
  SET_VECTOR_ELT(contents, 588, zbar);
  SEXP zh = PROTECT(allocVector(REALSXP, internal->dim_zh));
  memcpy(REAL(zh), internal->zh, internal->dim_zh * sizeof(double));
  SET_VECTOR_ELT(contents, 589, zh);
  SEXP zhi = PROTECT(allocVector(REALSXP, internal->dim_zhi));
  memcpy(REAL(zhi), internal->zhi, internal->dim_zhi * sizeof(double));
  odin_set_dim(zhi, 2, internal->dim_zhi_1, internal->dim_zhi_2);
  SET_VECTOR_ELT(contents, 590, zhi);
  SET_VECTOR_ELT(contents, 591, ScalarLogical(internal->odin_model_metapop_use_dde));
  SEXP nms = PROTECT(allocVector(STRSXP, 592));
  SET_STRING_ELT(nms, 0, mkChar("aD"));
  SET_STRING_ELT(nms, 1, mkChar("age"));
  SET_STRING_ELT(nms, 2, mkChar("age_20_factor"));
  SET_STRING_ELT(nms, 3, mkChar("age_rate"));
  SET_STRING_ELT(nms, 4, mkChar("age05"));
  SET_STRING_ELT(nms, 5, mkChar("age20l"));
  SET_STRING_ELT(nms, 6, mkChar("age20u"));
  SET_STRING_ELT(nms, 7, mkChar("age59"));
  SET_STRING_ELT(nms, 8, mkChar("Ah"));
  SET_STRING_ELT(nms, 9, mkChar("av"));
  SET_STRING_ELT(nms, 10, mkChar("av_human"));
  SET_STRING_ELT(nms, 11, mkChar("av_mosq"));
  SET_STRING_ELT(nms, 12, mkChar("b"));
  SET_STRING_ELT(nms, 13, mkChar("b_lambda"));
  SET_STRING_ELT(nms, 14, mkChar("b0"));
  SET_STRING_ELT(nms, 15, mkChar("b1"));
  SET_STRING_ELT(nms, 16, mkChar("beta_larval"));
  SET_STRING_ELT(nms, 17, mkChar("betaa"));
  SET_STRING_ELT(nms, 18, mkChar("betaL"));
  SET_STRING_ELT(nms, 19, mkChar("bites_Bed"));
  SET_STRING_ELT(nms, 20, mkChar("bites_Indoors"));
  SET_STRING_ELT(nms, 21, mkChar("cA"));
  SET_STRING_ELT(nms, 22, mkChar("cD"));
  SET_STRING_ELT(nms, 23, mkChar("chi"));
  SET_STRING_ELT(nms, 24, mkChar("clin_inc"));
  SET_STRING_ELT(nms, 25, mkChar("clin_inc0to5"));
  SET_STRING_ELT(nms, 26, mkChar("cov"));
  SET_STRING_ELT(nms, 27, mkChar("cov_"));
  SET_STRING_ELT(nms, 28, mkChar("cT"));
  SET_STRING_ELT(nms, 29, mkChar("cU"));
  SET_STRING_ELT(nms, 30, mkChar("d_IRS0"));
  SET_STRING_ELT(nms, 31, mkChar("d_ITN0"));
  SET_STRING_ELT(nms, 32, mkChar("d1"));
  SET_STRING_ELT(nms, 33, mkChar("dB"));
  SET_STRING_ELT(nms, 34, mkChar("dCA"));
  SET_STRING_ELT(nms, 35, mkChar("dCM"));
  SET_STRING_ELT(nms, 36, mkChar("dE"));
  SET_STRING_ELT(nms, 37, mkChar("dEL"));
  SET_STRING_ELT(nms, 38, mkChar("delay_array_av"));
  SET_STRING_ELT(nms, 39, mkChar("delay_array_av_human"));
  SET_STRING_ELT(nms, 40, mkChar("delay_array_av_mosq"));
  SET_STRING_ELT(nms, 41, mkChar("delay_array_b"));
  SET_STRING_ELT(nms, 42, mkChar("delay_array_cA"));
  SET_STRING_ELT(nms, 43, mkChar("delay_array_EIR"));
  SET_STRING_ELT(nms, 44, mkChar("delay_array_FOI_lag"));
  SET_STRING_ELT(nms, 45, mkChar("delay_array_FOIvijk"));
  SET_STRING_ELT(nms, 46, mkChar("delay_array_fv"));
  SET_STRING_ELT(nms, 47, mkChar("delay_array_ince"));
  SET_STRING_ELT(nms, 48, mkChar("delay_array_lag_FOIv"));
  SET_STRING_ELT(nms, 49, mkChar("delay_array_lag_incv"));
  SET_STRING_ELT(nms, 50, mkChar("delay_array_lag_mix_FOIv"));
  SET_STRING_ELT(nms, 51, mkChar("delay_array_mu"));
  SET_STRING_ELT(nms, 52, mkChar("delay_array_p_det"));
  SET_STRING_ELT(nms, 53, mkChar("delay_array_p1"));
  SET_STRING_ELT(nms, 54, mkChar("delay_array_Q"));
  SET_STRING_ELT(nms, 55, mkChar("delay_array_rows"));
  SET_STRING_ELT(nms, 56, mkChar("delay_array_rows_v"));
  SET_STRING_ELT(nms, 57, mkChar("delay_array_surv"));
  SET_STRING_ELT(nms, 58, mkChar("delay_array_w"));
  SET_STRING_ELT(nms, 59, mkChar("delay_array_w_"));
  SET_STRING_ELT(nms, 60, mkChar("delay_array_wbar"));
  SET_STRING_ELT(nms, 61, mkChar("delay_array_wh"));
  SET_STRING_ELT(nms, 62, mkChar("delay_array_whi"));
  SET_STRING_ELT(nms, 63, mkChar("delay_array_yy"));
  SET_STRING_ELT(nms, 64, mkChar("delay_array_yy_"));
  SET_STRING_ELT(nms, 65, mkChar("delay_array_z"));
  SET_STRING_ELT(nms, 66, mkChar("delay_array_z_"));
  SET_STRING_ELT(nms, 67, mkChar("delay_array_zbar"));
  SET_STRING_ELT(nms, 68, mkChar("delay_array_zh"));
  SET_STRING_ELT(nms, 69, mkChar("delay_array_zhi"));
  SET_STRING_ELT(nms, 70, mkChar("delay_index_FOI"));
  SET_STRING_ELT(nms, 71, mkChar("delay_index_FOIv"));
  SET_STRING_ELT(nms, 72, mkChar("delay_index_incv"));
  SET_STRING_ELT(nms, 73, mkChar("delay_state_FOI"));
  SET_STRING_ELT(nms, 74, mkChar("delay_state_FOIv"));
  SET_STRING_ELT(nms, 75, mkChar("delay_state_incv"));
  SET_STRING_ELT(nms, 76, mkChar("delayGam"));
  SET_STRING_ELT(nms, 77, mkChar("delayMos"));
  SET_STRING_ELT(nms, 78, mkChar("den"));
  SET_STRING_ELT(nms, 79, mkChar("Dh"));
  SET_STRING_ELT(nms, 80, mkChar("dID"));
  SET_STRING_ELT(nms, 81, mkChar("dim_A"));
  SET_STRING_ELT(nms, 82, mkChar("dim_A_1"));
  SET_STRING_ELT(nms, 83, mkChar("dim_A_12"));
  SET_STRING_ELT(nms, 84, mkChar("dim_A_123"));
  SET_STRING_ELT(nms, 85, mkChar("dim_A_2"));
  SET_STRING_ELT(nms, 86, mkChar("dim_A_3"));
  SET_STRING_ELT(nms, 87, mkChar("dim_A_4"));
  SET_STRING_ELT(nms, 88, mkChar("dim_age"));
  SET_STRING_ELT(nms, 89, mkChar("dim_age_rate"));
  SET_STRING_ELT(nms, 90, mkChar("dim_Ah"));
  SET_STRING_ELT(nms, 91, mkChar("dim_Aout"));
  SET_STRING_ELT(nms, 92, mkChar("dim_av"));
  SET_STRING_ELT(nms, 93, mkChar("dim_av_human"));
  SET_STRING_ELT(nms, 94, mkChar("dim_av_human_1"));
  SET_STRING_ELT(nms, 95, mkChar("dim_av_human_2"));
  SET_STRING_ELT(nms, 96, mkChar("dim_av_mosq"));
  SET_STRING_ELT(nms, 97, mkChar("dim_av_mosq_1"));
  SET_STRING_ELT(nms, 98, mkChar("dim_av_mosq_2"));
  SET_STRING_ELT(nms, 99, mkChar("dim_b"));
  SET_STRING_ELT(nms, 100, mkChar("dim_b_1"));
  SET_STRING_ELT(nms, 101, mkChar("dim_b_12"));
  SET_STRING_ELT(nms, 102, mkChar("dim_b_123"));
  SET_STRING_ELT(nms, 103, mkChar("dim_b_2"));
  SET_STRING_ELT(nms, 104, mkChar("dim_b_3"));
  SET_STRING_ELT(nms, 105, mkChar("dim_b_4"));
  SET_STRING_ELT(nms, 106, mkChar("dim_beta_larval"));
  SET_STRING_ELT(nms, 107, mkChar("dim_betaa"));
  SET_STRING_ELT(nms, 108, mkChar("dim_cA"));
  SET_STRING_ELT(nms, 109, mkChar("dim_cA_1"));
  SET_STRING_ELT(nms, 110, mkChar("dim_cA_12"));
  SET_STRING_ELT(nms, 111, mkChar("dim_cA_123"));
  SET_STRING_ELT(nms, 112, mkChar("dim_cA_2"));
  SET_STRING_ELT(nms, 113, mkChar("dim_cA_3"));
  SET_STRING_ELT(nms, 114, mkChar("dim_cA_4"));
  SET_STRING_ELT(nms, 115, mkChar("dim_clin_inc"));
  SET_STRING_ELT(nms, 116, mkChar("dim_clin_inc_1"));
  SET_STRING_ELT(nms, 117, mkChar("dim_clin_inc_12"));
  SET_STRING_ELT(nms, 118, mkChar("dim_clin_inc_123"));
  SET_STRING_ELT(nms, 119, mkChar("dim_clin_inc_2"));
  SET_STRING_ELT(nms, 120, mkChar("dim_clin_inc_3"));
  SET_STRING_ELT(nms, 121, mkChar("dim_clin_inc_4"));
  SET_STRING_ELT(nms, 122, mkChar("dim_clin_inc0to5"));
  SET_STRING_ELT(nms, 123, mkChar("dim_clin_inc0to5_1"));
  SET_STRING_ELT(nms, 124, mkChar("dim_clin_inc0to5_12"));
  SET_STRING_ELT(nms, 125, mkChar("dim_clin_inc0to5_123"));
  SET_STRING_ELT(nms, 126, mkChar("dim_clin_inc0to5_2"));
  SET_STRING_ELT(nms, 127, mkChar("dim_clin_inc0to5_3"));
  SET_STRING_ELT(nms, 128, mkChar("dim_clin_inc0to5_4"));
  SET_STRING_ELT(nms, 129, mkChar("dim_cov"));
  SET_STRING_ELT(nms, 130, mkChar("dim_cov_"));
  SET_STRING_ELT(nms, 131, mkChar("dim_cov__1"));
  SET_STRING_ELT(nms, 132, mkChar("dim_cov__2"));
  SET_STRING_ELT(nms, 133, mkChar("dim_cov_1"));
  SET_STRING_ELT(nms, 134, mkChar("dim_cov_2"));
  SET_STRING_ELT(nms, 135, mkChar("dim_D"));
  SET_STRING_ELT(nms, 136, mkChar("dim_D_1"));
  SET_STRING_ELT(nms, 137, mkChar("dim_D_12"));
  SET_STRING_ELT(nms, 138, mkChar("dim_D_123"));
  SET_STRING_ELT(nms, 139, mkChar("dim_D_2"));
  SET_STRING_ELT(nms, 140, mkChar("dim_D_3"));
  SET_STRING_ELT(nms, 141, mkChar("dim_D_4"));
  SET_STRING_ELT(nms, 142, mkChar("dim_delay_FOI"));
  SET_STRING_ELT(nms, 143, mkChar("dim_delay_FOIv"));
  SET_STRING_ELT(nms, 144, mkChar("dim_delay_incv"));
  SET_STRING_ELT(nms, 145, mkChar("dim_den"));
  SET_STRING_ELT(nms, 146, mkChar("dim_Dh"));
  SET_STRING_ELT(nms, 147, mkChar("dim_Dout"));
  SET_STRING_ELT(nms, 148, mkChar("dim_EIR"));
  SET_STRING_ELT(nms, 149, mkChar("dim_EIR_1"));
  SET_STRING_ELT(nms, 150, mkChar("dim_EIR_12"));
  SET_STRING_ELT(nms, 151, mkChar("dim_EIR_123"));
  SET_STRING_ELT(nms, 152, mkChar("dim_EIR_2"));
  SET_STRING_ELT(nms, 153, mkChar("dim_EIR_3"));
  SET_STRING_ELT(nms, 154, mkChar("dim_EIR_4"));
  SET_STRING_ELT(nms, 155, mkChar("dim_EL"));
  SET_STRING_ELT(nms, 156, mkChar("dim_eov"));
  SET_STRING_ELT(nms, 157, mkChar("dim_Ev"));
  SET_STRING_ELT(nms, 158, mkChar("dim_fd"));
  SET_STRING_ELT(nms, 159, mkChar("dim_FOI"));
  SET_STRING_ELT(nms, 160, mkChar("dim_FOI_1"));
  SET_STRING_ELT(nms, 161, mkChar("dim_FOI_12"));
  SET_STRING_ELT(nms, 162, mkChar("dim_FOI_123"));
  SET_STRING_ELT(nms, 163, mkChar("dim_FOI_2"));
  SET_STRING_ELT(nms, 164, mkChar("dim_FOI_3"));
  SET_STRING_ELT(nms, 165, mkChar("dim_FOI_4"));
  SET_STRING_ELT(nms, 166, mkChar("dim_foi_age"));
  SET_STRING_ELT(nms, 167, mkChar("dim_FOI_lag"));
  SET_STRING_ELT(nms, 168, mkChar("dim_FOI_lag_1"));
  SET_STRING_ELT(nms, 169, mkChar("dim_FOI_lag_12"));
  SET_STRING_ELT(nms, 170, mkChar("dim_FOI_lag_123"));
  SET_STRING_ELT(nms, 171, mkChar("dim_FOI_lag_2"));
  SET_STRING_ELT(nms, 172, mkChar("dim_FOI_lag_3"));
  SET_STRING_ELT(nms, 173, mkChar("dim_FOI_lag_4"));
  SET_STRING_ELT(nms, 174, mkChar("dim_FOIv"));
  SET_STRING_ELT(nms, 175, mkChar("dim_FOIvijk"));
  SET_STRING_ELT(nms, 176, mkChar("dim_FOIvijk_1"));
  SET_STRING_ELT(nms, 177, mkChar("dim_FOIvijk_12"));
  SET_STRING_ELT(nms, 178, mkChar("dim_FOIvijk_123"));
  SET_STRING_ELT(nms, 179, mkChar("dim_FOIvijk_2"));
  SET_STRING_ELT(nms, 180, mkChar("dim_FOIvijk_3"));
  SET_STRING_ELT(nms, 181, mkChar("dim_FOIvijk_4"));
  SET_STRING_ELT(nms, 182, mkChar("dim_fv"));
  SET_STRING_ELT(nms, 183, mkChar("dim_H"));
  SET_STRING_ELT(nms, 184, mkChar("dim_het_wt"));
  SET_STRING_ELT(nms, 185, mkChar("dim_IB"));
  SET_STRING_ELT(nms, 186, mkChar("dim_IB_1"));
  SET_STRING_ELT(nms, 187, mkChar("dim_IB_12"));
  SET_STRING_ELT(nms, 188, mkChar("dim_IB_123"));
  SET_STRING_ELT(nms, 189, mkChar("dim_IB_2"));
  SET_STRING_ELT(nms, 190, mkChar("dim_IB_3"));
  SET_STRING_ELT(nms, 191, mkChar("dim_IB_4"));
  SET_STRING_ELT(nms, 192, mkChar("dim_IC"));
  SET_STRING_ELT(nms, 193, mkChar("dim_IC_1"));
  SET_STRING_ELT(nms, 194, mkChar("dim_IC_12"));
  SET_STRING_ELT(nms, 195, mkChar("dim_IC_123"));
  SET_STRING_ELT(nms, 196, mkChar("dim_IC_2"));
  SET_STRING_ELT(nms, 197, mkChar("dim_IC_3"));
  SET_STRING_ELT(nms, 198, mkChar("dim_IC_4"));
  SET_STRING_ELT(nms, 199, mkChar("dim_ICA"));
  SET_STRING_ELT(nms, 200, mkChar("dim_ICA_1"));
  SET_STRING_ELT(nms, 201, mkChar("dim_ICA_12"));
  SET_STRING_ELT(nms, 202, mkChar("dim_ICA_123"));
  SET_STRING_ELT(nms, 203, mkChar("dim_ICA_2"));
  SET_STRING_ELT(nms, 204, mkChar("dim_ICA_3"));
  SET_STRING_ELT(nms, 205, mkChar("dim_ICA_4"));
  SET_STRING_ELT(nms, 206, mkChar("dim_ICM"));
  SET_STRING_ELT(nms, 207, mkChar("dim_ICM_1"));
  SET_STRING_ELT(nms, 208, mkChar("dim_ICM_12"));
  SET_STRING_ELT(nms, 209, mkChar("dim_ICM_123"));
  SET_STRING_ELT(nms, 210, mkChar("dim_ICM_2"));
  SET_STRING_ELT(nms, 211, mkChar("dim_ICM_3"));
  SET_STRING_ELT(nms, 212, mkChar("dim_ICM_4"));
  SET_STRING_ELT(nms, 213, mkChar("dim_ID"));
  SET_STRING_ELT(nms, 214, mkChar("dim_ID_1"));
  SET_STRING_ELT(nms, 215, mkChar("dim_ID_12"));
  SET_STRING_ELT(nms, 216, mkChar("dim_ID_123"));
  SET_STRING_ELT(nms, 217, mkChar("dim_ID_2"));
  SET_STRING_ELT(nms, 218, mkChar("dim_ID_3"));
  SET_STRING_ELT(nms, 219, mkChar("dim_ID_4"));
  SET_STRING_ELT(nms, 220, mkChar("dim_inc05"));
  SET_STRING_ELT(nms, 221, mkChar("dim_ince"));
  SET_STRING_ELT(nms, 222, mkChar("dim_incv"));
  SET_STRING_ELT(nms, 223, mkChar("dim_init_A"));
  SET_STRING_ELT(nms, 224, mkChar("dim_init_A_1"));
  SET_STRING_ELT(nms, 225, mkChar("dim_init_A_12"));
  SET_STRING_ELT(nms, 226, mkChar("dim_init_A_123"));
  SET_STRING_ELT(nms, 227, mkChar("dim_init_A_2"));
  SET_STRING_ELT(nms, 228, mkChar("dim_init_A_3"));
  SET_STRING_ELT(nms, 229, mkChar("dim_init_A_4"));
  SET_STRING_ELT(nms, 230, mkChar("dim_init_D"));
  SET_STRING_ELT(nms, 231, mkChar("dim_init_D_1"));
  SET_STRING_ELT(nms, 232, mkChar("dim_init_D_12"));
  SET_STRING_ELT(nms, 233, mkChar("dim_init_D_123"));
  SET_STRING_ELT(nms, 234, mkChar("dim_init_D_2"));
  SET_STRING_ELT(nms, 235, mkChar("dim_init_D_3"));
  SET_STRING_ELT(nms, 236, mkChar("dim_init_D_4"));
  SET_STRING_ELT(nms, 237, mkChar("dim_init_EL"));
  SET_STRING_ELT(nms, 238, mkChar("dim_init_Ev"));
  SET_STRING_ELT(nms, 239, mkChar("dim_init_IB"));
  SET_STRING_ELT(nms, 240, mkChar("dim_init_IB_1"));
  SET_STRING_ELT(nms, 241, mkChar("dim_init_IB_12"));
  SET_STRING_ELT(nms, 242, mkChar("dim_init_IB_123"));
  SET_STRING_ELT(nms, 243, mkChar("dim_init_IB_2"));
  SET_STRING_ELT(nms, 244, mkChar("dim_init_IB_3"));
  SET_STRING_ELT(nms, 245, mkChar("dim_init_IB_4"));
  SET_STRING_ELT(nms, 246, mkChar("dim_init_ICA"));
  SET_STRING_ELT(nms, 247, mkChar("dim_init_ICA_1"));
  SET_STRING_ELT(nms, 248, mkChar("dim_init_ICA_12"));
  SET_STRING_ELT(nms, 249, mkChar("dim_init_ICA_123"));
  SET_STRING_ELT(nms, 250, mkChar("dim_init_ICA_2"));
  SET_STRING_ELT(nms, 251, mkChar("dim_init_ICA_3"));
  SET_STRING_ELT(nms, 252, mkChar("dim_init_ICA_4"));
  SET_STRING_ELT(nms, 253, mkChar("dim_init_ICM"));
  SET_STRING_ELT(nms, 254, mkChar("dim_init_ICM_1"));
  SET_STRING_ELT(nms, 255, mkChar("dim_init_ICM_12"));
  SET_STRING_ELT(nms, 256, mkChar("dim_init_ICM_123"));
  SET_STRING_ELT(nms, 257, mkChar("dim_init_ICM_2"));
  SET_STRING_ELT(nms, 258, mkChar("dim_init_ICM_3"));
  SET_STRING_ELT(nms, 259, mkChar("dim_init_ICM_4"));
  SET_STRING_ELT(nms, 260, mkChar("dim_init_ICM_pre"));
  SET_STRING_ELT(nms, 261, mkChar("dim_init_ICM_pre_1"));
  SET_STRING_ELT(nms, 262, mkChar("dim_init_ICM_pre_12"));
  SET_STRING_ELT(nms, 263, mkChar("dim_init_ICM_pre_2"));
  SET_STRING_ELT(nms, 264, mkChar("dim_init_ICM_pre_3"));
  SET_STRING_ELT(nms, 265, mkChar("dim_init_ID"));
  SET_STRING_ELT(nms, 266, mkChar("dim_init_ID_1"));
  SET_STRING_ELT(nms, 267, mkChar("dim_init_ID_12"));
  SET_STRING_ELT(nms, 268, mkChar("dim_init_ID_123"));
  SET_STRING_ELT(nms, 269, mkChar("dim_init_ID_2"));
  SET_STRING_ELT(nms, 270, mkChar("dim_init_ID_3"));
  SET_STRING_ELT(nms, 271, mkChar("dim_init_ID_4"));
  SET_STRING_ELT(nms, 272, mkChar("dim_init_Iv"));
  SET_STRING_ELT(nms, 273, mkChar("dim_init_LL"));
  SET_STRING_ELT(nms, 274, mkChar("dim_init_P"));
  SET_STRING_ELT(nms, 275, mkChar("dim_init_P_1"));
  SET_STRING_ELT(nms, 276, mkChar("dim_init_P_12"));
  SET_STRING_ELT(nms, 277, mkChar("dim_init_P_123"));
  SET_STRING_ELT(nms, 278, mkChar("dim_init_P_2"));
  SET_STRING_ELT(nms, 279, mkChar("dim_init_P_3"));
  SET_STRING_ELT(nms, 280, mkChar("dim_init_P_4"));
  SET_STRING_ELT(nms, 281, mkChar("dim_init_PL"));
  SET_STRING_ELT(nms, 282, mkChar("dim_init_S"));
  SET_STRING_ELT(nms, 283, mkChar("dim_init_S_1"));
  SET_STRING_ELT(nms, 284, mkChar("dim_init_S_12"));
  SET_STRING_ELT(nms, 285, mkChar("dim_init_S_123"));
  SET_STRING_ELT(nms, 286, mkChar("dim_init_S_2"));
  SET_STRING_ELT(nms, 287, mkChar("dim_init_S_3"));
  SET_STRING_ELT(nms, 288, mkChar("dim_init_S_4"));
  SET_STRING_ELT(nms, 289, mkChar("dim_init_Sv"));
  SET_STRING_ELT(nms, 290, mkChar("dim_init_T"));
  SET_STRING_ELT(nms, 291, mkChar("dim_init_T_1"));
  SET_STRING_ELT(nms, 292, mkChar("dim_init_T_12"));
  SET_STRING_ELT(nms, 293, mkChar("dim_init_T_123"));
  SET_STRING_ELT(nms, 294, mkChar("dim_init_T_2"));
  SET_STRING_ELT(nms, 295, mkChar("dim_init_T_3"));
  SET_STRING_ELT(nms, 296, mkChar("dim_init_T_4"));
  SET_STRING_ELT(nms, 297, mkChar("dim_init_U"));
  SET_STRING_ELT(nms, 298, mkChar("dim_init_U_1"));
  SET_STRING_ELT(nms, 299, mkChar("dim_init_U_12"));
  SET_STRING_ELT(nms, 300, mkChar("dim_init_U_123"));
  SET_STRING_ELT(nms, 301, mkChar("dim_init_U_2"));
  SET_STRING_ELT(nms, 302, mkChar("dim_init_U_3"));
  SET_STRING_ELT(nms, 303, mkChar("dim_init_U_4"));
  SET_STRING_ELT(nms, 304, mkChar("dim_irs_cov"));
  SET_STRING_ELT(nms, 305, mkChar("dim_itn_cov"));
  SET_STRING_ELT(nms, 306, mkChar("dim_Iv"));
  SET_STRING_ELT(nms, 307, mkChar("dim_Ivout"));
  SET_STRING_ELT(nms, 308, mkChar("dim_K0"));
  SET_STRING_ELT(nms, 309, mkChar("dim_KL"));
  SET_STRING_ELT(nms, 310, mkChar("dim_lag_FOIv"));
  SET_STRING_ELT(nms, 311, mkChar("dim_lag_incv"));
  SET_STRING_ELT(nms, 312, mkChar("dim_lag_mix_FOIv"));
  SET_STRING_ELT(nms, 313, mkChar("dim_lambda"));
  SET_STRING_ELT(nms, 314, mkChar("dim_LL"));
  SET_STRING_ELT(nms, 315, mkChar("dim_mix"));
  SET_STRING_ELT(nms, 316, mkChar("dim_mix_1"));
  SET_STRING_ELT(nms, 317, mkChar("dim_mix_2"));
  SET_STRING_ELT(nms, 318, mkChar("dim_mu"));
  SET_STRING_ELT(nms, 319, mkChar("dim_mv"));
  SET_STRING_ELT(nms, 320, mkChar("dim_mv0"));
  SET_STRING_ELT(nms, 321, mkChar("dim_P"));
  SET_STRING_ELT(nms, 322, mkChar("dim_P_1"));
  SET_STRING_ELT(nms, 323, mkChar("dim_P_12"));
  SET_STRING_ELT(nms, 324, mkChar("dim_P_123"));
  SET_STRING_ELT(nms, 325, mkChar("dim_P_2"));
  SET_STRING_ELT(nms, 326, mkChar("dim_P_3"));
  SET_STRING_ELT(nms, 327, mkChar("dim_P_4"));
  SET_STRING_ELT(nms, 328, mkChar("dim_p_det"));
  SET_STRING_ELT(nms, 329, mkChar("dim_p_det_1"));
  SET_STRING_ELT(nms, 330, mkChar("dim_p_det_12"));
  SET_STRING_ELT(nms, 331, mkChar("dim_p_det_123"));
  SET_STRING_ELT(nms, 332, mkChar("dim_p_det_2"));
  SET_STRING_ELT(nms, 333, mkChar("dim_p_det_3"));
  SET_STRING_ELT(nms, 334, mkChar("dim_p_det_4"));
  SET_STRING_ELT(nms, 335, mkChar("dim_p1"));
  SET_STRING_ELT(nms, 336, mkChar("dim_Ph"));
  SET_STRING_ELT(nms, 337, mkChar("dim_phi"));
  SET_STRING_ELT(nms, 338, mkChar("dim_phi_1"));
  SET_STRING_ELT(nms, 339, mkChar("dim_phi_12"));
  SET_STRING_ELT(nms, 340, mkChar("dim_phi_123"));
  SET_STRING_ELT(nms, 341, mkChar("dim_phi_2"));
  SET_STRING_ELT(nms, 342, mkChar("dim_phi_3"));
  SET_STRING_ELT(nms, 343, mkChar("dim_phi_4"));
  SET_STRING_ELT(nms, 344, mkChar("dim_PL"));
  SET_STRING_ELT(nms, 345, mkChar("dim_Pout"));
  SET_STRING_ELT(nms, 346, mkChar("dim_prev"));
  SET_STRING_ELT(nms, 347, mkChar("dim_prev0to59"));
  SET_STRING_ELT(nms, 348, mkChar("dim_prev0to59_1"));
  SET_STRING_ELT(nms, 349, mkChar("dim_prev0to59_12"));
  SET_STRING_ELT(nms, 350, mkChar("dim_prev0to59_123"));
  SET_STRING_ELT(nms, 351, mkChar("dim_prev0to59_2"));
  SET_STRING_ELT(nms, 352, mkChar("dim_prev0to59_3"));
  SET_STRING_ELT(nms, 353, mkChar("dim_prev0to59_4"));
  SET_STRING_ELT(nms, 354, mkChar("dim_Q"));
  SET_STRING_ELT(nms, 355, mkChar("dim_rel_foi"));
  SET_STRING_ELT(nms, 356, mkChar("dim_rows"));
  SET_STRING_ELT(nms, 357, mkChar("dim_rows_1"));
  SET_STRING_ELT(nms, 358, mkChar("dim_rows_2"));
  SET_STRING_ELT(nms, 359, mkChar("dim_rows_v"));
  SET_STRING_ELT(nms, 360, mkChar("dim_rows_v_1"));
  SET_STRING_ELT(nms, 361, mkChar("dim_rows_v_2"));
  SET_STRING_ELT(nms, 362, mkChar("dim_S"));
  SET_STRING_ELT(nms, 363, mkChar("dim_S_1"));
  SET_STRING_ELT(nms, 364, mkChar("dim_S_12"));
  SET_STRING_ELT(nms, 365, mkChar("dim_S_123"));
  SET_STRING_ELT(nms, 366, mkChar("dim_S_2"));
  SET_STRING_ELT(nms, 367, mkChar("dim_S_3"));
  SET_STRING_ELT(nms, 368, mkChar("dim_S_4"));
  SET_STRING_ELT(nms, 369, mkChar("dim_Sh"));
  SET_STRING_ELT(nms, 370, mkChar("dim_Sout"));
  SET_STRING_ELT(nms, 371, mkChar("dim_surv"));
  SET_STRING_ELT(nms, 372, mkChar("dim_Sv"));
  SET_STRING_ELT(nms, 373, mkChar("dim_T"));
  SET_STRING_ELT(nms, 374, mkChar("dim_T_1"));
  SET_STRING_ELT(nms, 375, mkChar("dim_T_12"));
  SET_STRING_ELT(nms, 376, mkChar("dim_T_123"));
  SET_STRING_ELT(nms, 377, mkChar("dim_T_2"));
  SET_STRING_ELT(nms, 378, mkChar("dim_T_3"));
  SET_STRING_ELT(nms, 379, mkChar("dim_T_4"));
  SET_STRING_ELT(nms, 380, mkChar("dim_Th"));
  SET_STRING_ELT(nms, 381, mkChar("dim_Tout"));
  SET_STRING_ELT(nms, 382, mkChar("dim_U"));
  SET_STRING_ELT(nms, 383, mkChar("dim_U_1"));
  SET_STRING_ELT(nms, 384, mkChar("dim_U_12"));
  SET_STRING_ELT(nms, 385, mkChar("dim_U_123"));
  SET_STRING_ELT(nms, 386, mkChar("dim_U_2"));
  SET_STRING_ELT(nms, 387, mkChar("dim_U_3"));
  SET_STRING_ELT(nms, 388, mkChar("dim_U_4"));
  SET_STRING_ELT(nms, 389, mkChar("dim_Uh"));
  SET_STRING_ELT(nms, 390, mkChar("dim_Uout"));
  SET_STRING_ELT(nms, 391, mkChar("dim_w"));
  SET_STRING_ELT(nms, 392, mkChar("dim_w_"));
  SET_STRING_ELT(nms, 393, mkChar("dim_wbar"));
  SET_STRING_ELT(nms, 394, mkChar("dim_wh"));
  SET_STRING_ELT(nms, 395, mkChar("dim_whi"));
  SET_STRING_ELT(nms, 396, mkChar("dim_whi_1"));
  SET_STRING_ELT(nms, 397, mkChar("dim_whi_2"));
  SET_STRING_ELT(nms, 398, mkChar("dim_x_I"));
  SET_STRING_ELT(nms, 399, mkChar("dim_Y"));
  SET_STRING_ELT(nms, 400, mkChar("dim_Y_1"));
  SET_STRING_ELT(nms, 401, mkChar("dim_Y_12"));
  SET_STRING_ELT(nms, 402, mkChar("dim_Y_123"));
  SET_STRING_ELT(nms, 403, mkChar("dim_Y_2"));
  SET_STRING_ELT(nms, 404, mkChar("dim_Y_3"));
  SET_STRING_ELT(nms, 405, mkChar("dim_Y_4"));
  SET_STRING_ELT(nms, 406, mkChar("dim_yy"));
  SET_STRING_ELT(nms, 407, mkChar("dim_yy_"));
  SET_STRING_ELT(nms, 408, mkChar("dim_z"));
  SET_STRING_ELT(nms, 409, mkChar("dim_z_"));
  SET_STRING_ELT(nms, 410, mkChar("dim_zbar"));
  SET_STRING_ELT(nms, 411, mkChar("dim_zh"));
  SET_STRING_ELT(nms, 412, mkChar("dim_zhi"));
  SET_STRING_ELT(nms, 413, mkChar("dim_zhi_1"));
  SET_STRING_ELT(nms, 414, mkChar("dim_zhi_2"));
  SET_STRING_ELT(nms, 415, mkChar("dLL"));
  SET_STRING_ELT(nms, 416, mkChar("dPL"));
  SET_STRING_ELT(nms, 417, mkChar("EIR"));
  SET_STRING_ELT(nms, 418, mkChar("eov"));
  SET_STRING_ELT(nms, 419, mkChar("eta"));
  SET_STRING_ELT(nms, 420, mkChar("fd"));
  SET_STRING_ELT(nms, 421, mkChar("fD0"));
  SET_STRING_ELT(nms, 422, mkChar("FOI"));
  SET_STRING_ELT(nms, 423, mkChar("foi_age"));
  SET_STRING_ELT(nms, 424, mkChar("FOI_lag"));
  SET_STRING_ELT(nms, 425, mkChar("FOIv"));
  SET_STRING_ELT(nms, 426, mkChar("FOIvijk"));
  SET_STRING_ELT(nms, 427, mkChar("ft"));
  SET_STRING_ELT(nms, 428, mkChar("fv"));
  SET_STRING_ELT(nms, 429, mkChar("gamma1"));
  SET_STRING_ELT(nms, 430, mkChar("gammaD"));
  SET_STRING_ELT(nms, 431, mkChar("gammaL"));
  SET_STRING_ELT(nms, 432, mkChar("H"));
  SET_STRING_ELT(nms, 433, mkChar("het_wt"));
  SET_STRING_ELT(nms, 434, mkChar("IB0"));
  SET_STRING_ELT(nms, 435, mkChar("IC"));
  SET_STRING_ELT(nms, 436, mkChar("IC0"));
  SET_STRING_ELT(nms, 437, mkChar("ID0"));
  SET_STRING_ELT(nms, 438, mkChar("ince"));
  SET_STRING_ELT(nms, 439, mkChar("incv"));
  SET_STRING_ELT(nms, 440, mkChar("init_A"));
  SET_STRING_ELT(nms, 441, mkChar("init_D"));
  SET_STRING_ELT(nms, 442, mkChar("init_EL"));
  SET_STRING_ELT(nms, 443, mkChar("init_Ev"));
  SET_STRING_ELT(nms, 444, mkChar("init_IB"));
  SET_STRING_ELT(nms, 445, mkChar("init_ICA"));
  SET_STRING_ELT(nms, 446, mkChar("init_ICM"));
  SET_STRING_ELT(nms, 447, mkChar("init_ICM_pre"));
  SET_STRING_ELT(nms, 448, mkChar("init_ID"));
  SET_STRING_ELT(nms, 449, mkChar("init_Iv"));
  SET_STRING_ELT(nms, 450, mkChar("init_LL"));
  SET_STRING_ELT(nms, 451, mkChar("init_P"));
  SET_STRING_ELT(nms, 452, mkChar("init_PL"));
  SET_STRING_ELT(nms, 453, mkChar("init_S"));
  SET_STRING_ELT(nms, 454, mkChar("init_Sv"));
  SET_STRING_ELT(nms, 455, mkChar("init_T"));
  SET_STRING_ELT(nms, 456, mkChar("init_U"));
  SET_STRING_ELT(nms, 457, mkChar("initial_A"));
  SET_STRING_ELT(nms, 458, mkChar("initial_D"));
  SET_STRING_ELT(nms, 459, mkChar("initial_EL"));
  SET_STRING_ELT(nms, 460, mkChar("initial_Ev"));
  SET_STRING_ELT(nms, 461, mkChar("initial_IB"));
  SET_STRING_ELT(nms, 462, mkChar("initial_ICA"));
  SET_STRING_ELT(nms, 463, mkChar("initial_ICM"));
  SET_STRING_ELT(nms, 464, mkChar("initial_ID"));
  SET_STRING_ELT(nms, 465, mkChar("initial_Iv"));
  SET_STRING_ELT(nms, 466, mkChar("initial_LL"));
  SET_STRING_ELT(nms, 467, mkChar("initial_P"));
  SET_STRING_ELT(nms, 468, mkChar("initial_PL"));
  SET_STRING_ELT(nms, 469, mkChar("initial_S"));
  SET_STRING_ELT(nms, 470, mkChar("initial_Sv"));
  SET_STRING_ELT(nms, 471, mkChar("initial_t"));
  SET_STRING_ELT(nms, 472, mkChar("initial_T"));
  SET_STRING_ELT(nms, 473, mkChar("initial_U"));
  SET_STRING_ELT(nms, 474, mkChar("irs_cov"));
  SET_STRING_ELT(nms, 475, mkChar("IRS_interval"));
  SET_STRING_ELT(nms, 476, mkChar("irs_loss"));
  SET_STRING_ELT(nms, 477, mkChar("itn_cov"));
  SET_STRING_ELT(nms, 478, mkChar("ITN_interval"));
  SET_STRING_ELT(nms, 479, mkChar("ITN_IRS_on"));
  SET_STRING_ELT(nms, 480, mkChar("itn_loss"));
  SET_STRING_ELT(nms, 481, mkChar("K0"));
  SET_STRING_ELT(nms, 482, mkChar("kB"));
  SET_STRING_ELT(nms, 483, mkChar("kC"));
  SET_STRING_ELT(nms, 484, mkChar("kD"));
  SET_STRING_ELT(nms, 485, mkChar("KL"));
  SET_STRING_ELT(nms, 486, mkChar("lag_FOIv"));
  SET_STRING_ELT(nms, 487, mkChar("lag_incv"));
  SET_STRING_ELT(nms, 488, mkChar("lag_mix_FOIv"));
  SET_STRING_ELT(nms, 489, mkChar("lambda"));
  SET_STRING_ELT(nms, 490, mkChar("mix"));
  SET_STRING_ELT(nms, 491, mkChar("mu"));
  SET_STRING_ELT(nms, 492, mkChar("mu0"));
  SET_STRING_ELT(nms, 493, mkChar("muEL"));
  SET_STRING_ELT(nms, 494, mkChar("muLL"));
  SET_STRING_ELT(nms, 495, mkChar("muPL"));
  SET_STRING_ELT(nms, 496, mkChar("mv"));
  SET_STRING_ELT(nms, 497, mkChar("mv0"));
  SET_STRING_ELT(nms, 498, mkChar("na"));
  SET_STRING_ELT(nms, 499, mkChar("nh"));
  SET_STRING_ELT(nms, 500, mkChar("np"));
  SET_STRING_ELT(nms, 501, mkChar("num_int"));
  SET_STRING_ELT(nms, 502, mkChar("offset_FOIv_A"));
  SET_STRING_ELT(nms, 503, mkChar("offset_FOIv_ID"));
  SET_STRING_ELT(nms, 504, mkChar("offset_FOIv_U"));
  SET_STRING_ELT(nms, 505, mkChar("offset_output_Aout"));
  SET_STRING_ELT(nms, 506, mkChar("offset_output_beta_larval"));
  SET_STRING_ELT(nms, 507, mkChar("offset_output_cov"));
  SET_STRING_ELT(nms, 508, mkChar("offset_output_Dout"));
  SET_STRING_ELT(nms, 509, mkChar("offset_output_inc05"));
  SET_STRING_ELT(nms, 510, mkChar("offset_output_K0"));
  SET_STRING_ELT(nms, 511, mkChar("offset_output_KL"));
  SET_STRING_ELT(nms, 512, mkChar("offset_output_mu"));
  SET_STRING_ELT(nms, 513, mkChar("offset_output_mv"));
  SET_STRING_ELT(nms, 514, mkChar("offset_output_Pout"));
  SET_STRING_ELT(nms, 515, mkChar("offset_output_prev"));
  SET_STRING_ELT(nms, 516, mkChar("offset_output_Q"));
  SET_STRING_ELT(nms, 517, mkChar("offset_output_Sout"));
  SET_STRING_ELT(nms, 518, mkChar("offset_output_Tout"));
  SET_STRING_ELT(nms, 519, mkChar("offset_output_Uout"));
  SET_STRING_ELT(nms, 520, mkChar("offset_output_wh"));
  SET_STRING_ELT(nms, 521, mkChar("offset_variable_A"));
  SET_STRING_ELT(nms, 522, mkChar("offset_variable_D"));
  SET_STRING_ELT(nms, 523, mkChar("offset_variable_EL"));
  SET_STRING_ELT(nms, 524, mkChar("offset_variable_IB"));
  SET_STRING_ELT(nms, 525, mkChar("offset_variable_ICA"));
  SET_STRING_ELT(nms, 526, mkChar("offset_variable_ICM"));
  SET_STRING_ELT(nms, 527, mkChar("offset_variable_ID"));
  SET_STRING_ELT(nms, 528, mkChar("offset_variable_Iv"));
  SET_STRING_ELT(nms, 529, mkChar("offset_variable_LL"));
  SET_STRING_ELT(nms, 530, mkChar("offset_variable_P"));
  SET_STRING_ELT(nms, 531, mkChar("offset_variable_PL"));
  SET_STRING_ELT(nms, 532, mkChar("offset_variable_S"));
  SET_STRING_ELT(nms, 533, mkChar("offset_variable_T"));
  SET_STRING_ELT(nms, 534, mkChar("offset_variable_U"));
  SET_STRING_ELT(nms, 535, mkChar("omega"));
  SET_STRING_ELT(nms, 536, mkChar("p_det"));
  SET_STRING_ELT(nms, 537, mkChar("p1"));
  SET_STRING_ELT(nms, 538, mkChar("p10"));
  SET_STRING_ELT(nms, 539, mkChar("p2"));
  SET_STRING_ELT(nms, 540, mkChar("Ph"));
  SET_STRING_ELT(nms, 541, mkChar("phi"));
  SET_STRING_ELT(nms, 542, mkChar("phi0"));
  SET_STRING_ELT(nms, 543, mkChar("phi1"));
  SET_STRING_ELT(nms, 544, mkChar("pi"));
  SET_STRING_ELT(nms, 545, mkChar("PM"));
  SET_STRING_ELT(nms, 546, mkChar("prev0to59"));
  SET_STRING_ELT(nms, 547, mkChar("Q"));
  SET_STRING_ELT(nms, 548, mkChar("Q0"));
  SET_STRING_ELT(nms, 549, mkChar("r_IRS0"));
  SET_STRING_ELT(nms, 550, mkChar("r_ITN0"));
  SET_STRING_ELT(nms, 551, mkChar("r_ITN1"));
  SET_STRING_ELT(nms, 552, mkChar("rA"));
  SET_STRING_ELT(nms, 553, mkChar("rD"));
  SET_STRING_ELT(nms, 554, mkChar("rel_foi"));
  SET_STRING_ELT(nms, 555, mkChar("rows"));
  SET_STRING_ELT(nms, 556, mkChar("rows_v"));
  SET_STRING_ELT(nms, 557, mkChar("rP"));
  SET_STRING_ELT(nms, 558, mkChar("rT"));
  SET_STRING_ELT(nms, 559, mkChar("rU"));
  SET_STRING_ELT(nms, 560, mkChar("Sh"));
  SET_STRING_ELT(nms, 561, mkChar("ssa0"));
  SET_STRING_ELT(nms, 562, mkChar("ssa1"));
  SET_STRING_ELT(nms, 563, mkChar("ssa2"));
  SET_STRING_ELT(nms, 564, mkChar("ssa3"));
  SET_STRING_ELT(nms, 565, mkChar("ssb1"));
  SET_STRING_ELT(nms, 566, mkChar("ssb2"));
  SET_STRING_ELT(nms, 567, mkChar("ssb3"));
  SET_STRING_ELT(nms, 568, mkChar("surv"));
  SET_STRING_ELT(nms, 569, mkChar("tau1"));
  SET_STRING_ELT(nms, 570, mkChar("tau2"));
  SET_STRING_ELT(nms, 571, mkChar("Th"));
  SET_STRING_ELT(nms, 572, mkChar("theta_c"));
  SET_STRING_ELT(nms, 573, mkChar("uB"));
  SET_STRING_ELT(nms, 574, mkChar("uCA"));
  SET_STRING_ELT(nms, 575, mkChar("uD"));
  SET_STRING_ELT(nms, 576, mkChar("Uh"));
  SET_STRING_ELT(nms, 577, mkChar("w"));
  SET_STRING_ELT(nms, 578, mkChar("w_"));
  SET_STRING_ELT(nms, 579, mkChar("wbar"));
  SET_STRING_ELT(nms, 580, mkChar("wh"));
  SET_STRING_ELT(nms, 581, mkChar("whi"));
  SET_STRING_ELT(nms, 582, mkChar("x_I"));
  SET_STRING_ELT(nms, 583, mkChar("Y"));
  SET_STRING_ELT(nms, 584, mkChar("yy"));
  SET_STRING_ELT(nms, 585, mkChar("yy_"));
  SET_STRING_ELT(nms, 586, mkChar("z"));
  SET_STRING_ELT(nms, 587, mkChar("z_"));
  SET_STRING_ELT(nms, 588, mkChar("zbar"));
  SET_STRING_ELT(nms, 589, mkChar("zh"));
  SET_STRING_ELT(nms, 590, mkChar("zhi"));
  SET_STRING_ELT(nms, 591, mkChar("odin_model_metapop_use_dde"));
  setAttrib(contents, R_NamesSymbol, nms);
  UNPROTECT(142);
  return contents;
}
SEXP odin_model_metapop_set_user(SEXP internal_p, SEXP user) {
  odin_model_metapop_internal *internal = odin_model_metapop_get_internal(internal_p, 1);
  internal->aD = user_get_scalar_double(user, "aD", internal->aD, NA_REAL, NA_REAL);
  internal->age_20_factor = user_get_scalar_double(user, "age_20_factor", internal->age_20_factor, NA_REAL, NA_REAL);
  internal->age05 = user_get_scalar_int(user, "age05", internal->age05, NA_REAL, NA_REAL);
  internal->age20l = user_get_scalar_int(user, "age20l", internal->age20l, NA_REAL, NA_REAL);
  internal->age20u = user_get_scalar_int(user, "age20u", internal->age20u, NA_REAL, NA_REAL);
  internal->age59 = user_get_scalar_int(user, "age59", internal->age59, NA_REAL, NA_REAL);
  internal->b0 = user_get_scalar_double(user, "b0", internal->b0, NA_REAL, NA_REAL);
  internal->b1 = user_get_scalar_double(user, "b1", internal->b1, NA_REAL, NA_REAL);
  internal->betaL = user_get_scalar_double(user, "betaL", internal->betaL, NA_REAL, NA_REAL);
  internal->bites_Bed = user_get_scalar_double(user, "bites_Bed", internal->bites_Bed, NA_REAL, NA_REAL);
  internal->bites_Indoors = user_get_scalar_double(user, "bites_Indoors", internal->bites_Indoors, NA_REAL, NA_REAL);
  internal->cD = user_get_scalar_double(user, "cD", internal->cD, NA_REAL, NA_REAL);
  internal->chi = user_get_scalar_double(user, "chi", internal->chi, NA_REAL, NA_REAL);
  internal->cT = user_get_scalar_double(user, "cT", internal->cT, NA_REAL, NA_REAL);
  internal->cU = user_get_scalar_double(user, "cU", internal->cU, NA_REAL, NA_REAL);
  internal->d_IRS0 = user_get_scalar_double(user, "d_IRS0", internal->d_IRS0, NA_REAL, NA_REAL);
  internal->d_ITN0 = user_get_scalar_double(user, "d_ITN0", internal->d_ITN0, NA_REAL, NA_REAL);
  internal->d1 = user_get_scalar_double(user, "d1", internal->d1, NA_REAL, NA_REAL);
  internal->dB = user_get_scalar_double(user, "dB", internal->dB, NA_REAL, NA_REAL);
  internal->dCA = user_get_scalar_double(user, "dCA", internal->dCA, NA_REAL, NA_REAL);
  internal->dCM = user_get_scalar_double(user, "dCM", internal->dCM, NA_REAL, NA_REAL);
  internal->dE = user_get_scalar_double(user, "dE", internal->dE, NA_REAL, NA_REAL);
  internal->dEL = user_get_scalar_double(user, "dEL", internal->dEL, NA_REAL, NA_REAL);
  internal->delayGam = user_get_scalar_double(user, "delayGam", internal->delayGam, NA_REAL, NA_REAL);
  internal->delayMos = user_get_scalar_double(user, "delayMos", internal->delayMos, NA_REAL, NA_REAL);
  internal->dID = user_get_scalar_double(user, "dID", internal->dID, NA_REAL, NA_REAL);
  internal->dLL = user_get_scalar_double(user, "dLL", internal->dLL, NA_REAL, NA_REAL);
  internal->dPL = user_get_scalar_double(user, "dPL", internal->dPL, NA_REAL, NA_REAL);
  internal->eta = user_get_scalar_double(user, "eta", internal->eta, NA_REAL, NA_REAL);
  internal->fD0 = user_get_scalar_double(user, "fD0", internal->fD0, NA_REAL, NA_REAL);
  internal->ft = user_get_scalar_double(user, "ft", internal->ft, NA_REAL, NA_REAL);
  internal->gamma1 = user_get_scalar_double(user, "gamma1", internal->gamma1, NA_REAL, NA_REAL);
  internal->gammaD = user_get_scalar_double(user, "gammaD", internal->gammaD, NA_REAL, NA_REAL);
  internal->gammaL = user_get_scalar_double(user, "gammaL", internal->gammaL, NA_REAL, NA_REAL);
  internal->IB0 = user_get_scalar_double(user, "IB0", internal->IB0, NA_REAL, NA_REAL);
  internal->IC0 = user_get_scalar_double(user, "IC0", internal->IC0, NA_REAL, NA_REAL);
  internal->ID0 = user_get_scalar_double(user, "ID0", internal->ID0, NA_REAL, NA_REAL);
  internal->IRS_interval = user_get_scalar_double(user, "IRS_interval", internal->IRS_interval, NA_REAL, NA_REAL);
  internal->irs_loss = user_get_scalar_double(user, "irs_loss", internal->irs_loss, NA_REAL, NA_REAL);
  internal->ITN_interval = user_get_scalar_double(user, "ITN_interval", internal->ITN_interval, NA_REAL, NA_REAL);
  internal->ITN_IRS_on = user_get_scalar_double(user, "ITN_IRS_on", internal->ITN_IRS_on, NA_REAL, NA_REAL);
  internal->itn_loss = user_get_scalar_double(user, "itn_loss", internal->itn_loss, NA_REAL, NA_REAL);
  internal->kB = user_get_scalar_double(user, "kB", internal->kB, NA_REAL, NA_REAL);
  internal->kC = user_get_scalar_double(user, "kC", internal->kC, NA_REAL, NA_REAL);
  internal->kD = user_get_scalar_double(user, "kD", internal->kD, NA_REAL, NA_REAL);
  internal->mu0 = user_get_scalar_double(user, "mu0", internal->mu0, NA_REAL, NA_REAL);
  internal->muEL = user_get_scalar_double(user, "muEL", internal->muEL, NA_REAL, NA_REAL);
  internal->muLL = user_get_scalar_double(user, "muLL", internal->muLL, NA_REAL, NA_REAL);
  internal->muPL = user_get_scalar_double(user, "muPL", internal->muPL, NA_REAL, NA_REAL);
  internal->na = user_get_scalar_int(user, "na", internal->na, NA_REAL, NA_REAL);
  internal->nh = user_get_scalar_int(user, "nh", internal->nh, NA_REAL, NA_REAL);
  internal->np = user_get_scalar_int(user, "np", internal->np, NA_REAL, NA_REAL);
  internal->num_int = user_get_scalar_int(user, "num_int", internal->num_int, NA_REAL, NA_REAL);
  internal->omega = user_get_scalar_double(user, "omega", internal->omega, NA_REAL, NA_REAL);
  internal->p10 = user_get_scalar_double(user, "p10", internal->p10, NA_REAL, NA_REAL);
  internal->p2 = user_get_scalar_double(user, "p2", internal->p2, NA_REAL, NA_REAL);
  internal->phi0 = user_get_scalar_double(user, "phi0", internal->phi0, NA_REAL, NA_REAL);
  internal->phi1 = user_get_scalar_double(user, "phi1", internal->phi1, NA_REAL, NA_REAL);
  internal->pi = user_get_scalar_double(user, "pi", internal->pi, NA_REAL, NA_REAL);
  internal->PM = user_get_scalar_double(user, "PM", internal->PM, NA_REAL, NA_REAL);
  internal->Q0 = user_get_scalar_double(user, "Q0", internal->Q0, NA_REAL, NA_REAL);
  internal->r_IRS0 = user_get_scalar_double(user, "r_IRS0", internal->r_IRS0, NA_REAL, NA_REAL);
  internal->r_ITN0 = user_get_scalar_double(user, "r_ITN0", internal->r_ITN0, NA_REAL, NA_REAL);
  internal->r_ITN1 = user_get_scalar_double(user, "r_ITN1", internal->r_ITN1, NA_REAL, NA_REAL);
  internal->rA = user_get_scalar_double(user, "rA", internal->rA, NA_REAL, NA_REAL);
  internal->rD = user_get_scalar_double(user, "rD", internal->rD, NA_REAL, NA_REAL);
  internal->rP = user_get_scalar_double(user, "rP", internal->rP, NA_REAL, NA_REAL);
  internal->rT = user_get_scalar_double(user, "rT", internal->rT, NA_REAL, NA_REAL);
  internal->rU = user_get_scalar_double(user, "rU", internal->rU, NA_REAL, NA_REAL);
  internal->ssa0 = user_get_scalar_double(user, "ssa0", internal->ssa0, NA_REAL, NA_REAL);
  internal->ssa1 = user_get_scalar_double(user, "ssa1", internal->ssa1, NA_REAL, NA_REAL);
  internal->ssa2 = user_get_scalar_double(user, "ssa2", internal->ssa2, NA_REAL, NA_REAL);
  internal->ssa3 = user_get_scalar_double(user, "ssa3", internal->ssa3, NA_REAL, NA_REAL);
  internal->ssb1 = user_get_scalar_double(user, "ssb1", internal->ssb1, NA_REAL, NA_REAL);
  internal->ssb2 = user_get_scalar_double(user, "ssb2", internal->ssb2, NA_REAL, NA_REAL);
  internal->ssb3 = user_get_scalar_double(user, "ssb3", internal->ssb3, NA_REAL, NA_REAL);
  internal->tau1 = user_get_scalar_double(user, "tau1", internal->tau1, NA_REAL, NA_REAL);
  internal->tau2 = user_get_scalar_double(user, "tau2", internal->tau2, NA_REAL, NA_REAL);
  internal->theta_c = user_get_scalar_double(user, "theta_c", internal->theta_c, NA_REAL, NA_REAL);
  internal->uB = user_get_scalar_double(user, "uB", internal->uB, NA_REAL, NA_REAL);
  internal->uCA = user_get_scalar_double(user, "uCA", internal->uCA, NA_REAL, NA_REAL);
  internal->uD = user_get_scalar_double(user, "uD", internal->uD, NA_REAL, NA_REAL);
  internal->b_lambda = (internal->gammaL * internal->muLL / (double) internal->muEL - internal->dEL / (double) internal->dLL + (internal->gammaL - 1) * internal->muLL * internal->dEL);
  internal->dim_A_1 = internal->na;
  internal->dim_A_2 = internal->nh;
  internal->dim_A_3 = internal->num_int;
  internal->dim_A_4 = internal->np;
  internal->dim_age = internal->na;
  internal->dim_age_rate = internal->na;
  internal->dim_Ah = internal->np;
  internal->dim_Aout = internal->np;
  internal->dim_av = internal->np;
  internal->dim_av_human_1 = internal->num_int;
  internal->dim_av_human_2 = internal->np;
  internal->dim_av_mosq_1 = internal->num_int;
  internal->dim_av_mosq_2 = internal->np;
  internal->dim_b_1 = internal->na;
  internal->dim_b_2 = internal->nh;
  internal->dim_b_3 = internal->num_int;
  internal->dim_b_4 = internal->np;
  internal->dim_beta_larval = internal->np;
  internal->dim_betaa = internal->np;
  internal->dim_cA_1 = internal->na;
  internal->dim_cA_2 = internal->nh;
  internal->dim_cA_3 = internal->num_int;
  internal->dim_cA_4 = internal->np;
  internal->dim_clin_inc_1 = internal->na;
  internal->dim_clin_inc_2 = internal->nh;
  internal->dim_clin_inc_3 = internal->num_int;
  internal->dim_clin_inc_4 = internal->np;
  internal->dim_clin_inc0to5_1 = internal->age05;
  internal->dim_clin_inc0to5_2 = internal->nh;
  internal->dim_clin_inc0to5_3 = internal->num_int;
  internal->dim_clin_inc0to5_4 = internal->np;
  internal->dim_cov__1 = 4;
  internal->dim_cov__2 = internal->np;
  internal->dim_cov_1 = internal->num_int;
  internal->dim_cov_2 = internal->np;
  internal->dim_D_1 = internal->na;
  internal->dim_D_2 = internal->nh;
  internal->dim_D_3 = internal->num_int;
  internal->dim_D_4 = internal->np;
  internal->dim_den = internal->na;
  internal->dim_Dh = internal->np;
  internal->dim_Dout = internal->np;
  internal->dim_EIR_1 = internal->na;
  internal->dim_EIR_2 = internal->nh;
  internal->dim_EIR_3 = internal->num_int;
  internal->dim_EIR_4 = internal->np;
  internal->dim_EL = internal->np;
  internal->dim_eov = internal->np;
  internal->dim_Ev = internal->np;
  internal->dim_fd = internal->na;
  internal->dim_FOI_1 = internal->na;
  internal->dim_FOI_2 = internal->nh;
  internal->dim_FOI_3 = internal->num_int;
  internal->dim_FOI_4 = internal->np;
  internal->dim_foi_age = internal->na;
  internal->dim_FOI_lag_1 = internal->na;
  internal->dim_FOI_lag_2 = internal->nh;
  internal->dim_FOI_lag_3 = internal->num_int;
  internal->dim_FOI_lag_4 = internal->np;
  internal->dim_FOIv = internal->np;
  internal->dim_FOIvijk_1 = internal->na;
  internal->dim_FOIvijk_2 = internal->nh;
  internal->dim_FOIvijk_3 = internal->num_int;
  internal->dim_FOIvijk_4 = internal->np;
  internal->dim_fv = internal->np;
  internal->dim_H = internal->np;
  internal->dim_het_wt = internal->nh;
  internal->dim_IB_1 = internal->na;
  internal->dim_IB_2 = internal->nh;
  internal->dim_IB_3 = internal->num_int;
  internal->dim_IB_4 = internal->np;
  internal->dim_IC_1 = internal->na;
  internal->dim_IC_2 = internal->nh;
  internal->dim_IC_3 = internal->num_int;
  internal->dim_IC_4 = internal->np;
  internal->dim_ICA_1 = internal->na;
  internal->dim_ICA_2 = internal->nh;
  internal->dim_ICA_3 = internal->num_int;
  internal->dim_ICA_4 = internal->np;
  internal->dim_ICM_1 = internal->na;
  internal->dim_ICM_2 = internal->nh;
  internal->dim_ICM_3 = internal->num_int;
  internal->dim_ICM_4 = internal->np;
  internal->dim_ID_1 = internal->na;
  internal->dim_ID_2 = internal->nh;
  internal->dim_ID_3 = internal->num_int;
  internal->dim_ID_4 = internal->np;
  internal->dim_inc05 = internal->np;
  internal->dim_ince = internal->np;
  internal->dim_incv = internal->np;
  internal->dim_init_A_1 = internal->na;
  internal->dim_init_A_2 = internal->nh;
  internal->dim_init_A_3 = internal->num_int;
  internal->dim_init_A_4 = internal->np;
  internal->dim_init_D_1 = internal->na;
  internal->dim_init_D_2 = internal->nh;
  internal->dim_init_D_3 = internal->num_int;
  internal->dim_init_D_4 = internal->np;
  internal->dim_init_EL = internal->np;
  internal->dim_init_Ev = internal->np;
  internal->dim_init_IB_1 = internal->na;
  internal->dim_init_IB_2 = internal->nh;
  internal->dim_init_IB_3 = internal->num_int;
  internal->dim_init_IB_4 = internal->np;
  internal->dim_init_ICA_1 = internal->na;
  internal->dim_init_ICA_2 = internal->nh;
  internal->dim_init_ICA_3 = internal->num_int;
  internal->dim_init_ICA_4 = internal->np;
  internal->dim_init_ICM_1 = internal->na;
  internal->dim_init_ICM_2 = internal->nh;
  internal->dim_init_ICM_3 = internal->num_int;
  internal->dim_init_ICM_4 = internal->np;
  internal->dim_init_ICM_pre_1 = internal->nh;
  internal->dim_init_ICM_pre_2 = internal->num_int;
  internal->dim_init_ICM_pre_3 = internal->np;
  internal->dim_init_ID_1 = internal->na;
  internal->dim_init_ID_2 = internal->nh;
  internal->dim_init_ID_3 = internal->num_int;
  internal->dim_init_ID_4 = internal->np;
  internal->dim_init_Iv = internal->np;
  internal->dim_init_LL = internal->np;
  internal->dim_init_P_1 = internal->na;
  internal->dim_init_P_2 = internal->nh;
  internal->dim_init_P_3 = internal->num_int;
  internal->dim_init_P_4 = internal->np;
  internal->dim_init_PL = internal->np;
  internal->dim_init_S_1 = internal->na;
  internal->dim_init_S_2 = internal->nh;
  internal->dim_init_S_3 = internal->num_int;
  internal->dim_init_S_4 = internal->np;
  internal->dim_init_Sv = internal->np;
  internal->dim_init_T_1 = internal->na;
  internal->dim_init_T_2 = internal->nh;
  internal->dim_init_T_3 = internal->num_int;
  internal->dim_init_T_4 = internal->np;
  internal->dim_init_U_1 = internal->na;
  internal->dim_init_U_2 = internal->nh;
  internal->dim_init_U_3 = internal->num_int;
  internal->dim_init_U_4 = internal->np;
  internal->dim_irs_cov = internal->np;
  internal->dim_itn_cov = internal->np;
  internal->dim_Iv = internal->np;
  internal->dim_Ivout = internal->np;
  internal->dim_K0 = internal->np;
  internal->dim_KL = internal->np;
  internal->dim_lag_FOIv = internal->np;
  internal->dim_lag_incv = internal->np;
  internal->dim_lag_mix_FOIv = internal->np;
  internal->dim_lambda = internal->np;
  internal->dim_LL = internal->np;
  internal->dim_mix_1 = internal->np;
  internal->dim_mix_2 = internal->np;
  internal->dim_mu = internal->np;
  internal->dim_mv = internal->np;
  internal->dim_mv0 = internal->np;
  internal->dim_P_1 = internal->na;
  internal->dim_P_2 = internal->nh;
  internal->dim_P_3 = internal->num_int;
  internal->dim_P_4 = internal->np;
  internal->dim_p_det_1 = internal->na;
  internal->dim_p_det_2 = internal->nh;
  internal->dim_p_det_3 = internal->num_int;
  internal->dim_p_det_4 = internal->np;
  internal->dim_p1 = internal->np;
  internal->dim_Ph = internal->np;
  internal->dim_phi_1 = internal->na;
  internal->dim_phi_2 = internal->nh;
  internal->dim_phi_3 = internal->num_int;
  internal->dim_phi_4 = internal->np;
  internal->dim_PL = internal->np;
  internal->dim_Pout = internal->np;
  internal->dim_prev = internal->np;
  internal->dim_prev0to59_1 = internal->age59;
  internal->dim_prev0to59_2 = internal->nh;
  internal->dim_prev0to59_3 = internal->num_int;
  internal->dim_prev0to59_4 = internal->np;
  internal->dim_Q = internal->np;
  internal->dim_rel_foi = internal->nh;
  internal->dim_rows_1 = internal->np;
  internal->dim_rows_2 = internal->np;
  internal->dim_rows_v_1 = internal->np;
  internal->dim_rows_v_2 = internal->np;
  internal->dim_S_1 = internal->na;
  internal->dim_S_2 = internal->nh;
  internal->dim_S_3 = internal->num_int;
  internal->dim_S_4 = internal->np;
  internal->dim_Sh = internal->np;
  internal->dim_Sout = internal->np;
  internal->dim_surv = internal->np;
  internal->dim_Sv = internal->np;
  internal->dim_T_1 = internal->na;
  internal->dim_T_2 = internal->nh;
  internal->dim_T_3 = internal->num_int;
  internal->dim_T_4 = internal->np;
  internal->dim_Th = internal->np;
  internal->dim_Tout = internal->np;
  internal->dim_U_1 = internal->na;
  internal->dim_U_2 = internal->nh;
  internal->dim_U_3 = internal->num_int;
  internal->dim_U_4 = internal->np;
  internal->dim_Uh = internal->np;
  internal->dim_Uout = internal->np;
  internal->dim_w = internal->num_int;
  internal->dim_wbar = internal->np;
  internal->dim_wh = internal->np;
  internal->dim_whi_1 = internal->num_int;
  internal->dim_whi_2 = internal->np;
  internal->dim_x_I = internal->na;
  internal->dim_Y_1 = internal->na;
  internal->dim_Y_2 = internal->nh;
  internal->dim_Y_3 = internal->num_int;
  internal->dim_Y_4 = internal->np;
  internal->dim_yy = internal->num_int;
  internal->dim_z = internal->num_int;
  internal->dim_zbar = internal->np;
  internal->dim_zh = internal->np;
  internal->dim_zhi_1 = internal->num_int;
  internal->dim_zhi_2 = internal->np;
  internal->age = (double*) user_get_array(user, false, internal->age, "age", NA_REAL, NA_REAL, 1, internal->dim_age);
  internal->age_rate = (double*) user_get_array(user, false, internal->age_rate, "age_rate", NA_REAL, NA_REAL, 1, internal->dim_age_rate);
  Free(internal->Ah);
  internal->Ah = (double*) Calloc(internal->dim_Ah, double);
  Free(internal->av);
  internal->av = (double*) Calloc(internal->dim_av, double);
  Free(internal->beta_larval);
  internal->beta_larval = (double*) Calloc(internal->dim_beta_larval, double);
  Free(internal->betaa);
  internal->betaa = (double*) Calloc(internal->dim_betaa, double);
  Free(internal->Dh);
  internal->Dh = (double*) Calloc(internal->dim_Dh, double);
  Free(internal->eov);
  internal->eov = (double*) Calloc(internal->dim_eov, double);
  Free(internal->fd);
  internal->fd = (double*) Calloc(internal->dim_fd, double);
  Free(internal->FOIv);
  internal->FOIv = (double*) Calloc(internal->dim_FOIv, double);
  Free(internal->fv);
  internal->fv = (double*) Calloc(internal->dim_fv, double);
  Free(internal->H);
  internal->H = (double*) Calloc(internal->dim_H, double);
  Free(internal->ince);
  internal->ince = (double*) Calloc(internal->dim_ince, double);
  Free(internal->incv);
  internal->incv = (double*) Calloc(internal->dim_incv, double);
  Free(internal->initial_EL);
  internal->initial_EL = (double*) Calloc(internal->dim_EL, double);
  Free(internal->initial_Ev);
  internal->initial_Ev = (double*) Calloc(internal->dim_Ev, double);
  Free(internal->initial_Iv);
  internal->initial_Iv = (double*) Calloc(internal->dim_Iv, double);
  Free(internal->initial_LL);
  internal->initial_LL = (double*) Calloc(internal->dim_LL, double);
  Free(internal->initial_PL);
  internal->initial_PL = (double*) Calloc(internal->dim_PL, double);
  Free(internal->initial_Sv);
  internal->initial_Sv = (double*) Calloc(internal->dim_Sv, double);
  Free(internal->K0);
  internal->K0 = (double*) Calloc(internal->dim_K0, double);
  Free(internal->KL);
  internal->KL = (double*) Calloc(internal->dim_KL, double);
  Free(internal->lag_FOIv);
  internal->lag_FOIv = (double*) Calloc(internal->dim_lag_FOIv, double);
  Free(internal->lag_incv);
  internal->lag_incv = (double*) Calloc(internal->dim_lag_incv, double);
  Free(internal->lag_mix_FOIv);
  internal->lag_mix_FOIv = (double*) Calloc(internal->dim_lag_mix_FOIv, double);
  Free(internal->lambda);
  internal->lambda = (double*) Calloc(internal->dim_lambda, double);
  Free(internal->mu);
  internal->mu = (double*) Calloc(internal->dim_mu, double);
  Free(internal->mv);
  internal->mv = (double*) Calloc(internal->dim_mv, double);
  Free(internal->p1);
  internal->p1 = (double*) Calloc(internal->dim_p1, double);
  Free(internal->Ph);
  internal->Ph = (double*) Calloc(internal->dim_Ph, double);
  Free(internal->Q);
  internal->Q = (double*) Calloc(internal->dim_Q, double);
  Free(internal->Sh);
  internal->Sh = (double*) Calloc(internal->dim_Sh, double);
  Free(internal->surv);
  internal->surv = (double*) Calloc(internal->dim_surv, double);
  Free(internal->Th);
  internal->Th = (double*) Calloc(internal->dim_Th, double);
  Free(internal->Uh);
  internal->Uh = (double*) Calloc(internal->dim_Uh, double);
  Free(internal->w);
  internal->w = (double*) Calloc(internal->dim_w, double);
  Free(internal->wbar);
  internal->wbar = (double*) Calloc(internal->dim_wbar, double);
  Free(internal->wh);
  internal->wh = (double*) Calloc(internal->dim_wh, double);
  Free(internal->yy);
  internal->yy = (double*) Calloc(internal->dim_yy, double);
  Free(internal->z);
  internal->z = (double*) Calloc(internal->dim_z, double);
  Free(internal->zbar);
  internal->zbar = (double*) Calloc(internal->dim_zbar, double);
  Free(internal->zh);
  internal->zh = (double*) Calloc(internal->dim_zh, double);
  Free(internal->delay_array_av);
  internal->delay_array_av = (double*) Calloc(internal->dim_av, double);
  Free(internal->delay_array_fv);
  internal->delay_array_fv = (double*) Calloc(internal->dim_fv, double);
  Free(internal->delay_array_ince);
  internal->delay_array_ince = (double*) Calloc(internal->dim_ince, double);
  Free(internal->delay_array_lag_FOIv);
  internal->delay_array_lag_FOIv = (double*) Calloc(internal->dim_lag_FOIv, double);
  Free(internal->delay_array_lag_incv);
  internal->delay_array_lag_incv = (double*) Calloc(internal->dim_lag_incv, double);
  Free(internal->delay_array_lag_mix_FOIv);
  internal->delay_array_lag_mix_FOIv = (double*) Calloc(internal->dim_lag_mix_FOIv, double);
  Free(internal->delay_array_mu);
  internal->delay_array_mu = (double*) Calloc(internal->dim_mu, double);
  Free(internal->delay_array_p1);
  internal->delay_array_p1 = (double*) Calloc(internal->dim_p1, double);
  Free(internal->delay_array_Q);
  internal->delay_array_Q = (double*) Calloc(internal->dim_Q, double);
  Free(internal->delay_array_surv);
  internal->delay_array_surv = (double*) Calloc(internal->dim_surv, double);
  Free(internal->delay_array_w);
  internal->delay_array_w = (double*) Calloc(internal->dim_w, double);
  Free(internal->delay_array_wbar);
  internal->delay_array_wbar = (double*) Calloc(internal->dim_wbar, double);
  Free(internal->delay_array_wh);
  internal->delay_array_wh = (double*) Calloc(internal->dim_wh, double);
  Free(internal->delay_array_yy);
  internal->delay_array_yy = (double*) Calloc(internal->dim_yy, double);
  Free(internal->delay_array_z);
  internal->delay_array_z = (double*) Calloc(internal->dim_z, double);
  Free(internal->delay_array_zbar);
  internal->delay_array_zbar = (double*) Calloc(internal->dim_zbar, double);
  Free(internal->delay_array_zh);
  internal->delay_array_zh = (double*) Calloc(internal->dim_zh, double);
  internal->den = (double*) user_get_array(user, false, internal->den, "den", NA_REAL, NA_REAL, 1, internal->dim_den);
  internal->dim_A = internal->dim_A_1 * internal->dim_A_2 * internal->dim_A_3 * internal->dim_A_4;
  internal->dim_A_12 = internal->dim_A_1 * internal->dim_A_2;
  internal->dim_A_123 = internal->dim_A_1 * internal->dim_A_2 * internal->dim_A_3;
  internal->dim_av_human = internal->dim_av_human_1 * internal->dim_av_human_2;
  internal->dim_av_mosq = internal->dim_av_mosq_1 * internal->dim_av_mosq_2;
  internal->dim_b = internal->dim_b_1 * internal->dim_b_2 * internal->dim_b_3 * internal->dim_b_4;
  internal->dim_b_12 = internal->dim_b_1 * internal->dim_b_2;
  internal->dim_b_123 = internal->dim_b_1 * internal->dim_b_2 * internal->dim_b_3;
  internal->dim_cA = internal->dim_cA_1 * internal->dim_cA_2 * internal->dim_cA_3 * internal->dim_cA_4;
  internal->dim_cA_12 = internal->dim_cA_1 * internal->dim_cA_2;
  internal->dim_cA_123 = internal->dim_cA_1 * internal->dim_cA_2 * internal->dim_cA_3;
  internal->dim_clin_inc = internal->dim_clin_inc_1 * internal->dim_clin_inc_2 * internal->dim_clin_inc_3 * internal->dim_clin_inc_4;
  internal->dim_clin_inc_12 = internal->dim_clin_inc_1 * internal->dim_clin_inc_2;
  internal->dim_clin_inc_123 = internal->dim_clin_inc_1 * internal->dim_clin_inc_2 * internal->dim_clin_inc_3;
  internal->dim_clin_inc0to5 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2 * internal->dim_clin_inc0to5_3 * internal->dim_clin_inc0to5_4;
  internal->dim_clin_inc0to5_12 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2;
  internal->dim_clin_inc0to5_123 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2 * internal->dim_clin_inc0to5_3;
  internal->dim_cov = internal->dim_cov_1 * internal->dim_cov_2;
  internal->dim_cov_ = internal->dim_cov__1 * internal->dim_cov__2;
  internal->dim_D = internal->dim_D_1 * internal->dim_D_2 * internal->dim_D_3 * internal->dim_D_4;
  internal->dim_D_12 = internal->dim_D_1 * internal->dim_D_2;
  internal->dim_D_123 = internal->dim_D_1 * internal->dim_D_2 * internal->dim_D_3;
  internal->dim_delay_incv = internal->dim_Sv;
  internal->dim_EIR = internal->dim_EIR_1 * internal->dim_EIR_2 * internal->dim_EIR_3 * internal->dim_EIR_4;
  internal->dim_EIR_12 = internal->dim_EIR_1 * internal->dim_EIR_2;
  internal->dim_EIR_123 = internal->dim_EIR_1 * internal->dim_EIR_2 * internal->dim_EIR_3;
  internal->dim_FOI = internal->dim_FOI_1 * internal->dim_FOI_2 * internal->dim_FOI_3 * internal->dim_FOI_4;
  internal->dim_FOI_12 = internal->dim_FOI_1 * internal->dim_FOI_2;
  internal->dim_FOI_123 = internal->dim_FOI_1 * internal->dim_FOI_2 * internal->dim_FOI_3;
  internal->dim_FOI_lag = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2 * internal->dim_FOI_lag_3 * internal->dim_FOI_lag_4;
  internal->dim_FOI_lag_12 = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2;
  internal->dim_FOI_lag_123 = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2 * internal->dim_FOI_lag_3;
  internal->dim_FOIvijk = internal->dim_FOIvijk_1 * internal->dim_FOIvijk_2 * internal->dim_FOIvijk_3 * internal->dim_FOIvijk_4;
  internal->dim_FOIvijk_12 = internal->dim_FOIvijk_1 * internal->dim_FOIvijk_2;
  internal->dim_FOIvijk_123 = internal->dim_FOIvijk_1 * internal->dim_FOIvijk_2 * internal->dim_FOIvijk_3;
  internal->dim_IB = internal->dim_IB_1 * internal->dim_IB_2 * internal->dim_IB_3 * internal->dim_IB_4;
  internal->dim_IB_12 = internal->dim_IB_1 * internal->dim_IB_2;
  internal->dim_IB_123 = internal->dim_IB_1 * internal->dim_IB_2 * internal->dim_IB_3;
  internal->dim_IC = internal->dim_IC_1 * internal->dim_IC_2 * internal->dim_IC_3 * internal->dim_IC_4;
  internal->dim_IC_12 = internal->dim_IC_1 * internal->dim_IC_2;
  internal->dim_IC_123 = internal->dim_IC_1 * internal->dim_IC_2 * internal->dim_IC_3;
  internal->dim_ICA = internal->dim_ICA_1 * internal->dim_ICA_2 * internal->dim_ICA_3 * internal->dim_ICA_4;
  internal->dim_ICA_12 = internal->dim_ICA_1 * internal->dim_ICA_2;
  internal->dim_ICA_123 = internal->dim_ICA_1 * internal->dim_ICA_2 * internal->dim_ICA_3;
  internal->dim_ICM = internal->dim_ICM_1 * internal->dim_ICM_2 * internal->dim_ICM_3 * internal->dim_ICM_4;
  internal->dim_ICM_12 = internal->dim_ICM_1 * internal->dim_ICM_2;
  internal->dim_ICM_123 = internal->dim_ICM_1 * internal->dim_ICM_2 * internal->dim_ICM_3;
  internal->dim_ID = internal->dim_ID_1 * internal->dim_ID_2 * internal->dim_ID_3 * internal->dim_ID_4;
  internal->dim_ID_12 = internal->dim_ID_1 * internal->dim_ID_2;
  internal->dim_ID_123 = internal->dim_ID_1 * internal->dim_ID_2 * internal->dim_ID_3;
  internal->dim_init_A = internal->dim_init_A_1 * internal->dim_init_A_2 * internal->dim_init_A_3 * internal->dim_init_A_4;
  internal->dim_init_A_12 = internal->dim_init_A_1 * internal->dim_init_A_2;
  internal->dim_init_A_123 = internal->dim_init_A_1 * internal->dim_init_A_2 * internal->dim_init_A_3;
  internal->dim_init_D = internal->dim_init_D_1 * internal->dim_init_D_2 * internal->dim_init_D_3 * internal->dim_init_D_4;
  internal->dim_init_D_12 = internal->dim_init_D_1 * internal->dim_init_D_2;
  internal->dim_init_D_123 = internal->dim_init_D_1 * internal->dim_init_D_2 * internal->dim_init_D_3;
  internal->dim_init_IB = internal->dim_init_IB_1 * internal->dim_init_IB_2 * internal->dim_init_IB_3 * internal->dim_init_IB_4;
  internal->dim_init_IB_12 = internal->dim_init_IB_1 * internal->dim_init_IB_2;
  internal->dim_init_IB_123 = internal->dim_init_IB_1 * internal->dim_init_IB_2 * internal->dim_init_IB_3;
  internal->dim_init_ICA = internal->dim_init_ICA_1 * internal->dim_init_ICA_2 * internal->dim_init_ICA_3 * internal->dim_init_ICA_4;
  internal->dim_init_ICA_12 = internal->dim_init_ICA_1 * internal->dim_init_ICA_2;
  internal->dim_init_ICA_123 = internal->dim_init_ICA_1 * internal->dim_init_ICA_2 * internal->dim_init_ICA_3;
  internal->dim_init_ICM = internal->dim_init_ICM_1 * internal->dim_init_ICM_2 * internal->dim_init_ICM_3 * internal->dim_init_ICM_4;
  internal->dim_init_ICM_12 = internal->dim_init_ICM_1 * internal->dim_init_ICM_2;
  internal->dim_init_ICM_123 = internal->dim_init_ICM_1 * internal->dim_init_ICM_2 * internal->dim_init_ICM_3;
  internal->dim_init_ICM_pre = internal->dim_init_ICM_pre_1 * internal->dim_init_ICM_pre_2 * internal->dim_init_ICM_pre_3;
  internal->dim_init_ICM_pre_12 = internal->dim_init_ICM_pre_1 * internal->dim_init_ICM_pre_2;
  internal->dim_init_ID = internal->dim_init_ID_1 * internal->dim_init_ID_2 * internal->dim_init_ID_3 * internal->dim_init_ID_4;
  internal->dim_init_ID_12 = internal->dim_init_ID_1 * internal->dim_init_ID_2;
  internal->dim_init_ID_123 = internal->dim_init_ID_1 * internal->dim_init_ID_2 * internal->dim_init_ID_3;
  internal->dim_init_P = internal->dim_init_P_1 * internal->dim_init_P_2 * internal->dim_init_P_3 * internal->dim_init_P_4;
  internal->dim_init_P_12 = internal->dim_init_P_1 * internal->dim_init_P_2;
  internal->dim_init_P_123 = internal->dim_init_P_1 * internal->dim_init_P_2 * internal->dim_init_P_3;
  internal->dim_init_S = internal->dim_init_S_1 * internal->dim_init_S_2 * internal->dim_init_S_3 * internal->dim_init_S_4;
  internal->dim_init_S_12 = internal->dim_init_S_1 * internal->dim_init_S_2;
  internal->dim_init_S_123 = internal->dim_init_S_1 * internal->dim_init_S_2 * internal->dim_init_S_3;
  internal->dim_init_T = internal->dim_init_T_1 * internal->dim_init_T_2 * internal->dim_init_T_3 * internal->dim_init_T_4;
  internal->dim_init_T_12 = internal->dim_init_T_1 * internal->dim_init_T_2;
  internal->dim_init_T_123 = internal->dim_init_T_1 * internal->dim_init_T_2 * internal->dim_init_T_3;
  internal->dim_init_U = internal->dim_init_U_1 * internal->dim_init_U_2 * internal->dim_init_U_3 * internal->dim_init_U_4;
  internal->dim_init_U_12 = internal->dim_init_U_1 * internal->dim_init_U_2;
  internal->dim_init_U_123 = internal->dim_init_U_1 * internal->dim_init_U_2 * internal->dim_init_U_3;
  internal->dim_mix = internal->dim_mix_1 * internal->dim_mix_2;
  internal->dim_P = internal->dim_P_1 * internal->dim_P_2 * internal->dim_P_3 * internal->dim_P_4;
  internal->dim_P_12 = internal->dim_P_1 * internal->dim_P_2;
  internal->dim_P_123 = internal->dim_P_1 * internal->dim_P_2 * internal->dim_P_3;
  internal->dim_p_det = internal->dim_p_det_1 * internal->dim_p_det_2 * internal->dim_p_det_3 * internal->dim_p_det_4;
  internal->dim_p_det_12 = internal->dim_p_det_1 * internal->dim_p_det_2;
  internal->dim_p_det_123 = internal->dim_p_det_1 * internal->dim_p_det_2 * internal->dim_p_det_3;
  internal->dim_phi = internal->dim_phi_1 * internal->dim_phi_2 * internal->dim_phi_3 * internal->dim_phi_4;
  internal->dim_phi_12 = internal->dim_phi_1 * internal->dim_phi_2;
  internal->dim_phi_123 = internal->dim_phi_1 * internal->dim_phi_2 * internal->dim_phi_3;
  internal->dim_prev0to59 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2 * internal->dim_prev0to59_3 * internal->dim_prev0to59_4;
  internal->dim_prev0to59_12 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2;
  internal->dim_prev0to59_123 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2 * internal->dim_prev0to59_3;
  internal->dim_rows = internal->dim_rows_1 * internal->dim_rows_2;
  internal->dim_rows_v = internal->dim_rows_v_1 * internal->dim_rows_v_2;
  internal->dim_S = internal->dim_S_1 * internal->dim_S_2 * internal->dim_S_3 * internal->dim_S_4;
  internal->dim_S_12 = internal->dim_S_1 * internal->dim_S_2;
  internal->dim_S_123 = internal->dim_S_1 * internal->dim_S_2 * internal->dim_S_3;
  internal->dim_T = internal->dim_T_1 * internal->dim_T_2 * internal->dim_T_3 * internal->dim_T_4;
  internal->dim_T_12 = internal->dim_T_1 * internal->dim_T_2;
  internal->dim_T_123 = internal->dim_T_1 * internal->dim_T_2 * internal->dim_T_3;
  internal->dim_U = internal->dim_U_1 * internal->dim_U_2 * internal->dim_U_3 * internal->dim_U_4;
  internal->dim_U_12 = internal->dim_U_1 * internal->dim_U_2;
  internal->dim_U_123 = internal->dim_U_1 * internal->dim_U_2 * internal->dim_U_3;
  internal->dim_whi = internal->dim_whi_1 * internal->dim_whi_2;
  internal->dim_Y = internal->dim_Y_1 * internal->dim_Y_2 * internal->dim_Y_3 * internal->dim_Y_4;
  internal->dim_Y_12 = internal->dim_Y_1 * internal->dim_Y_2;
  internal->dim_Y_123 = internal->dim_Y_1 * internal->dim_Y_2 * internal->dim_Y_3;
  internal->dim_zhi = internal->dim_zhi_1 * internal->dim_zhi_2;
  internal->foi_age = (double*) user_get_array(user, false, internal->foi_age, "foi_age", NA_REAL, NA_REAL, 1, internal->dim_foi_age);
  internal->het_wt = (double*) user_get_array(user, false, internal->het_wt, "het_wt", NA_REAL, NA_REAL, 1, internal->dim_het_wt);
  internal->init_EL = (double*) user_get_array(user, false, internal->init_EL, "init_EL", NA_REAL, NA_REAL, 1, internal->dim_init_EL);
  internal->init_Ev = (double*) user_get_array(user, false, internal->init_Ev, "init_Ev", NA_REAL, NA_REAL, 1, internal->dim_init_Ev);
  internal->init_Iv = (double*) user_get_array(user, false, internal->init_Iv, "init_Iv", NA_REAL, NA_REAL, 1, internal->dim_init_Iv);
  internal->init_LL = (double*) user_get_array(user, false, internal->init_LL, "init_LL", NA_REAL, NA_REAL, 1, internal->dim_init_LL);
  internal->init_PL = (double*) user_get_array(user, false, internal->init_PL, "init_PL", NA_REAL, NA_REAL, 1, internal->dim_init_PL);
  internal->init_Sv = (double*) user_get_array(user, false, internal->init_Sv, "init_Sv", NA_REAL, NA_REAL, 1, internal->dim_init_Sv);
  internal->irs_cov = (double*) user_get_array(user, false, internal->irs_cov, "irs_cov", NA_REAL, NA_REAL, 1, internal->dim_irs_cov);
  internal->itn_cov = (double*) user_get_array(user, false, internal->itn_cov, "itn_cov", NA_REAL, NA_REAL, 1, internal->dim_itn_cov);
  internal->mv0 = (double*) user_get_array(user, false, internal->mv0, "mv0", NA_REAL, NA_REAL, 1, internal->dim_mv0);
  internal->offset_output_Aout = internal->dim_Dout + internal->dim_Ivout + internal->dim_Sout + internal->dim_Tout + 8;
  internal->offset_output_beta_larval = internal->dim_Aout + internal->dim_Dout + internal->dim_inc05 + internal->dim_Ivout + internal->dim_mu + internal->dim_Pout + internal->dim_prev + internal->dim_Sout + internal->dim_Tout + internal->dim_Uout + 8;
  internal->offset_output_cov = internal->dim_Aout + internal->dim_beta_larval + internal->dim_Dout + internal->dim_inc05 + internal->dim_Ivout + internal->dim_K0 + internal->dim_KL + internal->dim_mu + internal->dim_mv + internal->dim_Pout + internal->dim_prev + internal->dim_Q + internal->dim_Sout + internal->dim_Tout + internal->dim_Uout + internal->dim_wh + 8;
  internal->offset_output_Dout = internal->dim_Ivout + internal->dim_Sout + internal->dim_Tout + 8;
  internal->offset_output_inc05 = internal->dim_Aout + internal->dim_Dout + internal->dim_Ivout + internal->dim_Pout + internal->dim_prev + internal->dim_Sout + internal->dim_Tout + internal->dim_Uout + 8;
  internal->offset_output_K0 = internal->dim_Aout + internal->dim_beta_larval + internal->dim_Dout + internal->dim_inc05 + internal->dim_Ivout + internal->dim_KL + internal->dim_mu + internal->dim_mv + internal->dim_Pout + internal->dim_prev + internal->dim_Q + internal->dim_Sout + internal->dim_Tout + internal->dim_Uout + internal->dim_wh + 8;
  internal->offset_output_KL = internal->dim_Aout + internal->dim_beta_larval + internal->dim_Dout + internal->dim_inc05 + internal->dim_Ivout + internal->dim_mu + internal->dim_Pout + internal->dim_prev + internal->dim_Sout + internal->dim_Tout + internal->dim_Uout + 8;
  internal->offset_output_mu = internal->dim_Aout + internal->dim_Dout + internal->dim_inc05 + internal->dim_Ivout + internal->dim_Pout + internal->dim_prev + internal->dim_Sout + internal->dim_Tout + internal->dim_Uout + 8;
  internal->offset_output_mv = internal->dim_Aout + internal->dim_beta_larval + internal->dim_Dout + internal->dim_inc05 + internal->dim_Ivout + internal->dim_KL + internal->dim_mu + internal->dim_Pout + internal->dim_prev + internal->dim_Sout + internal->dim_Tout + internal->dim_Uout + 8;
  internal->offset_output_Pout = internal->dim_Aout + internal->dim_Dout + internal->dim_Ivout + internal->dim_Sout + internal->dim_Tout + internal->dim_Uout + 8;
  internal->offset_output_prev = internal->dim_Aout + internal->dim_Dout + internal->dim_Ivout + internal->dim_Pout + internal->dim_Sout + internal->dim_Tout + internal->dim_Uout + 8;
  internal->offset_output_Q = internal->dim_Aout + internal->dim_beta_larval + internal->dim_Dout + internal->dim_inc05 + internal->dim_Ivout + internal->dim_KL + internal->dim_mu + internal->dim_mv + internal->dim_Pout + internal->dim_prev + internal->dim_Sout + internal->dim_Tout + internal->dim_Uout + 8;
  internal->offset_output_Sout = internal->dim_Ivout + 8;
  internal->offset_output_Tout = internal->dim_Ivout + internal->dim_Sout + 8;
  internal->offset_output_Uout = internal->dim_Aout + internal->dim_Dout + internal->dim_Ivout + internal->dim_Sout + internal->dim_Tout + 8;
  internal->offset_output_wh = internal->dim_Aout + internal->dim_beta_larval + internal->dim_Dout + internal->dim_inc05 + internal->dim_Ivout + internal->dim_KL + internal->dim_mu + internal->dim_mv + internal->dim_Pout + internal->dim_prev + internal->dim_Q + internal->dim_Sout + internal->dim_Tout + internal->dim_Uout + 8;
  internal->offset_variable_EL = internal->dim_Ev + internal->dim_Iv + internal->dim_LL + internal->dim_PL + internal->dim_Sv;
  internal->offset_variable_Iv = internal->dim_Ev + internal->dim_Sv;
  internal->offset_variable_LL = internal->dim_Ev + internal->dim_Iv + internal->dim_PL + internal->dim_Sv;
  internal->offset_variable_PL = internal->dim_Ev + internal->dim_Iv + internal->dim_Sv;
  internal->offset_variable_S = internal->dim_EL + internal->dim_Ev + internal->dim_Iv + internal->dim_LL + internal->dim_PL + internal->dim_Sv;
  internal->rel_foi = (double*) user_get_array(user, false, internal->rel_foi, "rel_foi", NA_REAL, NA_REAL, 1, internal->dim_rel_foi);
  internal->x_I = (double*) user_get_array(user, false, internal->x_I, "x_I", NA_REAL, NA_REAL, 1, internal->dim_x_I);
  Free(internal->av_human);
  internal->av_human = (double*) Calloc(internal->dim_av_human, double);
  Free(internal->av_mosq);
  internal->av_mosq = (double*) Calloc(internal->dim_av_mosq, double);
  Free(internal->b);
  internal->b = (double*) Calloc(internal->dim_b, double);
  Free(internal->cA);
  internal->cA = (double*) Calloc(internal->dim_cA, double);
  Free(internal->clin_inc);
  internal->clin_inc = (double*) Calloc(internal->dim_clin_inc, double);
  Free(internal->clin_inc0to5);
  internal->clin_inc0to5 = (double*) Calloc(internal->dim_clin_inc0to5, double);
  Free(internal->cov);
  internal->cov = (double*) Calloc(internal->dim_cov, double);
  Free(internal->cov_);
  internal->cov_ = (double*) Calloc(internal->dim_cov_, double);
  Free(internal->EIR);
  internal->EIR = (double*) Calloc(internal->dim_EIR, double);
  Free(internal->FOI);
  internal->FOI = (double*) Calloc(internal->dim_FOI, double);
  Free(internal->FOI_lag);
  internal->FOI_lag = (double*) Calloc(internal->dim_FOI_lag, double);
  Free(internal->FOIvijk);
  internal->FOIvijk = (double*) Calloc(internal->dim_FOIvijk, double);
  Free(internal->IC);
  internal->IC = (double*) Calloc(internal->dim_IC, double);
  Free(internal->init_ICM_pre);
  internal->init_ICM_pre = (double*) Calloc(internal->dim_init_ICM_pre, double);
  Free(internal->initial_A);
  internal->initial_A = (double*) Calloc(internal->dim_A, double);
  Free(internal->initial_D);
  internal->initial_D = (double*) Calloc(internal->dim_D, double);
  Free(internal->initial_IB);
  internal->initial_IB = (double*) Calloc(internal->dim_IB, double);
  Free(internal->initial_ICA);
  internal->initial_ICA = (double*) Calloc(internal->dim_ICA, double);
  Free(internal->initial_ICM);
  internal->initial_ICM = (double*) Calloc(internal->dim_ICM, double);
  Free(internal->initial_ID);
  internal->initial_ID = (double*) Calloc(internal->dim_ID, double);
  Free(internal->initial_P);
  internal->initial_P = (double*) Calloc(internal->dim_P, double);
  Free(internal->initial_S);
  internal->initial_S = (double*) Calloc(internal->dim_S, double);
  Free(internal->initial_T);
  internal->initial_T = (double*) Calloc(internal->dim_T, double);
  Free(internal->initial_U);
  internal->initial_U = (double*) Calloc(internal->dim_U, double);
  Free(internal->p_det);
  internal->p_det = (double*) Calloc(internal->dim_p_det, double);
  Free(internal->phi);
  internal->phi = (double*) Calloc(internal->dim_phi, double);
  Free(internal->prev0to59);
  internal->prev0to59 = (double*) Calloc(internal->dim_prev0to59, double);
  Free(internal->rows);
  internal->rows = (double*) Calloc(internal->dim_rows, double);
  Free(internal->rows_v);
  internal->rows_v = (double*) Calloc(internal->dim_rows_v, double);
  Free(internal->whi);
  internal->whi = (double*) Calloc(internal->dim_whi, double);
  Free(internal->Y);
  internal->Y = (double*) Calloc(internal->dim_Y, double);
  Free(internal->zhi);
  internal->zhi = (double*) Calloc(internal->dim_zhi, double);
  Free(internal->delay_array_av_human);
  internal->delay_array_av_human = (double*) Calloc(internal->dim_av_human, double);
  Free(internal->delay_array_av_mosq);
  internal->delay_array_av_mosq = (double*) Calloc(internal->dim_av_mosq, double);
  Free(internal->delay_array_b);
  internal->delay_array_b = (double*) Calloc(internal->dim_b, double);
  Free(internal->delay_array_cA);
  internal->delay_array_cA = (double*) Calloc(internal->dim_cA, double);
  Free(internal->delay_array_EIR);
  internal->delay_array_EIR = (double*) Calloc(internal->dim_EIR, double);
  Free(internal->delay_array_FOI_lag);
  internal->delay_array_FOI_lag = (double*) Calloc(internal->dim_FOI_lag, double);
  Free(internal->delay_array_FOIvijk);
  internal->delay_array_FOIvijk = (double*) Calloc(internal->dim_FOIvijk, double);
  Free(internal->delay_array_p_det);
  internal->delay_array_p_det = (double*) Calloc(internal->dim_p_det, double);
  Free(internal->delay_array_rows);
  internal->delay_array_rows = (double*) Calloc(internal->dim_rows, double);
  Free(internal->delay_array_rows_v);
  internal->delay_array_rows_v = (double*) Calloc(internal->dim_rows_v, double);
  Free(internal->delay_array_whi);
  internal->delay_array_whi = (double*) Calloc(internal->dim_whi, double);
  Free(internal->delay_array_zhi);
  internal->delay_array_zhi = (double*) Calloc(internal->dim_zhi, double);
  Free(internal->delay_index_incv);
  internal->delay_index_incv = Calloc(internal->dim_delay_incv, int);
  Free(internal->delay_state_incv);
  internal->delay_state_incv = Calloc(internal->dim_delay_incv, double);
  for (int i = 0, j = 0; i < internal->dim_Sv; ++i, ++j) {
    internal->delay_index_incv[0 + i] = j;
  }
  internal->dim_delay_FOI = internal->dim_IB + internal->dim_Iv;
  internal->dim_delay_FOIv = internal->dim_A + internal->dim_D + internal->dim_ID + internal->dim_T + internal->dim_U;
  for (int i = 1; i <= internal->na; ++i) {
    internal->fd[i - 1] = 1 - (1 - internal->fD0) / (double) (1 + pow((internal->age[i - 1] / (double) internal->aD), internal->gammaD));
  }
  internal->init_A = (double*) user_get_array(user, false, internal->init_A, "init_A", NA_REAL, NA_REAL, 4, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3, internal->dim_init_A_4);
  internal->init_D = (double*) user_get_array(user, false, internal->init_D, "init_D", NA_REAL, NA_REAL, 4, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3, internal->dim_init_D_4);
  internal->init_IB = (double*) user_get_array(user, false, internal->init_IB, "init_IB", NA_REAL, NA_REAL, 4, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3, internal->dim_init_IB_4);
  internal->init_ICA = (double*) user_get_array(user, false, internal->init_ICA, "init_ICA", NA_REAL, NA_REAL, 4, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3, internal->dim_init_ICA_4);
  internal->init_ICM = (double*) user_get_array(user, false, internal->init_ICM, "init_ICM", NA_REAL, NA_REAL, 4, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3, internal->dim_init_ICM_4);
  internal->init_ID = (double*) user_get_array(user, false, internal->init_ID, "init_ID", NA_REAL, NA_REAL, 4, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3, internal->dim_init_ID_4);
  internal->init_P = (double*) user_get_array(user, false, internal->init_P, "init_P", NA_REAL, NA_REAL, 4, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3, internal->dim_init_P_4);
  internal->init_S = (double*) user_get_array(user, false, internal->init_S, "init_S", NA_REAL, NA_REAL, 4, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3, internal->dim_init_S_4);
  internal->init_T = (double*) user_get_array(user, false, internal->init_T, "init_T", NA_REAL, NA_REAL, 4, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3, internal->dim_init_T_4);
  internal->init_U = (double*) user_get_array(user, false, internal->init_U, "init_U", NA_REAL, NA_REAL, 4, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3, internal->dim_init_U_4);
  for (int i = 1; i <= internal->dim_EL; ++i) {
    internal->initial_EL[i - 1] = internal->init_EL[i - 1];
  }
  for (int i = 1; i <= internal->dim_Ev; ++i) {
    internal->initial_Ev[i - 1] = internal->init_Ev[i - 1] * internal->mv0[i - 1];
  }
  for (int i = 1; i <= internal->dim_Iv; ++i) {
    internal->initial_Iv[i - 1] = internal->init_Iv[i - 1] * internal->mv0[i - 1];
  }
  for (int i = 1; i <= internal->dim_LL; ++i) {
    internal->initial_LL[i - 1] = internal->init_LL[i - 1];
  }
  for (int i = 1; i <= internal->dim_PL; ++i) {
    internal->initial_PL[i - 1] = internal->init_PL[i - 1];
  }
  for (int i = 1; i <= internal->dim_Sv; ++i) {
    internal->initial_Sv[i - 1] = internal->init_Sv[i - 1] * internal->mv0[i - 1];
  }
  internal->mix = (double*) user_get_array(user, false, internal->mix, "mix", NA_REAL, NA_REAL, 2, internal->dim_mix_1, internal->dim_mix_2);
  internal->offset_FOIv_A = internal->dim_D + internal->dim_T;
  internal->offset_FOIv_ID = internal->dim_A + internal->dim_D + internal->dim_T + internal->dim_U;
  internal->offset_FOIv_U = internal->dim_A + internal->dim_D + internal->dim_T;
  internal->offset_variable_A = internal->dim_D + internal->dim_EL + internal->dim_Ev + internal->dim_Iv + internal->dim_LL + internal->dim_PL + internal->dim_S + internal->dim_Sv + internal->dim_T;
  internal->offset_variable_D = internal->dim_EL + internal->dim_Ev + internal->dim_Iv + internal->dim_LL + internal->dim_PL + internal->dim_S + internal->dim_Sv + internal->dim_T;
  internal->offset_variable_IB = internal->dim_A + internal->dim_D + internal->dim_EL + internal->dim_Ev + internal->dim_ICA + internal->dim_ICM + internal->dim_Iv + internal->dim_LL + internal->dim_P + internal->dim_PL + internal->dim_S + internal->dim_Sv + internal->dim_T + internal->dim_U;
  internal->offset_variable_ICA = internal->dim_A + internal->dim_D + internal->dim_EL + internal->dim_Ev + internal->dim_ICM + internal->dim_Iv + internal->dim_LL + internal->dim_P + internal->dim_PL + internal->dim_S + internal->dim_Sv + internal->dim_T + internal->dim_U;
  internal->offset_variable_ICM = internal->dim_A + internal->dim_D + internal->dim_EL + internal->dim_Ev + internal->dim_Iv + internal->dim_LL + internal->dim_P + internal->dim_PL + internal->dim_S + internal->dim_Sv + internal->dim_T + internal->dim_U;
  internal->offset_variable_ID = internal->dim_A + internal->dim_D + internal->dim_EL + internal->dim_Ev + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_Iv + internal->dim_LL + internal->dim_P + internal->dim_PL + internal->dim_S + internal->dim_Sv + internal->dim_T + internal->dim_U;
  internal->offset_variable_P = internal->dim_A + internal->dim_D + internal->dim_EL + internal->dim_Ev + internal->dim_Iv + internal->dim_LL + internal->dim_PL + internal->dim_S + internal->dim_Sv + internal->dim_T + internal->dim_U;
  internal->offset_variable_T = internal->dim_EL + internal->dim_Ev + internal->dim_Iv + internal->dim_LL + internal->dim_PL + internal->dim_S + internal->dim_Sv;
  internal->offset_variable_U = internal->dim_A + internal->dim_D + internal->dim_EL + internal->dim_Ev + internal->dim_Iv + internal->dim_LL + internal->dim_PL + internal->dim_S + internal->dim_Sv + internal->dim_T;
  {
     int i = 1;
     for (int j = 1; j <= internal->dim_cov__2; ++j) {
       internal->cov_[i - 1 + internal->dim_cov__1 * (j - 1)] = (1 - internal->itn_cov[j - 1]) * (1 - internal->irs_cov[j - 1]);
     }
  }
  {
     int i = 2;
     for (int j = 1; j <= internal->dim_cov__2; ++j) {
       internal->cov_[i - 1 + internal->dim_cov__1 * (j - 1)] = internal->itn_cov[j - 1] * (1 - internal->irs_cov[j - 1]);
     }
  }
  {
     int i = 3;
     for (int j = 1; j <= internal->dim_cov__2; ++j) {
       internal->cov_[i - 1 + internal->dim_cov__1 * (j - 1)] = (1 - internal->itn_cov[j - 1]) * internal->irs_cov[j - 1];
     }
  }
  {
     int i = 4;
     for (int j = 1; j <= internal->dim_cov__2; ++j) {
       internal->cov_[i - 1 + internal->dim_cov__1 * (j - 1)] = internal->itn_cov[j - 1] * internal->irs_cov[j - 1];
     }
  }
  Free(internal->delay_index_FOI);
  internal->delay_index_FOI = Calloc(internal->dim_delay_FOI, int);
  Free(internal->delay_state_FOI);
  internal->delay_state_FOI = Calloc(internal->dim_delay_FOI, double);
  for (int i = 0, j = internal->offset_variable_Iv; i < internal->dim_Iv; ++i, ++j) {
    internal->delay_index_FOI[0 + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_IB; i < internal->dim_IB; ++i, ++j) {
    internal->delay_index_FOI[internal->dim_Iv + i] = j;
  }
  Free(internal->delay_index_FOIv);
  internal->delay_index_FOIv = Calloc(internal->dim_delay_FOIv, int);
  Free(internal->delay_state_FOIv);
  internal->delay_state_FOIv = Calloc(internal->dim_delay_FOIv, double);
  for (int i = 0, j = internal->offset_variable_T; i < internal->dim_T; ++i, ++j) {
    internal->delay_index_FOIv[0 + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_D; i < internal->dim_D; ++i, ++j) {
    internal->delay_index_FOIv[internal->dim_T + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_A; i < internal->dim_A; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_A + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_U; i < internal->dim_U; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_U + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_ID; i < internal->dim_ID; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_ID + i] = j;
  }
  for (int i = 1; i <= internal->dim_A_1; ++i) {
    for (int j = 1; j <= internal->dim_A_2; ++j) {
      for (int k = 1; k <= internal->dim_A_3; ++k) {
        for (int l = 1; l <= internal->dim_A_4; ++l) {
          internal->initial_A[i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_123 * (l - 1)] = internal->init_A[internal->dim_init_A_123 * (l - 1) + internal->dim_init_A_12 * (k - 1) + internal->dim_init_A_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_D_1; ++i) {
    for (int j = 1; j <= internal->dim_D_2; ++j) {
      for (int k = 1; k <= internal->dim_D_3; ++k) {
        for (int l = 1; l <= internal->dim_D_4; ++l) {
          internal->initial_D[i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_123 * (l - 1)] = internal->init_D[internal->dim_init_D_123 * (l - 1) + internal->dim_init_D_12 * (k - 1) + internal->dim_init_D_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_IB_1; ++i) {
    for (int j = 1; j <= internal->dim_IB_2; ++j) {
      for (int k = 1; k <= internal->dim_IB_3; ++k) {
        for (int l = 1; l <= internal->dim_IB_4; ++l) {
          internal->initial_IB[i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_123 * (l - 1)] = internal->init_IB[internal->dim_init_IB_123 * (l - 1) + internal->dim_init_IB_12 * (k - 1) + internal->dim_init_IB_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICA_1; ++i) {
    for (int j = 1; j <= internal->dim_ICA_2; ++j) {
      for (int k = 1; k <= internal->dim_ICA_3; ++k) {
        for (int l = 1; l <= internal->dim_ICA_4; ++l) {
          internal->initial_ICA[i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_123 * (l - 1)] = internal->init_ICA[internal->dim_init_ICA_123 * (l - 1) + internal->dim_init_ICA_12 * (k - 1) + internal->dim_init_ICA_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICM_1; ++i) {
    for (int j = 1; j <= internal->dim_ICM_2; ++j) {
      for (int k = 1; k <= internal->dim_ICM_3; ++k) {
        for (int l = 1; l <= internal->dim_ICM_4; ++l) {
          internal->initial_ICM[i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_123 * (l - 1)] = internal->init_ICM[internal->dim_init_ICM_123 * (l - 1) + internal->dim_init_ICM_12 * (k - 1) + internal->dim_init_ICM_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_ID_1; ++i) {
    for (int j = 1; j <= internal->dim_ID_2; ++j) {
      for (int k = 1; k <= internal->dim_ID_3; ++k) {
        for (int l = 1; l <= internal->dim_ID_4; ++l) {
          internal->initial_ID[i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_123 * (l - 1)] = internal->init_ID[internal->dim_init_ID_123 * (l - 1) + internal->dim_init_ID_12 * (k - 1) + internal->dim_init_ID_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_P_1; ++i) {
    for (int j = 1; j <= internal->dim_P_2; ++j) {
      for (int k = 1; k <= internal->dim_P_3; ++k) {
        for (int l = 1; l <= internal->dim_P_4; ++l) {
          internal->initial_P[i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_123 * (l - 1)] = internal->init_P[internal->dim_init_P_123 * (l - 1) + internal->dim_init_P_12 * (k - 1) + internal->dim_init_P_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_S_1; ++i) {
    for (int j = 1; j <= internal->dim_S_2; ++j) {
      for (int k = 1; k <= internal->dim_S_3; ++k) {
        for (int l = 1; l <= internal->dim_S_4; ++l) {
          internal->initial_S[i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_123 * (l - 1)] = internal->init_S[internal->dim_init_S_123 * (l - 1) + internal->dim_init_S_12 * (k - 1) + internal->dim_init_S_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_T_1; ++i) {
    for (int j = 1; j <= internal->dim_T_2; ++j) {
      for (int k = 1; k <= internal->dim_T_3; ++k) {
        for (int l = 1; l <= internal->dim_T_4; ++l) {
          internal->initial_T[i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_123 * (l - 1)] = internal->init_T[internal->dim_init_T_123 * (l - 1) + internal->dim_init_T_12 * (k - 1) + internal->dim_init_T_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_U_1; ++i) {
    for (int j = 1; j <= internal->dim_U_2; ++j) {
      for (int k = 1; k <= internal->dim_U_3; ++k) {
        for (int l = 1; l <= internal->dim_U_4; ++l) {
          internal->initial_U[i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_123 * (l - 1)] = internal->init_U[internal->dim_init_U_123 * (l - 1) + internal->dim_init_U_12 * (k - 1) + internal->dim_init_U_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_cov_1; ++i) {
    for (int j = 1; j <= internal->dim_cov_2; ++j) {
      internal->cov[i - 1 + internal->dim_cov_1 * (j - 1)] = internal->cov_[internal->dim_cov__1 * (j - 1) + i - 1];
    }
  }
  return R_NilValue;
}
SEXP odin_model_metapop_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_metapop_use_dde_ptr) {
  odin_model_metapop_internal *internal = odin_model_metapop_get_internal(internal_p, 1);
  const double t = REAL(t_ptr)[0];
  internal->initial_t = t;
  internal->odin_model_metapop_use_dde = INTEGER(odin_model_metapop_use_dde_ptr)[0];
  if (state_ptr != R_NilValue) {
    double * state = REAL(state_ptr);
    memcpy(internal->initial_Sv, state + 0, internal->dim_Sv * sizeof(double));
    memcpy(internal->initial_Ev, state + internal->dim_Sv, internal->dim_Ev * sizeof(double));
    memcpy(internal->initial_Iv, state + internal->offset_variable_Iv, internal->dim_Iv * sizeof(double));
    memcpy(internal->initial_PL, state + internal->offset_variable_PL, internal->dim_PL * sizeof(double));
    memcpy(internal->initial_LL, state + internal->offset_variable_LL, internal->dim_LL * sizeof(double));
    memcpy(internal->initial_EL, state + internal->offset_variable_EL, internal->dim_EL * sizeof(double));
    memcpy(internal->initial_S, state + internal->offset_variable_S, internal->dim_S * sizeof(double));
    memcpy(internal->initial_T, state + internal->offset_variable_T, internal->dim_T * sizeof(double));
    memcpy(internal->initial_D, state + internal->offset_variable_D, internal->dim_D * sizeof(double));
    memcpy(internal->initial_A, state + internal->offset_variable_A, internal->dim_A * sizeof(double));
    memcpy(internal->initial_U, state + internal->offset_variable_U, internal->dim_U * sizeof(double));
    memcpy(internal->initial_P, state + internal->offset_variable_P, internal->dim_P * sizeof(double));
    memcpy(internal->initial_ICM, state + internal->offset_variable_ICM, internal->dim_ICM * sizeof(double));
    memcpy(internal->initial_ICA, state + internal->offset_variable_ICA, internal->dim_ICA * sizeof(double));
    memcpy(internal->initial_IB, state + internal->offset_variable_IB, internal->dim_IB * sizeof(double));
    memcpy(internal->initial_ID, state + internal->offset_variable_ID, internal->dim_ID * sizeof(double));
  }
  return R_NilValue;
}
SEXP odin_model_metapop_metadata(SEXP internal_p) {
  odin_model_metapop_internal *internal = odin_model_metapop_get_internal(internal_p, 1);
  SEXP ret = PROTECT(allocVector(VECSXP, 4));
  SEXP nms = PROTECT(allocVector(STRSXP, 4));
  SET_STRING_ELT(nms, 0, mkChar("variable_order"));
  SET_STRING_ELT(nms, 1, mkChar("output_order"));
  SET_STRING_ELT(nms, 2, mkChar("n_out"));
  SET_STRING_ELT(nms, 3, mkChar("interpolate_t"));
  setAttrib(ret, R_NamesSymbol, nms);
  SEXP variable_length = PROTECT(allocVector(VECSXP, 16));
  SEXP variable_names = PROTECT(allocVector(STRSXP, 16));
  setAttrib(variable_length, R_NamesSymbol, variable_names);
  SET_VECTOR_ELT(variable_length, 0, ScalarInteger(internal->dim_Sv));
  SET_VECTOR_ELT(variable_length, 1, ScalarInteger(internal->dim_Ev));
  SET_VECTOR_ELT(variable_length, 2, ScalarInteger(internal->dim_Iv));
  SET_VECTOR_ELT(variable_length, 3, ScalarInteger(internal->dim_PL));
  SET_VECTOR_ELT(variable_length, 4, ScalarInteger(internal->dim_LL));
  SET_VECTOR_ELT(variable_length, 5, ScalarInteger(internal->dim_EL));
  SET_VECTOR_ELT(variable_length, 6, allocVector(INTSXP, 4));
  int * dim_S = INTEGER(VECTOR_ELT(variable_length, 6));
  dim_S[0] = internal->dim_S_1;
  dim_S[1] = internal->dim_S_2;
  dim_S[2] = internal->dim_S_3;
  dim_S[3] = internal->dim_S_4;
  SET_VECTOR_ELT(variable_length, 7, allocVector(INTSXP, 4));
  int * dim_T = INTEGER(VECTOR_ELT(variable_length, 7));
  dim_T[0] = internal->dim_T_1;
  dim_T[1] = internal->dim_T_2;
  dim_T[2] = internal->dim_T_3;
  dim_T[3] = internal->dim_T_4;
  SET_VECTOR_ELT(variable_length, 8, allocVector(INTSXP, 4));
  int * dim_D = INTEGER(VECTOR_ELT(variable_length, 8));
  dim_D[0] = internal->dim_D_1;
  dim_D[1] = internal->dim_D_2;
  dim_D[2] = internal->dim_D_3;
  dim_D[3] = internal->dim_D_4;
  SET_VECTOR_ELT(variable_length, 9, allocVector(INTSXP, 4));
  int * dim_A = INTEGER(VECTOR_ELT(variable_length, 9));
  dim_A[0] = internal->dim_A_1;
  dim_A[1] = internal->dim_A_2;
  dim_A[2] = internal->dim_A_3;
  dim_A[3] = internal->dim_A_4;
  SET_VECTOR_ELT(variable_length, 10, allocVector(INTSXP, 4));
  int * dim_U = INTEGER(VECTOR_ELT(variable_length, 10));
  dim_U[0] = internal->dim_U_1;
  dim_U[1] = internal->dim_U_2;
  dim_U[2] = internal->dim_U_3;
  dim_U[3] = internal->dim_U_4;
  SET_VECTOR_ELT(variable_length, 11, allocVector(INTSXP, 4));
  int * dim_P = INTEGER(VECTOR_ELT(variable_length, 11));
  dim_P[0] = internal->dim_P_1;
  dim_P[1] = internal->dim_P_2;
  dim_P[2] = internal->dim_P_3;
  dim_P[3] = internal->dim_P_4;
  SET_VECTOR_ELT(variable_length, 12, allocVector(INTSXP, 4));
  int * dim_ICM = INTEGER(VECTOR_ELT(variable_length, 12));
  dim_ICM[0] = internal->dim_ICM_1;
  dim_ICM[1] = internal->dim_ICM_2;
  dim_ICM[2] = internal->dim_ICM_3;
  dim_ICM[3] = internal->dim_ICM_4;
  SET_VECTOR_ELT(variable_length, 13, allocVector(INTSXP, 4));
  int * dim_ICA = INTEGER(VECTOR_ELT(variable_length, 13));
  dim_ICA[0] = internal->dim_ICA_1;
  dim_ICA[1] = internal->dim_ICA_2;
  dim_ICA[2] = internal->dim_ICA_3;
  dim_ICA[3] = internal->dim_ICA_4;
  SET_VECTOR_ELT(variable_length, 14, allocVector(INTSXP, 4));
  int * dim_IB = INTEGER(VECTOR_ELT(variable_length, 14));
  dim_IB[0] = internal->dim_IB_1;
  dim_IB[1] = internal->dim_IB_2;
  dim_IB[2] = internal->dim_IB_3;
  dim_IB[3] = internal->dim_IB_4;
  SET_VECTOR_ELT(variable_length, 15, allocVector(INTSXP, 4));
  int * dim_ID = INTEGER(VECTOR_ELT(variable_length, 15));
  dim_ID[0] = internal->dim_ID_1;
  dim_ID[1] = internal->dim_ID_2;
  dim_ID[2] = internal->dim_ID_3;
  dim_ID[3] = internal->dim_ID_4;
  SET_STRING_ELT(variable_names, 0, mkChar("Sv"));
  SET_STRING_ELT(variable_names, 1, mkChar("Ev"));
  SET_STRING_ELT(variable_names, 2, mkChar("Iv"));
  SET_STRING_ELT(variable_names, 3, mkChar("PL"));
  SET_STRING_ELT(variable_names, 4, mkChar("LL"));
  SET_STRING_ELT(variable_names, 5, mkChar("EL"));
  SET_STRING_ELT(variable_names, 6, mkChar("S"));
  SET_STRING_ELT(variable_names, 7, mkChar("T"));
  SET_STRING_ELT(variable_names, 8, mkChar("D"));
  SET_STRING_ELT(variable_names, 9, mkChar("A"));
  SET_STRING_ELT(variable_names, 10, mkChar("U"));
  SET_STRING_ELT(variable_names, 11, mkChar("P"));
  SET_STRING_ELT(variable_names, 12, mkChar("ICM"));
  SET_STRING_ELT(variable_names, 13, mkChar("ICA"));
  SET_STRING_ELT(variable_names, 14, mkChar("IB"));
  SET_STRING_ELT(variable_names, 15, mkChar("ID"));
  SET_VECTOR_ELT(ret, 0, variable_length);
  UNPROTECT(2);
  SEXP output_length = PROTECT(allocVector(VECSXP, 25));
  SEXP output_names = PROTECT(allocVector(STRSXP, 25));
  setAttrib(output_length, R_NamesSymbol, output_names);
  SET_VECTOR_ELT(output_length, 0, R_NilValue);
  SET_VECTOR_ELT(output_length, 1, R_NilValue);
  SET_VECTOR_ELT(output_length, 2, R_NilValue);
  SET_VECTOR_ELT(output_length, 3, R_NilValue);
  SET_VECTOR_ELT(output_length, 4, R_NilValue);
  SET_VECTOR_ELT(output_length, 5, R_NilValue);
  SET_VECTOR_ELT(output_length, 6, R_NilValue);
  SET_VECTOR_ELT(output_length, 7, R_NilValue);
  SET_VECTOR_ELT(output_length, 8, ScalarInteger(internal->dim_Ivout));
  SET_VECTOR_ELT(output_length, 9, ScalarInteger(internal->dim_Sout));
  SET_VECTOR_ELT(output_length, 10, ScalarInteger(internal->dim_Tout));
  SET_VECTOR_ELT(output_length, 11, ScalarInteger(internal->dim_Dout));
  SET_VECTOR_ELT(output_length, 12, ScalarInteger(internal->dim_Aout));
  SET_VECTOR_ELT(output_length, 13, ScalarInteger(internal->dim_Uout));
  SET_VECTOR_ELT(output_length, 14, ScalarInteger(internal->dim_Pout));
  SET_VECTOR_ELT(output_length, 15, ScalarInteger(internal->dim_prev));
  SET_VECTOR_ELT(output_length, 16, ScalarInteger(internal->dim_inc05));
  SET_VECTOR_ELT(output_length, 17, ScalarInteger(internal->dim_mu));
  SET_VECTOR_ELT(output_length, 18, ScalarInteger(internal->dim_beta_larval));
  SET_VECTOR_ELT(output_length, 19, ScalarInteger(internal->dim_KL));
  SET_VECTOR_ELT(output_length, 20, ScalarInteger(internal->dim_mv));
  SET_VECTOR_ELT(output_length, 21, ScalarInteger(internal->dim_Q));
  SET_VECTOR_ELT(output_length, 22, ScalarInteger(internal->dim_wh));
  SET_VECTOR_ELT(output_length, 23, ScalarInteger(internal->dim_K0));
  SET_VECTOR_ELT(output_length, 24, allocVector(INTSXP, 2));
  int * dim_cov = INTEGER(VECTOR_ELT(output_length, 24));
  dim_cov[0] = internal->dim_cov_1;
  dim_cov[1] = internal->dim_cov_2;
  SET_STRING_ELT(output_names, 0, mkChar("omega"));
  SET_STRING_ELT(output_names, 1, mkChar("inc"));
  SET_STRING_ELT(output_names, 2, mkChar("d_ITN"));
  SET_STRING_ELT(output_names, 3, mkChar("r_ITN"));
  SET_STRING_ELT(output_names, 4, mkChar("s_ITN"));
  SET_STRING_ELT(output_names, 5, mkChar("d_IRS"));
  SET_STRING_ELT(output_names, 6, mkChar("r_IRS"));
  SET_STRING_ELT(output_names, 7, mkChar("s_IRS"));
  SET_STRING_ELT(output_names, 8, mkChar("Ivout"));
  SET_STRING_ELT(output_names, 9, mkChar("Sout"));
  SET_STRING_ELT(output_names, 10, mkChar("Tout"));
  SET_STRING_ELT(output_names, 11, mkChar("Dout"));
  SET_STRING_ELT(output_names, 12, mkChar("Aout"));
  SET_STRING_ELT(output_names, 13, mkChar("Uout"));
  SET_STRING_ELT(output_names, 14, mkChar("Pout"));
  SET_STRING_ELT(output_names, 15, mkChar("prev"));
  SET_STRING_ELT(output_names, 16, mkChar("inc05"));
  SET_STRING_ELT(output_names, 17, mkChar("mu"));
  SET_STRING_ELT(output_names, 18, mkChar("beta_larval"));
  SET_STRING_ELT(output_names, 19, mkChar("KL"));
  SET_STRING_ELT(output_names, 20, mkChar("mv"));
  SET_STRING_ELT(output_names, 21, mkChar("Q"));
  SET_STRING_ELT(output_names, 22, mkChar("wh"));
  SET_STRING_ELT(output_names, 23, mkChar("K0"));
  SET_STRING_ELT(output_names, 24, mkChar("cov"));
  SET_VECTOR_ELT(ret, 1, output_length);
  UNPROTECT(2);
  SET_VECTOR_ELT(ret, 2, ScalarInteger(internal->dim_Aout + internal->dim_beta_larval + internal->dim_cov + internal->dim_Dout + internal->dim_inc05 + internal->dim_Ivout + internal->dim_K0 + internal->dim_KL + internal->dim_mu + internal->dim_mv + internal->dim_Pout + internal->dim_prev + internal->dim_Q + internal->dim_Sout + internal->dim_Tout + internal->dim_Uout + internal->dim_wh + 8));
  UNPROTECT(2);
  return ret;
}
SEXP odin_model_metapop_initial_conditions(SEXP internal_p, SEXP t_ptr) {
  double t = scalar_real(t_ptr, "t");
  odin_model_metapop_internal *internal = odin_model_metapop_get_internal(internal_p, 1);
  SEXP r_state = PROTECT(allocVector(REALSXP, internal->dim_A + internal->dim_D + internal->dim_EL + internal->dim_Ev + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_ID + internal->dim_Iv + internal->dim_LL + internal->dim_P + internal->dim_PL + internal->dim_S + internal->dim_Sv + internal->dim_T + internal->dim_U));
  double * state = REAL(r_state);
  memcpy(state + 0, internal->initial_Sv, internal->dim_Sv * sizeof(double));
  memcpy(state + internal->dim_Sv, internal->initial_Ev, internal->dim_Ev * sizeof(double));
  memcpy(state + internal->offset_variable_Iv, internal->initial_Iv, internal->dim_Iv * sizeof(double));
  memcpy(state + internal->offset_variable_PL, internal->initial_PL, internal->dim_PL * sizeof(double));
  memcpy(state + internal->offset_variable_LL, internal->initial_LL, internal->dim_LL * sizeof(double));
  memcpy(state + internal->offset_variable_EL, internal->initial_EL, internal->dim_EL * sizeof(double));
  memcpy(state + internal->offset_variable_S, internal->initial_S, internal->dim_S * sizeof(double));
  memcpy(state + internal->offset_variable_T, internal->initial_T, internal->dim_T * sizeof(double));
  memcpy(state + internal->offset_variable_D, internal->initial_D, internal->dim_D * sizeof(double));
  memcpy(state + internal->offset_variable_A, internal->initial_A, internal->dim_A * sizeof(double));
  memcpy(state + internal->offset_variable_U, internal->initial_U, internal->dim_U * sizeof(double));
  memcpy(state + internal->offset_variable_P, internal->initial_P, internal->dim_P * sizeof(double));
  memcpy(state + internal->offset_variable_ICM, internal->initial_ICM, internal->dim_ICM * sizeof(double));
  memcpy(state + internal->offset_variable_ICA, internal->initial_ICA, internal->dim_ICA * sizeof(double));
  memcpy(state + internal->offset_variable_IB, internal->initial_IB, internal->dim_IB * sizeof(double));
  memcpy(state + internal->offset_variable_ID, internal->initial_ID, internal->dim_ID * sizeof(double));
  UNPROTECT(1);
  return r_state;
}
void odin_model_metapop_rhs(odin_model_metapop_internal* internal, double t, double * state, double * dstatedt, double * output) {
  double * S = state + internal->offset_variable_S;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * IB = state + internal->offset_variable_IB;
  double * ID = state + internal->offset_variable_ID;
  double * Sv = state + 0;
  double * Ev = state + internal->dim_Sv;
  double * Iv = state + internal->offset_variable_Iv;
  double * EL = state + internal->offset_variable_EL;
  double * LL = state + internal->offset_variable_LL;
  double * PL = state + internal->offset_variable_PL;
  double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
  double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
  double theta2 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
  double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
  for (int i = 1; i <= internal->np; ++i) {
    dstatedt[internal->offset_variable_PL + i - 1] = LL[i - 1] / (double) internal->dLL - internal->muPL * PL[i - 1] - PL[i - 1] / (double) internal->dPL;
  }
  double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
  double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
  for (int i = 1; i <= internal->dim_Ah; ++i) {
    internal->Ah[i - 1] = odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, i - 1, i, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123);
  }
  for (int i = 1; i <= internal->dim_betaa; ++i) {
    internal->betaa[i - 1] = 0.5 * PL[i - 1] / (double) internal->dPL;
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->np; ++l) {
           dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_123 * (l - 1)] = internal->rT * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_123 * (l - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_123 * (l - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_123 * (l - 1)] = internal->rT * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_123 * (l - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_123 * (l - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * P[internal->dim_P_123 * (l - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1 - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_Dh; ++i) {
    internal->Dh[i - 1] = odin_sum4(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, i - 1, i, internal->dim_D_1, internal->dim_D_12, internal->dim_D_123);
  }
  for (int i = 1; i <= internal->dim_mv; ++i) {
    internal->mv[i - 1] = Sv[i - 1] + Ev[i - 1] + Iv[i - 1];
  }
  for (int i = 1; i <= internal->dim_Ph; ++i) {
    internal->Ph[i - 1] = odin_sum4(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, i - 1, i, internal->dim_P_1, internal->dim_P_12, internal->dim_P_123);
  }
  double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
  double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
  for (int i = 1; i <= internal->dim_Sh; ++i) {
    internal->Sh[i - 1] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, i - 1, i, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123);
  }
  for (int i = 1; i <= internal->dim_Th; ++i) {
    internal->Th[i - 1] = odin_sum4(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, i - 1, i, internal->dim_T_1, internal->dim_T_12, internal->dim_T_123);
  }
  for (int i = 1; i <= internal->dim_Uh; ++i) {
    internal->Uh[i - 1] = odin_sum4(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, i - 1, i, internal->dim_U_1, internal->dim_U_12, internal->dim_U_123);
  }
  {
     int i = 1;
     internal->z_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z_[i - 1] = internal->bites_Bed * r_ITN;
  }
  {
     int i = 3;
     internal->z_[i - 1] = internal->bites_Indoors * r_IRS;
  }
  {
     int i = 4;
     internal->z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
  }
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double *Iv;
    double *IB;
    if (t <= internal->initial_t) {
      Iv = internal->initial_Iv;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_metapop_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv = internal->delay_state_FOI + 0;
      IB = internal->delay_state_FOI + internal->dim_Iv;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          for (int l = 1; l <= internal->np; ++l) {
            internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1) + internal->dim_b_123 * (l - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
          }
        }
      }
    }
    for (int i = 1; i <= internal->dim_rows_1; ++i) {
      for (int j = 1; j <= internal->dim_rows_2; ++j) {
        internal->delay_array_rows[i - 1 + internal->dim_rows_1 * (j - 1)] = internal->mix[internal->dim_mix_1 * (j - 1) + i - 1] * Iv[j - 1];
      }
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_yy_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy_[i - 1] = internal->delay_array_w_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS);
    }
    {
       int i = 4;
       internal->delay_array_yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS);
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy; ++i) {
      internal->delay_array_yy[i - 1] = internal->delay_array_yy_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      for (int j = 1; j <= internal->np; ++j) {
        internal->delay_array_whi[i - 1 + internal->dim_whi_1 * (j - 1)] = internal->cov[internal->dim_cov_1 * (j - 1) + i - 1] * internal->delay_array_w[i - 1];
      }
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      for (int j = 1; j <= internal->np; ++j) {
        internal->delay_array_zhi[i - 1 + internal->dim_zhi_1 * (j - 1)] = internal->cov[internal->dim_cov_1 * (j - 1) + i - 1] * internal->delay_array_z[i - 1];
      }
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_wh[i - 1] = (t < internal->ITN_IRS_on ? 1 : odin_sum2(internal->delay_array_whi, 0, internal->dim_whi_1, i - 1, i, internal->dim_whi_1));
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_zh[i - 1] = (t < internal->ITN_IRS_on ? 0 : odin_sum2(internal->delay_array_zhi, 0, internal->dim_zhi_1, i - 1, i, internal->dim_zhi_1));
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_zbar[i - 1] = internal->Q0 * internal->delay_array_zh[i - 1];
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_wbar[i - 1] = 1 - internal->Q0 + internal->Q0 * internal->delay_array_wh[i - 1];
    }
    for (int i = 1; i <= internal->dim_fv; ++i) {
      internal->delay_array_fv[i - 1] = 1 / (double) (internal->tau1 / (double) (1 - internal->delay_array_zbar[i - 1]) + internal->tau2);
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_Q[i - 1] = 1 - (1 - internal->Q0) / (double) internal->delay_array_wbar[i - 1];
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_av[i - 1] = internal->delay_array_fv[i - 1] * internal->delay_array_Q[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      for (int j = 1; j <= internal->np; ++j) {
        internal->delay_array_av_human[i - 1 + internal->dim_av_human_1 * (j - 1)] = internal->delay_array_av[j - 1] * internal->delay_array_yy[i - 1] / (double) internal->delay_array_wh[j - 1];
      }
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          for (int l = 1; l <= internal->dim_EIR_4; ++l) {
            internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_123 * (l - 1)] = internal->delay_array_av_human[internal->dim_av_human_1 * (l - 1) + k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * odin_sum2(internal->delay_array_rows, l - 1, l, 0, internal->dim_rows_2, internal->dim_rows_1) / (double) internal->omega;
          }
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          for (int l = 1; l <= internal->np; ++l) {
            internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_123 * (l - 1)] = internal->delay_array_EIR[internal->dim_EIR_123 * (l - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * ((IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_123 * (l - 1) + internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
          }
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          for (int l = 1; l <= internal->dim_FOI_4; ++l) {
            internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_123 * (l - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_123 * (l - 1) + internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
          }
        }
      }
    }
  }
  // delay block for FOIv
  {
    const double t_true = t;
    const double t = t_true - internal->delayGam;
    double *T;
    double *D;
    double *A;
    double *U;
    double *ID;
    if (t <= internal->initial_t) {
      T = internal->initial_T;
      D = internal->initial_D;
      A = internal->initial_A;
      U = internal->initial_U;
      ID = internal->initial_ID;
    } else {
      lagvalue(t, internal->odin_model_metapop_use_dde, internal->delay_index_FOIv, internal->dim_delay_FOIv, internal->delay_state_FOIv);
      T = internal->delay_state_FOIv + 0;
      D = internal->delay_state_FOIv + internal->dim_T;
      A = internal->delay_state_FOIv + internal->offset_FOIv_A;
      U = internal->delay_state_FOIv + internal->offset_FOIv_U;
      ID = internal->delay_state_FOIv + internal->offset_FOIv_ID;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          for (int l = 1; l <= internal->dim_p_det_4; ++l) {
            internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_123 * (l - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
          }
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          for (int l = 1; l <= internal->dim_cA_4; ++l) {
            internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1) + internal->dim_cA_123 * (l - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
          }
        }
      }
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      for (int j = 1; j <= internal->np; ++j) {
        internal->delay_array_whi[i - 1 + internal->dim_whi_1 * (j - 1)] = internal->cov[internal->dim_cov_1 * (j - 1) + i - 1] * internal->delay_array_w[i - 1];
      }
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      for (int j = 1; j <= internal->np; ++j) {
        internal->delay_array_zhi[i - 1 + internal->dim_zhi_1 * (j - 1)] = internal->cov[internal->dim_cov_1 * (j - 1) + i - 1] * internal->delay_array_z[i - 1];
      }
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_wh[i - 1] = (t < internal->ITN_IRS_on ? 1 : odin_sum2(internal->delay_array_whi, 0, internal->dim_whi_1, i - 1, i, internal->dim_whi_1));
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_zh[i - 1] = (t < internal->ITN_IRS_on ? 0 : odin_sum2(internal->delay_array_zhi, 0, internal->dim_zhi_1, i - 1, i, internal->dim_zhi_1));
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_zbar[i - 1] = internal->Q0 * internal->delay_array_zh[i - 1];
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_wbar[i - 1] = 1 - internal->Q0 + internal->Q0 * internal->delay_array_wh[i - 1];
    }
    for (int i = 1; i <= internal->dim_fv; ++i) {
      internal->delay_array_fv[i - 1] = 1 / (double) (internal->tau1 / (double) (1 - internal->delay_array_zbar[i - 1]) + internal->tau2);
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_Q[i - 1] = 1 - (1 - internal->Q0) / (double) internal->delay_array_wbar[i - 1];
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_av[i - 1] = internal->delay_array_fv[i - 1] * internal->delay_array_Q[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      for (int j = 1; j <= internal->np; ++j) {
        internal->delay_array_av_mosq[i - 1 + internal->dim_av_mosq_1 * (j - 1)] = internal->delay_array_av[j - 1] * internal->delay_array_w[i - 1] / (double) internal->delay_array_wh[j - 1];
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          for (int l = 1; l <= internal->np; ++l) {
            internal->delay_array_FOIvijk[i - 1 + internal->dim_FOIvijk_1 * (j - 1) + internal->dim_FOIvijk_12 * (k - 1) + internal->dim_FOIvijk_123 * (l - 1)] = (internal->cT * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_123 * (l - 1) + internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq[internal->dim_av_mosq_1 * (l - 1) + k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
          }
        }
      }
    }
    for (int i = 1; i <= internal->dim_lag_FOIv; ++i) {
      internal->delay_array_lag_FOIv[i - 1] = odin_sum4(internal->delay_array_FOIvijk, 0, internal->dim_FOIvijk_1, 0, internal->dim_FOIvijk_2, 0, internal->dim_FOIvijk_3, i - 1, i, internal->dim_FOIvijk_1, internal->dim_FOIvijk_12, internal->dim_FOIvijk_123);
    }
    for (int i = 1; i <= internal->dim_rows_v_1; ++i) {
      for (int j = 1; j <= internal->dim_rows_v_2; ++j) {
        internal->delay_array_rows_v[i - 1 + internal->dim_rows_v_1 * (j - 1)] = internal->mix[internal->dim_mix_1 * (j - 1) + i - 1] * internal->delay_array_lag_FOIv[j - 1];
      }
    }
    for (int i = 1; i <= internal->dim_lag_mix_FOIv; ++i) {
      internal->delay_array_lag_mix_FOIv[i - 1] = odin_sum2(internal->delay_array_rows_v, i - 1, i, 0, internal->dim_rows_v_2, internal->dim_rows_v_1);
    }
    for (int i = 1; i <= internal->dim_FOIv; ++i) {
      internal->FOIv[i - 1] = internal->delay_array_lag_mix_FOIv[i - 1];
    }
  }
  for (int i = 1; i <= internal->dim_H; ++i) {
    internal->H[i - 1] = internal->Sh[i - 1] + internal->Th[i - 1] + internal->Dh[i - 1] + internal->Ah[i - 1] + internal->Uh[i - 1] + internal->Ph[i - 1];
  }
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        for (int l = 1; l <= internal->dim_IC_4; ++l) {
          internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1) + internal->dim_IC_123 * (l - 1)] = ICM[internal->dim_ICM_123 * (l - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_123 * (l - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  // delay block for incv
  {
    const double t_true = t;
    const double t = t_true - internal->delayMos;
    double *Sv;
    if (t <= internal->initial_t) {
      Sv = internal->initial_Sv;
    } else {
      lagvalue(t, internal->odin_model_metapop_use_dde, internal->delay_index_incv, internal->dim_delay_incv, internal->delay_state_incv);
      Sv = internal->delay_state_incv + 0;
    }
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    // delay block for FOIv
    {
      const double t_true = t;
      const double t = t_true - internal->delayGam;
      double *T;
      double *D;
      double *A;
      double *U;
      double *ID;
      if (t <= internal->initial_t) {
        T = internal->initial_T;
        D = internal->initial_D;
        A = internal->initial_A;
        U = internal->initial_U;
        ID = internal->initial_ID;
      } else {
        lagvalue(t, internal->odin_model_metapop_use_dde, internal->delay_index_FOIv, internal->dim_delay_FOIv, internal->delay_state_FOIv);
        T = internal->delay_state_FOIv + 0;
        D = internal->delay_state_FOIv + internal->dim_T;
        A = internal->delay_state_FOIv + internal->offset_FOIv_A;
        U = internal->delay_state_FOIv + internal->offset_FOIv_U;
        ID = internal->delay_state_FOIv + internal->offset_FOIv_ID;
      }
      double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
      double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
      double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
      double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
      double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
      double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
      double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
      double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
      {
         int i = 1;
         internal->delay_array_z_[i - 1] = 0;
      }
      {
         int i = 2;
         internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
      }
      {
         int i = 3;
         internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
      }
      {
         int i = 4;
         internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
      }
      for (int i = 1; i <= internal->dim_p_det_1; ++i) {
        for (int j = 1; j <= internal->dim_p_det_2; ++j) {
          for (int k = 1; k <= internal->dim_p_det_3; ++k) {
            for (int l = 1; l <= internal->dim_p_det_4; ++l) {
              internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_123 * (l - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
            }
          }
        }
      }
      {
         int i = 1;
         internal->delay_array_w_[i - 1] = 1;
      }
      {
         int i = 2;
         internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
      }
      {
         int i = 3;
         internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
      }
      {
         int i = 4;
         internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
      }
      for (int i = 1; i <= internal->dim_z; ++i) {
        internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
      }
      for (int i = 1; i <= internal->dim_cA_1; ++i) {
        for (int j = 1; j <= internal->dim_cA_2; ++j) {
          for (int k = 1; k <= internal->dim_cA_3; ++k) {
            for (int l = 1; l <= internal->dim_cA_4; ++l) {
              internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1) + internal->dim_cA_123 * (l - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
            }
          }
        }
      }
      for (int i = 1; i <= internal->dim_w; ++i) {
        internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        for (int j = 1; j <= internal->np; ++j) {
          internal->delay_array_whi[i - 1 + internal->dim_whi_1 * (j - 1)] = internal->cov[internal->dim_cov_1 * (j - 1) + i - 1] * internal->delay_array_w[i - 1];
        }
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        for (int j = 1; j <= internal->np; ++j) {
          internal->delay_array_zhi[i - 1 + internal->dim_zhi_1 * (j - 1)] = internal->cov[internal->dim_cov_1 * (j - 1) + i - 1] * internal->delay_array_z[i - 1];
        }
      }
      for (int i = 1; i <= internal->np; ++i) {
        internal->delay_array_wh[i - 1] = (t < internal->ITN_IRS_on ? 1 : odin_sum2(internal->delay_array_whi, 0, internal->dim_whi_1, i - 1, i, internal->dim_whi_1));
      }
      for (int i = 1; i <= internal->np; ++i) {
        internal->delay_array_zh[i - 1] = (t < internal->ITN_IRS_on ? 0 : odin_sum2(internal->delay_array_zhi, 0, internal->dim_zhi_1, i - 1, i, internal->dim_zhi_1));
      }
      for (int i = 1; i <= internal->np; ++i) {
        internal->delay_array_zbar[i - 1] = internal->Q0 * internal->delay_array_zh[i - 1];
      }
      for (int i = 1; i <= internal->np; ++i) {
        internal->delay_array_wbar[i - 1] = 1 - internal->Q0 + internal->Q0 * internal->delay_array_wh[i - 1];
      }
      for (int i = 1; i <= internal->dim_fv; ++i) {
        internal->delay_array_fv[i - 1] = 1 / (double) (internal->tau1 / (double) (1 - internal->delay_array_zbar[i - 1]) + internal->tau2);
      }
      for (int i = 1; i <= internal->np; ++i) {
        internal->delay_array_Q[i - 1] = 1 - (1 - internal->Q0) / (double) internal->delay_array_wbar[i - 1];
      }
      for (int i = 1; i <= internal->np; ++i) {
        internal->delay_array_av[i - 1] = internal->delay_array_fv[i - 1] * internal->delay_array_Q[i - 1];
      }
      for (int i = 1; i <= internal->num_int; ++i) {
        for (int j = 1; j <= internal->np; ++j) {
          internal->delay_array_av_mosq[i - 1 + internal->dim_av_mosq_1 * (j - 1)] = internal->delay_array_av[j - 1] * internal->delay_array_w[i - 1] / (double) internal->delay_array_wh[j - 1];
        }
      }
      for (int i = 1; i <= internal->na; ++i) {
        for (int j = 1; j <= internal->nh; ++j) {
          for (int k = 1; k <= internal->num_int; ++k) {
            for (int l = 1; l <= internal->np; ++l) {
              internal->delay_array_FOIvijk[i - 1 + internal->dim_FOIvijk_1 * (j - 1) + internal->dim_FOIvijk_12 * (k - 1) + internal->dim_FOIvijk_123 * (l - 1)] = (internal->cT * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->cD * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA[internal->dim_cA_123 * (l - 1) + internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->cU * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq[internal->dim_av_mosq_1 * (l - 1) + k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
            }
          }
        }
      }
      for (int i = 1; i <= internal->dim_lag_FOIv; ++i) {
        internal->delay_array_lag_FOIv[i - 1] = odin_sum4(internal->delay_array_FOIvijk, 0, internal->dim_FOIvijk_1, 0, internal->dim_FOIvijk_2, 0, internal->dim_FOIvijk_3, i - 1, i, internal->dim_FOIvijk_1, internal->dim_FOIvijk_12, internal->dim_FOIvijk_123);
      }
      for (int i = 1; i <= internal->dim_rows_v_1; ++i) {
        for (int j = 1; j <= internal->dim_rows_v_2; ++j) {
          internal->delay_array_rows_v[i - 1 + internal->dim_rows_v_1 * (j - 1)] = internal->mix[internal->dim_mix_1 * (j - 1) + i - 1] * internal->delay_array_lag_FOIv[j - 1];
        }
      }
      for (int i = 1; i <= internal->dim_lag_mix_FOIv; ++i) {
        internal->delay_array_lag_mix_FOIv[i - 1] = odin_sum2(internal->delay_array_rows_v, i - 1, i, 0, internal->dim_rows_v_2, internal->dim_rows_v_1);
      }
      for (int i = 1; i <= internal->dim_FOIv; ++i) {
        internal->FOIv[i - 1] = internal->delay_array_lag_mix_FOIv[i - 1];
      }
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    for (int i = 1; i <= internal->dim_ince; ++i) {
      internal->delay_array_ince[i - 1] = internal->FOIv[i - 1] * Sv[i - 1];
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      for (int j = 1; j <= internal->np; ++j) {
        internal->delay_array_zhi[i - 1 + internal->dim_zhi_1 * (j - 1)] = internal->cov[internal->dim_cov_1 * (j - 1) + i - 1] * internal->delay_array_z[i - 1];
      }
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      for (int j = 1; j <= internal->np; ++j) {
        internal->delay_array_whi[i - 1 + internal->dim_whi_1 * (j - 1)] = internal->cov[internal->dim_cov_1 * (j - 1) + i - 1] * internal->delay_array_w[i - 1];
      }
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_zh[i - 1] = (t < internal->ITN_IRS_on ? 0 : odin_sum2(internal->delay_array_zhi, 0, internal->dim_zhi_1, i - 1, i, internal->dim_zhi_1));
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_wh[i - 1] = (t < internal->ITN_IRS_on ? 1 : odin_sum2(internal->delay_array_whi, 0, internal->dim_whi_1, i - 1, i, internal->dim_whi_1));
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_zbar[i - 1] = internal->Q0 * internal->delay_array_zh[i - 1];
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_wbar[i - 1] = 1 - internal->Q0 + internal->Q0 * internal->delay_array_wh[i - 1];
    }
    for (int i = 1; i <= internal->dim_fv; ++i) {
      internal->delay_array_fv[i - 1] = 1 / (double) (internal->tau1 / (double) (1 - internal->delay_array_zbar[i - 1]) + internal->tau2);
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_p1[i - 1] = internal->delay_array_wbar[i - 1] * internal->p10 / (double) (1 - internal->delay_array_zbar[i - 1] * internal->p10);
    }
    for (int i = 1; i <= internal->dim_mu; ++i) {
      internal->delay_array_mu[i - 1] = -(internal->delay_array_fv[i - 1]) * log(internal->delay_array_p1[i - 1] * internal->p2);
    }
    for (int i = 1; i <= internal->dim_surv; ++i) {
      internal->delay_array_surv[i - 1] = exp(-(internal->delay_array_mu[i - 1]) * internal->delayMos);
    }
    for (int i = 1; i <= internal->dim_lag_incv; ++i) {
      internal->delay_array_lag_incv[i - 1] = internal->delay_array_ince[i - 1] * internal->delay_array_surv[i - 1];
    }
    for (int i = 1; i <= internal->dim_incv; ++i) {
      internal->incv[i - 1] = internal->delay_array_lag_incv[i - 1];
    }
  }
  for (int i = 1; i <= internal->nh; ++i) {
    for (int j = 1; j <= internal->num_int; ++j) {
      for (int k = 1; k <= internal->np; ++k) {
        internal->init_ICM_pre[i - 1 + internal->dim_init_ICM_pre_1 * (j - 1) + internal->dim_init_ICM_pre_12 * (k - 1)] = internal->PM * (ICA[internal->dim_ICA_123 * (k - 1) + internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20l - 1] + internal->age_20_factor * (ICA[internal->dim_ICA_123 * (k - 1) + internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20u - 1] - ICA[internal->dim_ICA_123 * (k - 1) + internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20l - 1]));
      }
    }
  }
  for (int i = 1; i <= internal->dim_rows_1; ++i) {
    for (int j = 1; j <= internal->dim_rows_2; ++j) {
      internal->rows[i - 1 + internal->dim_rows_1 * (j - 1)] = internal->mix[internal->dim_mix_1 * (j - 1) + i - 1] * Iv[j - 1];
    }
  }
  {
     int i = 1;
     internal->w_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
  }
  {
     int i = 3;
     internal->w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
  }
  {
     int i = 4;
     internal->w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1) + internal->dim_Y_123 * (l - 1)] = S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_z; ++i) {
    internal->z[i - 1] = internal->z_[i - 1];
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->np; ++l) {
           dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_123 * (l - 1)] = internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_123 * (l - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_123 * (l - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_123 * (l - 1)] = internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_123 * (l - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - (ICA[internal->dim_ICA_123 * (l - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_123 * (l - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
        }
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->np; ++l) {
           dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_123 * (l - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_123 * (l - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + (internal->init_ICM_pre[internal->dim_init_ICM_pre_12 * (l - 1) + internal->dim_init_ICM_pre_1 * (k - 1) + j - 1] - ICM[internal->dim_ICM_123 * (l - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1]) / (double) internal->x_I[i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_123 * (l - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_123 * (l - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - (ICM[internal->dim_ICM_123 * (l - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - ICM[internal->dim_ICM_123 * (l - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
        }
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->np; ++l) {
           dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_123 * (l - 1)] = internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_123 * (l - 1)] = internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - (ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] - ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
        }
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->np; ++l) {
           dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_123 * (l - 1)] = internal->rA * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_123 * (l - 1)] = internal->rA * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1 - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_ince; ++i) {
    internal->ince[i - 1] = internal->FOIv[i - 1] * Sv[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1) + internal->dim_phi_123 * (l - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_123 * (l - 1) + internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_w; ++i) {
    internal->w[i - 1] = internal->w_[i - 1];
  }
  {
     int i = 1;
     internal->yy_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy_[i - 1] = internal->w_[1];
  }
  {
     int i = 3;
     internal->yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS);
  }
  {
     int i = 4;
     internal->yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS);
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_123 * (l - 1)] = internal->phi[internal->dim_phi_123 * (l - 1) + internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_123 * (l - 1) + internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->np; ++l) {
           dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_123 * (l - 1)] = (1 - internal->phi[internal->dim_phi_123 * (l - 1) + internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_123 * (l - 1) + internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_123 * (l - 1)] = (1 - internal->phi[internal->dim_phi_123 * (l - 1) + internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_123 * (l - 1) + internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1 - 1];
        }
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->np; ++l) {
           dstatedt[internal->offset_variable_S + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_123 * (l - 1)] = -(internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_123 * (l - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->cov[internal->dim_cov_1 * (l - 1) + k - 1] * internal->eta * internal->H[l - 1] * internal->het_wt[j - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          dstatedt[internal->offset_variable_S + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_123 * (l - 1)] = -(internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_123 * (l - 1) + internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1 - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    for (int j = 1; j <= internal->np; ++j) {
      internal->whi[i - 1 + internal->dim_whi_1 * (j - 1)] = internal->cov[internal->dim_cov_1 * (j - 1) + i - 1] * internal->w[i - 1];
    }
  }
  for (int i = 1; i <= internal->dim_yy; ++i) {
    internal->yy[i - 1] = internal->yy_[i - 1];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    for (int j = 1; j <= internal->np; ++j) {
      internal->zhi[i - 1 + internal->dim_zhi_1 * (j - 1)] = internal->cov[internal->dim_cov_1 * (j - 1) + i - 1] * internal->z[i - 1];
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->np; ++l) {
           dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_123 * (l - 1)] = (1 - internal->ft) * internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_123 * (l - 1)] = (1 - internal->ft) * internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1 - 1];
        }
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->np; ++l) {
           dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_123 * (l - 1)] = internal->ft * internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_123 * (l - 1)] = internal->ft * internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1 - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->np; ++i) {
    internal->wh[i - 1] = (t < internal->ITN_IRS_on ? 1 : odin_sum2(internal->whi, 0, internal->dim_whi_1, i - 1, i, internal->dim_whi_1));
  }
  for (int i = 1; i <= internal->np; ++i) {
    internal->zh[i - 1] = (t < internal->ITN_IRS_on ? 0 : odin_sum2(internal->zhi, 0, internal->dim_zhi_1, i - 1, i, internal->dim_zhi_1));
  }
  for (int i = 1; i <= internal->np; ++i) {
    internal->wbar[i - 1] = 1 - internal->Q0 + internal->Q0 * internal->wh[i - 1];
  }
  for (int i = 1; i <= internal->np; ++i) {
    internal->zbar[i - 1] = internal->Q0 * internal->zh[i - 1];
  }
  for (int i = 1; i <= internal->dim_fv; ++i) {
    internal->fv[i - 1] = 1 / (double) (internal->tau1 / (double) (1 - internal->zbar[i - 1]) + internal->tau2);
  }
  for (int i = 1; i <= internal->np; ++i) {
    internal->p1[i - 1] = internal->wbar[i - 1] * internal->p10 / (double) (1 - internal->zbar[i - 1] * internal->p10);
  }
  for (int i = 1; i <= internal->np; ++i) {
    internal->Q[i - 1] = 1 - (1 - internal->Q0) / (double) internal->wbar[i - 1];
  }
  for (int i = 1; i <= internal->np; ++i) {
    internal->av[i - 1] = internal->fv[i - 1] * internal->Q[i - 1];
  }
  for (int i = 1; i <= internal->dim_mu; ++i) {
    internal->mu[i - 1] = -(internal->fv[i - 1]) * log(internal->p1[i - 1] * internal->p2);
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    for (int j = 1; j <= internal->np; ++j) {
      internal->av_human[i - 1 + internal->dim_av_human_1 * (j - 1)] = internal->av[j - 1] * internal->yy[i - 1] / (double) internal->wh[j - 1];
    }
  }
  for (int i = 1; i <= internal->np; ++i) {
    dstatedt[internal->dim_Sv + i - 1] = internal->ince[i - 1] - internal->incv[i - 1] - internal->mu[i - 1] * Ev[i - 1];
  }
  for (int i = 1; i <= internal->np; ++i) {
    dstatedt[internal->offset_variable_Iv + i - 1] = internal->incv[i - 1] - internal->mu[i - 1] * Iv[i - 1];
  }
  for (int i = 1; i <= internal->np; ++i) {
    dstatedt[0 + i - 1] = -(internal->ince[i - 1]) - internal->mu[i - 1] * Sv[i - 1] + internal->betaa[i - 1];
  }
  for (int i = 1; i <= internal->dim_eov; ++i) {
    internal->eov[i - 1] = internal->betaL / (double) internal->mu[i - 1] * (exp(internal->mu[i - 1] / (double) internal->fv[i - 1]) - 1);
  }
  for (int i = 1; i <= internal->dim_beta_larval; ++i) {
    internal->beta_larval[i - 1] = internal->eov[i - 1] * internal->mu[i - 1] * exp(-(internal->mu[i - 1]) / (double) internal->fv[i - 1]) / (double) (1 - exp(-(internal->mu[i - 1]) / (double) internal->fv[i - 1]));
  }
  for (int i = 1; i <= internal->dim_EIR_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_3; ++k) {
        for (int l = 1; l <= internal->dim_EIR_4; ++l) {
          internal->EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_123 * (l - 1)] = internal->av_human[internal->dim_av_human_1 * (l - 1) + k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * odin_sum2(internal->rows, l - 1, l, 0, internal->dim_rows_2, internal->dim_rows_1) / (double) internal->omega;
        }
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         for (int l = 1; l <= internal->np; ++l) {
           dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_123 * (l - 1)] = internal->EIR[internal->dim_EIR_123 * (l - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_123 * (l - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
         }
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_123 * (l - 1)] = internal->EIR[internal->dim_EIR_123 * (l - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_123 * (l - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - (IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] - IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_lambda; ++i) {
    internal->lambda[i - 1] = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * internal->beta_larval[i - 1] * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  }
  for (int i = 1; i <= internal->dim_K0; ++i) {
    internal->K0[i - 1] = 2 * internal->mv0[i - 1] * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (internal->lambda[i - 1] + 1) / (double) (internal->lambda[i - 1] / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1);
  }
  for (int i = 1; i <= internal->dim_KL; ++i) {
    internal->KL[i - 1] = internal->K0[i - 1] * theta2;
  }
  for (int i = 1; i <= internal->np; ++i) {
    dstatedt[internal->offset_variable_EL + i - 1] = internal->beta_larval[i - 1] * internal->mv[i - 1] - internal->muEL * (1 + (EL[i - 1] + LL[i - 1]) / (double) internal->KL[i - 1]) * EL[i - 1] - EL[i - 1] / (double) internal->dEL;
  }
  for (int i = 1; i <= internal->np; ++i) {
    dstatedt[internal->offset_variable_LL + i - 1] = EL[i - 1] / (double) internal->dEL - internal->muLL * (1 + internal->gammaL * (EL[i - 1] + LL[i - 1]) / (double) internal->KL[i - 1]) * LL[i - 1] - LL[i - 1] / (double) internal->dLL;
  }
  if (output) {
    output[0] = internal->omega;
    for (int i = 1; i <= internal->dim_Ivout; ++i) {
      output[8 + i - 1] = Iv[i - 1];
    }
    for (int i = 1; i <= internal->dim_Aout; ++i) {
      output[internal->offset_output_Aout + i - 1] = odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, i - 1, i, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123);
    }
    output[5] = d_IRS;
    output[2] = d_ITN;
    for (int i = 1; i <= internal->dim_Dout; ++i) {
      output[internal->offset_output_Dout + i - 1] = odin_sum4(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, i - 1, i, internal->dim_D_1, internal->dim_D_12, internal->dim_D_123);
    }
    for (int i = 1; i <= internal->dim_Pout; ++i) {
      output[internal->offset_output_Pout + i - 1] = odin_sum4(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, i - 1, i, internal->dim_P_1, internal->dim_P_12, internal->dim_P_123);
    }
    output[6] = r_IRS;
    output[3] = r_ITN;
    for (int i = 1; i <= internal->dim_Sout; ++i) {
      output[internal->offset_output_Sout + i - 1] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, i - 1, i, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123);
    }
    for (int i = 1; i <= internal->dim_Tout; ++i) {
      output[internal->offset_output_Tout + i - 1] = odin_sum4(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, i - 1, i, internal->dim_T_1, internal->dim_T_12, internal->dim_T_123);
    }
    for (int i = 1; i <= internal->dim_Uout; ++i) {
      output[internal->offset_output_Uout + i - 1] = odin_sum4(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, i - 1, i, internal->dim_U_1, internal->dim_U_12, internal->dim_U_123);
    }
    memcpy(output + internal->offset_output_mv, internal->mv, internal->dim_mv * sizeof(double));
    output[7] = s_IRS;
    output[4] = s_ITN;
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          for (int l = 1; l <= internal->dim_p_det_4; ++l) {
            internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_123 * (l - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
          }
        }
      }
    }
    for (int i = 1; i <= internal->age59; ++i) {
      for (int j = 1; j <= internal->dim_prev0to59_2; ++j) {
        for (int k = 1; k <= internal->dim_prev0to59_3; ++k) {
          for (int l = 1; l <= internal->dim_prev0to59_4; ++l) {
            internal->prev0to59[i - 1 + internal->dim_prev0to59_1 * (j - 1) + internal->dim_prev0to59_12 * (k - 1) + internal->dim_prev0to59_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    memcpy(output + internal->offset_output_cov, internal->cov, internal->dim_cov * sizeof(double));
    for (int i = 1; i <= internal->dim_prev; ++i) {
      output[internal->offset_output_prev + i - 1] = odin_sum4(internal->prev0to59, 0, internal->dim_prev0to59_1, 0, internal->dim_prev0to59_2, 0, internal->dim_prev0to59_3, i - 1, i, internal->dim_prev0to59_1, internal->dim_prev0to59_12, internal->dim_prev0to59_123) / (double) odin_sum1(internal->den, 0, internal->age59);
    }
    for (int i = 1; i <= internal->age05; ++i) {
      for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
        for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
          for (int l = 1; l <= internal->dim_clin_inc0to5_4; ++l) {
            internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1) + internal->dim_clin_inc0to5_123 * (l - 1)] = internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
          }
        }
      }
    }
    output[1] = odin_sum4(internal->clin_inc, 0, internal->dim_clin_inc_1, 0, internal->dim_clin_inc_2, 0, internal->dim_clin_inc_3, 0, internal->dim_clin_inc_4, internal->dim_clin_inc_1, internal->dim_clin_inc_12, internal->dim_clin_inc_123);
    for (int i = 1; i <= internal->dim_inc05; ++i) {
      output[internal->offset_output_inc05 + i - 1] = odin_sum4(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5_1, 0, internal->dim_clin_inc0to5_2, 0, internal->dim_clin_inc0to5_3, i - 1, i, internal->dim_clin_inc0to5_1, internal->dim_clin_inc0to5_12, internal->dim_clin_inc0to5_123) / (double) odin_sum1(internal->den, 0, internal->age05);
    }
    memcpy(output + internal->offset_output_wh, internal->wh, internal->dim_wh * sizeof(double));
    memcpy(output + internal->offset_output_Q, internal->Q, internal->dim_Q * sizeof(double));
    memcpy(output + internal->offset_output_mu, internal->mu, internal->dim_mu * sizeof(double));
    memcpy(output + internal->offset_output_beta_larval, internal->beta_larval, internal->dim_beta_larval * sizeof(double));
    memcpy(output + internal->offset_output_K0, internal->K0, internal->dim_K0 * sizeof(double));
    memcpy(output + internal->offset_output_KL, internal->KL, internal->dim_KL * sizeof(double));
  }
}
void odin_model_metapop_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal) {
  odin_model_metapop_rhs((odin_model_metapop_internal*)internal, t, state, dstatedt, NULL);
}
void odin_model_metapop_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np) {
  odin_model_metapop_rhs(odin_model_metapop_internal_ds, *t, state, dstatedt, output);
}
void odin_model_metapop_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p) {
  odin_model_metapop_internal *internal = (odin_model_metapop_internal*) internal_p;
  double * S = state + internal->offset_variable_S;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * ID = state + internal->offset_variable_ID;
  double * Sv = state + 0;
  double * Ev = state + internal->dim_Sv;
  double * Iv = state + internal->offset_variable_Iv;
  double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
  double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
  output[0] = internal->omega;
  double theta2 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
  double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
  for (int i = 1; i <= internal->dim_Ivout; ++i) {
    output[8 + i - 1] = Iv[i - 1];
  }
  double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
  double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
  for (int i = 1; i <= internal->dim_mv; ++i) {
    internal->mv[i - 1] = Sv[i - 1] + Ev[i - 1] + Iv[i - 1];
  }
  for (int i = 1; i <= internal->dim_Aout; ++i) {
    output[internal->offset_output_Aout + i - 1] = odin_sum4(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, i - 1, i, internal->dim_A_1, internal->dim_A_12, internal->dim_A_123);
  }
  output[5] = d_IRS;
  output[2] = d_ITN;
  for (int i = 1; i <= internal->dim_Dout; ++i) {
    output[internal->offset_output_Dout + i - 1] = odin_sum4(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, i - 1, i, internal->dim_D_1, internal->dim_D_12, internal->dim_D_123);
  }
  for (int i = 1; i <= internal->dim_Pout; ++i) {
    output[internal->offset_output_Pout + i - 1] = odin_sum4(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, i - 1, i, internal->dim_P_1, internal->dim_P_12, internal->dim_P_123);
  }
  output[6] = r_IRS;
  output[3] = r_ITN;
  for (int i = 1; i <= internal->dim_Sout; ++i) {
    output[internal->offset_output_Sout + i - 1] = odin_sum4(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, i - 1, i, internal->dim_S_1, internal->dim_S_12, internal->dim_S_123);
  }
  for (int i = 1; i <= internal->dim_Tout; ++i) {
    output[internal->offset_output_Tout + i - 1] = odin_sum4(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, i - 1, i, internal->dim_T_1, internal->dim_T_12, internal->dim_T_123);
  }
  for (int i = 1; i <= internal->dim_Uout; ++i) {
    output[internal->offset_output_Uout + i - 1] = odin_sum4(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, i - 1, i, internal->dim_U_1, internal->dim_U_12, internal->dim_U_123);
  }
  double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
  double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
  {
     int i = 1;
     internal->z_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z_[i - 1] = internal->bites_Bed * r_ITN;
  }
  {
     int i = 3;
     internal->z_[i - 1] = internal->bites_Indoors * r_IRS;
  }
  {
     int i = 4;
     internal->z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
  }
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double *Iv;
    double *IB;
    if (t <= internal->initial_t) {
      Iv = internal->initial_Iv;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_metapop_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv = internal->delay_state_FOI + 0;
      IB = internal->delay_state_FOI + internal->dim_Iv;
    }
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = internal->bites_Indoors * r_IRS;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * (r_IRS + (1 - r_IRS) * r_ITN) + (internal->bites_Indoors - internal->bites_Bed) * r_IRS;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          for (int l = 1; l <= internal->np; ++l) {
            internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1) + internal->dim_b_123 * (l - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
          }
        }
      }
    }
    for (int i = 1; i <= internal->dim_rows_1; ++i) {
      for (int j = 1; j <= internal->dim_rows_2; ++j) {
        internal->delay_array_rows[i - 1 + internal->dim_rows_1 * (j - 1)] = internal->mix[internal->dim_mix_1 * (j - 1) + i - 1] * Iv[j - 1];
      }
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_yy_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy_[i - 1] = internal->delay_array_w_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS);
    }
    {
       int i = 4;
       internal->delay_array_yy_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS);
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->dim_yy; ++i) {
      internal->delay_array_yy[i - 1] = internal->delay_array_yy_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      for (int j = 1; j <= internal->np; ++j) {
        internal->delay_array_whi[i - 1 + internal->dim_whi_1 * (j - 1)] = internal->cov[internal->dim_cov_1 * (j - 1) + i - 1] * internal->delay_array_w[i - 1];
      }
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      for (int j = 1; j <= internal->np; ++j) {
        internal->delay_array_zhi[i - 1 + internal->dim_zhi_1 * (j - 1)] = internal->cov[internal->dim_cov_1 * (j - 1) + i - 1] * internal->delay_array_z[i - 1];
      }
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_wh[i - 1] = (t < internal->ITN_IRS_on ? 1 : odin_sum2(internal->delay_array_whi, 0, internal->dim_whi_1, i - 1, i, internal->dim_whi_1));
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_zh[i - 1] = (t < internal->ITN_IRS_on ? 0 : odin_sum2(internal->delay_array_zhi, 0, internal->dim_zhi_1, i - 1, i, internal->dim_zhi_1));
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_zbar[i - 1] = internal->Q0 * internal->delay_array_zh[i - 1];
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_wbar[i - 1] = 1 - internal->Q0 + internal->Q0 * internal->delay_array_wh[i - 1];
    }
    for (int i = 1; i <= internal->dim_fv; ++i) {
      internal->delay_array_fv[i - 1] = 1 / (double) (internal->tau1 / (double) (1 - internal->delay_array_zbar[i - 1]) + internal->tau2);
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_Q[i - 1] = 1 - (1 - internal->Q0) / (double) internal->delay_array_wbar[i - 1];
    }
    for (int i = 1; i <= internal->np; ++i) {
      internal->delay_array_av[i - 1] = internal->delay_array_fv[i - 1] * internal->delay_array_Q[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      for (int j = 1; j <= internal->np; ++j) {
        internal->delay_array_av_human[i - 1 + internal->dim_av_human_1 * (j - 1)] = internal->delay_array_av[j - 1] * internal->delay_array_yy[i - 1] / (double) internal->delay_array_wh[j - 1];
      }
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          for (int l = 1; l <= internal->dim_EIR_4; ++l) {
            internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_123 * (l - 1)] = internal->delay_array_av_human[internal->dim_av_human_1 * (l - 1) + k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * odin_sum2(internal->delay_array_rows, l - 1, l, 0, internal->dim_rows_2, internal->dim_rows_1) / (double) internal->omega;
          }
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          for (int l = 1; l <= internal->np; ++l) {
            internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_123 * (l - 1)] = internal->delay_array_EIR[internal->dim_EIR_123 * (l - 1) + internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * ((IB[internal->dim_IB_123 * (l - 1) + internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_123 * (l - 1) + internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
          }
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          for (int l = 1; l <= internal->dim_FOI_4; ++l) {
            internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_123 * (l - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_123 * (l - 1) + internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
          }
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        for (int l = 1; l <= internal->dim_IC_4; ++l) {
          internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1) + internal->dim_IC_123 * (l - 1)] = ICM[internal->dim_ICM_123 * (l - 1) + internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_123 * (l - 1) + internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  memcpy(output + internal->offset_output_mv, internal->mv, internal->dim_mv * sizeof(double));
  output[7] = s_IRS;
  output[4] = s_ITN;
  for (int i = 1; i <= internal->dim_p_det_1; ++i) {
    for (int j = 1; j <= internal->dim_p_det_2; ++j) {
      for (int k = 1; k <= internal->dim_p_det_3; ++k) {
        for (int l = 1; l <= internal->dim_p_det_4; ++l) {
          internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_123 * (l - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_123 * (l - 1) + internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
  }
  {
     int i = 1;
     internal->w_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
  }
  {
     int i = 3;
     internal->w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Indoors * (1 - r_IRS) * s_IRS;
  }
  {
     int i = 4;
     internal->w_[i - 1] = 1 - internal->bites_Indoors + internal->bites_Bed * (1 - r_IRS) * s_ITN * s_IRS + (internal->bites_Indoors - internal->bites_Bed) * (1 - r_IRS) * s_IRS;
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1) + internal->dim_Y_123 * (l - 1)] = S[internal->dim_S_123 * (l - 1) + internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_123 * (l - 1) + internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_z; ++i) {
    internal->z[i - 1] = internal->z_[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1) + internal->dim_phi_123 * (l - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_123 * (l - 1) + internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
        }
      }
    }
  }
  for (int i = 1; i <= internal->age59; ++i) {
    for (int j = 1; j <= internal->dim_prev0to59_2; ++j) {
      for (int k = 1; k <= internal->dim_prev0to59_3; ++k) {
        for (int l = 1; l <= internal->dim_prev0to59_4; ++l) {
          internal->prev0to59[i - 1 + internal->dim_prev0to59_1 * (j - 1) + internal->dim_prev0to59_12 * (k - 1) + internal->dim_prev0to59_123 * (l - 1)] = T[internal->dim_T_123 * (l - 1) + internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_123 * (l - 1) + internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_123 * (l - 1) + internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_123 * (l - 1) + internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_w; ++i) {
    internal->w[i - 1] = internal->w_[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        for (int l = 1; l <= internal->np; ++l) {
          internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_123 * (l - 1)] = internal->phi[internal->dim_phi_123 * (l - 1) + internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_123 * (l - 1) + internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_123 * (l - 1) + internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  memcpy(output + internal->offset_output_cov, internal->cov, internal->dim_cov * sizeof(double));
  for (int i = 1; i <= internal->dim_prev; ++i) {
    output[internal->offset_output_prev + i - 1] = odin_sum4(internal->prev0to59, 0, internal->dim_prev0to59_1, 0, internal->dim_prev0to59_2, 0, internal->dim_prev0to59_3, i - 1, i, internal->dim_prev0to59_1, internal->dim_prev0to59_12, internal->dim_prev0to59_123) / (double) odin_sum1(internal->den, 0, internal->age59);
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    for (int j = 1; j <= internal->np; ++j) {
      internal->whi[i - 1 + internal->dim_whi_1 * (j - 1)] = internal->cov[internal->dim_cov_1 * (j - 1) + i - 1] * internal->w[i - 1];
    }
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    for (int j = 1; j <= internal->np; ++j) {
      internal->zhi[i - 1 + internal->dim_zhi_1 * (j - 1)] = internal->cov[internal->dim_cov_1 * (j - 1) + i - 1] * internal->z[i - 1];
    }
  }
  for (int i = 1; i <= internal->age05; ++i) {
    for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
      for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
        for (int l = 1; l <= internal->dim_clin_inc0to5_4; ++l) {
          internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1) + internal->dim_clin_inc0to5_123 * (l - 1)] = internal->clin_inc[internal->dim_clin_inc_123 * (l - 1) + internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  output[1] = odin_sum4(internal->clin_inc, 0, internal->dim_clin_inc_1, 0, internal->dim_clin_inc_2, 0, internal->dim_clin_inc_3, 0, internal->dim_clin_inc_4, internal->dim_clin_inc_1, internal->dim_clin_inc_12, internal->dim_clin_inc_123);
  for (int i = 1; i <= internal->np; ++i) {
    internal->wh[i - 1] = (t < internal->ITN_IRS_on ? 1 : odin_sum2(internal->whi, 0, internal->dim_whi_1, i - 1, i, internal->dim_whi_1));
  }
  for (int i = 1; i <= internal->np; ++i) {
    internal->zh[i - 1] = (t < internal->ITN_IRS_on ? 0 : odin_sum2(internal->zhi, 0, internal->dim_zhi_1, i - 1, i, internal->dim_zhi_1));
  }
  for (int i = 1; i <= internal->dim_inc05; ++i) {
    output[internal->offset_output_inc05 + i - 1] = odin_sum4(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5_1, 0, internal->dim_clin_inc0to5_2, 0, internal->dim_clin_inc0to5_3, i - 1, i, internal->dim_clin_inc0to5_1, internal->dim_clin_inc0to5_12, internal->dim_clin_inc0to5_123) / (double) odin_sum1(internal->den, 0, internal->age05);
  }
  memcpy(output + internal->offset_output_wh, internal->wh, internal->dim_wh * sizeof(double));
  for (int i = 1; i <= internal->np; ++i) {
    internal->wbar[i - 1] = 1 - internal->Q0 + internal->Q0 * internal->wh[i - 1];
  }
  for (int i = 1; i <= internal->np; ++i) {
    internal->zbar[i - 1] = internal->Q0 * internal->zh[i - 1];
  }
  for (int i = 1; i <= internal->dim_fv; ++i) {
    internal->fv[i - 1] = 1 / (double) (internal->tau1 / (double) (1 - internal->zbar[i - 1]) + internal->tau2);
  }
  for (int i = 1; i <= internal->np; ++i) {
    internal->p1[i - 1] = internal->wbar[i - 1] * internal->p10 / (double) (1 - internal->zbar[i - 1] * internal->p10);
  }
  for (int i = 1; i <= internal->np; ++i) {
    internal->Q[i - 1] = 1 - (1 - internal->Q0) / (double) internal->wbar[i - 1];
  }
  for (int i = 1; i <= internal->dim_mu; ++i) {
    internal->mu[i - 1] = -(internal->fv[i - 1]) * log(internal->p1[i - 1] * internal->p2);
  }
  memcpy(output + internal->offset_output_Q, internal->Q, internal->dim_Q * sizeof(double));
  for (int i = 1; i <= internal->dim_eov; ++i) {
    internal->eov[i - 1] = internal->betaL / (double) internal->mu[i - 1] * (exp(internal->mu[i - 1] / (double) internal->fv[i - 1]) - 1);
  }
  memcpy(output + internal->offset_output_mu, internal->mu, internal->dim_mu * sizeof(double));
  for (int i = 1; i <= internal->dim_beta_larval; ++i) {
    internal->beta_larval[i - 1] = internal->eov[i - 1] * internal->mu[i - 1] * exp(-(internal->mu[i - 1]) / (double) internal->fv[i - 1]) / (double) (1 - exp(-(internal->mu[i - 1]) / (double) internal->fv[i - 1]));
  }
  for (int i = 1; i <= internal->dim_lambda; ++i) {
    internal->lambda[i - 1] = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * internal->beta_larval[i - 1] * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  }
  memcpy(output + internal->offset_output_beta_larval, internal->beta_larval, internal->dim_beta_larval * sizeof(double));
  for (int i = 1; i <= internal->dim_K0; ++i) {
    internal->K0[i - 1] = 2 * internal->mv0[i - 1] * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (internal->lambda[i - 1] + 1) / (double) (internal->lambda[i - 1] / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1);
  }
  for (int i = 1; i <= internal->dim_KL; ++i) {
    internal->KL[i - 1] = internal->K0[i - 1] * theta2;
  }
  memcpy(output + internal->offset_output_K0, internal->K0, internal->dim_K0 * sizeof(double));
  memcpy(output + internal->offset_output_KL, internal->KL, internal->dim_KL * sizeof(double));
}
SEXP odin_model_metapop_rhs_r(SEXP internal_p, SEXP t, SEXP state) {
  SEXP dstatedt = PROTECT(allocVector(REALSXP, LENGTH(state)));
  odin_model_metapop_internal *internal = odin_model_metapop_get_internal(internal_p, 1);
  SEXP output_ptr = PROTECT(allocVector(REALSXP, internal->dim_Aout + internal->dim_beta_larval + internal->dim_cov + internal->dim_Dout + internal->dim_inc05 + internal->dim_Ivout + internal->dim_K0 + internal->dim_KL + internal->dim_mu + internal->dim_mv + internal->dim_Pout + internal->dim_prev + internal->dim_Q + internal->dim_Sout + internal->dim_Tout + internal->dim_Uout + internal->dim_wh + 8));
  setAttrib(dstatedt, install("output"), output_ptr);
  UNPROTECT(1);
  double *output = REAL(output_ptr);
  const double initial_t = internal->initial_t;
  if (ISNA(initial_t)) {
    internal->initial_t = scalar_real(t, "t");
  }
  odin_model_metapop_rhs(internal, scalar_real(t, "t"), REAL(state), REAL(dstatedt), output);
  if (ISNA(initial_t)) {
    internal->initial_t = initial_t;
  }
  UNPROTECT(1);
  return dstatedt;
}
odin_model_TBV_internal* odin_model_TBV_get_internal(SEXP internal_p, int closed_error) {
  odin_model_TBV_internal *internal = NULL;
  if (TYPEOF(internal_p) != EXTPTRSXP) {
    Rf_error("Expected an external pointer");
  }
  internal = (odin_model_TBV_internal*) R_ExternalPtrAddr(internal_p);
  if (!internal && closed_error) {
    Rf_error("Pointer has been invalidated");
  }
  return internal;
}
void odin_model_TBV_finalise(SEXP internal_p) {
  odin_model_TBV_internal *internal = odin_model_TBV_get_internal(internal_p, 0);
  if (internal_p) {
    Free(internal->age);
    Free(internal->age_rate);
    Free(internal->ainf);
    Free(internal->av_human);
    Free(internal->av_mosq);
    Free(internal->avisinf);
    Free(internal->b);
    Free(internal->b_fun);
    Free(internal->cA);
    Free(internal->cA_fcn);
    Free(internal->cD_fcn);
    Free(internal->clin_inc);
    Free(internal->clin_inc0to5);
    Free(internal->cov);
    Free(internal->cov_);
    Free(internal->cT_fcn);
    Free(internal->cU_fcn);
    Free(internal->delay_array_av_human);
    Free(internal->delay_array_av_mosq);
    Free(internal->delay_array_b);
    Free(internal->delay_array_b_fun);
    Free(internal->delay_array_cA);
    Free(internal->delay_array_cA_fcn);
    Free(internal->delay_array_cD_fcn);
    Free(internal->delay_array_cT_fcn);
    Free(internal->delay_array_cU_fcn);
    Free(internal->delay_array_EIR);
    Free(internal->delay_array_FOI_lag);
    Free(internal->delay_array_FOIvijk);
    Free(internal->delay_array_p_det);
    Free(internal->delay_array_w);
    Free(internal->delay_array_w_);
    Free(internal->delay_array_whi);
    Free(internal->delay_array_yy);
    Free(internal->delay_array_yy_);
    Free(internal->delay_array_z);
    Free(internal->delay_array_z_);
    Free(internal->delay_array_zhi);
    Free(internal->delay_index_FOI);
    Free(internal->delay_index_FOIv);
    Free(internal->delay_index_incv);
    Free(internal->delay_state_FOI);
    Free(internal->delay_state_FOIv);
    Free(internal->delay_state_incv);
    Free(internal->den);
    Free(internal->dinf);
    Free(internal->EIR);
    Free(internal->EIRweight);
    Free(internal->fd);
    Free(internal->FOI);
    Free(internal->foi_age);
    Free(internal->FOI_lag);
    Free(internal->FOIvijk);
    Free(internal->het_wt);
    Free(internal->IC);
    Free(internal->init_A);
    Free(internal->init_D);
    Free(internal->init_IB);
    Free(internal->init_ICA);
    Free(internal->init_ICM);
    Free(internal->init_ICM_pre);
    Free(internal->init_ID);
    Free(internal->init_P);
    Free(internal->init_S);
    Free(internal->init_T);
    Free(internal->init_U);
    Free(internal->initial_A);
    Free(internal->initial_D);
    Free(internal->initial_IB);
    Free(internal->initial_ICA);
    Free(internal->initial_ICM);
    Free(internal->initial_ID);
    Free(internal->initial_P);
    Free(internal->initial_S);
    Free(internal->initial_T);
    Free(internal->initial_U);
    Free(internal->p_det);
    Free(internal->phi);
    Free(internal->prev);
    Free(internal->prev0to59);
    Free(internal->rel_foi);
    Free(internal->tinf);
    Free(internal->uinf);
    Free(internal->vis_A);
    Free(internal->w);
    Free(internal->w_);
    Free(internal->whi);
    Free(internal->x_I);
    Free(internal->Y);
    Free(internal->yy);
    Free(internal->yy_);
    Free(internal->z);
    Free(internal->z_);
    Free(internal->zhi);
    Free(internal);
    R_ClearExternalPtr(internal_p);
  }
}
SEXP odin_model_TBV_create(SEXP user) {
  odin_model_TBV_internal *internal = (odin_model_TBV_internal*) Calloc(1, odin_model_TBV_internal);
  internal->age = NULL;
  internal->age_rate = NULL;
  internal->ainf = NULL;
  internal->av_human = NULL;
  internal->av_mosq = NULL;
  internal->avisinf = NULL;
  internal->b = NULL;
  internal->b_fun = NULL;
  internal->cA = NULL;
  internal->cA_fcn = NULL;
  internal->cD_fcn = NULL;
  internal->clin_inc = NULL;
  internal->clin_inc0to5 = NULL;
  internal->cov = NULL;
  internal->cov_ = NULL;
  internal->cT_fcn = NULL;
  internal->cU_fcn = NULL;
  internal->delay_array_av_human = NULL;
  internal->delay_array_av_mosq = NULL;
  internal->delay_array_b = NULL;
  internal->delay_array_b_fun = NULL;
  internal->delay_array_cA = NULL;
  internal->delay_array_cA_fcn = NULL;
  internal->delay_array_cD_fcn = NULL;
  internal->delay_array_cT_fcn = NULL;
  internal->delay_array_cU_fcn = NULL;
  internal->delay_array_EIR = NULL;
  internal->delay_array_FOI_lag = NULL;
  internal->delay_array_FOIvijk = NULL;
  internal->delay_array_p_det = NULL;
  internal->delay_array_w = NULL;
  internal->delay_array_w_ = NULL;
  internal->delay_array_whi = NULL;
  internal->delay_array_yy = NULL;
  internal->delay_array_yy_ = NULL;
  internal->delay_array_z = NULL;
  internal->delay_array_z_ = NULL;
  internal->delay_array_zhi = NULL;
  internal->delay_index_FOI = NULL;
  internal->delay_index_FOIv = NULL;
  internal->delay_index_incv = NULL;
  internal->delay_state_FOI = NULL;
  internal->delay_state_FOIv = NULL;
  internal->delay_state_incv = NULL;
  internal->den = NULL;
  internal->dinf = NULL;
  internal->EIR = NULL;
  internal->EIRweight = NULL;
  internal->fd = NULL;
  internal->FOI = NULL;
  internal->foi_age = NULL;
  internal->FOI_lag = NULL;
  internal->FOIvijk = NULL;
  internal->het_wt = NULL;
  internal->IC = NULL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ICM_pre = NULL;
  internal->init_ID = NULL;
  internal->init_P = NULL;
  internal->init_S = NULL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->initial_A = NULL;
  internal->initial_D = NULL;
  internal->initial_IB = NULL;
  internal->initial_ICA = NULL;
  internal->initial_ICM = NULL;
  internal->initial_ID = NULL;
  internal->initial_P = NULL;
  internal->initial_S = NULL;
  internal->initial_T = NULL;
  internal->initial_U = NULL;
  internal->p_det = NULL;
  internal->phi = NULL;
  internal->prev = NULL;
  internal->prev0to59 = NULL;
  internal->rel_foi = NULL;
  internal->tinf = NULL;
  internal->uinf = NULL;
  internal->vis_A = NULL;
  internal->w = NULL;
  internal->w_ = NULL;
  internal->whi = NULL;
  internal->x_I = NULL;
  internal->Y = NULL;
  internal->yy = NULL;
  internal->yy_ = NULL;
  internal->z = NULL;
  internal->z_ = NULL;
  internal->zhi = NULL;
  Free(internal->delay_index_incv);
  internal->delay_index_incv = Calloc(1, int);
  Free(internal->delay_state_incv);
  internal->delay_state_incv = Calloc(1, double);
  internal->delay_index_incv[0] = 0;
  internal->dim_cov_ = 4;
  internal->dim_w_ = 4;
  internal->dim_yy_ = 4;
  internal->dim_z_ = 4;
  internal->mA = 3.7999999999999998;
  internal->mD = 46.700000000000003;
  internal->mT = 35;
  internal->mU = 0.83999999999999997;
  internal->rrA = 0.91000000000000003;
  internal->rrD = 0.91000000000000003;
  internal->rrT = 0.91000000000000003;
  internal->rrU = 0.91000000000000003;
  Free(internal->cov_);
  internal->cov_ = (double*) Calloc(internal->dim_cov_, double);
  Free(internal->w_);
  internal->w_ = (double*) Calloc(internal->dim_w_, double);
  Free(internal->yy_);
  internal->yy_ = (double*) Calloc(internal->dim_yy_, double);
  Free(internal->z_);
  internal->z_ = (double*) Calloc(internal->dim_z_, double);
  Free(internal->delay_array_w_);
  internal->delay_array_w_ = (double*) Calloc(internal->dim_w_, double);
  Free(internal->delay_array_yy_);
  internal->delay_array_yy_ = (double*) Calloc(internal->dim_yy_, double);
  Free(internal->delay_array_z_);
  internal->delay_array_z_ = (double*) Calloc(internal->dim_z_, double);
  internal->aD = NA_REAL;
  internal->age = NULL;
  internal->age_20_factor = NA_REAL;
  internal->age_max_rts = NA_INTEGER;
  internal->age_max_tbv = NA_INTEGER;
  internal->age_min_rts = NA_INTEGER;
  internal->age_min_tbv = NA_INTEGER;
  internal->age_rate = NULL;
  internal->age05 = NA_INTEGER;
  internal->age20l = NA_INTEGER;
  internal->age20u = NA_INTEGER;
  internal->age59 = NA_INTEGER;
  internal->alpha_RTS = NA_REAL;
  internal->b0 = NA_REAL;
  internal->b1 = NA_REAL;
  internal->beta_RTS = NA_REAL;
  internal->betaL = NA_REAL;
  internal->bites_Bed = NA_REAL;
  internal->bites_Indoors = NA_REAL;
  internal->cD = NA_REAL;
  internal->chi = NA_REAL;
  internal->CS_boost = NA_REAL;
  internal->CS_peak = NA_REAL;
  internal->cT = NA_REAL;
  internal->cU = NA_REAL;
  internal->d_IRS0 = NA_REAL;
  internal->d_ITN0 = NA_REAL;
  internal->d1 = NA_REAL;
  internal->dB = NA_REAL;
  internal->dCA = NA_REAL;
  internal->dCM = NA_REAL;
  internal->dE = NA_REAL;
  internal->dEL = NA_REAL;
  internal->delayGam = NA_REAL;
  internal->delayMos = NA_REAL;
  internal->den = NULL;
  internal->dID = NA_REAL;
  internal->dl = NA_REAL;
  internal->dl25 = NA_REAL;
  internal->dLL = NA_REAL;
  internal->dPL = NA_REAL;
  internal->ds = NA_REAL;
  internal->ds25 = NA_REAL;
  internal->eta = NA_REAL;
  internal->fD0 = NA_REAL;
  internal->foi_age = NULL;
  internal->ft = NA_REAL;
  internal->gamma1 = NA_REAL;
  internal->gammaD = NA_REAL;
  internal->gammaL = NA_REAL;
  internal->het_wt = NULL;
  internal->hill1 = NA_REAL;
  internal->hill2 = NA_REAL;
  internal->IB0 = NA_REAL;
  internal->IC0 = NA_REAL;
  internal->ID0 = NA_REAL;
  internal->init_A = NULL;
  internal->init_D = NULL;
  internal->init_EL = NA_REAL;
  internal->init_Ev = NA_REAL;
  internal->init_IB = NULL;
  internal->init_ICA = NULL;
  internal->init_ICM = NULL;
  internal->init_ID = NULL;
  internal->init_Iv = NA_REAL;
  internal->init_LL = NA_REAL;
  internal->init_P = NULL;
  internal->init_PL = NA_REAL;
  internal->init_S = NULL;
  internal->init_Sv = NA_REAL;
  internal->init_T = NULL;
  internal->init_U = NULL;
  internal->irs_cov = NA_REAL;
  internal->IRS_interval = NA_REAL;
  internal->irs_loss = NA_REAL;
  internal->itn_cov = NA_REAL;
  internal->ITN_interval = NA_REAL;
  internal->ITN_IRS_on = NA_REAL;
  internal->itn_loss = NA_REAL;
  internal->kB = NA_REAL;
  internal->kC = NA_REAL;
  internal->kD = NA_REAL;
  internal->mu0 = NA_REAL;
  internal->mu25 = NA_REAL;
  internal->muEL = NA_REAL;
  internal->muLL = NA_REAL;
  internal->muPL = NA_REAL;
  internal->mv0 = NA_REAL;
  internal->na = NA_INTEGER;
  internal->nh = NA_INTEGER;
  internal->num_int = NA_INTEGER;
  internal->omega = NA_REAL;
  internal->p_boost = NA_REAL;
  internal->p_peak = NA_REAL;
  internal->p10 = NA_REAL;
  internal->p2 = NA_REAL;
  internal->phi0 = NA_REAL;
  internal->phi1 = NA_REAL;
  internal->pi = NA_REAL;
  internal->PM = NA_REAL;
  internal->Q0 = NA_REAL;
  internal->r_IRS0 = NA_REAL;
  internal->r_ITN0 = NA_REAL;
  internal->r_ITN1 = NA_REAL;
  internal->rA = NA_REAL;
  internal->rD = NA_REAL;
  internal->rel_foi = NULL;
  internal->rho25 = NA_REAL;
  internal->rP = NA_REAL;
  internal->rT = NA_REAL;
  internal->RTS_switch = NA_REAL;
  internal->rU = NA_REAL;
  internal->ssa0 = NA_REAL;
  internal->ssa1 = NA_REAL;
  internal->ssa2 = NA_REAL;
  internal->ssa3 = NA_REAL;
  internal->ssb1 = NA_REAL;
  internal->ssb2 = NA_REAL;
  internal->ssb3 = NA_REAL;
  internal->switch_TBV = NA_REAL;
  internal->switch_TRA_to_TBA = NA_REAL;
  internal->t_boost_rts = NA_REAL;
  internal->tau1 = NA_REAL;
  internal->tau2 = NA_REAL;
  internal->tau25 = NA_REAL;
  internal->theta_c = NA_REAL;
  internal->uB = NA_REAL;
  internal->uCA = NA_REAL;
  internal->uD = NA_REAL;
  internal->v_interval = NA_REAL;
  internal->V_max_RTS = NA_REAL;
  internal->vacc_lag = NA_REAL;
  internal->x_I = NULL;
  internal->initial_t = NA_REAL;
  SEXP ptr = PROTECT(R_MakeExternalPtr(internal, R_NilValue, R_NilValue));
  R_RegisterCFinalizer(ptr, odin_model_TBV_finalise);
  UNPROTECT(1);
  return ptr;
}
static odin_model_TBV_internal *odin_model_TBV_internal_ds;
void odin_model_TBV_initmod_desolve(void(* odeparms) (int *, double *)) {
  static DL_FUNC get_desolve_gparms = NULL;
  if (get_desolve_gparms == NULL) {
    get_desolve_gparms =
      R_GetCCallable("deSolve", "get_deSolve_gparms");
  }
  odin_model_TBV_internal_ds = odin_model_TBV_get_internal(get_desolve_gparms(), 1);
}
SEXP odin_model_TBV_contents(SEXP internal_p) {
  odin_model_TBV_internal *internal = odin_model_TBV_get_internal(internal_p, 1);
  SEXP contents = PROTECT(allocVector(VECSXP, 503));
  SET_VECTOR_ELT(contents, 0, ScalarReal(internal->aD));
  SEXP age = PROTECT(allocVector(REALSXP, internal->dim_age));
  memcpy(REAL(age), internal->age, internal->dim_age * sizeof(double));
  SET_VECTOR_ELT(contents, 1, age);
  SET_VECTOR_ELT(contents, 2, ScalarReal(internal->age_20_factor));
  SET_VECTOR_ELT(contents, 3, ScalarInteger(internal->age_max_rts));
  SET_VECTOR_ELT(contents, 4, ScalarInteger(internal->age_max_tbv));
  SET_VECTOR_ELT(contents, 5, ScalarInteger(internal->age_min_rts));
  SET_VECTOR_ELT(contents, 6, ScalarInteger(internal->age_min_tbv));
  SEXP age_rate = PROTECT(allocVector(REALSXP, internal->dim_age_rate));
  memcpy(REAL(age_rate), internal->age_rate, internal->dim_age_rate * sizeof(double));
  SET_VECTOR_ELT(contents, 7, age_rate);
  SET_VECTOR_ELT(contents, 8, ScalarInteger(internal->age05));
  SET_VECTOR_ELT(contents, 9, ScalarInteger(internal->age20l));
  SET_VECTOR_ELT(contents, 10, ScalarInteger(internal->age20u));
  SET_VECTOR_ELT(contents, 11, ScalarInteger(internal->age59));
  SEXP ainf = PROTECT(allocVector(REALSXP, internal->dim_ainf));
  memcpy(REAL(ainf), internal->ainf, internal->dim_ainf * sizeof(double));
  odin_set_dim(ainf, 3, internal->dim_ainf_1, internal->dim_ainf_2, internal->dim_ainf_3);
  SET_VECTOR_ELT(contents, 12, ainf);
  SET_VECTOR_ELT(contents, 13, ScalarReal(internal->alpha_RTS));
  SEXP av_human = PROTECT(allocVector(REALSXP, internal->dim_av_human));
  memcpy(REAL(av_human), internal->av_human, internal->dim_av_human * sizeof(double));
  SET_VECTOR_ELT(contents, 14, av_human);
  SEXP av_mosq = PROTECT(allocVector(REALSXP, internal->dim_av_mosq));
  memcpy(REAL(av_mosq), internal->av_mosq, internal->dim_av_mosq * sizeof(double));
  SET_VECTOR_ELT(contents, 15, av_mosq);
  SEXP avisinf = PROTECT(allocVector(REALSXP, internal->dim_avisinf));
  memcpy(REAL(avisinf), internal->avisinf, internal->dim_avisinf * sizeof(double));
  odin_set_dim(avisinf, 3, internal->dim_avisinf_1, internal->dim_avisinf_2, internal->dim_avisinf_3);
  SET_VECTOR_ELT(contents, 16, avisinf);
  SEXP b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(b), internal->b, internal->dim_b * sizeof(double));
  odin_set_dim(b, 3, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3);
  SET_VECTOR_ELT(contents, 17, b);
  SEXP b_fun = PROTECT(allocVector(REALSXP, internal->dim_b_fun));
  memcpy(REAL(b_fun), internal->b_fun, internal->dim_b_fun * sizeof(double));
  odin_set_dim(b_fun, 3, internal->dim_b_fun_1, internal->dim_b_fun_2, internal->dim_b_fun_3);
  SET_VECTOR_ELT(contents, 18, b_fun);
  SET_VECTOR_ELT(contents, 19, ScalarReal(internal->b_lambda));
  SET_VECTOR_ELT(contents, 20, ScalarReal(internal->b0));
  SET_VECTOR_ELT(contents, 21, ScalarReal(internal->b1));
  SET_VECTOR_ELT(contents, 22, ScalarReal(internal->beta_RTS));
  SET_VECTOR_ELT(contents, 23, ScalarReal(internal->betaL));
  SET_VECTOR_ELT(contents, 24, ScalarReal(internal->bites_Bed));
  SET_VECTOR_ELT(contents, 25, ScalarReal(internal->bites_Indoors));
  SEXP cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(cA), internal->cA, internal->dim_cA * sizeof(double));
  odin_set_dim(cA, 3, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3);
  SET_VECTOR_ELT(contents, 26, cA);
  SEXP cA_fcn = PROTECT(allocVector(REALSXP, internal->dim_cA_fcn));
  memcpy(REAL(cA_fcn), internal->cA_fcn, internal->dim_cA_fcn * sizeof(double));
  odin_set_dim(cA_fcn, 3, internal->dim_cA_fcn_1, internal->dim_cA_fcn_2, internal->dim_cA_fcn_3);
  SET_VECTOR_ELT(contents, 27, cA_fcn);
  SET_VECTOR_ELT(contents, 28, ScalarReal(internal->cD));
  SEXP cD_fcn = PROTECT(allocVector(REALSXP, internal->dim_cD_fcn));
  memcpy(REAL(cD_fcn), internal->cD_fcn, internal->dim_cD_fcn * sizeof(double));
  odin_set_dim(cD_fcn, 2, internal->dim_cD_fcn_1, internal->dim_cD_fcn_2);
  SET_VECTOR_ELT(contents, 29, cD_fcn);
  SET_VECTOR_ELT(contents, 30, ScalarReal(internal->chi));
  SEXP clin_inc = PROTECT(allocVector(REALSXP, internal->dim_clin_inc));
  memcpy(REAL(clin_inc), internal->clin_inc, internal->dim_clin_inc * sizeof(double));
  odin_set_dim(clin_inc, 3, internal->dim_clin_inc_1, internal->dim_clin_inc_2, internal->dim_clin_inc_3);
  SET_VECTOR_ELT(contents, 31, clin_inc);
  SEXP clin_inc0to5 = PROTECT(allocVector(REALSXP, internal->dim_clin_inc0to5));
  memcpy(REAL(clin_inc0to5), internal->clin_inc0to5, internal->dim_clin_inc0to5 * sizeof(double));
  odin_set_dim(clin_inc0to5, 3, internal->dim_clin_inc0to5_1, internal->dim_clin_inc0to5_2, internal->dim_clin_inc0to5_3);
  SET_VECTOR_ELT(contents, 32, clin_inc0to5);
  SEXP cov = PROTECT(allocVector(REALSXP, internal->dim_cov));
  memcpy(REAL(cov), internal->cov, internal->dim_cov * sizeof(double));
  SET_VECTOR_ELT(contents, 33, cov);
  SEXP cov_ = PROTECT(allocVector(REALSXP, internal->dim_cov_));
  memcpy(REAL(cov_), internal->cov_, internal->dim_cov_ * sizeof(double));
  SET_VECTOR_ELT(contents, 34, cov_);
  SET_VECTOR_ELT(contents, 35, ScalarReal(internal->CS_boost));
  SET_VECTOR_ELT(contents, 36, ScalarReal(internal->CS_peak));
  SET_VECTOR_ELT(contents, 37, ScalarReal(internal->cT));
  SEXP cT_fcn = PROTECT(allocVector(REALSXP, internal->dim_cT_fcn));
  memcpy(REAL(cT_fcn), internal->cT_fcn, internal->dim_cT_fcn * sizeof(double));
  odin_set_dim(cT_fcn, 2, internal->dim_cT_fcn_1, internal->dim_cT_fcn_2);
  SET_VECTOR_ELT(contents, 38, cT_fcn);
  SET_VECTOR_ELT(contents, 39, ScalarReal(internal->cU));
  SEXP cU_fcn = PROTECT(allocVector(REALSXP, internal->dim_cU_fcn));
  memcpy(REAL(cU_fcn), internal->cU_fcn, internal->dim_cU_fcn * sizeof(double));
  odin_set_dim(cU_fcn, 2, internal->dim_cU_fcn_1, internal->dim_cU_fcn_2);
  SET_VECTOR_ELT(contents, 40, cU_fcn);
  SET_VECTOR_ELT(contents, 41, ScalarReal(internal->d_IRS0));
  SET_VECTOR_ELT(contents, 42, ScalarReal(internal->d_ITN0));
  SET_VECTOR_ELT(contents, 43, ScalarReal(internal->d1));
  SET_VECTOR_ELT(contents, 44, ScalarReal(internal->dB));
  SET_VECTOR_ELT(contents, 45, ScalarReal(internal->dCA));
  SET_VECTOR_ELT(contents, 46, ScalarReal(internal->dCM));
  SET_VECTOR_ELT(contents, 47, ScalarReal(internal->dE));
  SET_VECTOR_ELT(contents, 48, ScalarReal(internal->dEL));
  SEXP delay_array_av_human = PROTECT(allocVector(REALSXP, internal->dim_av_human));
  memcpy(REAL(delay_array_av_human), internal->delay_array_av_human, internal->dim_av_human * sizeof(double));
  SET_VECTOR_ELT(contents, 49, delay_array_av_human);
  SEXP delay_array_av_mosq = PROTECT(allocVector(REALSXP, internal->dim_av_mosq));
  memcpy(REAL(delay_array_av_mosq), internal->delay_array_av_mosq, internal->dim_av_mosq * sizeof(double));
  SET_VECTOR_ELT(contents, 50, delay_array_av_mosq);
  SEXP delay_array_b = PROTECT(allocVector(REALSXP, internal->dim_b));
  memcpy(REAL(delay_array_b), internal->delay_array_b, internal->dim_b * sizeof(double));
  odin_set_dim(delay_array_b, 3, internal->dim_b_1, internal->dim_b_2, internal->dim_b_3);
  SET_VECTOR_ELT(contents, 51, delay_array_b);
  SEXP delay_array_b_fun = PROTECT(allocVector(REALSXP, internal->dim_b_fun));
  memcpy(REAL(delay_array_b_fun), internal->delay_array_b_fun, internal->dim_b_fun * sizeof(double));
  odin_set_dim(delay_array_b_fun, 3, internal->dim_b_fun_1, internal->dim_b_fun_2, internal->dim_b_fun_3);
  SET_VECTOR_ELT(contents, 52, delay_array_b_fun);
  SEXP delay_array_cA = PROTECT(allocVector(REALSXP, internal->dim_cA));
  memcpy(REAL(delay_array_cA), internal->delay_array_cA, internal->dim_cA * sizeof(double));
  odin_set_dim(delay_array_cA, 3, internal->dim_cA_1, internal->dim_cA_2, internal->dim_cA_3);
  SET_VECTOR_ELT(contents, 53, delay_array_cA);
  SEXP delay_array_cA_fcn = PROTECT(allocVector(REALSXP, internal->dim_cA_fcn));
  memcpy(REAL(delay_array_cA_fcn), internal->delay_array_cA_fcn, internal->dim_cA_fcn * sizeof(double));
  odin_set_dim(delay_array_cA_fcn, 3, internal->dim_cA_fcn_1, internal->dim_cA_fcn_2, internal->dim_cA_fcn_3);
  SET_VECTOR_ELT(contents, 54, delay_array_cA_fcn);
  SEXP delay_array_cD_fcn = PROTECT(allocVector(REALSXP, internal->dim_cD_fcn));
  memcpy(REAL(delay_array_cD_fcn), internal->delay_array_cD_fcn, internal->dim_cD_fcn * sizeof(double));
  odin_set_dim(delay_array_cD_fcn, 2, internal->dim_cD_fcn_1, internal->dim_cD_fcn_2);
  SET_VECTOR_ELT(contents, 55, delay_array_cD_fcn);
  SEXP delay_array_cT_fcn = PROTECT(allocVector(REALSXP, internal->dim_cT_fcn));
  memcpy(REAL(delay_array_cT_fcn), internal->delay_array_cT_fcn, internal->dim_cT_fcn * sizeof(double));
  odin_set_dim(delay_array_cT_fcn, 2, internal->dim_cT_fcn_1, internal->dim_cT_fcn_2);
  SET_VECTOR_ELT(contents, 56, delay_array_cT_fcn);
  SEXP delay_array_cU_fcn = PROTECT(allocVector(REALSXP, internal->dim_cU_fcn));
  memcpy(REAL(delay_array_cU_fcn), internal->delay_array_cU_fcn, internal->dim_cU_fcn * sizeof(double));
  odin_set_dim(delay_array_cU_fcn, 2, internal->dim_cU_fcn_1, internal->dim_cU_fcn_2);
  SET_VECTOR_ELT(contents, 57, delay_array_cU_fcn);
  SEXP delay_array_EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(delay_array_EIR), internal->delay_array_EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(delay_array_EIR, 3, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3);
  SET_VECTOR_ELT(contents, 58, delay_array_EIR);
  SEXP delay_array_FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(delay_array_FOI_lag), internal->delay_array_FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(delay_array_FOI_lag, 3, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3);
  SET_VECTOR_ELT(contents, 59, delay_array_FOI_lag);
  SEXP delay_array_FOIvijk = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk));
  memcpy(REAL(delay_array_FOIvijk), internal->delay_array_FOIvijk, internal->dim_FOIvijk * sizeof(double));
  odin_set_dim(delay_array_FOIvijk, 3, internal->dim_FOIvijk_1, internal->dim_FOIvijk_2, internal->dim_FOIvijk_3);
  SET_VECTOR_ELT(contents, 60, delay_array_FOIvijk);
  SEXP delay_array_p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(delay_array_p_det), internal->delay_array_p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(delay_array_p_det, 3, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3);
  SET_VECTOR_ELT(contents, 61, delay_array_p_det);
  SEXP delay_array_w = PROTECT(allocVector(REALSXP, internal->dim_w));
  memcpy(REAL(delay_array_w), internal->delay_array_w, internal->dim_w * sizeof(double));
  SET_VECTOR_ELT(contents, 62, delay_array_w);
  SEXP delay_array_w_ = PROTECT(allocVector(REALSXP, internal->dim_w_));
  memcpy(REAL(delay_array_w_), internal->delay_array_w_, internal->dim_w_ * sizeof(double));
  SET_VECTOR_ELT(contents, 63, delay_array_w_);
  SEXP delay_array_whi = PROTECT(allocVector(REALSXP, internal->dim_whi));
  memcpy(REAL(delay_array_whi), internal->delay_array_whi, internal->dim_whi * sizeof(double));
  SET_VECTOR_ELT(contents, 64, delay_array_whi);
  SEXP delay_array_yy = PROTECT(allocVector(REALSXP, internal->dim_yy));
  memcpy(REAL(delay_array_yy), internal->delay_array_yy, internal->dim_yy * sizeof(double));
  SET_VECTOR_ELT(contents, 65, delay_array_yy);
  SEXP delay_array_yy_ = PROTECT(allocVector(REALSXP, internal->dim_yy_));
  memcpy(REAL(delay_array_yy_), internal->delay_array_yy_, internal->dim_yy_ * sizeof(double));
  SET_VECTOR_ELT(contents, 66, delay_array_yy_);
  SEXP delay_array_z = PROTECT(allocVector(REALSXP, internal->dim_z));
  memcpy(REAL(delay_array_z), internal->delay_array_z, internal->dim_z * sizeof(double));
  SET_VECTOR_ELT(contents, 67, delay_array_z);
  SEXP delay_array_z_ = PROTECT(allocVector(REALSXP, internal->dim_z_));
  memcpy(REAL(delay_array_z_), internal->delay_array_z_, internal->dim_z_ * sizeof(double));
  SET_VECTOR_ELT(contents, 68, delay_array_z_);
  SEXP delay_array_zhi = PROTECT(allocVector(REALSXP, internal->dim_zhi));
  memcpy(REAL(delay_array_zhi), internal->delay_array_zhi, internal->dim_zhi * sizeof(double));
  SET_VECTOR_ELT(contents, 69, delay_array_zhi);
  SEXP delay_index_FOI = PROTECT(allocVector(INTSXP, internal->dim_delay_FOI));
  memcpy(INTEGER(delay_index_FOI), internal->delay_index_FOI, internal->dim_delay_FOI * sizeof(int));
  SET_VECTOR_ELT(contents, 70, delay_index_FOI);
  SEXP delay_index_FOIv = PROTECT(allocVector(INTSXP, internal->dim_delay_FOIv));
  memcpy(INTEGER(delay_index_FOIv), internal->delay_index_FOIv, internal->dim_delay_FOIv * sizeof(int));
  SET_VECTOR_ELT(contents, 71, delay_index_FOIv);
  SEXP delay_index_incv = PROTECT(allocVector(INTSXP, 1));
  memcpy(INTEGER(delay_index_incv), internal->delay_index_incv, 1 * sizeof(int));
  SET_VECTOR_ELT(contents, 72, delay_index_incv);
  SEXP delay_state_FOI = PROTECT(allocVector(REALSXP, internal->dim_delay_FOI));
  memcpy(REAL(delay_state_FOI), internal->delay_state_FOI, internal->dim_delay_FOI * sizeof(double));
  SET_VECTOR_ELT(contents, 73, delay_state_FOI);
  SEXP delay_state_FOIv = PROTECT(allocVector(REALSXP, internal->dim_delay_FOIv));
  memcpy(REAL(delay_state_FOIv), internal->delay_state_FOIv, internal->dim_delay_FOIv * sizeof(double));
  SET_VECTOR_ELT(contents, 74, delay_state_FOIv);
  SEXP delay_state_incv = PROTECT(allocVector(REALSXP, 1));
  memcpy(REAL(delay_state_incv), internal->delay_state_incv, 1 * sizeof(double));
  SET_VECTOR_ELT(contents, 75, delay_state_incv);
  SET_VECTOR_ELT(contents, 76, ScalarReal(internal->delayGam));
  SET_VECTOR_ELT(contents, 77, ScalarReal(internal->delayMos));
  SEXP den = PROTECT(allocVector(REALSXP, internal->dim_den));
  memcpy(REAL(den), internal->den, internal->dim_den * sizeof(double));
  SET_VECTOR_ELT(contents, 78, den);
  SET_VECTOR_ELT(contents, 79, ScalarReal(internal->dID));
  SET_VECTOR_ELT(contents, 80, ScalarInteger(internal->dim_A));
  SET_VECTOR_ELT(contents, 81, ScalarInteger(internal->dim_A_1));
  SET_VECTOR_ELT(contents, 82, ScalarInteger(internal->dim_A_12));
  SET_VECTOR_ELT(contents, 83, ScalarInteger(internal->dim_A_2));
  SET_VECTOR_ELT(contents, 84, ScalarInteger(internal->dim_A_3));
  SET_VECTOR_ELT(contents, 85, ScalarInteger(internal->dim_age));
  SET_VECTOR_ELT(contents, 86, ScalarInteger(internal->dim_age_rate));
  SET_VECTOR_ELT(contents, 87, ScalarInteger(internal->dim_ainf));
  SET_VECTOR_ELT(contents, 88, ScalarInteger(internal->dim_ainf_1));
  SET_VECTOR_ELT(contents, 89, ScalarInteger(internal->dim_ainf_12));
  SET_VECTOR_ELT(contents, 90, ScalarInteger(internal->dim_ainf_2));
  SET_VECTOR_ELT(contents, 91, ScalarInteger(internal->dim_ainf_3));
  SET_VECTOR_ELT(contents, 92, ScalarInteger(internal->dim_ainf_Age));
  SET_VECTOR_ELT(contents, 93, ScalarInteger(internal->dim_av_human));
  SET_VECTOR_ELT(contents, 94, ScalarInteger(internal->dim_av_mosq));
  SET_VECTOR_ELT(contents, 95, ScalarInteger(internal->dim_avisinf));
  SET_VECTOR_ELT(contents, 96, ScalarInteger(internal->dim_avisinf_1));
  SET_VECTOR_ELT(contents, 97, ScalarInteger(internal->dim_avisinf_12));
  SET_VECTOR_ELT(contents, 98, ScalarInteger(internal->dim_avisinf_2));
  SET_VECTOR_ELT(contents, 99, ScalarInteger(internal->dim_avisinf_3));
  SET_VECTOR_ELT(contents, 100, ScalarInteger(internal->dim_avisinf_Age));
  SET_VECTOR_ELT(contents, 101, ScalarInteger(internal->dim_b));
  SET_VECTOR_ELT(contents, 102, ScalarInteger(internal->dim_b_1));
  SET_VECTOR_ELT(contents, 103, ScalarInteger(internal->dim_b_12));
  SET_VECTOR_ELT(contents, 104, ScalarInteger(internal->dim_b_2));
  SET_VECTOR_ELT(contents, 105, ScalarInteger(internal->dim_b_3));
  SET_VECTOR_ELT(contents, 106, ScalarInteger(internal->dim_b_fun));
  SET_VECTOR_ELT(contents, 107, ScalarInteger(internal->dim_b_fun_1));
  SET_VECTOR_ELT(contents, 108, ScalarInteger(internal->dim_b_fun_12));
  SET_VECTOR_ELT(contents, 109, ScalarInteger(internal->dim_b_fun_2));
  SET_VECTOR_ELT(contents, 110, ScalarInteger(internal->dim_b_fun_3));
  SET_VECTOR_ELT(contents, 111, ScalarInteger(internal->dim_cA));
  SET_VECTOR_ELT(contents, 112, ScalarInteger(internal->dim_cA_1));
  SET_VECTOR_ELT(contents, 113, ScalarInteger(internal->dim_cA_12));
  SET_VECTOR_ELT(contents, 114, ScalarInteger(internal->dim_cA_2));
  SET_VECTOR_ELT(contents, 115, ScalarInteger(internal->dim_cA_3));
  SET_VECTOR_ELT(contents, 116, ScalarInteger(internal->dim_cA_fcn));
  SET_VECTOR_ELT(contents, 117, ScalarInteger(internal->dim_cA_fcn_1));
  SET_VECTOR_ELT(contents, 118, ScalarInteger(internal->dim_cA_fcn_12));
  SET_VECTOR_ELT(contents, 119, ScalarInteger(internal->dim_cA_fcn_2));
  SET_VECTOR_ELT(contents, 120, ScalarInteger(internal->dim_cA_fcn_3));
  SET_VECTOR_ELT(contents, 121, ScalarInteger(internal->dim_cD_fcn));
  SET_VECTOR_ELT(contents, 122, ScalarInteger(internal->dim_cD_fcn_1));
  SET_VECTOR_ELT(contents, 123, ScalarInteger(internal->dim_cD_fcn_2));
  SET_VECTOR_ELT(contents, 124, ScalarInteger(internal->dim_clin_inc));
  SET_VECTOR_ELT(contents, 125, ScalarInteger(internal->dim_clin_inc_1));
  SET_VECTOR_ELT(contents, 126, ScalarInteger(internal->dim_clin_inc_12));
  SET_VECTOR_ELT(contents, 127, ScalarInteger(internal->dim_clin_inc_2));
  SET_VECTOR_ELT(contents, 128, ScalarInteger(internal->dim_clin_inc_3));
  SET_VECTOR_ELT(contents, 129, ScalarInteger(internal->dim_clin_inc0to5));
  SET_VECTOR_ELT(contents, 130, ScalarInteger(internal->dim_clin_inc0to5_1));
  SET_VECTOR_ELT(contents, 131, ScalarInteger(internal->dim_clin_inc0to5_12));
  SET_VECTOR_ELT(contents, 132, ScalarInteger(internal->dim_clin_inc0to5_2));
  SET_VECTOR_ELT(contents, 133, ScalarInteger(internal->dim_clin_inc0to5_3));
  SET_VECTOR_ELT(contents, 134, ScalarInteger(internal->dim_cov));
  SET_VECTOR_ELT(contents, 135, ScalarInteger(internal->dim_cov_));
  SET_VECTOR_ELT(contents, 136, ScalarInteger(internal->dim_cT_fcn));
  SET_VECTOR_ELT(contents, 137, ScalarInteger(internal->dim_cT_fcn_1));
  SET_VECTOR_ELT(contents, 138, ScalarInteger(internal->dim_cT_fcn_2));
  SET_VECTOR_ELT(contents, 139, ScalarInteger(internal->dim_cU_fcn));
  SET_VECTOR_ELT(contents, 140, ScalarInteger(internal->dim_cU_fcn_1));
  SET_VECTOR_ELT(contents, 141, ScalarInteger(internal->dim_cU_fcn_2));
  SET_VECTOR_ELT(contents, 142, ScalarInteger(internal->dim_D));
  SET_VECTOR_ELT(contents, 143, ScalarInteger(internal->dim_D_1));
  SET_VECTOR_ELT(contents, 144, ScalarInteger(internal->dim_D_12));
  SET_VECTOR_ELT(contents, 145, ScalarInteger(internal->dim_D_2));
  SET_VECTOR_ELT(contents, 146, ScalarInteger(internal->dim_D_3));
  SET_VECTOR_ELT(contents, 147, ScalarInteger(internal->dim_delay_FOI));
  SET_VECTOR_ELT(contents, 148, ScalarInteger(internal->dim_delay_FOIv));
  SET_VECTOR_ELT(contents, 149, ScalarInteger(internal->dim_den));
  SET_VECTOR_ELT(contents, 150, ScalarInteger(internal->dim_dinf));
  SET_VECTOR_ELT(contents, 151, ScalarInteger(internal->dim_dinf_1));
  SET_VECTOR_ELT(contents, 152, ScalarInteger(internal->dim_dinf_12));
  SET_VECTOR_ELT(contents, 153, ScalarInteger(internal->dim_dinf_2));
  SET_VECTOR_ELT(contents, 154, ScalarInteger(internal->dim_dinf_3));
  SET_VECTOR_ELT(contents, 155, ScalarInteger(internal->dim_dinf_Age));
  SET_VECTOR_ELT(contents, 156, ScalarInteger(internal->dim_EIR));
  SET_VECTOR_ELT(contents, 157, ScalarInteger(internal->dim_EIR_1));
  SET_VECTOR_ELT(contents, 158, ScalarInteger(internal->dim_EIR_12));
  SET_VECTOR_ELT(contents, 159, ScalarInteger(internal->dim_EIR_2));
  SET_VECTOR_ELT(contents, 160, ScalarInteger(internal->dim_EIR_3));
  SET_VECTOR_ELT(contents, 161, ScalarInteger(internal->dim_EIRweight));
  SET_VECTOR_ELT(contents, 162, ScalarInteger(internal->dim_EIRweight_1));
  SET_VECTOR_ELT(contents, 163, ScalarInteger(internal->dim_EIRweight_12));
  SET_VECTOR_ELT(contents, 164, ScalarInteger(internal->dim_EIRweight_2));
  SET_VECTOR_ELT(contents, 165, ScalarInteger(internal->dim_EIRweight_3));
  SET_VECTOR_ELT(contents, 166, ScalarInteger(internal->dim_fd));
  SET_VECTOR_ELT(contents, 167, ScalarInteger(internal->dim_FOI));
  SET_VECTOR_ELT(contents, 168, ScalarInteger(internal->dim_FOI_1));
  SET_VECTOR_ELT(contents, 169, ScalarInteger(internal->dim_FOI_12));
  SET_VECTOR_ELT(contents, 170, ScalarInteger(internal->dim_FOI_2));
  SET_VECTOR_ELT(contents, 171, ScalarInteger(internal->dim_FOI_3));
  SET_VECTOR_ELT(contents, 172, ScalarInteger(internal->dim_foi_age));
  SET_VECTOR_ELT(contents, 173, ScalarInteger(internal->dim_FOI_lag));
  SET_VECTOR_ELT(contents, 174, ScalarInteger(internal->dim_FOI_lag_1));
  SET_VECTOR_ELT(contents, 175, ScalarInteger(internal->dim_FOI_lag_12));
  SET_VECTOR_ELT(contents, 176, ScalarInteger(internal->dim_FOI_lag_2));
  SET_VECTOR_ELT(contents, 177, ScalarInteger(internal->dim_FOI_lag_3));
  SET_VECTOR_ELT(contents, 178, ScalarInteger(internal->dim_FOIvijk));
  SET_VECTOR_ELT(contents, 179, ScalarInteger(internal->dim_FOIvijk_1));
  SET_VECTOR_ELT(contents, 180, ScalarInteger(internal->dim_FOIvijk_12));
  SET_VECTOR_ELT(contents, 181, ScalarInteger(internal->dim_FOIvijk_2));
  SET_VECTOR_ELT(contents, 182, ScalarInteger(internal->dim_FOIvijk_3));
  SET_VECTOR_ELT(contents, 183, ScalarInteger(internal->dim_het_wt));
  SET_VECTOR_ELT(contents, 184, ScalarInteger(internal->dim_IB));
  SET_VECTOR_ELT(contents, 185, ScalarInteger(internal->dim_IB_1));
  SET_VECTOR_ELT(contents, 186, ScalarInteger(internal->dim_IB_12));
  SET_VECTOR_ELT(contents, 187, ScalarInteger(internal->dim_IB_2));
  SET_VECTOR_ELT(contents, 188, ScalarInteger(internal->dim_IB_3));
  SET_VECTOR_ELT(contents, 189, ScalarInteger(internal->dim_IC));
  SET_VECTOR_ELT(contents, 190, ScalarInteger(internal->dim_IC_1));
  SET_VECTOR_ELT(contents, 191, ScalarInteger(internal->dim_IC_12));
  SET_VECTOR_ELT(contents, 192, ScalarInteger(internal->dim_IC_2));
  SET_VECTOR_ELT(contents, 193, ScalarInteger(internal->dim_IC_3));
  SET_VECTOR_ELT(contents, 194, ScalarInteger(internal->dim_ICA));
  SET_VECTOR_ELT(contents, 195, ScalarInteger(internal->dim_ICA_1));
  SET_VECTOR_ELT(contents, 196, ScalarInteger(internal->dim_ICA_12));
  SET_VECTOR_ELT(contents, 197, ScalarInteger(internal->dim_ICA_2));
  SET_VECTOR_ELT(contents, 198, ScalarInteger(internal->dim_ICA_3));
  SET_VECTOR_ELT(contents, 199, ScalarInteger(internal->dim_ICM));
  SET_VECTOR_ELT(contents, 200, ScalarInteger(internal->dim_ICM_1));
  SET_VECTOR_ELT(contents, 201, ScalarInteger(internal->dim_ICM_12));
  SET_VECTOR_ELT(contents, 202, ScalarInteger(internal->dim_ICM_2));
  SET_VECTOR_ELT(contents, 203, ScalarInteger(internal->dim_ICM_3));
  SET_VECTOR_ELT(contents, 204, ScalarInteger(internal->dim_ID));
  SET_VECTOR_ELT(contents, 205, ScalarInteger(internal->dim_ID_1));
  SET_VECTOR_ELT(contents, 206, ScalarInteger(internal->dim_ID_12));
  SET_VECTOR_ELT(contents, 207, ScalarInteger(internal->dim_ID_2));
  SET_VECTOR_ELT(contents, 208, ScalarInteger(internal->dim_ID_3));
  SET_VECTOR_ELT(contents, 209, ScalarInteger(internal->dim_init_A));
  SET_VECTOR_ELT(contents, 210, ScalarInteger(internal->dim_init_A_1));
  SET_VECTOR_ELT(contents, 211, ScalarInteger(internal->dim_init_A_12));
  SET_VECTOR_ELT(contents, 212, ScalarInteger(internal->dim_init_A_2));
  SET_VECTOR_ELT(contents, 213, ScalarInteger(internal->dim_init_A_3));
  SET_VECTOR_ELT(contents, 214, ScalarInteger(internal->dim_init_D));
  SET_VECTOR_ELT(contents, 215, ScalarInteger(internal->dim_init_D_1));
  SET_VECTOR_ELT(contents, 216, ScalarInteger(internal->dim_init_D_12));
  SET_VECTOR_ELT(contents, 217, ScalarInteger(internal->dim_init_D_2));
  SET_VECTOR_ELT(contents, 218, ScalarInteger(internal->dim_init_D_3));
  SET_VECTOR_ELT(contents, 219, ScalarInteger(internal->dim_init_IB));
  SET_VECTOR_ELT(contents, 220, ScalarInteger(internal->dim_init_IB_1));
  SET_VECTOR_ELT(contents, 221, ScalarInteger(internal->dim_init_IB_12));
  SET_VECTOR_ELT(contents, 222, ScalarInteger(internal->dim_init_IB_2));
  SET_VECTOR_ELT(contents, 223, ScalarInteger(internal->dim_init_IB_3));
  SET_VECTOR_ELT(contents, 224, ScalarInteger(internal->dim_init_ICA));
  SET_VECTOR_ELT(contents, 225, ScalarInteger(internal->dim_init_ICA_1));
  SET_VECTOR_ELT(contents, 226, ScalarInteger(internal->dim_init_ICA_12));
  SET_VECTOR_ELT(contents, 227, ScalarInteger(internal->dim_init_ICA_2));
  SET_VECTOR_ELT(contents, 228, ScalarInteger(internal->dim_init_ICA_3));
  SET_VECTOR_ELT(contents, 229, ScalarInteger(internal->dim_init_ICM));
  SET_VECTOR_ELT(contents, 230, ScalarInteger(internal->dim_init_ICM_1));
  SET_VECTOR_ELT(contents, 231, ScalarInteger(internal->dim_init_ICM_12));
  SET_VECTOR_ELT(contents, 232, ScalarInteger(internal->dim_init_ICM_2));
  SET_VECTOR_ELT(contents, 233, ScalarInteger(internal->dim_init_ICM_3));
  SET_VECTOR_ELT(contents, 234, ScalarInteger(internal->dim_init_ICM_pre));
  SET_VECTOR_ELT(contents, 235, ScalarInteger(internal->dim_init_ICM_pre_1));
  SET_VECTOR_ELT(contents, 236, ScalarInteger(internal->dim_init_ICM_pre_2));
  SET_VECTOR_ELT(contents, 237, ScalarInteger(internal->dim_init_ID));
  SET_VECTOR_ELT(contents, 238, ScalarInteger(internal->dim_init_ID_1));
  SET_VECTOR_ELT(contents, 239, ScalarInteger(internal->dim_init_ID_12));
  SET_VECTOR_ELT(contents, 240, ScalarInteger(internal->dim_init_ID_2));
  SET_VECTOR_ELT(contents, 241, ScalarInteger(internal->dim_init_ID_3));
  SET_VECTOR_ELT(contents, 242, ScalarInteger(internal->dim_init_P));
  SET_VECTOR_ELT(contents, 243, ScalarInteger(internal->dim_init_P_1));
  SET_VECTOR_ELT(contents, 244, ScalarInteger(internal->dim_init_P_12));
  SET_VECTOR_ELT(contents, 245, ScalarInteger(internal->dim_init_P_2));
  SET_VECTOR_ELT(contents, 246, ScalarInteger(internal->dim_init_P_3));
  SET_VECTOR_ELT(contents, 247, ScalarInteger(internal->dim_init_S));
  SET_VECTOR_ELT(contents, 248, ScalarInteger(internal->dim_init_S_1));
  SET_VECTOR_ELT(contents, 249, ScalarInteger(internal->dim_init_S_12));
  SET_VECTOR_ELT(contents, 250, ScalarInteger(internal->dim_init_S_2));
  SET_VECTOR_ELT(contents, 251, ScalarInteger(internal->dim_init_S_3));
  SET_VECTOR_ELT(contents, 252, ScalarInteger(internal->dim_init_T));
  SET_VECTOR_ELT(contents, 253, ScalarInteger(internal->dim_init_T_1));
  SET_VECTOR_ELT(contents, 254, ScalarInteger(internal->dim_init_T_12));
  SET_VECTOR_ELT(contents, 255, ScalarInteger(internal->dim_init_T_2));
  SET_VECTOR_ELT(contents, 256, ScalarInteger(internal->dim_init_T_3));
  SET_VECTOR_ELT(contents, 257, ScalarInteger(internal->dim_init_U));
  SET_VECTOR_ELT(contents, 258, ScalarInteger(internal->dim_init_U_1));
  SET_VECTOR_ELT(contents, 259, ScalarInteger(internal->dim_init_U_12));
  SET_VECTOR_ELT(contents, 260, ScalarInteger(internal->dim_init_U_2));
  SET_VECTOR_ELT(contents, 261, ScalarInteger(internal->dim_init_U_3));
  SET_VECTOR_ELT(contents, 262, ScalarInteger(internal->dim_P));
  SET_VECTOR_ELT(contents, 263, ScalarInteger(internal->dim_P_1));
  SET_VECTOR_ELT(contents, 264, ScalarInteger(internal->dim_P_12));
  SET_VECTOR_ELT(contents, 265, ScalarInteger(internal->dim_P_2));
  SET_VECTOR_ELT(contents, 266, ScalarInteger(internal->dim_P_3));
  SET_VECTOR_ELT(contents, 267, ScalarInteger(internal->dim_p_det));
  SET_VECTOR_ELT(contents, 268, ScalarInteger(internal->dim_p_det_1));
  SET_VECTOR_ELT(contents, 269, ScalarInteger(internal->dim_p_det_12));
  SET_VECTOR_ELT(contents, 270, ScalarInteger(internal->dim_p_det_2));
  SET_VECTOR_ELT(contents, 271, ScalarInteger(internal->dim_p_det_3));
  SET_VECTOR_ELT(contents, 272, ScalarInteger(internal->dim_phi));
  SET_VECTOR_ELT(contents, 273, ScalarInteger(internal->dim_phi_1));
  SET_VECTOR_ELT(contents, 274, ScalarInteger(internal->dim_phi_12));
  SET_VECTOR_ELT(contents, 275, ScalarInteger(internal->dim_phi_2));
  SET_VECTOR_ELT(contents, 276, ScalarInteger(internal->dim_phi_3));
  SET_VECTOR_ELT(contents, 277, ScalarInteger(internal->dim_prev));
  SET_VECTOR_ELT(contents, 278, ScalarInteger(internal->dim_prev_1));
  SET_VECTOR_ELT(contents, 279, ScalarInteger(internal->dim_prev_12));
  SET_VECTOR_ELT(contents, 280, ScalarInteger(internal->dim_prev_2));
  SET_VECTOR_ELT(contents, 281, ScalarInteger(internal->dim_prev_3));
  SET_VECTOR_ELT(contents, 282, ScalarInteger(internal->dim_prev0to59));
  SET_VECTOR_ELT(contents, 283, ScalarInteger(internal->dim_prev0to59_1));
  SET_VECTOR_ELT(contents, 284, ScalarInteger(internal->dim_prev0to59_12));
  SET_VECTOR_ELT(contents, 285, ScalarInteger(internal->dim_prev0to59_2));
  SET_VECTOR_ELT(contents, 286, ScalarInteger(internal->dim_prev0to59_3));
  SET_VECTOR_ELT(contents, 287, ScalarInteger(internal->dim_rel_foi));
  SET_VECTOR_ELT(contents, 288, ScalarInteger(internal->dim_S));
  SET_VECTOR_ELT(contents, 289, ScalarInteger(internal->dim_S_1));
  SET_VECTOR_ELT(contents, 290, ScalarInteger(internal->dim_S_12));
  SET_VECTOR_ELT(contents, 291, ScalarInteger(internal->dim_S_2));
  SET_VECTOR_ELT(contents, 292, ScalarInteger(internal->dim_S_3));
  SET_VECTOR_ELT(contents, 293, ScalarInteger(internal->dim_T));
  SET_VECTOR_ELT(contents, 294, ScalarInteger(internal->dim_T_1));
  SET_VECTOR_ELT(contents, 295, ScalarInteger(internal->dim_T_12));
  SET_VECTOR_ELT(contents, 296, ScalarInteger(internal->dim_T_2));
  SET_VECTOR_ELT(contents, 297, ScalarInteger(internal->dim_T_3));
  SET_VECTOR_ELT(contents, 298, ScalarInteger(internal->dim_tinf));
  SET_VECTOR_ELT(contents, 299, ScalarInteger(internal->dim_tinf_1));
  SET_VECTOR_ELT(contents, 300, ScalarInteger(internal->dim_tinf_12));
  SET_VECTOR_ELT(contents, 301, ScalarInteger(internal->dim_tinf_2));
  SET_VECTOR_ELT(contents, 302, ScalarInteger(internal->dim_tinf_3));
  SET_VECTOR_ELT(contents, 303, ScalarInteger(internal->dim_tinf_Age));
  SET_VECTOR_ELT(contents, 304, ScalarInteger(internal->dim_U));
  SET_VECTOR_ELT(contents, 305, ScalarInteger(internal->dim_U_1));
  SET_VECTOR_ELT(contents, 306, ScalarInteger(internal->dim_U_12));
  SET_VECTOR_ELT(contents, 307, ScalarInteger(internal->dim_U_2));
  SET_VECTOR_ELT(contents, 308, ScalarInteger(internal->dim_U_3));
  SET_VECTOR_ELT(contents, 309, ScalarInteger(internal->dim_uinf));
  SET_VECTOR_ELT(contents, 310, ScalarInteger(internal->dim_uinf_1));
  SET_VECTOR_ELT(contents, 311, ScalarInteger(internal->dim_uinf_12));
  SET_VECTOR_ELT(contents, 312, ScalarInteger(internal->dim_uinf_2));
  SET_VECTOR_ELT(contents, 313, ScalarInteger(internal->dim_uinf_3));
  SET_VECTOR_ELT(contents, 314, ScalarInteger(internal->dim_uinf_Age));
  SET_VECTOR_ELT(contents, 315, ScalarInteger(internal->dim_vis_A));
  SET_VECTOR_ELT(contents, 316, ScalarInteger(internal->dim_vis_A_1));
  SET_VECTOR_ELT(contents, 317, ScalarInteger(internal->dim_vis_A_12));
  SET_VECTOR_ELT(contents, 318, ScalarInteger(internal->dim_vis_A_2));
  SET_VECTOR_ELT(contents, 319, ScalarInteger(internal->dim_vis_A_3));
  SET_VECTOR_ELT(contents, 320, ScalarInteger(internal->dim_w));
  SET_VECTOR_ELT(contents, 321, ScalarInteger(internal->dim_w_));
  SET_VECTOR_ELT(contents, 322, ScalarInteger(internal->dim_whi));
  SET_VECTOR_ELT(contents, 323, ScalarInteger(internal->dim_x_I));
  SET_VECTOR_ELT(contents, 324, ScalarInteger(internal->dim_Y));
  SET_VECTOR_ELT(contents, 325, ScalarInteger(internal->dim_Y_1));
  SET_VECTOR_ELT(contents, 326, ScalarInteger(internal->dim_Y_12));
  SET_VECTOR_ELT(contents, 327, ScalarInteger(internal->dim_Y_2));
  SET_VECTOR_ELT(contents, 328, ScalarInteger(internal->dim_Y_3));
  SET_VECTOR_ELT(contents, 329, ScalarInteger(internal->dim_yy));
  SET_VECTOR_ELT(contents, 330, ScalarInteger(internal->dim_yy_));
  SET_VECTOR_ELT(contents, 331, ScalarInteger(internal->dim_z));
  SET_VECTOR_ELT(contents, 332, ScalarInteger(internal->dim_z_));
  SET_VECTOR_ELT(contents, 333, ScalarInteger(internal->dim_zhi));
  SEXP dinf = PROTECT(allocVector(REALSXP, internal->dim_dinf));
  memcpy(REAL(dinf), internal->dinf, internal->dim_dinf * sizeof(double));
  odin_set_dim(dinf, 3, internal->dim_dinf_1, internal->dim_dinf_2, internal->dim_dinf_3);
  SET_VECTOR_ELT(contents, 334, dinf);
  SET_VECTOR_ELT(contents, 335, ScalarReal(internal->dl));
  SET_VECTOR_ELT(contents, 336, ScalarReal(internal->dl25));
  SET_VECTOR_ELT(contents, 337, ScalarReal(internal->dLL));
  SET_VECTOR_ELT(contents, 338, ScalarReal(internal->dPL));
  SET_VECTOR_ELT(contents, 339, ScalarReal(internal->ds));
  SET_VECTOR_ELT(contents, 340, ScalarReal(internal->ds25));
  SEXP EIR = PROTECT(allocVector(REALSXP, internal->dim_EIR));
  memcpy(REAL(EIR), internal->EIR, internal->dim_EIR * sizeof(double));
  odin_set_dim(EIR, 3, internal->dim_EIR_1, internal->dim_EIR_2, internal->dim_EIR_3);
  SET_VECTOR_ELT(contents, 341, EIR);
  SEXP EIRweight = PROTECT(allocVector(REALSXP, internal->dim_EIRweight));
  memcpy(REAL(EIRweight), internal->EIRweight, internal->dim_EIRweight * sizeof(double));
  odin_set_dim(EIRweight, 3, internal->dim_EIRweight_1, internal->dim_EIRweight_2, internal->dim_EIRweight_3);
  SET_VECTOR_ELT(contents, 342, EIRweight);
  SET_VECTOR_ELT(contents, 343, ScalarReal(internal->eta));
  SEXP fd = PROTECT(allocVector(REALSXP, internal->dim_fd));
  memcpy(REAL(fd), internal->fd, internal->dim_fd * sizeof(double));
  SET_VECTOR_ELT(contents, 344, fd);
  SET_VECTOR_ELT(contents, 345, ScalarReal(internal->fD0));
  SEXP FOI = PROTECT(allocVector(REALSXP, internal->dim_FOI));
  memcpy(REAL(FOI), internal->FOI, internal->dim_FOI * sizeof(double));
  odin_set_dim(FOI, 3, internal->dim_FOI_1, internal->dim_FOI_2, internal->dim_FOI_3);
  SET_VECTOR_ELT(contents, 346, FOI);
  SEXP foi_age = PROTECT(allocVector(REALSXP, internal->dim_foi_age));
  memcpy(REAL(foi_age), internal->foi_age, internal->dim_foi_age * sizeof(double));
  SET_VECTOR_ELT(contents, 347, foi_age);
  SEXP FOI_lag = PROTECT(allocVector(REALSXP, internal->dim_FOI_lag));
  memcpy(REAL(FOI_lag), internal->FOI_lag, internal->dim_FOI_lag * sizeof(double));
  odin_set_dim(FOI_lag, 3, internal->dim_FOI_lag_1, internal->dim_FOI_lag_2, internal->dim_FOI_lag_3);
  SET_VECTOR_ELT(contents, 348, FOI_lag);
  SEXP FOIvijk = PROTECT(allocVector(REALSXP, internal->dim_FOIvijk));
  memcpy(REAL(FOIvijk), internal->FOIvijk, internal->dim_FOIvijk * sizeof(double));
  odin_set_dim(FOIvijk, 3, internal->dim_FOIvijk_1, internal->dim_FOIvijk_2, internal->dim_FOIvijk_3);
  SET_VECTOR_ELT(contents, 349, FOIvijk);
  SET_VECTOR_ELT(contents, 350, ScalarReal(internal->ft));
  SET_VECTOR_ELT(contents, 351, ScalarReal(internal->gamma1));
  SET_VECTOR_ELT(contents, 352, ScalarReal(internal->gammaD));
  SET_VECTOR_ELT(contents, 353, ScalarReal(internal->gammaL));
  SEXP het_wt = PROTECT(allocVector(REALSXP, internal->dim_het_wt));
  memcpy(REAL(het_wt), internal->het_wt, internal->dim_het_wt * sizeof(double));
  SET_VECTOR_ELT(contents, 354, het_wt);
  SET_VECTOR_ELT(contents, 355, ScalarReal(internal->hill1));
  SET_VECTOR_ELT(contents, 356, ScalarReal(internal->hill2));
  SET_VECTOR_ELT(contents, 357, ScalarReal(internal->IB0));
  SEXP IC = PROTECT(allocVector(REALSXP, internal->dim_IC));
  memcpy(REAL(IC), internal->IC, internal->dim_IC * sizeof(double));
  odin_set_dim(IC, 3, internal->dim_IC_1, internal->dim_IC_2, internal->dim_IC_3);
  SET_VECTOR_ELT(contents, 358, IC);
  SET_VECTOR_ELT(contents, 359, ScalarReal(internal->IC0));
  SET_VECTOR_ELT(contents, 360, ScalarReal(internal->ID0));
  SEXP init_A = PROTECT(allocVector(REALSXP, internal->dim_init_A));
  memcpy(REAL(init_A), internal->init_A, internal->dim_init_A * sizeof(double));
  odin_set_dim(init_A, 3, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3);
  SET_VECTOR_ELT(contents, 361, init_A);
  SEXP init_D = PROTECT(allocVector(REALSXP, internal->dim_init_D));
  memcpy(REAL(init_D), internal->init_D, internal->dim_init_D * sizeof(double));
  odin_set_dim(init_D, 3, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3);
  SET_VECTOR_ELT(contents, 362, init_D);
  SET_VECTOR_ELT(contents, 363, ScalarReal(internal->init_EL));
  SET_VECTOR_ELT(contents, 364, ScalarReal(internal->init_Ev));
  SEXP init_IB = PROTECT(allocVector(REALSXP, internal->dim_init_IB));
  memcpy(REAL(init_IB), internal->init_IB, internal->dim_init_IB * sizeof(double));
  odin_set_dim(init_IB, 3, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3);
  SET_VECTOR_ELT(contents, 365, init_IB);
  SEXP init_ICA = PROTECT(allocVector(REALSXP, internal->dim_init_ICA));
  memcpy(REAL(init_ICA), internal->init_ICA, internal->dim_init_ICA * sizeof(double));
  odin_set_dim(init_ICA, 3, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3);
  SET_VECTOR_ELT(contents, 366, init_ICA);
  SEXP init_ICM = PROTECT(allocVector(REALSXP, internal->dim_init_ICM));
  memcpy(REAL(init_ICM), internal->init_ICM, internal->dim_init_ICM * sizeof(double));
  odin_set_dim(init_ICM, 3, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3);
  SET_VECTOR_ELT(contents, 367, init_ICM);
  SEXP init_ICM_pre = PROTECT(allocVector(REALSXP, internal->dim_init_ICM_pre));
  memcpy(REAL(init_ICM_pre), internal->init_ICM_pre, internal->dim_init_ICM_pre * sizeof(double));
  odin_set_dim(init_ICM_pre, 2, internal->dim_init_ICM_pre_1, internal->dim_init_ICM_pre_2);
  SET_VECTOR_ELT(contents, 368, init_ICM_pre);
  SEXP init_ID = PROTECT(allocVector(REALSXP, internal->dim_init_ID));
  memcpy(REAL(init_ID), internal->init_ID, internal->dim_init_ID * sizeof(double));
  odin_set_dim(init_ID, 3, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3);
  SET_VECTOR_ELT(contents, 369, init_ID);
  SET_VECTOR_ELT(contents, 370, ScalarReal(internal->init_Iv));
  SET_VECTOR_ELT(contents, 371, ScalarReal(internal->init_LL));
  SEXP init_P = PROTECT(allocVector(REALSXP, internal->dim_init_P));
  memcpy(REAL(init_P), internal->init_P, internal->dim_init_P * sizeof(double));
  odin_set_dim(init_P, 3, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3);
  SET_VECTOR_ELT(contents, 372, init_P);
  SET_VECTOR_ELT(contents, 373, ScalarReal(internal->init_PL));
  SEXP init_S = PROTECT(allocVector(REALSXP, internal->dim_init_S));
  memcpy(REAL(init_S), internal->init_S, internal->dim_init_S * sizeof(double));
  odin_set_dim(init_S, 3, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3);
  SET_VECTOR_ELT(contents, 374, init_S);
  SET_VECTOR_ELT(contents, 375, ScalarReal(internal->init_Sv));
  SEXP init_T = PROTECT(allocVector(REALSXP, internal->dim_init_T));
  memcpy(REAL(init_T), internal->init_T, internal->dim_init_T * sizeof(double));
  odin_set_dim(init_T, 3, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3);
  SET_VECTOR_ELT(contents, 376, init_T);
  SEXP init_U = PROTECT(allocVector(REALSXP, internal->dim_init_U));
  memcpy(REAL(init_U), internal->init_U, internal->dim_init_U * sizeof(double));
  odin_set_dim(init_U, 3, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3);
  SET_VECTOR_ELT(contents, 377, init_U);
  SEXP initial_A = PROTECT(allocVector(REALSXP, internal->dim_A));
  memcpy(REAL(initial_A), internal->initial_A, internal->dim_A * sizeof(double));
  odin_set_dim(initial_A, 3, internal->dim_A_1, internal->dim_A_2, internal->dim_A_3);
  SET_VECTOR_ELT(contents, 378, initial_A);
  SEXP initial_D = PROTECT(allocVector(REALSXP, internal->dim_D));
  memcpy(REAL(initial_D), internal->initial_D, internal->dim_D * sizeof(double));
  odin_set_dim(initial_D, 3, internal->dim_D_1, internal->dim_D_2, internal->dim_D_3);
  SET_VECTOR_ELT(contents, 379, initial_D);
  SET_VECTOR_ELT(contents, 380, ScalarReal(internal->initial_EL));
  SET_VECTOR_ELT(contents, 381, ScalarReal(internal->initial_Ev));
  SEXP initial_IB = PROTECT(allocVector(REALSXP, internal->dim_IB));
  memcpy(REAL(initial_IB), internal->initial_IB, internal->dim_IB * sizeof(double));
  odin_set_dim(initial_IB, 3, internal->dim_IB_1, internal->dim_IB_2, internal->dim_IB_3);
  SET_VECTOR_ELT(contents, 382, initial_IB);
  SEXP initial_ICA = PROTECT(allocVector(REALSXP, internal->dim_ICA));
  memcpy(REAL(initial_ICA), internal->initial_ICA, internal->dim_ICA * sizeof(double));
  odin_set_dim(initial_ICA, 3, internal->dim_ICA_1, internal->dim_ICA_2, internal->dim_ICA_3);
  SET_VECTOR_ELT(contents, 383, initial_ICA);
  SEXP initial_ICM = PROTECT(allocVector(REALSXP, internal->dim_ICM));
  memcpy(REAL(initial_ICM), internal->initial_ICM, internal->dim_ICM * sizeof(double));
  odin_set_dim(initial_ICM, 3, internal->dim_ICM_1, internal->dim_ICM_2, internal->dim_ICM_3);
  SET_VECTOR_ELT(contents, 384, initial_ICM);
  SEXP initial_ID = PROTECT(allocVector(REALSXP, internal->dim_ID));
  memcpy(REAL(initial_ID), internal->initial_ID, internal->dim_ID * sizeof(double));
  odin_set_dim(initial_ID, 3, internal->dim_ID_1, internal->dim_ID_2, internal->dim_ID_3);
  SET_VECTOR_ELT(contents, 385, initial_ID);
  SET_VECTOR_ELT(contents, 386, ScalarReal(internal->initial_Iv));
  SET_VECTOR_ELT(contents, 387, ScalarReal(internal->initial_LL));
  SEXP initial_P = PROTECT(allocVector(REALSXP, internal->dim_P));
  memcpy(REAL(initial_P), internal->initial_P, internal->dim_P * sizeof(double));
  odin_set_dim(initial_P, 3, internal->dim_P_1, internal->dim_P_2, internal->dim_P_3);
  SET_VECTOR_ELT(contents, 388, initial_P);
  SET_VECTOR_ELT(contents, 389, ScalarReal(internal->initial_PL));
  SEXP initial_S = PROTECT(allocVector(REALSXP, internal->dim_S));
  memcpy(REAL(initial_S), internal->initial_S, internal->dim_S * sizeof(double));
  odin_set_dim(initial_S, 3, internal->dim_S_1, internal->dim_S_2, internal->dim_S_3);
  SET_VECTOR_ELT(contents, 390, initial_S);
  SET_VECTOR_ELT(contents, 391, ScalarReal(internal->initial_Sv));
  SET_VECTOR_ELT(contents, 392, ScalarReal(internal->initial_t));
  SEXP initial_T = PROTECT(allocVector(REALSXP, internal->dim_T));
  memcpy(REAL(initial_T), internal->initial_T, internal->dim_T * sizeof(double));
  odin_set_dim(initial_T, 3, internal->dim_T_1, internal->dim_T_2, internal->dim_T_3);
  SET_VECTOR_ELT(contents, 393, initial_T);
  SEXP initial_U = PROTECT(allocVector(REALSXP, internal->dim_U));
  memcpy(REAL(initial_U), internal->initial_U, internal->dim_U * sizeof(double));
  odin_set_dim(initial_U, 3, internal->dim_U_1, internal->dim_U_2, internal->dim_U_3);
  SET_VECTOR_ELT(contents, 394, initial_U);
  SET_VECTOR_ELT(contents, 395, ScalarReal(internal->irs_cov));
  SET_VECTOR_ELT(contents, 396, ScalarReal(internal->IRS_interval));
  SET_VECTOR_ELT(contents, 397, ScalarReal(internal->irs_loss));
  SET_VECTOR_ELT(contents, 398, ScalarReal(internal->itn_cov));
  SET_VECTOR_ELT(contents, 399, ScalarReal(internal->ITN_interval));
  SET_VECTOR_ELT(contents, 400, ScalarReal(internal->ITN_IRS_on));
  SET_VECTOR_ELT(contents, 401, ScalarReal(internal->itn_loss));
  SET_VECTOR_ELT(contents, 402, ScalarReal(internal->kB));
  SET_VECTOR_ELT(contents, 403, ScalarReal(internal->kC));
  SET_VECTOR_ELT(contents, 404, ScalarReal(internal->kD));
  SET_VECTOR_ELT(contents, 405, ScalarReal(internal->mA));
  SET_VECTOR_ELT(contents, 406, ScalarReal(internal->mD));
  SET_VECTOR_ELT(contents, 407, ScalarReal(internal->mT));
  SET_VECTOR_ELT(contents, 408, ScalarReal(internal->mU));
  SET_VECTOR_ELT(contents, 409, ScalarReal(internal->mu0));
  SET_VECTOR_ELT(contents, 410, ScalarReal(internal->mu25));
  SET_VECTOR_ELT(contents, 411, ScalarReal(internal->muEL));
  SET_VECTOR_ELT(contents, 412, ScalarReal(internal->muLL));
  SET_VECTOR_ELT(contents, 413, ScalarReal(internal->muPL));
  SET_VECTOR_ELT(contents, 414, ScalarReal(internal->mv0));
  SET_VECTOR_ELT(contents, 415, ScalarInteger(internal->na));
  SET_VECTOR_ELT(contents, 416, ScalarInteger(internal->nh));
  SET_VECTOR_ELT(contents, 417, ScalarInteger(internal->num_int));
  SET_VECTOR_ELT(contents, 418, ScalarInteger(internal->offset_FOIv_A));
  SET_VECTOR_ELT(contents, 419, ScalarInteger(internal->offset_FOIv_ID));
  SET_VECTOR_ELT(contents, 420, ScalarInteger(internal->offset_FOIv_U));
  SET_VECTOR_ELT(contents, 421, ScalarInteger(internal->offset_output_avisinf_Age));
  SET_VECTOR_ELT(contents, 422, ScalarInteger(internal->offset_output_cov));
  SET_VECTOR_ELT(contents, 423, ScalarInteger(internal->offset_output_dinf_Age));
  SET_VECTOR_ELT(contents, 424, ScalarInteger(internal->offset_output_tinf_Age));
  SET_VECTOR_ELT(contents, 425, ScalarInteger(internal->offset_output_uinf_Age));
  SET_VECTOR_ELT(contents, 426, ScalarInteger(internal->offset_variable_A));
  SET_VECTOR_ELT(contents, 427, ScalarInteger(internal->offset_variable_D));
  SET_VECTOR_ELT(contents, 428, ScalarInteger(internal->offset_variable_IB));
  SET_VECTOR_ELT(contents, 429, ScalarInteger(internal->offset_variable_ICA));
  SET_VECTOR_ELT(contents, 430, ScalarInteger(internal->offset_variable_ICM));
  SET_VECTOR_ELT(contents, 431, ScalarInteger(internal->offset_variable_ID));
  SET_VECTOR_ELT(contents, 432, ScalarInteger(internal->offset_variable_P));
  SET_VECTOR_ELT(contents, 433, ScalarInteger(internal->offset_variable_T));
  SET_VECTOR_ELT(contents, 434, ScalarInteger(internal->offset_variable_U));
  SET_VECTOR_ELT(contents, 435, ScalarReal(internal->omega));
  SET_VECTOR_ELT(contents, 436, ScalarReal(internal->p_boost));
  SEXP p_det = PROTECT(allocVector(REALSXP, internal->dim_p_det));
  memcpy(REAL(p_det), internal->p_det, internal->dim_p_det * sizeof(double));
  odin_set_dim(p_det, 3, internal->dim_p_det_1, internal->dim_p_det_2, internal->dim_p_det_3);
  SET_VECTOR_ELT(contents, 437, p_det);
  SET_VECTOR_ELT(contents, 438, ScalarReal(internal->p_peak));
  SET_VECTOR_ELT(contents, 439, ScalarReal(internal->p10));
  SET_VECTOR_ELT(contents, 440, ScalarReal(internal->p2));
  SEXP phi = PROTECT(allocVector(REALSXP, internal->dim_phi));
  memcpy(REAL(phi), internal->phi, internal->dim_phi * sizeof(double));
  odin_set_dim(phi, 3, internal->dim_phi_1, internal->dim_phi_2, internal->dim_phi_3);
  SET_VECTOR_ELT(contents, 441, phi);
  SET_VECTOR_ELT(contents, 442, ScalarReal(internal->phi0));
  SET_VECTOR_ELT(contents, 443, ScalarReal(internal->phi1));
  SET_VECTOR_ELT(contents, 444, ScalarReal(internal->pi));
  SET_VECTOR_ELT(contents, 445, ScalarReal(internal->PM));
  SEXP prev = PROTECT(allocVector(REALSXP, internal->dim_prev));
  memcpy(REAL(prev), internal->prev, internal->dim_prev * sizeof(double));
  odin_set_dim(prev, 3, internal->dim_prev_1, internal->dim_prev_2, internal->dim_prev_3);
  SET_VECTOR_ELT(contents, 446, prev);
  SEXP prev0to59 = PROTECT(allocVector(REALSXP, internal->dim_prev0to59));
  memcpy(REAL(prev0to59), internal->prev0to59, internal->dim_prev0to59 * sizeof(double));
  odin_set_dim(prev0to59, 3, internal->dim_prev0to59_1, internal->dim_prev0to59_2, internal->dim_prev0to59_3);
  SET_VECTOR_ELT(contents, 447, prev0to59);
  SET_VECTOR_ELT(contents, 448, ScalarReal(internal->Q0));
  SET_VECTOR_ELT(contents, 449, ScalarReal(internal->r_IRS0));
  SET_VECTOR_ELT(contents, 450, ScalarReal(internal->r_ITN0));
  SET_VECTOR_ELT(contents, 451, ScalarReal(internal->r_ITN1));
  SET_VECTOR_ELT(contents, 452, ScalarReal(internal->r_l));
  SET_VECTOR_ELT(contents, 453, ScalarReal(internal->r_s));
  SET_VECTOR_ELT(contents, 454, ScalarReal(internal->rA));
  SET_VECTOR_ELT(contents, 455, ScalarReal(internal->rD));
  SEXP rel_foi = PROTECT(allocVector(REALSXP, internal->dim_rel_foi));
  memcpy(REAL(rel_foi), internal->rel_foi, internal->dim_rel_foi * sizeof(double));
  SET_VECTOR_ELT(contents, 456, rel_foi);
  SET_VECTOR_ELT(contents, 457, ScalarReal(internal->rho25));
  SET_VECTOR_ELT(contents, 458, ScalarReal(internal->rl25));
  SET_VECTOR_ELT(contents, 459, ScalarReal(internal->rP));
  SET_VECTOR_ELT(contents, 460, ScalarReal(internal->rrA));
  SET_VECTOR_ELT(contents, 461, ScalarReal(internal->rrD));
  SET_VECTOR_ELT(contents, 462, ScalarReal(internal->rrT));
  SET_VECTOR_ELT(contents, 463, ScalarReal(internal->rrU));
  SET_VECTOR_ELT(contents, 464, ScalarReal(internal->rs25));
  SET_VECTOR_ELT(contents, 465, ScalarReal(internal->rT));
  SET_VECTOR_ELT(contents, 466, ScalarReal(internal->RTS_switch));
  SET_VECTOR_ELT(contents, 467, ScalarReal(internal->rU));
  SET_VECTOR_ELT(contents, 468, ScalarReal(internal->ssa0));
  SET_VECTOR_ELT(contents, 469, ScalarReal(internal->ssa1));
  SET_VECTOR_ELT(contents, 470, ScalarReal(internal->ssa2));
  SET_VECTOR_ELT(contents, 471, ScalarReal(internal->ssa3));
  SET_VECTOR_ELT(contents, 472, ScalarReal(internal->ssb1));
  SET_VECTOR_ELT(contents, 473, ScalarReal(internal->ssb2));
  SET_VECTOR_ELT(contents, 474, ScalarReal(internal->ssb3));
  SET_VECTOR_ELT(contents, 475, ScalarReal(internal->switch_TBV));
  SET_VECTOR_ELT(contents, 476, ScalarReal(internal->switch_TRA_to_TBA));
  SET_VECTOR_ELT(contents, 477, ScalarReal(internal->t_boost_rts));
  SET_VECTOR_ELT(contents, 478, ScalarReal(internal->tau1));
  SET_VECTOR_ELT(contents, 479, ScalarReal(internal->tau2));
  SET_VECTOR_ELT(contents, 480, ScalarReal(internal->tau25));
  SET_VECTOR_ELT(contents, 481, ScalarReal(internal->theta_c));
  SEXP tinf = PROTECT(allocVector(REALSXP, internal->dim_tinf));
  memcpy(REAL(tinf), internal->tinf, internal->dim_tinf * sizeof(double));
  odin_set_dim(tinf, 3, internal->dim_tinf_1, internal->dim_tinf_2, internal->dim_tinf_3);
  SET_VECTOR_ELT(contents, 482, tinf);
  SET_VECTOR_ELT(contents, 483, ScalarReal(internal->uB));
  SET_VECTOR_ELT(contents, 484, ScalarReal(internal->uCA));
  SET_VECTOR_ELT(contents, 485, ScalarReal(internal->uD));
  SEXP uinf = PROTECT(allocVector(REALSXP, internal->dim_uinf));
  memcpy(REAL(uinf), internal->uinf, internal->dim_uinf * sizeof(double));
  odin_set_dim(uinf, 3, internal->dim_uinf_1, internal->dim_uinf_2, internal->dim_uinf_3);
  SET_VECTOR_ELT(contents, 486, uinf);
  SET_VECTOR_ELT(contents, 487, ScalarReal(internal->v_interval));
  SET_VECTOR_ELT(contents, 488, ScalarReal(internal->V_max_RTS));
  SET_VECTOR_ELT(contents, 489, ScalarReal(internal->vacc_lag));
  SET_VECTOR_ELT(contents, 490, ScalarReal(internal->vacc_on));
  SEXP vis_A = PROTECT(allocVector(REALSXP, internal->dim_vis_A));
  memcpy(REAL(vis_A), internal->vis_A, internal->dim_vis_A * sizeof(double));
  odin_set_dim(vis_A, 3, internal->dim_vis_A_1, internal->dim_vis_A_2, internal->dim_vis_A_3);
  SET_VECTOR_ELT(contents, 491, vis_A);
  SEXP w = PROTECT(allocVector(REALSXP, internal->dim_w));
  memcpy(REAL(w), internal->w, internal->dim_w * sizeof(double));
  SET_VECTOR_ELT(contents, 492, w);
  SEXP w_ = PROTECT(allocVector(REALSXP, internal->dim_w_));
  memcpy(REAL(w_), internal->w_, internal->dim_w_ * sizeof(double));
  SET_VECTOR_ELT(contents, 493, w_);
  SEXP whi = PROTECT(allocVector(REALSXP, internal->dim_whi));
  memcpy(REAL(whi), internal->whi, internal->dim_whi * sizeof(double));
  SET_VECTOR_ELT(contents, 494, whi);
  SEXP x_I = PROTECT(allocVector(REALSXP, internal->dim_x_I));
  memcpy(REAL(x_I), internal->x_I, internal->dim_x_I * sizeof(double));
  SET_VECTOR_ELT(contents, 495, x_I);
  SEXP Y = PROTECT(allocVector(REALSXP, internal->dim_Y));
  memcpy(REAL(Y), internal->Y, internal->dim_Y * sizeof(double));
  odin_set_dim(Y, 3, internal->dim_Y_1, internal->dim_Y_2, internal->dim_Y_3);
  SET_VECTOR_ELT(contents, 496, Y);
  SEXP yy = PROTECT(allocVector(REALSXP, internal->dim_yy));
  memcpy(REAL(yy), internal->yy, internal->dim_yy * sizeof(double));
  SET_VECTOR_ELT(contents, 497, yy);
  SEXP yy_ = PROTECT(allocVector(REALSXP, internal->dim_yy_));
  memcpy(REAL(yy_), internal->yy_, internal->dim_yy_ * sizeof(double));
  SET_VECTOR_ELT(contents, 498, yy_);
  SEXP z = PROTECT(allocVector(REALSXP, internal->dim_z));
  memcpy(REAL(z), internal->z, internal->dim_z * sizeof(double));
  SET_VECTOR_ELT(contents, 499, z);
  SEXP z_ = PROTECT(allocVector(REALSXP, internal->dim_z_));
  memcpy(REAL(z_), internal->z_, internal->dim_z_ * sizeof(double));
  SET_VECTOR_ELT(contents, 500, z_);
  SEXP zhi = PROTECT(allocVector(REALSXP, internal->dim_zhi));
  memcpy(REAL(zhi), internal->zhi, internal->dim_zhi * sizeof(double));
  SET_VECTOR_ELT(contents, 501, zhi);
  SET_VECTOR_ELT(contents, 502, ScalarLogical(internal->odin_model_TBV_use_dde));
  SEXP nms = PROTECT(allocVector(STRSXP, 503));
  SET_STRING_ELT(nms, 0, mkChar("aD"));
  SET_STRING_ELT(nms, 1, mkChar("age"));
  SET_STRING_ELT(nms, 2, mkChar("age_20_factor"));
  SET_STRING_ELT(nms, 3, mkChar("age_max_rts"));
  SET_STRING_ELT(nms, 4, mkChar("age_max_tbv"));
  SET_STRING_ELT(nms, 5, mkChar("age_min_rts"));
  SET_STRING_ELT(nms, 6, mkChar("age_min_tbv"));
  SET_STRING_ELT(nms, 7, mkChar("age_rate"));
  SET_STRING_ELT(nms, 8, mkChar("age05"));
  SET_STRING_ELT(nms, 9, mkChar("age20l"));
  SET_STRING_ELT(nms, 10, mkChar("age20u"));
  SET_STRING_ELT(nms, 11, mkChar("age59"));
  SET_STRING_ELT(nms, 12, mkChar("ainf"));
  SET_STRING_ELT(nms, 13, mkChar("alpha_RTS"));
  SET_STRING_ELT(nms, 14, mkChar("av_human"));
  SET_STRING_ELT(nms, 15, mkChar("av_mosq"));
  SET_STRING_ELT(nms, 16, mkChar("avisinf"));
  SET_STRING_ELT(nms, 17, mkChar("b"));
  SET_STRING_ELT(nms, 18, mkChar("b_fun"));
  SET_STRING_ELT(nms, 19, mkChar("b_lambda"));
  SET_STRING_ELT(nms, 20, mkChar("b0"));
  SET_STRING_ELT(nms, 21, mkChar("b1"));
  SET_STRING_ELT(nms, 22, mkChar("beta_RTS"));
  SET_STRING_ELT(nms, 23, mkChar("betaL"));
  SET_STRING_ELT(nms, 24, mkChar("bites_Bed"));
  SET_STRING_ELT(nms, 25, mkChar("bites_Indoors"));
  SET_STRING_ELT(nms, 26, mkChar("cA"));
  SET_STRING_ELT(nms, 27, mkChar("cA_fcn"));
  SET_STRING_ELT(nms, 28, mkChar("cD"));
  SET_STRING_ELT(nms, 29, mkChar("cD_fcn"));
  SET_STRING_ELT(nms, 30, mkChar("chi"));
  SET_STRING_ELT(nms, 31, mkChar("clin_inc"));
  SET_STRING_ELT(nms, 32, mkChar("clin_inc0to5"));
  SET_STRING_ELT(nms, 33, mkChar("cov"));
  SET_STRING_ELT(nms, 34, mkChar("cov_"));
  SET_STRING_ELT(nms, 35, mkChar("CS_boost"));
  SET_STRING_ELT(nms, 36, mkChar("CS_peak"));
  SET_STRING_ELT(nms, 37, mkChar("cT"));
  SET_STRING_ELT(nms, 38, mkChar("cT_fcn"));
  SET_STRING_ELT(nms, 39, mkChar("cU"));
  SET_STRING_ELT(nms, 40, mkChar("cU_fcn"));
  SET_STRING_ELT(nms, 41, mkChar("d_IRS0"));
  SET_STRING_ELT(nms, 42, mkChar("d_ITN0"));
  SET_STRING_ELT(nms, 43, mkChar("d1"));
  SET_STRING_ELT(nms, 44, mkChar("dB"));
  SET_STRING_ELT(nms, 45, mkChar("dCA"));
  SET_STRING_ELT(nms, 46, mkChar("dCM"));
  SET_STRING_ELT(nms, 47, mkChar("dE"));
  SET_STRING_ELT(nms, 48, mkChar("dEL"));
  SET_STRING_ELT(nms, 49, mkChar("delay_array_av_human"));
  SET_STRING_ELT(nms, 50, mkChar("delay_array_av_mosq"));
  SET_STRING_ELT(nms, 51, mkChar("delay_array_b"));
  SET_STRING_ELT(nms, 52, mkChar("delay_array_b_fun"));
  SET_STRING_ELT(nms, 53, mkChar("delay_array_cA"));
  SET_STRING_ELT(nms, 54, mkChar("delay_array_cA_fcn"));
  SET_STRING_ELT(nms, 55, mkChar("delay_array_cD_fcn"));
  SET_STRING_ELT(nms, 56, mkChar("delay_array_cT_fcn"));
  SET_STRING_ELT(nms, 57, mkChar("delay_array_cU_fcn"));
  SET_STRING_ELT(nms, 58, mkChar("delay_array_EIR"));
  SET_STRING_ELT(nms, 59, mkChar("delay_array_FOI_lag"));
  SET_STRING_ELT(nms, 60, mkChar("delay_array_FOIvijk"));
  SET_STRING_ELT(nms, 61, mkChar("delay_array_p_det"));
  SET_STRING_ELT(nms, 62, mkChar("delay_array_w"));
  SET_STRING_ELT(nms, 63, mkChar("delay_array_w_"));
  SET_STRING_ELT(nms, 64, mkChar("delay_array_whi"));
  SET_STRING_ELT(nms, 65, mkChar("delay_array_yy"));
  SET_STRING_ELT(nms, 66, mkChar("delay_array_yy_"));
  SET_STRING_ELT(nms, 67, mkChar("delay_array_z"));
  SET_STRING_ELT(nms, 68, mkChar("delay_array_z_"));
  SET_STRING_ELT(nms, 69, mkChar("delay_array_zhi"));
  SET_STRING_ELT(nms, 70, mkChar("delay_index_FOI"));
  SET_STRING_ELT(nms, 71, mkChar("delay_index_FOIv"));
  SET_STRING_ELT(nms, 72, mkChar("delay_index_incv"));
  SET_STRING_ELT(nms, 73, mkChar("delay_state_FOI"));
  SET_STRING_ELT(nms, 74, mkChar("delay_state_FOIv"));
  SET_STRING_ELT(nms, 75, mkChar("delay_state_incv"));
  SET_STRING_ELT(nms, 76, mkChar("delayGam"));
  SET_STRING_ELT(nms, 77, mkChar("delayMos"));
  SET_STRING_ELT(nms, 78, mkChar("den"));
  SET_STRING_ELT(nms, 79, mkChar("dID"));
  SET_STRING_ELT(nms, 80, mkChar("dim_A"));
  SET_STRING_ELT(nms, 81, mkChar("dim_A_1"));
  SET_STRING_ELT(nms, 82, mkChar("dim_A_12"));
  SET_STRING_ELT(nms, 83, mkChar("dim_A_2"));
  SET_STRING_ELT(nms, 84, mkChar("dim_A_3"));
  SET_STRING_ELT(nms, 85, mkChar("dim_age"));
  SET_STRING_ELT(nms, 86, mkChar("dim_age_rate"));
  SET_STRING_ELT(nms, 87, mkChar("dim_ainf"));
  SET_STRING_ELT(nms, 88, mkChar("dim_ainf_1"));
  SET_STRING_ELT(nms, 89, mkChar("dim_ainf_12"));
  SET_STRING_ELT(nms, 90, mkChar("dim_ainf_2"));
  SET_STRING_ELT(nms, 91, mkChar("dim_ainf_3"));
  SET_STRING_ELT(nms, 92, mkChar("dim_ainf_Age"));
  SET_STRING_ELT(nms, 93, mkChar("dim_av_human"));
  SET_STRING_ELT(nms, 94, mkChar("dim_av_mosq"));
  SET_STRING_ELT(nms, 95, mkChar("dim_avisinf"));
  SET_STRING_ELT(nms, 96, mkChar("dim_avisinf_1"));
  SET_STRING_ELT(nms, 97, mkChar("dim_avisinf_12"));
  SET_STRING_ELT(nms, 98, mkChar("dim_avisinf_2"));
  SET_STRING_ELT(nms, 99, mkChar("dim_avisinf_3"));
  SET_STRING_ELT(nms, 100, mkChar("dim_avisinf_Age"));
  SET_STRING_ELT(nms, 101, mkChar("dim_b"));
  SET_STRING_ELT(nms, 102, mkChar("dim_b_1"));
  SET_STRING_ELT(nms, 103, mkChar("dim_b_12"));
  SET_STRING_ELT(nms, 104, mkChar("dim_b_2"));
  SET_STRING_ELT(nms, 105, mkChar("dim_b_3"));
  SET_STRING_ELT(nms, 106, mkChar("dim_b_fun"));
  SET_STRING_ELT(nms, 107, mkChar("dim_b_fun_1"));
  SET_STRING_ELT(nms, 108, mkChar("dim_b_fun_12"));
  SET_STRING_ELT(nms, 109, mkChar("dim_b_fun_2"));
  SET_STRING_ELT(nms, 110, mkChar("dim_b_fun_3"));
  SET_STRING_ELT(nms, 111, mkChar("dim_cA"));
  SET_STRING_ELT(nms, 112, mkChar("dim_cA_1"));
  SET_STRING_ELT(nms, 113, mkChar("dim_cA_12"));
  SET_STRING_ELT(nms, 114, mkChar("dim_cA_2"));
  SET_STRING_ELT(nms, 115, mkChar("dim_cA_3"));
  SET_STRING_ELT(nms, 116, mkChar("dim_cA_fcn"));
  SET_STRING_ELT(nms, 117, mkChar("dim_cA_fcn_1"));
  SET_STRING_ELT(nms, 118, mkChar("dim_cA_fcn_12"));
  SET_STRING_ELT(nms, 119, mkChar("dim_cA_fcn_2"));
  SET_STRING_ELT(nms, 120, mkChar("dim_cA_fcn_3"));
  SET_STRING_ELT(nms, 121, mkChar("dim_cD_fcn"));
  SET_STRING_ELT(nms, 122, mkChar("dim_cD_fcn_1"));
  SET_STRING_ELT(nms, 123, mkChar("dim_cD_fcn_2"));
  SET_STRING_ELT(nms, 124, mkChar("dim_clin_inc"));
  SET_STRING_ELT(nms, 125, mkChar("dim_clin_inc_1"));
  SET_STRING_ELT(nms, 126, mkChar("dim_clin_inc_12"));
  SET_STRING_ELT(nms, 127, mkChar("dim_clin_inc_2"));
  SET_STRING_ELT(nms, 128, mkChar("dim_clin_inc_3"));
  SET_STRING_ELT(nms, 129, mkChar("dim_clin_inc0to5"));
  SET_STRING_ELT(nms, 130, mkChar("dim_clin_inc0to5_1"));
  SET_STRING_ELT(nms, 131, mkChar("dim_clin_inc0to5_12"));
  SET_STRING_ELT(nms, 132, mkChar("dim_clin_inc0to5_2"));
  SET_STRING_ELT(nms, 133, mkChar("dim_clin_inc0to5_3"));
  SET_STRING_ELT(nms, 134, mkChar("dim_cov"));
  SET_STRING_ELT(nms, 135, mkChar("dim_cov_"));
  SET_STRING_ELT(nms, 136, mkChar("dim_cT_fcn"));
  SET_STRING_ELT(nms, 137, mkChar("dim_cT_fcn_1"));
  SET_STRING_ELT(nms, 138, mkChar("dim_cT_fcn_2"));
  SET_STRING_ELT(nms, 139, mkChar("dim_cU_fcn"));
  SET_STRING_ELT(nms, 140, mkChar("dim_cU_fcn_1"));
  SET_STRING_ELT(nms, 141, mkChar("dim_cU_fcn_2"));
  SET_STRING_ELT(nms, 142, mkChar("dim_D"));
  SET_STRING_ELT(nms, 143, mkChar("dim_D_1"));
  SET_STRING_ELT(nms, 144, mkChar("dim_D_12"));
  SET_STRING_ELT(nms, 145, mkChar("dim_D_2"));
  SET_STRING_ELT(nms, 146, mkChar("dim_D_3"));
  SET_STRING_ELT(nms, 147, mkChar("dim_delay_FOI"));
  SET_STRING_ELT(nms, 148, mkChar("dim_delay_FOIv"));
  SET_STRING_ELT(nms, 149, mkChar("dim_den"));
  SET_STRING_ELT(nms, 150, mkChar("dim_dinf"));
  SET_STRING_ELT(nms, 151, mkChar("dim_dinf_1"));
  SET_STRING_ELT(nms, 152, mkChar("dim_dinf_12"));
  SET_STRING_ELT(nms, 153, mkChar("dim_dinf_2"));
  SET_STRING_ELT(nms, 154, mkChar("dim_dinf_3"));
  SET_STRING_ELT(nms, 155, mkChar("dim_dinf_Age"));
  SET_STRING_ELT(nms, 156, mkChar("dim_EIR"));
  SET_STRING_ELT(nms, 157, mkChar("dim_EIR_1"));
  SET_STRING_ELT(nms, 158, mkChar("dim_EIR_12"));
  SET_STRING_ELT(nms, 159, mkChar("dim_EIR_2"));
  SET_STRING_ELT(nms, 160, mkChar("dim_EIR_3"));
  SET_STRING_ELT(nms, 161, mkChar("dim_EIRweight"));
  SET_STRING_ELT(nms, 162, mkChar("dim_EIRweight_1"));
  SET_STRING_ELT(nms, 163, mkChar("dim_EIRweight_12"));
  SET_STRING_ELT(nms, 164, mkChar("dim_EIRweight_2"));
  SET_STRING_ELT(nms, 165, mkChar("dim_EIRweight_3"));
  SET_STRING_ELT(nms, 166, mkChar("dim_fd"));
  SET_STRING_ELT(nms, 167, mkChar("dim_FOI"));
  SET_STRING_ELT(nms, 168, mkChar("dim_FOI_1"));
  SET_STRING_ELT(nms, 169, mkChar("dim_FOI_12"));
  SET_STRING_ELT(nms, 170, mkChar("dim_FOI_2"));
  SET_STRING_ELT(nms, 171, mkChar("dim_FOI_3"));
  SET_STRING_ELT(nms, 172, mkChar("dim_foi_age"));
  SET_STRING_ELT(nms, 173, mkChar("dim_FOI_lag"));
  SET_STRING_ELT(nms, 174, mkChar("dim_FOI_lag_1"));
  SET_STRING_ELT(nms, 175, mkChar("dim_FOI_lag_12"));
  SET_STRING_ELT(nms, 176, mkChar("dim_FOI_lag_2"));
  SET_STRING_ELT(nms, 177, mkChar("dim_FOI_lag_3"));
  SET_STRING_ELT(nms, 178, mkChar("dim_FOIvijk"));
  SET_STRING_ELT(nms, 179, mkChar("dim_FOIvijk_1"));
  SET_STRING_ELT(nms, 180, mkChar("dim_FOIvijk_12"));
  SET_STRING_ELT(nms, 181, mkChar("dim_FOIvijk_2"));
  SET_STRING_ELT(nms, 182, mkChar("dim_FOIvijk_3"));
  SET_STRING_ELT(nms, 183, mkChar("dim_het_wt"));
  SET_STRING_ELT(nms, 184, mkChar("dim_IB"));
  SET_STRING_ELT(nms, 185, mkChar("dim_IB_1"));
  SET_STRING_ELT(nms, 186, mkChar("dim_IB_12"));
  SET_STRING_ELT(nms, 187, mkChar("dim_IB_2"));
  SET_STRING_ELT(nms, 188, mkChar("dim_IB_3"));
  SET_STRING_ELT(nms, 189, mkChar("dim_IC"));
  SET_STRING_ELT(nms, 190, mkChar("dim_IC_1"));
  SET_STRING_ELT(nms, 191, mkChar("dim_IC_12"));
  SET_STRING_ELT(nms, 192, mkChar("dim_IC_2"));
  SET_STRING_ELT(nms, 193, mkChar("dim_IC_3"));
  SET_STRING_ELT(nms, 194, mkChar("dim_ICA"));
  SET_STRING_ELT(nms, 195, mkChar("dim_ICA_1"));
  SET_STRING_ELT(nms, 196, mkChar("dim_ICA_12"));
  SET_STRING_ELT(nms, 197, mkChar("dim_ICA_2"));
  SET_STRING_ELT(nms, 198, mkChar("dim_ICA_3"));
  SET_STRING_ELT(nms, 199, mkChar("dim_ICM"));
  SET_STRING_ELT(nms, 200, mkChar("dim_ICM_1"));
  SET_STRING_ELT(nms, 201, mkChar("dim_ICM_12"));
  SET_STRING_ELT(nms, 202, mkChar("dim_ICM_2"));
  SET_STRING_ELT(nms, 203, mkChar("dim_ICM_3"));
  SET_STRING_ELT(nms, 204, mkChar("dim_ID"));
  SET_STRING_ELT(nms, 205, mkChar("dim_ID_1"));
  SET_STRING_ELT(nms, 206, mkChar("dim_ID_12"));
  SET_STRING_ELT(nms, 207, mkChar("dim_ID_2"));
  SET_STRING_ELT(nms, 208, mkChar("dim_ID_3"));
  SET_STRING_ELT(nms, 209, mkChar("dim_init_A"));
  SET_STRING_ELT(nms, 210, mkChar("dim_init_A_1"));
  SET_STRING_ELT(nms, 211, mkChar("dim_init_A_12"));
  SET_STRING_ELT(nms, 212, mkChar("dim_init_A_2"));
  SET_STRING_ELT(nms, 213, mkChar("dim_init_A_3"));
  SET_STRING_ELT(nms, 214, mkChar("dim_init_D"));
  SET_STRING_ELT(nms, 215, mkChar("dim_init_D_1"));
  SET_STRING_ELT(nms, 216, mkChar("dim_init_D_12"));
  SET_STRING_ELT(nms, 217, mkChar("dim_init_D_2"));
  SET_STRING_ELT(nms, 218, mkChar("dim_init_D_3"));
  SET_STRING_ELT(nms, 219, mkChar("dim_init_IB"));
  SET_STRING_ELT(nms, 220, mkChar("dim_init_IB_1"));
  SET_STRING_ELT(nms, 221, mkChar("dim_init_IB_12"));
  SET_STRING_ELT(nms, 222, mkChar("dim_init_IB_2"));
  SET_STRING_ELT(nms, 223, mkChar("dim_init_IB_3"));
  SET_STRING_ELT(nms, 224, mkChar("dim_init_ICA"));
  SET_STRING_ELT(nms, 225, mkChar("dim_init_ICA_1"));
  SET_STRING_ELT(nms, 226, mkChar("dim_init_ICA_12"));
  SET_STRING_ELT(nms, 227, mkChar("dim_init_ICA_2"));
  SET_STRING_ELT(nms, 228, mkChar("dim_init_ICA_3"));
  SET_STRING_ELT(nms, 229, mkChar("dim_init_ICM"));
  SET_STRING_ELT(nms, 230, mkChar("dim_init_ICM_1"));
  SET_STRING_ELT(nms, 231, mkChar("dim_init_ICM_12"));
  SET_STRING_ELT(nms, 232, mkChar("dim_init_ICM_2"));
  SET_STRING_ELT(nms, 233, mkChar("dim_init_ICM_3"));
  SET_STRING_ELT(nms, 234, mkChar("dim_init_ICM_pre"));
  SET_STRING_ELT(nms, 235, mkChar("dim_init_ICM_pre_1"));
  SET_STRING_ELT(nms, 236, mkChar("dim_init_ICM_pre_2"));
  SET_STRING_ELT(nms, 237, mkChar("dim_init_ID"));
  SET_STRING_ELT(nms, 238, mkChar("dim_init_ID_1"));
  SET_STRING_ELT(nms, 239, mkChar("dim_init_ID_12"));
  SET_STRING_ELT(nms, 240, mkChar("dim_init_ID_2"));
  SET_STRING_ELT(nms, 241, mkChar("dim_init_ID_3"));
  SET_STRING_ELT(nms, 242, mkChar("dim_init_P"));
  SET_STRING_ELT(nms, 243, mkChar("dim_init_P_1"));
  SET_STRING_ELT(nms, 244, mkChar("dim_init_P_12"));
  SET_STRING_ELT(nms, 245, mkChar("dim_init_P_2"));
  SET_STRING_ELT(nms, 246, mkChar("dim_init_P_3"));
  SET_STRING_ELT(nms, 247, mkChar("dim_init_S"));
  SET_STRING_ELT(nms, 248, mkChar("dim_init_S_1"));
  SET_STRING_ELT(nms, 249, mkChar("dim_init_S_12"));
  SET_STRING_ELT(nms, 250, mkChar("dim_init_S_2"));
  SET_STRING_ELT(nms, 251, mkChar("dim_init_S_3"));
  SET_STRING_ELT(nms, 252, mkChar("dim_init_T"));
  SET_STRING_ELT(nms, 253, mkChar("dim_init_T_1"));
  SET_STRING_ELT(nms, 254, mkChar("dim_init_T_12"));
  SET_STRING_ELT(nms, 255, mkChar("dim_init_T_2"));
  SET_STRING_ELT(nms, 256, mkChar("dim_init_T_3"));
  SET_STRING_ELT(nms, 257, mkChar("dim_init_U"));
  SET_STRING_ELT(nms, 258, mkChar("dim_init_U_1"));
  SET_STRING_ELT(nms, 259, mkChar("dim_init_U_12"));
  SET_STRING_ELT(nms, 260, mkChar("dim_init_U_2"));
  SET_STRING_ELT(nms, 261, mkChar("dim_init_U_3"));
  SET_STRING_ELT(nms, 262, mkChar("dim_P"));
  SET_STRING_ELT(nms, 263, mkChar("dim_P_1"));
  SET_STRING_ELT(nms, 264, mkChar("dim_P_12"));
  SET_STRING_ELT(nms, 265, mkChar("dim_P_2"));
  SET_STRING_ELT(nms, 266, mkChar("dim_P_3"));
  SET_STRING_ELT(nms, 267, mkChar("dim_p_det"));
  SET_STRING_ELT(nms, 268, mkChar("dim_p_det_1"));
  SET_STRING_ELT(nms, 269, mkChar("dim_p_det_12"));
  SET_STRING_ELT(nms, 270, mkChar("dim_p_det_2"));
  SET_STRING_ELT(nms, 271, mkChar("dim_p_det_3"));
  SET_STRING_ELT(nms, 272, mkChar("dim_phi"));
  SET_STRING_ELT(nms, 273, mkChar("dim_phi_1"));
  SET_STRING_ELT(nms, 274, mkChar("dim_phi_12"));
  SET_STRING_ELT(nms, 275, mkChar("dim_phi_2"));
  SET_STRING_ELT(nms, 276, mkChar("dim_phi_3"));
  SET_STRING_ELT(nms, 277, mkChar("dim_prev"));
  SET_STRING_ELT(nms, 278, mkChar("dim_prev_1"));
  SET_STRING_ELT(nms, 279, mkChar("dim_prev_12"));
  SET_STRING_ELT(nms, 280, mkChar("dim_prev_2"));
  SET_STRING_ELT(nms, 281, mkChar("dim_prev_3"));
  SET_STRING_ELT(nms, 282, mkChar("dim_prev0to59"));
  SET_STRING_ELT(nms, 283, mkChar("dim_prev0to59_1"));
  SET_STRING_ELT(nms, 284, mkChar("dim_prev0to59_12"));
  SET_STRING_ELT(nms, 285, mkChar("dim_prev0to59_2"));
  SET_STRING_ELT(nms, 286, mkChar("dim_prev0to59_3"));
  SET_STRING_ELT(nms, 287, mkChar("dim_rel_foi"));
  SET_STRING_ELT(nms, 288, mkChar("dim_S"));
  SET_STRING_ELT(nms, 289, mkChar("dim_S_1"));
  SET_STRING_ELT(nms, 290, mkChar("dim_S_12"));
  SET_STRING_ELT(nms, 291, mkChar("dim_S_2"));
  SET_STRING_ELT(nms, 292, mkChar("dim_S_3"));
  SET_STRING_ELT(nms, 293, mkChar("dim_T"));
  SET_STRING_ELT(nms, 294, mkChar("dim_T_1"));
  SET_STRING_ELT(nms, 295, mkChar("dim_T_12"));
  SET_STRING_ELT(nms, 296, mkChar("dim_T_2"));
  SET_STRING_ELT(nms, 297, mkChar("dim_T_3"));
  SET_STRING_ELT(nms, 298, mkChar("dim_tinf"));
  SET_STRING_ELT(nms, 299, mkChar("dim_tinf_1"));
  SET_STRING_ELT(nms, 300, mkChar("dim_tinf_12"));
  SET_STRING_ELT(nms, 301, mkChar("dim_tinf_2"));
  SET_STRING_ELT(nms, 302, mkChar("dim_tinf_3"));
  SET_STRING_ELT(nms, 303, mkChar("dim_tinf_Age"));
  SET_STRING_ELT(nms, 304, mkChar("dim_U"));
  SET_STRING_ELT(nms, 305, mkChar("dim_U_1"));
  SET_STRING_ELT(nms, 306, mkChar("dim_U_12"));
  SET_STRING_ELT(nms, 307, mkChar("dim_U_2"));
  SET_STRING_ELT(nms, 308, mkChar("dim_U_3"));
  SET_STRING_ELT(nms, 309, mkChar("dim_uinf"));
  SET_STRING_ELT(nms, 310, mkChar("dim_uinf_1"));
  SET_STRING_ELT(nms, 311, mkChar("dim_uinf_12"));
  SET_STRING_ELT(nms, 312, mkChar("dim_uinf_2"));
  SET_STRING_ELT(nms, 313, mkChar("dim_uinf_3"));
  SET_STRING_ELT(nms, 314, mkChar("dim_uinf_Age"));
  SET_STRING_ELT(nms, 315, mkChar("dim_vis_A"));
  SET_STRING_ELT(nms, 316, mkChar("dim_vis_A_1"));
  SET_STRING_ELT(nms, 317, mkChar("dim_vis_A_12"));
  SET_STRING_ELT(nms, 318, mkChar("dim_vis_A_2"));
  SET_STRING_ELT(nms, 319, mkChar("dim_vis_A_3"));
  SET_STRING_ELT(nms, 320, mkChar("dim_w"));
  SET_STRING_ELT(nms, 321, mkChar("dim_w_"));
  SET_STRING_ELT(nms, 322, mkChar("dim_whi"));
  SET_STRING_ELT(nms, 323, mkChar("dim_x_I"));
  SET_STRING_ELT(nms, 324, mkChar("dim_Y"));
  SET_STRING_ELT(nms, 325, mkChar("dim_Y_1"));
  SET_STRING_ELT(nms, 326, mkChar("dim_Y_12"));
  SET_STRING_ELT(nms, 327, mkChar("dim_Y_2"));
  SET_STRING_ELT(nms, 328, mkChar("dim_Y_3"));
  SET_STRING_ELT(nms, 329, mkChar("dim_yy"));
  SET_STRING_ELT(nms, 330, mkChar("dim_yy_"));
  SET_STRING_ELT(nms, 331, mkChar("dim_z"));
  SET_STRING_ELT(nms, 332, mkChar("dim_z_"));
  SET_STRING_ELT(nms, 333, mkChar("dim_zhi"));
  SET_STRING_ELT(nms, 334, mkChar("dinf"));
  SET_STRING_ELT(nms, 335, mkChar("dl"));
  SET_STRING_ELT(nms, 336, mkChar("dl25"));
  SET_STRING_ELT(nms, 337, mkChar("dLL"));
  SET_STRING_ELT(nms, 338, mkChar("dPL"));
  SET_STRING_ELT(nms, 339, mkChar("ds"));
  SET_STRING_ELT(nms, 340, mkChar("ds25"));
  SET_STRING_ELT(nms, 341, mkChar("EIR"));
  SET_STRING_ELT(nms, 342, mkChar("EIRweight"));
  SET_STRING_ELT(nms, 343, mkChar("eta"));
  SET_STRING_ELT(nms, 344, mkChar("fd"));
  SET_STRING_ELT(nms, 345, mkChar("fD0"));
  SET_STRING_ELT(nms, 346, mkChar("FOI"));
  SET_STRING_ELT(nms, 347, mkChar("foi_age"));
  SET_STRING_ELT(nms, 348, mkChar("FOI_lag"));
  SET_STRING_ELT(nms, 349, mkChar("FOIvijk"));
  SET_STRING_ELT(nms, 350, mkChar("ft"));
  SET_STRING_ELT(nms, 351, mkChar("gamma1"));
  SET_STRING_ELT(nms, 352, mkChar("gammaD"));
  SET_STRING_ELT(nms, 353, mkChar("gammaL"));
  SET_STRING_ELT(nms, 354, mkChar("het_wt"));
  SET_STRING_ELT(nms, 355, mkChar("hill1"));
  SET_STRING_ELT(nms, 356, mkChar("hill2"));
  SET_STRING_ELT(nms, 357, mkChar("IB0"));
  SET_STRING_ELT(nms, 358, mkChar("IC"));
  SET_STRING_ELT(nms, 359, mkChar("IC0"));
  SET_STRING_ELT(nms, 360, mkChar("ID0"));
  SET_STRING_ELT(nms, 361, mkChar("init_A"));
  SET_STRING_ELT(nms, 362, mkChar("init_D"));
  SET_STRING_ELT(nms, 363, mkChar("init_EL"));
  SET_STRING_ELT(nms, 364, mkChar("init_Ev"));
  SET_STRING_ELT(nms, 365, mkChar("init_IB"));
  SET_STRING_ELT(nms, 366, mkChar("init_ICA"));
  SET_STRING_ELT(nms, 367, mkChar("init_ICM"));
  SET_STRING_ELT(nms, 368, mkChar("init_ICM_pre"));
  SET_STRING_ELT(nms, 369, mkChar("init_ID"));
  SET_STRING_ELT(nms, 370, mkChar("init_Iv"));
  SET_STRING_ELT(nms, 371, mkChar("init_LL"));
  SET_STRING_ELT(nms, 372, mkChar("init_P"));
  SET_STRING_ELT(nms, 373, mkChar("init_PL"));
  SET_STRING_ELT(nms, 374, mkChar("init_S"));
  SET_STRING_ELT(nms, 375, mkChar("init_Sv"));
  SET_STRING_ELT(nms, 376, mkChar("init_T"));
  SET_STRING_ELT(nms, 377, mkChar("init_U"));
  SET_STRING_ELT(nms, 378, mkChar("initial_A"));
  SET_STRING_ELT(nms, 379, mkChar("initial_D"));
  SET_STRING_ELT(nms, 380, mkChar("initial_EL"));
  SET_STRING_ELT(nms, 381, mkChar("initial_Ev"));
  SET_STRING_ELT(nms, 382, mkChar("initial_IB"));
  SET_STRING_ELT(nms, 383, mkChar("initial_ICA"));
  SET_STRING_ELT(nms, 384, mkChar("initial_ICM"));
  SET_STRING_ELT(nms, 385, mkChar("initial_ID"));
  SET_STRING_ELT(nms, 386, mkChar("initial_Iv"));
  SET_STRING_ELT(nms, 387, mkChar("initial_LL"));
  SET_STRING_ELT(nms, 388, mkChar("initial_P"));
  SET_STRING_ELT(nms, 389, mkChar("initial_PL"));
  SET_STRING_ELT(nms, 390, mkChar("initial_S"));
  SET_STRING_ELT(nms, 391, mkChar("initial_Sv"));
  SET_STRING_ELT(nms, 392, mkChar("initial_t"));
  SET_STRING_ELT(nms, 393, mkChar("initial_T"));
  SET_STRING_ELT(nms, 394, mkChar("initial_U"));
  SET_STRING_ELT(nms, 395, mkChar("irs_cov"));
  SET_STRING_ELT(nms, 396, mkChar("IRS_interval"));
  SET_STRING_ELT(nms, 397, mkChar("irs_loss"));
  SET_STRING_ELT(nms, 398, mkChar("itn_cov"));
  SET_STRING_ELT(nms, 399, mkChar("ITN_interval"));
  SET_STRING_ELT(nms, 400, mkChar("ITN_IRS_on"));
  SET_STRING_ELT(nms, 401, mkChar("itn_loss"));
  SET_STRING_ELT(nms, 402, mkChar("kB"));
  SET_STRING_ELT(nms, 403, mkChar("kC"));
  SET_STRING_ELT(nms, 404, mkChar("kD"));
  SET_STRING_ELT(nms, 405, mkChar("mA"));
  SET_STRING_ELT(nms, 406, mkChar("mD"));
  SET_STRING_ELT(nms, 407, mkChar("mT"));
  SET_STRING_ELT(nms, 408, mkChar("mU"));
  SET_STRING_ELT(nms, 409, mkChar("mu0"));
  SET_STRING_ELT(nms, 410, mkChar("mu25"));
  SET_STRING_ELT(nms, 411, mkChar("muEL"));
  SET_STRING_ELT(nms, 412, mkChar("muLL"));
  SET_STRING_ELT(nms, 413, mkChar("muPL"));
  SET_STRING_ELT(nms, 414, mkChar("mv0"));
  SET_STRING_ELT(nms, 415, mkChar("na"));
  SET_STRING_ELT(nms, 416, mkChar("nh"));
  SET_STRING_ELT(nms, 417, mkChar("num_int"));
  SET_STRING_ELT(nms, 418, mkChar("offset_FOIv_A"));
  SET_STRING_ELT(nms, 419, mkChar("offset_FOIv_ID"));
  SET_STRING_ELT(nms, 420, mkChar("offset_FOIv_U"));
  SET_STRING_ELT(nms, 421, mkChar("offset_output_avisinf_Age"));
  SET_STRING_ELT(nms, 422, mkChar("offset_output_cov"));
  SET_STRING_ELT(nms, 423, mkChar("offset_output_dinf_Age"));
  SET_STRING_ELT(nms, 424, mkChar("offset_output_tinf_Age"));
  SET_STRING_ELT(nms, 425, mkChar("offset_output_uinf_Age"));
  SET_STRING_ELT(nms, 426, mkChar("offset_variable_A"));
  SET_STRING_ELT(nms, 427, mkChar("offset_variable_D"));
  SET_STRING_ELT(nms, 428, mkChar("offset_variable_IB"));
  SET_STRING_ELT(nms, 429, mkChar("offset_variable_ICA"));
  SET_STRING_ELT(nms, 430, mkChar("offset_variable_ICM"));
  SET_STRING_ELT(nms, 431, mkChar("offset_variable_ID"));
  SET_STRING_ELT(nms, 432, mkChar("offset_variable_P"));
  SET_STRING_ELT(nms, 433, mkChar("offset_variable_T"));
  SET_STRING_ELT(nms, 434, mkChar("offset_variable_U"));
  SET_STRING_ELT(nms, 435, mkChar("omega"));
  SET_STRING_ELT(nms, 436, mkChar("p_boost"));
  SET_STRING_ELT(nms, 437, mkChar("p_det"));
  SET_STRING_ELT(nms, 438, mkChar("p_peak"));
  SET_STRING_ELT(nms, 439, mkChar("p10"));
  SET_STRING_ELT(nms, 440, mkChar("p2"));
  SET_STRING_ELT(nms, 441, mkChar("phi"));
  SET_STRING_ELT(nms, 442, mkChar("phi0"));
  SET_STRING_ELT(nms, 443, mkChar("phi1"));
  SET_STRING_ELT(nms, 444, mkChar("pi"));
  SET_STRING_ELT(nms, 445, mkChar("PM"));
  SET_STRING_ELT(nms, 446, mkChar("prev"));
  SET_STRING_ELT(nms, 447, mkChar("prev0to59"));
  SET_STRING_ELT(nms, 448, mkChar("Q0"));
  SET_STRING_ELT(nms, 449, mkChar("r_IRS0"));
  SET_STRING_ELT(nms, 450, mkChar("r_ITN0"));
  SET_STRING_ELT(nms, 451, mkChar("r_ITN1"));
  SET_STRING_ELT(nms, 452, mkChar("r_l"));
  SET_STRING_ELT(nms, 453, mkChar("r_s"));
  SET_STRING_ELT(nms, 454, mkChar("rA"));
  SET_STRING_ELT(nms, 455, mkChar("rD"));
  SET_STRING_ELT(nms, 456, mkChar("rel_foi"));
  SET_STRING_ELT(nms, 457, mkChar("rho25"));
  SET_STRING_ELT(nms, 458, mkChar("rl25"));
  SET_STRING_ELT(nms, 459, mkChar("rP"));
  SET_STRING_ELT(nms, 460, mkChar("rrA"));
  SET_STRING_ELT(nms, 461, mkChar("rrD"));
  SET_STRING_ELT(nms, 462, mkChar("rrT"));
  SET_STRING_ELT(nms, 463, mkChar("rrU"));
  SET_STRING_ELT(nms, 464, mkChar("rs25"));
  SET_STRING_ELT(nms, 465, mkChar("rT"));
  SET_STRING_ELT(nms, 466, mkChar("RTS_switch"));
  SET_STRING_ELT(nms, 467, mkChar("rU"));
  SET_STRING_ELT(nms, 468, mkChar("ssa0"));
  SET_STRING_ELT(nms, 469, mkChar("ssa1"));
  SET_STRING_ELT(nms, 470, mkChar("ssa2"));
  SET_STRING_ELT(nms, 471, mkChar("ssa3"));
  SET_STRING_ELT(nms, 472, mkChar("ssb1"));
  SET_STRING_ELT(nms, 473, mkChar("ssb2"));
  SET_STRING_ELT(nms, 474, mkChar("ssb3"));
  SET_STRING_ELT(nms, 475, mkChar("switch_TBV"));
  SET_STRING_ELT(nms, 476, mkChar("switch_TRA_to_TBA"));
  SET_STRING_ELT(nms, 477, mkChar("t_boost_rts"));
  SET_STRING_ELT(nms, 478, mkChar("tau1"));
  SET_STRING_ELT(nms, 479, mkChar("tau2"));
  SET_STRING_ELT(nms, 480, mkChar("tau25"));
  SET_STRING_ELT(nms, 481, mkChar("theta_c"));
  SET_STRING_ELT(nms, 482, mkChar("tinf"));
  SET_STRING_ELT(nms, 483, mkChar("uB"));
  SET_STRING_ELT(nms, 484, mkChar("uCA"));
  SET_STRING_ELT(nms, 485, mkChar("uD"));
  SET_STRING_ELT(nms, 486, mkChar("uinf"));
  SET_STRING_ELT(nms, 487, mkChar("v_interval"));
  SET_STRING_ELT(nms, 488, mkChar("V_max_RTS"));
  SET_STRING_ELT(nms, 489, mkChar("vacc_lag"));
  SET_STRING_ELT(nms, 490, mkChar("vacc_on"));
  SET_STRING_ELT(nms, 491, mkChar("vis_A"));
  SET_STRING_ELT(nms, 492, mkChar("w"));
  SET_STRING_ELT(nms, 493, mkChar("w_"));
  SET_STRING_ELT(nms, 494, mkChar("whi"));
  SET_STRING_ELT(nms, 495, mkChar("x_I"));
  SET_STRING_ELT(nms, 496, mkChar("Y"));
  SET_STRING_ELT(nms, 497, mkChar("yy"));
  SET_STRING_ELT(nms, 498, mkChar("yy_"));
  SET_STRING_ELT(nms, 499, mkChar("z"));
  SET_STRING_ELT(nms, 500, mkChar("z_"));
  SET_STRING_ELT(nms, 501, mkChar("zhi"));
  SET_STRING_ELT(nms, 502, mkChar("odin_model_TBV_use_dde"));
  setAttrib(contents, R_NamesSymbol, nms);
  UNPROTECT(96);
  return contents;
}
SEXP odin_model_TBV_set_user(SEXP internal_p, SEXP user) {
  odin_model_TBV_internal *internal = odin_model_TBV_get_internal(internal_p, 1);
  internal->aD = user_get_scalar_double(user, "aD", internal->aD, NA_REAL, NA_REAL);
  internal->age_20_factor = user_get_scalar_double(user, "age_20_factor", internal->age_20_factor, NA_REAL, NA_REAL);
  internal->age_max_rts = user_get_scalar_int(user, "age_max_rts", internal->age_max_rts, NA_REAL, NA_REAL);
  internal->age_max_tbv = user_get_scalar_int(user, "age_max_tbv", internal->age_max_tbv, NA_REAL, NA_REAL);
  internal->age_min_rts = user_get_scalar_int(user, "age_min_rts", internal->age_min_rts, NA_REAL, NA_REAL);
  internal->age_min_tbv = user_get_scalar_int(user, "age_min_tbv", internal->age_min_tbv, NA_REAL, NA_REAL);
  internal->age05 = user_get_scalar_int(user, "age05", internal->age05, NA_REAL, NA_REAL);
  internal->age20l = user_get_scalar_int(user, "age20l", internal->age20l, NA_REAL, NA_REAL);
  internal->age20u = user_get_scalar_int(user, "age20u", internal->age20u, NA_REAL, NA_REAL);
  internal->age59 = user_get_scalar_int(user, "age59", internal->age59, NA_REAL, NA_REAL);
  internal->alpha_RTS = user_get_scalar_double(user, "alpha_RTS", internal->alpha_RTS, NA_REAL, NA_REAL);
  internal->b0 = user_get_scalar_double(user, "b0", internal->b0, NA_REAL, NA_REAL);
  internal->b1 = user_get_scalar_double(user, "b1", internal->b1, NA_REAL, NA_REAL);
  internal->beta_RTS = user_get_scalar_double(user, "beta_RTS", internal->beta_RTS, NA_REAL, NA_REAL);
  internal->betaL = user_get_scalar_double(user, "betaL", internal->betaL, NA_REAL, NA_REAL);
  internal->bites_Bed = user_get_scalar_double(user, "bites_Bed", internal->bites_Bed, NA_REAL, NA_REAL);
  internal->bites_Indoors = user_get_scalar_double(user, "bites_Indoors", internal->bites_Indoors, NA_REAL, NA_REAL);
  internal->cD = user_get_scalar_double(user, "cD", internal->cD, NA_REAL, NA_REAL);
  internal->chi = user_get_scalar_double(user, "chi", internal->chi, NA_REAL, NA_REAL);
  internal->CS_boost = user_get_scalar_double(user, "CS_boost", internal->CS_boost, NA_REAL, NA_REAL);
  internal->CS_peak = user_get_scalar_double(user, "CS_peak", internal->CS_peak, NA_REAL, NA_REAL);
  internal->cT = user_get_scalar_double(user, "cT", internal->cT, NA_REAL, NA_REAL);
  internal->cU = user_get_scalar_double(user, "cU", internal->cU, NA_REAL, NA_REAL);
  internal->d_IRS0 = user_get_scalar_double(user, "d_IRS0", internal->d_IRS0, NA_REAL, NA_REAL);
  internal->d_ITN0 = user_get_scalar_double(user, "d_ITN0", internal->d_ITN0, NA_REAL, NA_REAL);
  internal->d1 = user_get_scalar_double(user, "d1", internal->d1, NA_REAL, NA_REAL);
  internal->dB = user_get_scalar_double(user, "dB", internal->dB, NA_REAL, NA_REAL);
  internal->dCA = user_get_scalar_double(user, "dCA", internal->dCA, NA_REAL, NA_REAL);
  internal->dCM = user_get_scalar_double(user, "dCM", internal->dCM, NA_REAL, NA_REAL);
  internal->dE = user_get_scalar_double(user, "dE", internal->dE, NA_REAL, NA_REAL);
  internal->dEL = user_get_scalar_double(user, "dEL", internal->dEL, NA_REAL, NA_REAL);
  internal->delayGam = user_get_scalar_double(user, "delayGam", internal->delayGam, NA_REAL, NA_REAL);
  internal->delayMos = user_get_scalar_double(user, "delayMos", internal->delayMos, NA_REAL, NA_REAL);
  internal->dID = user_get_scalar_double(user, "dID", internal->dID, NA_REAL, NA_REAL);
  internal->dl = user_get_scalar_double(user, "dl", internal->dl, NA_REAL, NA_REAL);
  internal->dl25 = user_get_scalar_double(user, "dl25", internal->dl25, NA_REAL, NA_REAL);
  internal->dLL = user_get_scalar_double(user, "dLL", internal->dLL, NA_REAL, NA_REAL);
  internal->dPL = user_get_scalar_double(user, "dPL", internal->dPL, NA_REAL, NA_REAL);
  internal->ds = user_get_scalar_double(user, "ds", internal->ds, NA_REAL, NA_REAL);
  internal->ds25 = user_get_scalar_double(user, "ds25", internal->ds25, NA_REAL, NA_REAL);
  internal->eta = user_get_scalar_double(user, "eta", internal->eta, NA_REAL, NA_REAL);
  internal->fD0 = user_get_scalar_double(user, "fD0", internal->fD0, NA_REAL, NA_REAL);
  internal->ft = user_get_scalar_double(user, "ft", internal->ft, NA_REAL, NA_REAL);
  internal->gamma1 = user_get_scalar_double(user, "gamma1", internal->gamma1, NA_REAL, NA_REAL);
  internal->gammaD = user_get_scalar_double(user, "gammaD", internal->gammaD, NA_REAL, NA_REAL);
  internal->gammaL = user_get_scalar_double(user, "gammaL", internal->gammaL, NA_REAL, NA_REAL);
  internal->hill1 = user_get_scalar_double(user, "hill1", internal->hill1, NA_REAL, NA_REAL);
  internal->hill2 = user_get_scalar_double(user, "hill2", internal->hill2, NA_REAL, NA_REAL);
  internal->IB0 = user_get_scalar_double(user, "IB0", internal->IB0, NA_REAL, NA_REAL);
  internal->IC0 = user_get_scalar_double(user, "IC0", internal->IC0, NA_REAL, NA_REAL);
  internal->ID0 = user_get_scalar_double(user, "ID0", internal->ID0, NA_REAL, NA_REAL);
  internal->init_EL = user_get_scalar_double(user, "init_EL", internal->init_EL, NA_REAL, NA_REAL);
  internal->init_Ev = user_get_scalar_double(user, "init_Ev", internal->init_Ev, NA_REAL, NA_REAL);
  internal->init_Iv = user_get_scalar_double(user, "init_Iv", internal->init_Iv, NA_REAL, NA_REAL);
  internal->init_LL = user_get_scalar_double(user, "init_LL", internal->init_LL, NA_REAL, NA_REAL);
  internal->init_PL = user_get_scalar_double(user, "init_PL", internal->init_PL, NA_REAL, NA_REAL);
  internal->init_Sv = user_get_scalar_double(user, "init_Sv", internal->init_Sv, NA_REAL, NA_REAL);
  internal->irs_cov = user_get_scalar_double(user, "irs_cov", internal->irs_cov, NA_REAL, NA_REAL);
  internal->IRS_interval = user_get_scalar_double(user, "IRS_interval", internal->IRS_interval, NA_REAL, NA_REAL);
  internal->irs_loss = user_get_scalar_double(user, "irs_loss", internal->irs_loss, NA_REAL, NA_REAL);
  internal->itn_cov = user_get_scalar_double(user, "itn_cov", internal->itn_cov, NA_REAL, NA_REAL);
  internal->ITN_interval = user_get_scalar_double(user, "ITN_interval", internal->ITN_interval, NA_REAL, NA_REAL);
  internal->ITN_IRS_on = user_get_scalar_double(user, "ITN_IRS_on", internal->ITN_IRS_on, NA_REAL, NA_REAL);
  internal->itn_loss = user_get_scalar_double(user, "itn_loss", internal->itn_loss, NA_REAL, NA_REAL);
  internal->kB = user_get_scalar_double(user, "kB", internal->kB, NA_REAL, NA_REAL);
  internal->kC = user_get_scalar_double(user, "kC", internal->kC, NA_REAL, NA_REAL);
  internal->kD = user_get_scalar_double(user, "kD", internal->kD, NA_REAL, NA_REAL);
  internal->mu0 = user_get_scalar_double(user, "mu0", internal->mu0, NA_REAL, NA_REAL);
  internal->mu25 = user_get_scalar_double(user, "mu25", internal->mu25, NA_REAL, NA_REAL);
  internal->muEL = user_get_scalar_double(user, "muEL", internal->muEL, NA_REAL, NA_REAL);
  internal->muLL = user_get_scalar_double(user, "muLL", internal->muLL, NA_REAL, NA_REAL);
  internal->muPL = user_get_scalar_double(user, "muPL", internal->muPL, NA_REAL, NA_REAL);
  internal->mv0 = user_get_scalar_double(user, "mv0", internal->mv0, NA_REAL, NA_REAL);
  internal->na = user_get_scalar_int(user, "na", internal->na, NA_REAL, NA_REAL);
  internal->nh = user_get_scalar_int(user, "nh", internal->nh, NA_REAL, NA_REAL);
  internal->num_int = user_get_scalar_int(user, "num_int", internal->num_int, NA_REAL, NA_REAL);
  internal->omega = user_get_scalar_double(user, "omega", internal->omega, NA_REAL, NA_REAL);
  internal->p_boost = user_get_scalar_double(user, "p_boost", internal->p_boost, NA_REAL, NA_REAL);
  internal->p_peak = user_get_scalar_double(user, "p_peak", internal->p_peak, NA_REAL, NA_REAL);
  internal->p10 = user_get_scalar_double(user, "p10", internal->p10, NA_REAL, NA_REAL);
  internal->p2 = user_get_scalar_double(user, "p2", internal->p2, NA_REAL, NA_REAL);
  internal->phi0 = user_get_scalar_double(user, "phi0", internal->phi0, NA_REAL, NA_REAL);
  internal->phi1 = user_get_scalar_double(user, "phi1", internal->phi1, NA_REAL, NA_REAL);
  internal->pi = user_get_scalar_double(user, "pi", internal->pi, NA_REAL, NA_REAL);
  internal->PM = user_get_scalar_double(user, "PM", internal->PM, NA_REAL, NA_REAL);
  internal->Q0 = user_get_scalar_double(user, "Q0", internal->Q0, NA_REAL, NA_REAL);
  internal->r_IRS0 = user_get_scalar_double(user, "r_IRS0", internal->r_IRS0, NA_REAL, NA_REAL);
  internal->r_ITN0 = user_get_scalar_double(user, "r_ITN0", internal->r_ITN0, NA_REAL, NA_REAL);
  internal->r_ITN1 = user_get_scalar_double(user, "r_ITN1", internal->r_ITN1, NA_REAL, NA_REAL);
  internal->rA = user_get_scalar_double(user, "rA", internal->rA, NA_REAL, NA_REAL);
  internal->rD = user_get_scalar_double(user, "rD", internal->rD, NA_REAL, NA_REAL);
  internal->rho25 = user_get_scalar_double(user, "rho25", internal->rho25, NA_REAL, NA_REAL);
  internal->rP = user_get_scalar_double(user, "rP", internal->rP, NA_REAL, NA_REAL);
  internal->rT = user_get_scalar_double(user, "rT", internal->rT, NA_REAL, NA_REAL);
  internal->RTS_switch = user_get_scalar_double(user, "RTS_switch", internal->RTS_switch, NA_REAL, NA_REAL);
  internal->rU = user_get_scalar_double(user, "rU", internal->rU, NA_REAL, NA_REAL);
  internal->ssa0 = user_get_scalar_double(user, "ssa0", internal->ssa0, NA_REAL, NA_REAL);
  internal->ssa1 = user_get_scalar_double(user, "ssa1", internal->ssa1, NA_REAL, NA_REAL);
  internal->ssa2 = user_get_scalar_double(user, "ssa2", internal->ssa2, NA_REAL, NA_REAL);
  internal->ssa3 = user_get_scalar_double(user, "ssa3", internal->ssa3, NA_REAL, NA_REAL);
  internal->ssb1 = user_get_scalar_double(user, "ssb1", internal->ssb1, NA_REAL, NA_REAL);
  internal->ssb2 = user_get_scalar_double(user, "ssb2", internal->ssb2, NA_REAL, NA_REAL);
  internal->ssb3 = user_get_scalar_double(user, "ssb3", internal->ssb3, NA_REAL, NA_REAL);
  internal->switch_TBV = user_get_scalar_double(user, "switch_TBV", internal->switch_TBV, NA_REAL, NA_REAL);
  internal->switch_TRA_to_TBA = user_get_scalar_double(user, "switch_TRA_to_TBA", internal->switch_TRA_to_TBA, NA_REAL, NA_REAL);
  internal->t_boost_rts = user_get_scalar_double(user, "t_boost_rts", internal->t_boost_rts, NA_REAL, NA_REAL);
  internal->tau1 = user_get_scalar_double(user, "tau1", internal->tau1, NA_REAL, NA_REAL);
  internal->tau2 = user_get_scalar_double(user, "tau2", internal->tau2, NA_REAL, NA_REAL);
  internal->tau25 = user_get_scalar_double(user, "tau25", internal->tau25, NA_REAL, NA_REAL);
  internal->theta_c = user_get_scalar_double(user, "theta_c", internal->theta_c, NA_REAL, NA_REAL);
  internal->uB = user_get_scalar_double(user, "uB", internal->uB, NA_REAL, NA_REAL);
  internal->uCA = user_get_scalar_double(user, "uCA", internal->uCA, NA_REAL, NA_REAL);
  internal->uD = user_get_scalar_double(user, "uD", internal->uD, NA_REAL, NA_REAL);
  internal->v_interval = user_get_scalar_double(user, "v_interval", internal->v_interval, NA_REAL, NA_REAL);
  internal->V_max_RTS = user_get_scalar_double(user, "V_max_RTS", internal->V_max_RTS, NA_REAL, NA_REAL);
  internal->vacc_lag = user_get_scalar_double(user, "vacc_lag", internal->vacc_lag, NA_REAL, NA_REAL);
  internal->b_lambda = (internal->gammaL * internal->muLL / (double) internal->muEL - internal->dEL / (double) internal->dLL + (internal->gammaL - 1) * internal->muLL * internal->dEL);
  internal->dim_A_1 = internal->na;
  internal->dim_A_2 = internal->nh;
  internal->dim_A_3 = internal->num_int;
  internal->dim_age = internal->na;
  internal->dim_age_rate = internal->na;
  internal->dim_ainf_1 = internal->na;
  internal->dim_ainf_2 = internal->nh;
  internal->dim_ainf_3 = internal->num_int;
  internal->dim_ainf_Age = internal->na;
  internal->dim_av_human = internal->num_int;
  internal->dim_av_mosq = internal->num_int;
  internal->dim_avisinf_1 = internal->na;
  internal->dim_avisinf_2 = internal->nh;
  internal->dim_avisinf_3 = internal->num_int;
  internal->dim_avisinf_Age = internal->na;
  internal->dim_b_1 = internal->na;
  internal->dim_b_2 = internal->nh;
  internal->dim_b_3 = internal->num_int;
  internal->dim_b_fun_1 = internal->na;
  internal->dim_b_fun_2 = internal->nh;
  internal->dim_b_fun_3 = internal->num_int;
  internal->dim_cA_1 = internal->na;
  internal->dim_cA_2 = internal->nh;
  internal->dim_cA_3 = internal->num_int;
  internal->dim_cA_fcn_1 = internal->na;
  internal->dim_cA_fcn_2 = internal->nh;
  internal->dim_cA_fcn_3 = internal->num_int;
  internal->dim_cD_fcn_1 = internal->na;
  internal->dim_cD_fcn_2 = internal->num_int;
  internal->dim_clin_inc_1 = internal->na;
  internal->dim_clin_inc_2 = internal->nh;
  internal->dim_clin_inc_3 = internal->num_int;
  internal->dim_clin_inc0to5_1 = internal->age05;
  internal->dim_clin_inc0to5_2 = internal->nh;
  internal->dim_clin_inc0to5_3 = internal->num_int;
  internal->dim_cov = internal->num_int;
  internal->dim_cT_fcn_1 = internal->na;
  internal->dim_cT_fcn_2 = internal->num_int;
  internal->dim_cU_fcn_1 = internal->na;
  internal->dim_cU_fcn_2 = internal->num_int;
  internal->dim_D_1 = internal->na;
  internal->dim_D_2 = internal->nh;
  internal->dim_D_3 = internal->num_int;
  internal->dim_den = internal->na;
  internal->dim_dinf_1 = internal->na;
  internal->dim_dinf_2 = internal->nh;
  internal->dim_dinf_3 = internal->num_int;
  internal->dim_dinf_Age = internal->na;
  internal->dim_EIR_1 = internal->na;
  internal->dim_EIR_2 = internal->nh;
  internal->dim_EIR_3 = internal->num_int;
  internal->dim_EIRweight_1 = internal->na;
  internal->dim_EIRweight_2 = internal->nh;
  internal->dim_EIRweight_3 = internal->num_int;
  internal->dim_fd = internal->na;
  internal->dim_FOI_1 = internal->na;
  internal->dim_FOI_2 = internal->nh;
  internal->dim_FOI_3 = internal->num_int;
  internal->dim_foi_age = internal->na;
  internal->dim_FOI_lag_1 = internal->na;
  internal->dim_FOI_lag_2 = internal->nh;
  internal->dim_FOI_lag_3 = internal->num_int;
  internal->dim_FOIvijk_1 = internal->na;
  internal->dim_FOIvijk_2 = internal->nh;
  internal->dim_FOIvijk_3 = internal->num_int;
  internal->dim_het_wt = internal->nh;
  internal->dim_IB_1 = internal->na;
  internal->dim_IB_2 = internal->nh;
  internal->dim_IB_3 = internal->num_int;
  internal->dim_IC_1 = internal->na;
  internal->dim_IC_2 = internal->nh;
  internal->dim_IC_3 = internal->num_int;
  internal->dim_ICA_1 = internal->na;
  internal->dim_ICA_2 = internal->nh;
  internal->dim_ICA_3 = internal->num_int;
  internal->dim_ICM_1 = internal->na;
  internal->dim_ICM_2 = internal->nh;
  internal->dim_ICM_3 = internal->num_int;
  internal->dim_ID_1 = internal->na;
  internal->dim_ID_2 = internal->nh;
  internal->dim_ID_3 = internal->num_int;
  internal->dim_init_A_1 = internal->na;
  internal->dim_init_A_2 = internal->nh;
  internal->dim_init_A_3 = internal->num_int;
  internal->dim_init_D_1 = internal->na;
  internal->dim_init_D_2 = internal->nh;
  internal->dim_init_D_3 = internal->num_int;
  internal->dim_init_IB_1 = internal->na;
  internal->dim_init_IB_2 = internal->nh;
  internal->dim_init_IB_3 = internal->num_int;
  internal->dim_init_ICA_1 = internal->na;
  internal->dim_init_ICA_2 = internal->nh;
  internal->dim_init_ICA_3 = internal->num_int;
  internal->dim_init_ICM_1 = internal->na;
  internal->dim_init_ICM_2 = internal->nh;
  internal->dim_init_ICM_3 = internal->num_int;
  internal->dim_init_ICM_pre_1 = internal->nh;
  internal->dim_init_ICM_pre_2 = internal->num_int;
  internal->dim_init_ID_1 = internal->na;
  internal->dim_init_ID_2 = internal->nh;
  internal->dim_init_ID_3 = internal->num_int;
  internal->dim_init_P_1 = internal->na;
  internal->dim_init_P_2 = internal->nh;
  internal->dim_init_P_3 = internal->num_int;
  internal->dim_init_S_1 = internal->na;
  internal->dim_init_S_2 = internal->nh;
  internal->dim_init_S_3 = internal->num_int;
  internal->dim_init_T_1 = internal->na;
  internal->dim_init_T_2 = internal->nh;
  internal->dim_init_T_3 = internal->num_int;
  internal->dim_init_U_1 = internal->na;
  internal->dim_init_U_2 = internal->nh;
  internal->dim_init_U_3 = internal->num_int;
  internal->dim_P_1 = internal->na;
  internal->dim_P_2 = internal->nh;
  internal->dim_P_3 = internal->num_int;
  internal->dim_p_det_1 = internal->na;
  internal->dim_p_det_2 = internal->nh;
  internal->dim_p_det_3 = internal->num_int;
  internal->dim_phi_1 = internal->na;
  internal->dim_phi_2 = internal->nh;
  internal->dim_phi_3 = internal->num_int;
  internal->dim_prev_1 = internal->na;
  internal->dim_prev_2 = internal->nh;
  internal->dim_prev_3 = internal->num_int;
  internal->dim_prev0to59_1 = internal->age59;
  internal->dim_prev0to59_2 = internal->nh;
  internal->dim_prev0to59_3 = internal->num_int;
  internal->dim_rel_foi = internal->nh;
  internal->dim_S_1 = internal->na;
  internal->dim_S_2 = internal->nh;
  internal->dim_S_3 = internal->num_int;
  internal->dim_T_1 = internal->na;
  internal->dim_T_2 = internal->nh;
  internal->dim_T_3 = internal->num_int;
  internal->dim_tinf_1 = internal->na;
  internal->dim_tinf_2 = internal->nh;
  internal->dim_tinf_3 = internal->num_int;
  internal->dim_tinf_Age = internal->na;
  internal->dim_U_1 = internal->na;
  internal->dim_U_2 = internal->nh;
  internal->dim_U_3 = internal->num_int;
  internal->dim_uinf_1 = internal->na;
  internal->dim_uinf_2 = internal->nh;
  internal->dim_uinf_3 = internal->num_int;
  internal->dim_uinf_Age = internal->na;
  internal->dim_vis_A_1 = internal->na;
  internal->dim_vis_A_2 = internal->nh;
  internal->dim_vis_A_3 = internal->num_int;
  internal->dim_w = internal->num_int;
  internal->dim_whi = internal->num_int;
  internal->dim_x_I = internal->na;
  internal->dim_Y_1 = internal->na;
  internal->dim_Y_2 = internal->nh;
  internal->dim_Y_3 = internal->num_int;
  internal->dim_yy = internal->num_int;
  internal->dim_z = internal->num_int;
  internal->dim_zhi = internal->num_int;
  internal->initial_EL = internal->init_EL;
  internal->initial_Ev = internal->init_Ev * internal->mv0;
  internal->initial_Iv = internal->init_Iv * internal->mv0;
  internal->initial_LL = internal->init_LL;
  internal->initial_PL = internal->init_PL;
  internal->initial_Sv = internal->init_Sv * internal->mv0;
  internal->r_l = log(2) / (double) internal->dl;
  internal->r_s = log(2) / (double) internal->ds;
  internal->rl25 = internal->dl25 / (double) log(2);
  internal->rs25 = internal->ds25 / (double) log(2);
  internal->vacc_on = internal->ITN_IRS_on + internal->vacc_lag;
  internal->age = (double*) user_get_array(user, false, internal->age, "age", NA_REAL, NA_REAL, 1, internal->dim_age);
  internal->age_rate = (double*) user_get_array(user, false, internal->age_rate, "age_rate", NA_REAL, NA_REAL, 1, internal->dim_age_rate);
  Free(internal->av_human);
  internal->av_human = (double*) Calloc(internal->dim_av_human, double);
  Free(internal->av_mosq);
  internal->av_mosq = (double*) Calloc(internal->dim_av_mosq, double);
  Free(internal->cov);
  internal->cov = (double*) Calloc(internal->dim_cov, double);
  Free(internal->fd);
  internal->fd = (double*) Calloc(internal->dim_fd, double);
  Free(internal->w);
  internal->w = (double*) Calloc(internal->dim_w, double);
  Free(internal->whi);
  internal->whi = (double*) Calloc(internal->dim_whi, double);
  Free(internal->yy);
  internal->yy = (double*) Calloc(internal->dim_yy, double);
  Free(internal->z);
  internal->z = (double*) Calloc(internal->dim_z, double);
  Free(internal->zhi);
  internal->zhi = (double*) Calloc(internal->dim_zhi, double);
  {
     int i = 1;
     internal->cov_[i - 1] = (1 - internal->itn_cov) * (1 - internal->irs_cov);
  }
  {
     int i = 2;
     internal->cov_[i - 1] = internal->itn_cov * (1 - internal->irs_cov);
  }
  {
     int i = 3;
     internal->cov_[i - 1] = (1 - internal->itn_cov) * internal->irs_cov;
  }
  {
     int i = 4;
     internal->cov_[i - 1] = internal->itn_cov * internal->irs_cov;
  }
  Free(internal->delay_array_av_human);
  internal->delay_array_av_human = (double*) Calloc(internal->dim_av_human, double);
  Free(internal->delay_array_av_mosq);
  internal->delay_array_av_mosq = (double*) Calloc(internal->dim_av_mosq, double);
  Free(internal->delay_array_w);
  internal->delay_array_w = (double*) Calloc(internal->dim_w, double);
  Free(internal->delay_array_whi);
  internal->delay_array_whi = (double*) Calloc(internal->dim_whi, double);
  Free(internal->delay_array_yy);
  internal->delay_array_yy = (double*) Calloc(internal->dim_yy, double);
  Free(internal->delay_array_z);
  internal->delay_array_z = (double*) Calloc(internal->dim_z, double);
  Free(internal->delay_array_zhi);
  internal->delay_array_zhi = (double*) Calloc(internal->dim_zhi, double);
  internal->den = (double*) user_get_array(user, false, internal->den, "den", NA_REAL, NA_REAL, 1, internal->dim_den);
  internal->dim_A = internal->dim_A_1 * internal->dim_A_2 * internal->dim_A_3;
  internal->dim_A_12 = internal->dim_A_1 * internal->dim_A_2;
  internal->dim_ainf = internal->dim_ainf_1 * internal->dim_ainf_2 * internal->dim_ainf_3;
  internal->dim_ainf_12 = internal->dim_ainf_1 * internal->dim_ainf_2;
  internal->dim_avisinf = internal->dim_avisinf_1 * internal->dim_avisinf_2 * internal->dim_avisinf_3;
  internal->dim_avisinf_12 = internal->dim_avisinf_1 * internal->dim_avisinf_2;
  internal->dim_b = internal->dim_b_1 * internal->dim_b_2 * internal->dim_b_3;
  internal->dim_b_12 = internal->dim_b_1 * internal->dim_b_2;
  internal->dim_b_fun = internal->dim_b_fun_1 * internal->dim_b_fun_2 * internal->dim_b_fun_3;
  internal->dim_b_fun_12 = internal->dim_b_fun_1 * internal->dim_b_fun_2;
  internal->dim_cA = internal->dim_cA_1 * internal->dim_cA_2 * internal->dim_cA_3;
  internal->dim_cA_12 = internal->dim_cA_1 * internal->dim_cA_2;
  internal->dim_cA_fcn = internal->dim_cA_fcn_1 * internal->dim_cA_fcn_2 * internal->dim_cA_fcn_3;
  internal->dim_cA_fcn_12 = internal->dim_cA_fcn_1 * internal->dim_cA_fcn_2;
  internal->dim_cD_fcn = internal->dim_cD_fcn_1 * internal->dim_cD_fcn_2;
  internal->dim_clin_inc = internal->dim_clin_inc_1 * internal->dim_clin_inc_2 * internal->dim_clin_inc_3;
  internal->dim_clin_inc_12 = internal->dim_clin_inc_1 * internal->dim_clin_inc_2;
  internal->dim_clin_inc0to5 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2 * internal->dim_clin_inc0to5_3;
  internal->dim_clin_inc0to5_12 = internal->dim_clin_inc0to5_1 * internal->dim_clin_inc0to5_2;
  internal->dim_cT_fcn = internal->dim_cT_fcn_1 * internal->dim_cT_fcn_2;
  internal->dim_cU_fcn = internal->dim_cU_fcn_1 * internal->dim_cU_fcn_2;
  internal->dim_D = internal->dim_D_1 * internal->dim_D_2 * internal->dim_D_3;
  internal->dim_D_12 = internal->dim_D_1 * internal->dim_D_2;
  internal->dim_dinf = internal->dim_dinf_1 * internal->dim_dinf_2 * internal->dim_dinf_3;
  internal->dim_dinf_12 = internal->dim_dinf_1 * internal->dim_dinf_2;
  internal->dim_EIR = internal->dim_EIR_1 * internal->dim_EIR_2 * internal->dim_EIR_3;
  internal->dim_EIR_12 = internal->dim_EIR_1 * internal->dim_EIR_2;
  internal->dim_EIRweight = internal->dim_EIRweight_1 * internal->dim_EIRweight_2 * internal->dim_EIRweight_3;
  internal->dim_EIRweight_12 = internal->dim_EIRweight_1 * internal->dim_EIRweight_2;
  internal->dim_FOI = internal->dim_FOI_1 * internal->dim_FOI_2 * internal->dim_FOI_3;
  internal->dim_FOI_12 = internal->dim_FOI_1 * internal->dim_FOI_2;
  internal->dim_FOI_lag = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2 * internal->dim_FOI_lag_3;
  internal->dim_FOI_lag_12 = internal->dim_FOI_lag_1 * internal->dim_FOI_lag_2;
  internal->dim_FOIvijk = internal->dim_FOIvijk_1 * internal->dim_FOIvijk_2 * internal->dim_FOIvijk_3;
  internal->dim_FOIvijk_12 = internal->dim_FOIvijk_1 * internal->dim_FOIvijk_2;
  internal->dim_IB = internal->dim_IB_1 * internal->dim_IB_2 * internal->dim_IB_3;
  internal->dim_IB_12 = internal->dim_IB_1 * internal->dim_IB_2;
  internal->dim_IC = internal->dim_IC_1 * internal->dim_IC_2 * internal->dim_IC_3;
  internal->dim_IC_12 = internal->dim_IC_1 * internal->dim_IC_2;
  internal->dim_ICA = internal->dim_ICA_1 * internal->dim_ICA_2 * internal->dim_ICA_3;
  internal->dim_ICA_12 = internal->dim_ICA_1 * internal->dim_ICA_2;
  internal->dim_ICM = internal->dim_ICM_1 * internal->dim_ICM_2 * internal->dim_ICM_3;
  internal->dim_ICM_12 = internal->dim_ICM_1 * internal->dim_ICM_2;
  internal->dim_ID = internal->dim_ID_1 * internal->dim_ID_2 * internal->dim_ID_3;
  internal->dim_ID_12 = internal->dim_ID_1 * internal->dim_ID_2;
  internal->dim_init_A = internal->dim_init_A_1 * internal->dim_init_A_2 * internal->dim_init_A_3;
  internal->dim_init_A_12 = internal->dim_init_A_1 * internal->dim_init_A_2;
  internal->dim_init_D = internal->dim_init_D_1 * internal->dim_init_D_2 * internal->dim_init_D_3;
  internal->dim_init_D_12 = internal->dim_init_D_1 * internal->dim_init_D_2;
  internal->dim_init_IB = internal->dim_init_IB_1 * internal->dim_init_IB_2 * internal->dim_init_IB_3;
  internal->dim_init_IB_12 = internal->dim_init_IB_1 * internal->dim_init_IB_2;
  internal->dim_init_ICA = internal->dim_init_ICA_1 * internal->dim_init_ICA_2 * internal->dim_init_ICA_3;
  internal->dim_init_ICA_12 = internal->dim_init_ICA_1 * internal->dim_init_ICA_2;
  internal->dim_init_ICM = internal->dim_init_ICM_1 * internal->dim_init_ICM_2 * internal->dim_init_ICM_3;
  internal->dim_init_ICM_12 = internal->dim_init_ICM_1 * internal->dim_init_ICM_2;
  internal->dim_init_ICM_pre = internal->dim_init_ICM_pre_1 * internal->dim_init_ICM_pre_2;
  internal->dim_init_ID = internal->dim_init_ID_1 * internal->dim_init_ID_2 * internal->dim_init_ID_3;
  internal->dim_init_ID_12 = internal->dim_init_ID_1 * internal->dim_init_ID_2;
  internal->dim_init_P = internal->dim_init_P_1 * internal->dim_init_P_2 * internal->dim_init_P_3;
  internal->dim_init_P_12 = internal->dim_init_P_1 * internal->dim_init_P_2;
  internal->dim_init_S = internal->dim_init_S_1 * internal->dim_init_S_2 * internal->dim_init_S_3;
  internal->dim_init_S_12 = internal->dim_init_S_1 * internal->dim_init_S_2;
  internal->dim_init_T = internal->dim_init_T_1 * internal->dim_init_T_2 * internal->dim_init_T_3;
  internal->dim_init_T_12 = internal->dim_init_T_1 * internal->dim_init_T_2;
  internal->dim_init_U = internal->dim_init_U_1 * internal->dim_init_U_2 * internal->dim_init_U_3;
  internal->dim_init_U_12 = internal->dim_init_U_1 * internal->dim_init_U_2;
  internal->dim_P = internal->dim_P_1 * internal->dim_P_2 * internal->dim_P_3;
  internal->dim_P_12 = internal->dim_P_1 * internal->dim_P_2;
  internal->dim_p_det = internal->dim_p_det_1 * internal->dim_p_det_2 * internal->dim_p_det_3;
  internal->dim_p_det_12 = internal->dim_p_det_1 * internal->dim_p_det_2;
  internal->dim_phi = internal->dim_phi_1 * internal->dim_phi_2 * internal->dim_phi_3;
  internal->dim_phi_12 = internal->dim_phi_1 * internal->dim_phi_2;
  internal->dim_prev = internal->dim_prev_1 * internal->dim_prev_2 * internal->dim_prev_3;
  internal->dim_prev_12 = internal->dim_prev_1 * internal->dim_prev_2;
  internal->dim_prev0to59 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2 * internal->dim_prev0to59_3;
  internal->dim_prev0to59_12 = internal->dim_prev0to59_1 * internal->dim_prev0to59_2;
  internal->dim_S = internal->dim_S_1 * internal->dim_S_2 * internal->dim_S_3;
  internal->dim_S_12 = internal->dim_S_1 * internal->dim_S_2;
  internal->dim_T = internal->dim_T_1 * internal->dim_T_2 * internal->dim_T_3;
  internal->dim_T_12 = internal->dim_T_1 * internal->dim_T_2;
  internal->dim_tinf = internal->dim_tinf_1 * internal->dim_tinf_2 * internal->dim_tinf_3;
  internal->dim_tinf_12 = internal->dim_tinf_1 * internal->dim_tinf_2;
  internal->dim_U = internal->dim_U_1 * internal->dim_U_2 * internal->dim_U_3;
  internal->dim_U_12 = internal->dim_U_1 * internal->dim_U_2;
  internal->dim_uinf = internal->dim_uinf_1 * internal->dim_uinf_2 * internal->dim_uinf_3;
  internal->dim_uinf_12 = internal->dim_uinf_1 * internal->dim_uinf_2;
  internal->dim_vis_A = internal->dim_vis_A_1 * internal->dim_vis_A_2 * internal->dim_vis_A_3;
  internal->dim_vis_A_12 = internal->dim_vis_A_1 * internal->dim_vis_A_2;
  internal->dim_Y = internal->dim_Y_1 * internal->dim_Y_2 * internal->dim_Y_3;
  internal->dim_Y_12 = internal->dim_Y_1 * internal->dim_Y_2;
  internal->foi_age = (double*) user_get_array(user, false, internal->foi_age, "foi_age", NA_REAL, NA_REAL, 1, internal->dim_foi_age);
  internal->het_wt = (double*) user_get_array(user, false, internal->het_wt, "het_wt", NA_REAL, NA_REAL, 1, internal->dim_het_wt);
  internal->offset_output_avisinf_Age = internal->dim_ainf_Age + 31;
  internal->offset_output_cov = internal->dim_ainf_Age + internal->dim_avisinf_Age + internal->dim_dinf_Age + internal->dim_tinf_Age + internal->dim_uinf_Age + 31;
  internal->offset_output_dinf_Age = internal->dim_ainf_Age + internal->dim_avisinf_Age + internal->dim_tinf_Age + 31;
  internal->offset_output_tinf_Age = internal->dim_ainf_Age + internal->dim_avisinf_Age + 31;
  internal->offset_output_uinf_Age = internal->dim_ainf_Age + internal->dim_avisinf_Age + internal->dim_dinf_Age + internal->dim_tinf_Age + 31;
  internal->rel_foi = (double*) user_get_array(user, false, internal->rel_foi, "rel_foi", NA_REAL, NA_REAL, 1, internal->dim_rel_foi);
  internal->x_I = (double*) user_get_array(user, false, internal->x_I, "x_I", NA_REAL, NA_REAL, 1, internal->dim_x_I);
  Free(internal->ainf);
  internal->ainf = (double*) Calloc(internal->dim_ainf, double);
  Free(internal->avisinf);
  internal->avisinf = (double*) Calloc(internal->dim_avisinf, double);
  Free(internal->b);
  internal->b = (double*) Calloc(internal->dim_b, double);
  Free(internal->b_fun);
  internal->b_fun = (double*) Calloc(internal->dim_b_fun, double);
  Free(internal->cA);
  internal->cA = (double*) Calloc(internal->dim_cA, double);
  Free(internal->cA_fcn);
  internal->cA_fcn = (double*) Calloc(internal->dim_cA_fcn, double);
  Free(internal->cD_fcn);
  internal->cD_fcn = (double*) Calloc(internal->dim_cD_fcn, double);
  Free(internal->clin_inc);
  internal->clin_inc = (double*) Calloc(internal->dim_clin_inc, double);
  Free(internal->clin_inc0to5);
  internal->clin_inc0to5 = (double*) Calloc(internal->dim_clin_inc0to5, double);
  Free(internal->cT_fcn);
  internal->cT_fcn = (double*) Calloc(internal->dim_cT_fcn, double);
  Free(internal->cU_fcn);
  internal->cU_fcn = (double*) Calloc(internal->dim_cU_fcn, double);
  Free(internal->dinf);
  internal->dinf = (double*) Calloc(internal->dim_dinf, double);
  Free(internal->EIR);
  internal->EIR = (double*) Calloc(internal->dim_EIR, double);
  Free(internal->EIRweight);
  internal->EIRweight = (double*) Calloc(internal->dim_EIRweight, double);
  Free(internal->FOI);
  internal->FOI = (double*) Calloc(internal->dim_FOI, double);
  Free(internal->FOI_lag);
  internal->FOI_lag = (double*) Calloc(internal->dim_FOI_lag, double);
  Free(internal->FOIvijk);
  internal->FOIvijk = (double*) Calloc(internal->dim_FOIvijk, double);
  Free(internal->IC);
  internal->IC = (double*) Calloc(internal->dim_IC, double);
  Free(internal->init_ICM_pre);
  internal->init_ICM_pre = (double*) Calloc(internal->dim_init_ICM_pre, double);
  Free(internal->initial_A);
  internal->initial_A = (double*) Calloc(internal->dim_A, double);
  Free(internal->initial_D);
  internal->initial_D = (double*) Calloc(internal->dim_D, double);
  Free(internal->initial_IB);
  internal->initial_IB = (double*) Calloc(internal->dim_IB, double);
  Free(internal->initial_ICA);
  internal->initial_ICA = (double*) Calloc(internal->dim_ICA, double);
  Free(internal->initial_ICM);
  internal->initial_ICM = (double*) Calloc(internal->dim_ICM, double);
  Free(internal->initial_ID);
  internal->initial_ID = (double*) Calloc(internal->dim_ID, double);
  Free(internal->initial_P);
  internal->initial_P = (double*) Calloc(internal->dim_P, double);
  Free(internal->initial_S);
  internal->initial_S = (double*) Calloc(internal->dim_S, double);
  Free(internal->initial_T);
  internal->initial_T = (double*) Calloc(internal->dim_T, double);
  Free(internal->initial_U);
  internal->initial_U = (double*) Calloc(internal->dim_U, double);
  Free(internal->p_det);
  internal->p_det = (double*) Calloc(internal->dim_p_det, double);
  Free(internal->phi);
  internal->phi = (double*) Calloc(internal->dim_phi, double);
  Free(internal->prev);
  internal->prev = (double*) Calloc(internal->dim_prev, double);
  Free(internal->prev0to59);
  internal->prev0to59 = (double*) Calloc(internal->dim_prev0to59, double);
  Free(internal->tinf);
  internal->tinf = (double*) Calloc(internal->dim_tinf, double);
  Free(internal->uinf);
  internal->uinf = (double*) Calloc(internal->dim_uinf, double);
  Free(internal->vis_A);
  internal->vis_A = (double*) Calloc(internal->dim_vis_A, double);
  Free(internal->Y);
  internal->Y = (double*) Calloc(internal->dim_Y, double);
  for (int i = 1; i <= internal->dim_cov; ++i) {
    internal->cov[i - 1] = internal->cov_[i - 1];
  }
  Free(internal->delay_array_b);
  internal->delay_array_b = (double*) Calloc(internal->dim_b, double);
  Free(internal->delay_array_b_fun);
  internal->delay_array_b_fun = (double*) Calloc(internal->dim_b_fun, double);
  Free(internal->delay_array_cA);
  internal->delay_array_cA = (double*) Calloc(internal->dim_cA, double);
  Free(internal->delay_array_cA_fcn);
  internal->delay_array_cA_fcn = (double*) Calloc(internal->dim_cA_fcn, double);
  Free(internal->delay_array_cD_fcn);
  internal->delay_array_cD_fcn = (double*) Calloc(internal->dim_cD_fcn, double);
  Free(internal->delay_array_cT_fcn);
  internal->delay_array_cT_fcn = (double*) Calloc(internal->dim_cT_fcn, double);
  Free(internal->delay_array_cU_fcn);
  internal->delay_array_cU_fcn = (double*) Calloc(internal->dim_cU_fcn, double);
  Free(internal->delay_array_EIR);
  internal->delay_array_EIR = (double*) Calloc(internal->dim_EIR, double);
  Free(internal->delay_array_FOI_lag);
  internal->delay_array_FOI_lag = (double*) Calloc(internal->dim_FOI_lag, double);
  Free(internal->delay_array_FOIvijk);
  internal->delay_array_FOIvijk = (double*) Calloc(internal->dim_FOIvijk, double);
  Free(internal->delay_array_p_det);
  internal->delay_array_p_det = (double*) Calloc(internal->dim_p_det, double);
  internal->dim_delay_FOI = internal->dim_IB + 1;
  internal->dim_delay_FOIv = internal->dim_A + internal->dim_D + internal->dim_ID + internal->dim_T + internal->dim_U;
  for (int i = 1; i <= internal->na; ++i) {
    internal->fd[i - 1] = 1 - (1 - internal->fD0) / (double) (1 + pow((internal->age[i - 1] / (double) internal->aD), internal->gammaD));
  }
  internal->init_A = (double*) user_get_array(user, false, internal->init_A, "init_A", NA_REAL, NA_REAL, 3, internal->dim_init_A_1, internal->dim_init_A_2, internal->dim_init_A_3);
  internal->init_D = (double*) user_get_array(user, false, internal->init_D, "init_D", NA_REAL, NA_REAL, 3, internal->dim_init_D_1, internal->dim_init_D_2, internal->dim_init_D_3);
  internal->init_IB = (double*) user_get_array(user, false, internal->init_IB, "init_IB", NA_REAL, NA_REAL, 3, internal->dim_init_IB_1, internal->dim_init_IB_2, internal->dim_init_IB_3);
  internal->init_ICA = (double*) user_get_array(user, false, internal->init_ICA, "init_ICA", NA_REAL, NA_REAL, 3, internal->dim_init_ICA_1, internal->dim_init_ICA_2, internal->dim_init_ICA_3);
  internal->init_ICM = (double*) user_get_array(user, false, internal->init_ICM, "init_ICM", NA_REAL, NA_REAL, 3, internal->dim_init_ICM_1, internal->dim_init_ICM_2, internal->dim_init_ICM_3);
  internal->init_ID = (double*) user_get_array(user, false, internal->init_ID, "init_ID", NA_REAL, NA_REAL, 3, internal->dim_init_ID_1, internal->dim_init_ID_2, internal->dim_init_ID_3);
  internal->init_P = (double*) user_get_array(user, false, internal->init_P, "init_P", NA_REAL, NA_REAL, 3, internal->dim_init_P_1, internal->dim_init_P_2, internal->dim_init_P_3);
  internal->init_S = (double*) user_get_array(user, false, internal->init_S, "init_S", NA_REAL, NA_REAL, 3, internal->dim_init_S_1, internal->dim_init_S_2, internal->dim_init_S_3);
  internal->init_T = (double*) user_get_array(user, false, internal->init_T, "init_T", NA_REAL, NA_REAL, 3, internal->dim_init_T_1, internal->dim_init_T_2, internal->dim_init_T_3);
  internal->init_U = (double*) user_get_array(user, false, internal->init_U, "init_U", NA_REAL, NA_REAL, 3, internal->dim_init_U_1, internal->dim_init_U_2, internal->dim_init_U_3);
  internal->offset_FOIv_A = internal->dim_D + internal->dim_T;
  internal->offset_FOIv_ID = internal->dim_A + internal->dim_D + internal->dim_T + internal->dim_U;
  internal->offset_FOIv_U = internal->dim_A + internal->dim_D + internal->dim_T;
  internal->offset_variable_A = internal->dim_D + internal->dim_S + internal->dim_T + 6;
  internal->offset_variable_D = internal->dim_S + internal->dim_T + 6;
  internal->offset_variable_IB = internal->dim_A + internal->dim_D + internal->dim_ICA + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_ICA = internal->dim_A + internal->dim_D + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_ICM = internal->dim_A + internal->dim_D + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_ID = internal->dim_A + internal->dim_D + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_P = internal->dim_A + internal->dim_D + internal->dim_S + internal->dim_T + internal->dim_U + 6;
  internal->offset_variable_T = internal->dim_S + 6;
  internal->offset_variable_U = internal->dim_A + internal->dim_D + internal->dim_S + internal->dim_T + 6;
  Free(internal->delay_index_FOI);
  internal->delay_index_FOI = Calloc(internal->dim_delay_FOI, int);
  Free(internal->delay_state_FOI);
  internal->delay_state_FOI = Calloc(internal->dim_delay_FOI, double);
  internal->delay_index_FOI[0] = 2;
  for (int i = 0, j = internal->offset_variable_IB; i < internal->dim_IB; ++i, ++j) {
    internal->delay_index_FOI[1 + i] = j;
  }
  Free(internal->delay_index_FOIv);
  internal->delay_index_FOIv = Calloc(internal->dim_delay_FOIv, int);
  Free(internal->delay_state_FOIv);
  internal->delay_state_FOIv = Calloc(internal->dim_delay_FOIv, double);
  for (int i = 0, j = internal->offset_variable_T; i < internal->dim_T; ++i, ++j) {
    internal->delay_index_FOIv[0 + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_D; i < internal->dim_D; ++i, ++j) {
    internal->delay_index_FOIv[internal->dim_T + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_A; i < internal->dim_A; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_A + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_U; i < internal->dim_U; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_U + i] = j;
  }
  for (int i = 0, j = internal->offset_variable_ID; i < internal->dim_ID; ++i, ++j) {
    internal->delay_index_FOIv[internal->offset_FOIv_ID + i] = j;
  }
  for (int i = 1; i <= internal->dim_A_1; ++i) {
    for (int j = 1; j <= internal->dim_A_2; ++j) {
      for (int k = 1; k <= internal->dim_A_3; ++k) {
        internal->initial_A[i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = internal->init_A[internal->dim_init_A_12 * (k - 1) + internal->dim_init_A_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_D_1; ++i) {
    for (int j = 1; j <= internal->dim_D_2; ++j) {
      for (int k = 1; k <= internal->dim_D_3; ++k) {
        internal->initial_D[i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = internal->init_D[internal->dim_init_D_12 * (k - 1) + internal->dim_init_D_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_IB_1; ++i) {
    for (int j = 1; j <= internal->dim_IB_2; ++j) {
      for (int k = 1; k <= internal->dim_IB_3; ++k) {
        internal->initial_IB[i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->init_IB[internal->dim_init_IB_12 * (k - 1) + internal->dim_init_IB_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICA_1; ++i) {
    for (int j = 1; j <= internal->dim_ICA_2; ++j) {
      for (int k = 1; k <= internal->dim_ICA_3; ++k) {
        internal->initial_ICA[i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->init_ICA[internal->dim_init_ICA_12 * (k - 1) + internal->dim_init_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICM_1; ++i) {
    for (int j = 1; j <= internal->dim_ICM_2; ++j) {
      for (int k = 1; k <= internal->dim_ICM_3; ++k) {
        internal->initial_ICM[i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = internal->init_ICM[internal->dim_init_ICM_12 * (k - 1) + internal->dim_init_ICM_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ID_1; ++i) {
    for (int j = 1; j <= internal->dim_ID_2; ++j) {
      for (int k = 1; k <= internal->dim_ID_3; ++k) {
        internal->initial_ID[i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->init_ID[internal->dim_init_ID_12 * (k - 1) + internal->dim_init_ID_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_P_1; ++i) {
    for (int j = 1; j <= internal->dim_P_2; ++j) {
      for (int k = 1; k <= internal->dim_P_3; ++k) {
        internal->initial_P[i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->init_P[internal->dim_init_P_12 * (k - 1) + internal->dim_init_P_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_S_1; ++i) {
    for (int j = 1; j <= internal->dim_S_2; ++j) {
      for (int k = 1; k <= internal->dim_S_3; ++k) {
        internal->initial_S[i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = internal->init_S[internal->dim_init_S_12 * (k - 1) + internal->dim_init_S_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_T_1; ++i) {
    for (int j = 1; j <= internal->dim_T_2; ++j) {
      for (int k = 1; k <= internal->dim_T_3; ++k) {
        internal->initial_T[i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->init_T[internal->dim_init_T_12 * (k - 1) + internal->dim_init_T_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_U_1; ++i) {
    for (int j = 1; j <= internal->dim_U_2; ++j) {
      for (int k = 1; k <= internal->dim_U_3; ++k) {
        internal->initial_U[i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->init_U[internal->dim_init_U_12 * (k - 1) + internal->dim_init_U_1 * (j - 1) + i - 1];
      }
    }
  }
  return R_NilValue;
}
SEXP odin_model_TBV_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP odin_model_TBV_use_dde_ptr) {
  odin_model_TBV_internal *internal = odin_model_TBV_get_internal(internal_p, 1);
  const double t = REAL(t_ptr)[0];
  internal->initial_t = t;
  internal->odin_model_TBV_use_dde = INTEGER(odin_model_TBV_use_dde_ptr)[0];
  if (state_ptr != R_NilValue) {
    double * state = REAL(state_ptr);
    internal->initial_Sv = state[0];
    internal->initial_Ev = state[1];
    internal->initial_Iv = state[2];
    internal->initial_PL = state[3];
    internal->initial_LL = state[4];
    internal->initial_EL = state[5];
    memcpy(internal->initial_S, state + 6, internal->dim_S * sizeof(double));
    memcpy(internal->initial_T, state + internal->offset_variable_T, internal->dim_T * sizeof(double));
    memcpy(internal->initial_D, state + internal->offset_variable_D, internal->dim_D * sizeof(double));
    memcpy(internal->initial_A, state + internal->offset_variable_A, internal->dim_A * sizeof(double));
    memcpy(internal->initial_U, state + internal->offset_variable_U, internal->dim_U * sizeof(double));
    memcpy(internal->initial_P, state + internal->offset_variable_P, internal->dim_P * sizeof(double));
    memcpy(internal->initial_ICM, state + internal->offset_variable_ICM, internal->dim_ICM * sizeof(double));
    memcpy(internal->initial_ICA, state + internal->offset_variable_ICA, internal->dim_ICA * sizeof(double));
    memcpy(internal->initial_IB, state + internal->offset_variable_IB, internal->dim_IB * sizeof(double));
    memcpy(internal->initial_ID, state + internal->offset_variable_ID, internal->dim_ID * sizeof(double));
  }
  return R_NilValue;
}
SEXP odin_model_TBV_metadata(SEXP internal_p) {
  odin_model_TBV_internal *internal = odin_model_TBV_get_internal(internal_p, 1);
  SEXP ret = PROTECT(allocVector(VECSXP, 4));
  SEXP nms = PROTECT(allocVector(STRSXP, 4));
  SET_STRING_ELT(nms, 0, mkChar("variable_order"));
  SET_STRING_ELT(nms, 1, mkChar("output_order"));
  SET_STRING_ELT(nms, 2, mkChar("n_out"));
  SET_STRING_ELT(nms, 3, mkChar("interpolate_t"));
  setAttrib(ret, R_NamesSymbol, nms);
  SEXP variable_length = PROTECT(allocVector(VECSXP, 16));
  SEXP variable_names = PROTECT(allocVector(STRSXP, 16));
  setAttrib(variable_length, R_NamesSymbol, variable_names);
  SET_VECTOR_ELT(variable_length, 0, R_NilValue);
  SET_VECTOR_ELT(variable_length, 1, R_NilValue);
  SET_VECTOR_ELT(variable_length, 2, R_NilValue);
  SET_VECTOR_ELT(variable_length, 3, R_NilValue);
  SET_VECTOR_ELT(variable_length, 4, R_NilValue);
  SET_VECTOR_ELT(variable_length, 5, R_NilValue);
  SET_VECTOR_ELT(variable_length, 6, allocVector(INTSXP, 3));
  int * dim_S = INTEGER(VECTOR_ELT(variable_length, 6));
  dim_S[0] = internal->dim_S_1;
  dim_S[1] = internal->dim_S_2;
  dim_S[2] = internal->dim_S_3;
  SET_VECTOR_ELT(variable_length, 7, allocVector(INTSXP, 3));
  int * dim_T = INTEGER(VECTOR_ELT(variable_length, 7));
  dim_T[0] = internal->dim_T_1;
  dim_T[1] = internal->dim_T_2;
  dim_T[2] = internal->dim_T_3;
  SET_VECTOR_ELT(variable_length, 8, allocVector(INTSXP, 3));
  int * dim_D = INTEGER(VECTOR_ELT(variable_length, 8));
  dim_D[0] = internal->dim_D_1;
  dim_D[1] = internal->dim_D_2;
  dim_D[2] = internal->dim_D_3;
  SET_VECTOR_ELT(variable_length, 9, allocVector(INTSXP, 3));
  int * dim_A = INTEGER(VECTOR_ELT(variable_length, 9));
  dim_A[0] = internal->dim_A_1;
  dim_A[1] = internal->dim_A_2;
  dim_A[2] = internal->dim_A_3;
  SET_VECTOR_ELT(variable_length, 10, allocVector(INTSXP, 3));
  int * dim_U = INTEGER(VECTOR_ELT(variable_length, 10));
  dim_U[0] = internal->dim_U_1;
  dim_U[1] = internal->dim_U_2;
  dim_U[2] = internal->dim_U_3;
  SET_VECTOR_ELT(variable_length, 11, allocVector(INTSXP, 3));
  int * dim_P = INTEGER(VECTOR_ELT(variable_length, 11));
  dim_P[0] = internal->dim_P_1;
  dim_P[1] = internal->dim_P_2;
  dim_P[2] = internal->dim_P_3;
  SET_VECTOR_ELT(variable_length, 12, allocVector(INTSXP, 3));
  int * dim_ICM = INTEGER(VECTOR_ELT(variable_length, 12));
  dim_ICM[0] = internal->dim_ICM_1;
  dim_ICM[1] = internal->dim_ICM_2;
  dim_ICM[2] = internal->dim_ICM_3;
  SET_VECTOR_ELT(variable_length, 13, allocVector(INTSXP, 3));
  int * dim_ICA = INTEGER(VECTOR_ELT(variable_length, 13));
  dim_ICA[0] = internal->dim_ICA_1;
  dim_ICA[1] = internal->dim_ICA_2;
  dim_ICA[2] = internal->dim_ICA_3;
  SET_VECTOR_ELT(variable_length, 14, allocVector(INTSXP, 3));
  int * dim_IB = INTEGER(VECTOR_ELT(variable_length, 14));
  dim_IB[0] = internal->dim_IB_1;
  dim_IB[1] = internal->dim_IB_2;
  dim_IB[2] = internal->dim_IB_3;
  SET_VECTOR_ELT(variable_length, 15, allocVector(INTSXP, 3));
  int * dim_ID = INTEGER(VECTOR_ELT(variable_length, 15));
  dim_ID[0] = internal->dim_ID_1;
  dim_ID[1] = internal->dim_ID_2;
  dim_ID[2] = internal->dim_ID_3;
  SET_STRING_ELT(variable_names, 0, mkChar("Sv"));
  SET_STRING_ELT(variable_names, 1, mkChar("Ev"));
  SET_STRING_ELT(variable_names, 2, mkChar("Iv"));
  SET_STRING_ELT(variable_names, 3, mkChar("PL"));
  SET_STRING_ELT(variable_names, 4, mkChar("LL"));
  SET_STRING_ELT(variable_names, 5, mkChar("EL"));
  SET_STRING_ELT(variable_names, 6, mkChar("S"));
  SET_STRING_ELT(variable_names, 7, mkChar("T"));
  SET_STRING_ELT(variable_names, 8, mkChar("D"));
  SET_STRING_ELT(variable_names, 9, mkChar("A"));
  SET_STRING_ELT(variable_names, 10, mkChar("U"));
  SET_STRING_ELT(variable_names, 11, mkChar("P"));
  SET_STRING_ELT(variable_names, 12, mkChar("ICM"));
  SET_STRING_ELT(variable_names, 13, mkChar("ICA"));
  SET_STRING_ELT(variable_names, 14, mkChar("IB"));
  SET_STRING_ELT(variable_names, 15, mkChar("ID"));
  SET_VECTOR_ELT(ret, 0, variable_length);
  UNPROTECT(2);
  SEXP output_length = PROTECT(allocVector(VECSXP, 37));
  SEXP output_names = PROTECT(allocVector(STRSXP, 37));
  setAttrib(output_length, R_NamesSymbol, output_names);
  SET_VECTOR_ELT(output_length, 0, R_NilValue);
  SET_VECTOR_ELT(output_length, 1, R_NilValue);
  SET_VECTOR_ELT(output_length, 2, R_NilValue);
  SET_VECTOR_ELT(output_length, 3, R_NilValue);
  SET_VECTOR_ELT(output_length, 4, R_NilValue);
  SET_VECTOR_ELT(output_length, 5, R_NilValue);
  SET_VECTOR_ELT(output_length, 6, R_NilValue);
  SET_VECTOR_ELT(output_length, 7, R_NilValue);
  SET_VECTOR_ELT(output_length, 8, R_NilValue);
  SET_VECTOR_ELT(output_length, 9, R_NilValue);
  SET_VECTOR_ELT(output_length, 10, R_NilValue);
  SET_VECTOR_ELT(output_length, 11, R_NilValue);
  SET_VECTOR_ELT(output_length, 12, R_NilValue);
  SET_VECTOR_ELT(output_length, 13, R_NilValue);
  SET_VECTOR_ELT(output_length, 14, R_NilValue);
  SET_VECTOR_ELT(output_length, 15, R_NilValue);
  SET_VECTOR_ELT(output_length, 16, R_NilValue);
  SET_VECTOR_ELT(output_length, 17, R_NilValue);
  SET_VECTOR_ELT(output_length, 18, R_NilValue);
  SET_VECTOR_ELT(output_length, 19, R_NilValue);
  SET_VECTOR_ELT(output_length, 20, R_NilValue);
  SET_VECTOR_ELT(output_length, 21, R_NilValue);
  SET_VECTOR_ELT(output_length, 22, R_NilValue);
  SET_VECTOR_ELT(output_length, 23, R_NilValue);
  SET_VECTOR_ELT(output_length, 24, R_NilValue);
  SET_VECTOR_ELT(output_length, 25, R_NilValue);
  SET_VECTOR_ELT(output_length, 26, R_NilValue);
  SET_VECTOR_ELT(output_length, 27, R_NilValue);
  SET_VECTOR_ELT(output_length, 28, R_NilValue);
  SET_VECTOR_ELT(output_length, 29, R_NilValue);
  SET_VECTOR_ELT(output_length, 30, R_NilValue);
  SET_VECTOR_ELT(output_length, 31, ScalarInteger(internal->dim_ainf_Age));
  SET_VECTOR_ELT(output_length, 32, ScalarInteger(internal->dim_avisinf_Age));
  SET_VECTOR_ELT(output_length, 33, ScalarInteger(internal->dim_tinf_Age));
  SET_VECTOR_ELT(output_length, 34, ScalarInteger(internal->dim_dinf_Age));
  SET_VECTOR_ELT(output_length, 35, ScalarInteger(internal->dim_uinf_Age));
  SET_VECTOR_ELT(output_length, 36, ScalarInteger(internal->dim_cov));
  SET_STRING_ELT(output_names, 0, mkChar("Ivout"));
  SET_STRING_ELT(output_names, 1, mkChar("omega"));
  SET_STRING_ELT(output_names, 2, mkChar("Sout"));
  SET_STRING_ELT(output_names, 3, mkChar("Tout"));
  SET_STRING_ELT(output_names, 4, mkChar("Dout"));
  SET_STRING_ELT(output_names, 5, mkChar("Aout"));
  SET_STRING_ELT(output_names, 6, mkChar("Uout"));
  SET_STRING_ELT(output_names, 7, mkChar("Pout"));
  SET_STRING_ELT(output_names, 8, mkChar("EIRout"));
  SET_STRING_ELT(output_names, 9, mkChar("Aoutvis"));
  SET_STRING_ELT(output_names, 10, mkChar("prev_tot"));
  SET_STRING_ELT(output_names, 11, mkChar("inc05"));
  SET_STRING_ELT(output_names, 12, mkChar("inc"));
  SET_STRING_ELT(output_names, 13, mkChar("Ainf"));
  SET_STRING_ELT(output_names, 14, mkChar("Avisinf"));
  SET_STRING_ELT(output_names, 15, mkChar("Tinf"));
  SET_STRING_ELT(output_names, 16, mkChar("Dinf"));
  SET_STRING_ELT(output_names, 17, mkChar("Uinf"));
  SET_STRING_ELT(output_names, 18, mkChar("mu"));
  SET_STRING_ELT(output_names, 19, mkChar("beta_larval"));
  SET_STRING_ELT(output_names, 20, mkChar("KL"));
  SET_STRING_ELT(output_names, 21, mkChar("mv"));
  SET_STRING_ELT(output_names, 22, mkChar("Q"));
  SET_STRING_ELT(output_names, 23, mkChar("wh"));
  SET_STRING_ELT(output_names, 24, mkChar("d_ITN"));
  SET_STRING_ELT(output_names, 25, mkChar("r_ITN"));
  SET_STRING_ELT(output_names, 26, mkChar("s_ITN"));
  SET_STRING_ELT(output_names, 27, mkChar("d_IRS"));
  SET_STRING_ELT(output_names, 28, mkChar("r_IRS"));
  SET_STRING_ELT(output_names, 29, mkChar("s_IRS"));
  SET_STRING_ELT(output_names, 30, mkChar("K0"));
  SET_STRING_ELT(output_names, 31, mkChar("ainf_Age"));
  SET_STRING_ELT(output_names, 32, mkChar("avisinf_Age"));
  SET_STRING_ELT(output_names, 33, mkChar("tinf_Age"));
  SET_STRING_ELT(output_names, 34, mkChar("dinf_Age"));
  SET_STRING_ELT(output_names, 35, mkChar("uinf_Age"));
  SET_STRING_ELT(output_names, 36, mkChar("cov"));
  SET_VECTOR_ELT(ret, 1, output_length);
  UNPROTECT(2);
  SET_VECTOR_ELT(ret, 2, ScalarInteger(internal->dim_ainf_Age + internal->dim_avisinf_Age + internal->dim_cov + internal->dim_dinf_Age + internal->dim_tinf_Age + internal->dim_uinf_Age + 31));
  UNPROTECT(2);
  return ret;
}
SEXP odin_model_TBV_initial_conditions(SEXP internal_p, SEXP t_ptr) {
  double t = scalar_real(t_ptr, "t");
  odin_model_TBV_internal *internal = odin_model_TBV_get_internal(internal_p, 1);
  SEXP r_state = PROTECT(allocVector(REALSXP, internal->dim_A + internal->dim_D + internal->dim_IB + internal->dim_ICA + internal->dim_ICM + internal->dim_ID + internal->dim_P + internal->dim_S + internal->dim_T + internal->dim_U + 6));
  double * state = REAL(r_state);
  state[0] = internal->initial_Sv;
  state[1] = internal->initial_Ev;
  state[2] = internal->initial_Iv;
  state[3] = internal->initial_PL;
  state[4] = internal->initial_LL;
  state[5] = internal->initial_EL;
  memcpy(state + 6, internal->initial_S, internal->dim_S * sizeof(double));
  memcpy(state + internal->offset_variable_T, internal->initial_T, internal->dim_T * sizeof(double));
  memcpy(state + internal->offset_variable_D, internal->initial_D, internal->dim_D * sizeof(double));
  memcpy(state + internal->offset_variable_A, internal->initial_A, internal->dim_A * sizeof(double));
  memcpy(state + internal->offset_variable_U, internal->initial_U, internal->dim_U * sizeof(double));
  memcpy(state + internal->offset_variable_P, internal->initial_P, internal->dim_P * sizeof(double));
  memcpy(state + internal->offset_variable_ICM, internal->initial_ICM, internal->dim_ICM * sizeof(double));
  memcpy(state + internal->offset_variable_ICA, internal->initial_ICA, internal->dim_ICA * sizeof(double));
  memcpy(state + internal->offset_variable_IB, internal->initial_IB, internal->dim_IB * sizeof(double));
  memcpy(state + internal->offset_variable_ID, internal->initial_ID, internal->dim_ID * sizeof(double));
  UNPROTECT(1);
  return r_state;
}
void odin_model_TBV_rhs(odin_model_TBV_internal* internal, double t, double * state, double * dstatedt, double * output) {
  double * S = state + 6;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * IB = state + internal->offset_variable_IB;
  double * ID = state + internal->offset_variable_ID;
  double Sv = state[0];
  double Ev = state[1];
  double Iv = state[2];
  double EL = state[5];
  double LL = state[4];
  double PL = state[3];
  double betaa = 0.5 * PL / (double) internal->dPL;
  dstatedt[3] = LL / (double) internal->dLL - internal->muPL * PL - PL / (double) internal->dPL;
  double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
  double mv = Sv + Ev + Iv;
  double theta2 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
  double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
  double Ah = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double Dh = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  // delay block for incv
  double incv;
  {
    const double t_true = t;
    const double t = t_true - internal->delayMos;
    double Sv;
    if (t <= internal->initial_t) {
      Sv = internal->initial_Sv;
    } else {
      lagvalue(t, internal->odin_model_TBV_use_dde, internal->delay_index_incv, 1, internal->delay_state_incv);
      Sv = internal->delay_state_incv[0];
    }
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    // delay block for FOIv
    double FOIv;
    {
      const double t_true = t;
      const double t = t_true - internal->delayGam;
      double *T;
      double *D;
      double *A;
      double *U;
      double *ID;
      if (t <= internal->initial_t) {
        T = internal->initial_T;
        D = internal->initial_D;
        A = internal->initial_A;
        U = internal->initial_U;
        ID = internal->initial_ID;
      } else {
        lagvalue(t, internal->odin_model_TBV_use_dde, internal->delay_index_FOIv, internal->dim_delay_FOIv, internal->delay_state_FOIv);
        T = internal->delay_state_FOIv + 0;
        D = internal->delay_state_FOIv + internal->dim_T;
        A = internal->delay_state_FOIv + internal->offset_FOIv_A;
        U = internal->delay_state_FOIv + internal->offset_FOIv_U;
        ID = internal->delay_state_FOIv + internal->offset_FOIv_ID;
      }
      double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
      double tvacc = fmodr((t - internal->vacc_on), internal->v_interval);
      double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
      double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
      double titre25 = internal->tau25 * (internal->rho25 * exp(-(tvacc) / (double) internal->rs25) + (1 - internal->rho25) * exp(-(tvacc) / (double) internal->rl25));
      double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
      {
         int i = 1;
         internal->delay_array_z_[i - 1] = 0;
      }
      {
         int i = 2;
         internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
      }
      {
         int i = 3;
         internal->delay_array_z_[i - 1] = 0;
      }
      {
         int i = 4;
         internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
      }
      double vacc_effic_TBA = 0.91700000000000004 * ((pow((titre25 / (double) 12.628), 1.0900000000000001)) / (double) ((pow((titre25 / (double) 12.628), 1.0900000000000001)) + 0.71999999999999997));
      for (int i = 1; i <= internal->dim_p_det_1; ++i) {
        for (int j = 1; j <= internal->dim_p_det_2; ++j) {
          for (int k = 1; k <= internal->dim_p_det_3; ++k) {
            internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
          }
        }
      }
      {
         int i = 1;
         internal->delay_array_w_[i - 1] = 1;
      }
      {
         int i = 2;
         internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
      }
      {
         int i = 3;
         internal->delay_array_w_[i - 1] = 1;
      }
      {
         int i = 4;
         internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
      }
      double vacc_effic = (pow((titre25 / (double) internal->mu25), internal->hill1)) / (double) ((pow((titre25 / (double) internal->mu25), internal->hill1)) + internal->hill2);
      for (int i = 1; i <= internal->dim_z; ++i) {
        internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
      }
      for (int i = 1; i <= internal->dim_cA_1; ++i) {
        for (int j = 1; j <= internal->dim_cA_2; ++j) {
          for (int k = 1; k <= internal->dim_cA_3; ++k) {
            internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
          }
        }
      }
      for (int i = 1; i <= internal->dim_w; ++i) {
        internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
      }
      double v_effic_T = (1 / (double) (1 - pow((internal->rrT / (double) (internal->rrT + internal->mT)), internal->rrT))) * (pow((internal->rrT / (double) (internal->rrT + internal->mT * (1 - vacc_effic))), internal->rrT) - pow((internal->rrT / (double) (internal->rrT + internal->mT)), internal->rrT));
      double v_effic_D = (1 / (double) (1 - pow((internal->rrD / (double) (internal->rrD + internal->mD)), internal->rrD))) * (pow((internal->rrD / (double) (internal->rrD + internal->mD * (1 - vacc_effic))), internal->rrD) - pow((internal->rrD / (double) (internal->rrD + internal->mD)), internal->rrD));
      double v_effic_A = (1 / (double) (1 - pow((internal->rrA / (double) (internal->rrA + internal->mA)), internal->rrA))) * (pow((internal->rrA / (double) (internal->rrA + internal->mA * (1 - vacc_effic))), internal->rrA) - pow((internal->rrA / (double) (internal->rrA + internal->mA)), internal->rrA));
      double v_effic_U = (1 / (double) (1 - pow((internal->rrU / (double) (internal->rrU + internal->mU)), internal->rrU))) * (pow((internal->rrU / (double) (internal->rrU + internal->mU * (1 - vacc_effic))), internal->rrU) - pow((internal->rrU / (double) (internal->rrU + internal->mU)), internal->rrU));
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
      }
      double v_effic_T1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_T : vacc_effic_TBA);
      double v_effic_D1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_D : vacc_effic_TBA);
      double v_effic_A1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_A : vacc_effic_TBA);
      double v_effic_U1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_U : vacc_effic_TBA);
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
      }
      double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
      for (int i = 1; i <= internal->na; ++i) {
        int j = 1;
        internal->delay_array_cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
      }
      for (int i = 1; i <= internal->na; ++i) {
        int j = 2;
        internal->delay_array_cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
      }
      for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
        for (int j = 3; j <= 4; ++j) {
          internal->delay_array_cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
        }
      }
      for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
        for (int j = 3; j <= 4; ++j) {
          internal->delay_array_cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->cT : internal->cT * (1 - v_effic_T1));
        }
      }
      for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
        for (int j = 3; j <= 4; ++j) {
          internal->delay_array_cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
        }
      }
      for (int i = 1; i <= internal->na; ++i) {
        int j = 1;
        internal->delay_array_cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
      }
      for (int i = 1; i <= internal->na; ++i) {
        int j = 2;
        internal->delay_array_cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
      }
      for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
        for (int j = 3; j <= 4; ++j) {
          internal->delay_array_cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
        }
      }
      for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
        for (int j = 3; j <= 4; ++j) {
          internal->delay_array_cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->cD : internal->cD * (1 - v_effic_D1));
        }
      }
      for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
        for (int j = 3; j <= 4; ++j) {
          internal->delay_array_cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
        }
      }
      for (int i = 1; i <= internal->na; ++i) {
        for (int j = 1; j <= internal->nh; ++j) {
          int k = 1;
          internal->delay_array_cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
        }
      }
      for (int i = 1; i <= internal->na; ++i) {
        for (int j = 1; j <= internal->nh; ++j) {
          int k = 2;
          internal->delay_array_cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
        }
      }
      for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
        for (int j = 1; j <= internal->nh; ++j) {
          for (int k = 3; k <= 4; ++k) {
            internal->delay_array_cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
          }
        }
      }
      for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
        for (int j = 1; j <= internal->nh; ++j) {
          for (int k = 3; k <= 4; ++k) {
            internal->delay_array_cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] : internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * (1 - v_effic_A1));
          }
        }
      }
      for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
        for (int j = 1; j <= internal->nh; ++j) {
          for (int k = 3; k <= 4; ++k) {
            internal->delay_array_cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
          }
        }
      }
      for (int i = 1; i <= internal->na; ++i) {
        int j = 1;
        internal->delay_array_cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
      }
      for (int i = 1; i <= internal->na; ++i) {
        int j = 2;
        internal->delay_array_cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
      }
      for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
        for (int j = 3; j <= 4; ++j) {
          internal->delay_array_cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
        }
      }
      for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
        for (int j = 3; j <= 4; ++j) {
          internal->delay_array_cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->cU : internal->cU * (1 - v_effic_U1));
        }
      }
      for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
        for (int j = 3; j <= 4; ++j) {
          internal->delay_array_cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
        }
      }
      double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
      double zbar = internal->Q0 * zh;
      double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
      double wbar = 1 - internal->Q0 + internal->Q0 * wh;
      double Q = 1 - (1 - internal->Q0) / (double) wbar;
      double av = fv * Q;
      for (int i = 1; i <= internal->num_int; ++i) {
        internal->delay_array_av_mosq[i - 1] = av * internal->delay_array_w[i - 1] / (double) wh;
      }
      for (int i = 1; i <= internal->na; ++i) {
        for (int j = 1; j <= internal->nh; ++j) {
          for (int k = 1; k <= internal->num_int; ++k) {
            internal->delay_array_FOIvijk[i - 1 + internal->dim_FOIvijk_1 * (j - 1) + internal->dim_FOIvijk_12 * (k - 1)] = (internal->delay_array_cT_fcn[internal->dim_cT_fcn_1 * (k - 1) + i - 1] * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->delay_array_cD_fcn[internal->dim_cD_fcn_1 * (k - 1) + i - 1] * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA_fcn[internal->dim_cA_fcn_12 * (k - 1) + internal->dim_cA_fcn_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->delay_array_cU_fcn[internal->dim_cU_fcn_1 * (k - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
          }
        }
      }
      double lag_FOIv = odin_sum1(internal->delay_array_FOIvijk, 0, internal->dim_FOIvijk);
      FOIv = lag_FOIv;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    double ince = FOIv * Sv;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zbar = internal->Q0 * zh;
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double p1 = wbar * internal->p10 / (double) (1 - zbar * internal->p10);
    double mu = -(fv) * log(p1 * internal->p2);
    double surv = exp(-(mu) * internal->delayMos);
    double lag_incv = ince * surv;
    incv = lag_incv;
  }
  double Ph = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
  double Sh = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  double Th = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  double Uh = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  {
     int i = 1;
     internal->z_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z_[i - 1] = internal->bites_Bed * r_ITN;
  }
  {
     int i = 3;
     internal->z_[i - 1] = 0;
  }
  {
     int i = 4;
     internal->z_[i - 1] = internal->bites_Bed * r_ITN;
  }
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double Iv;
    double *IB;
    if (t <= internal->initial_t) {
      Iv = internal->initial_Iv;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_TBV_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv = internal->delay_state_FOI[0];
      IB = internal->delay_state_FOI + 1;
    }
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double t_rts = fmodr((t - internal->vacc_on), internal->t_boost_rts);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double CS_RTS = internal->CS_peak * (internal->p_peak * exp(-(internal->r_s) * t_rts) + (1 - internal->p_peak) * exp(-(internal->r_l) * t_rts));
    double CS_RTS_boost = internal->CS_boost * (internal->p_boost * exp(-(internal->r_s) * (t_rts)) + (1 - internal->p_boost) * exp(-(internal->r_l) * (t_rts)));
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    double Vef_RTS = internal->V_max_RTS * (1 - (1 / (double) (1 + pow((CS_RTS / (double) internal->beta_RTS), internal->alpha_RTS))));
    double Vef_RTS_boost = internal->V_max_RTS * (1 - (1 / (double) (1 + pow((CS_RTS_boost / (double) internal->beta_RTS), internal->alpha_RTS))));
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    double b_first = ((1 - Vef_RTS));
    double b_boost = ((1 - Vef_RTS_boost));
    {
       int i = 1;
       internal->delay_array_yy_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy_[i - 1] = internal->delay_array_w_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy_[i - 1] = 1;
    }
    {
       int i = 4;
       internal->delay_array_yy_[i - 1] = internal->delay_array_w_[3];
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->dim_b_fun_1; ++i) {
      for (int j = 1; j <= internal->dim_b_fun_2; ++j) {
        int k = 1;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 0 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
      }
    }
    for (int i = 1; i <= internal->dim_b_fun_1; ++i) {
      for (int j = 1; j <= internal->dim_b_fun_2; ++j) {
        int k = 2;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 1 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
      }
    }
    for (int i = 1; i <= (internal->age_min_rts - 1); ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 3;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 2 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
      }
    }
    {
       int i = internal->age_min_rts;
       for (int j = 1; j <= internal->nh; ++j) {
         int k = 3;
         internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = (internal->RTS_switch == 0 || t < internal->vacc_on ? internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 2 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1) : b_first * internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 2 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1));
       }
    }
    for (int i = (internal->age_min_rts + 1); i <= internal->age_max_rts; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 3;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = (internal->RTS_switch == 0 || t < internal->vacc_on ? internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 2 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1) : b_boost * internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 2 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1));
      }
    }
    for (int i = (internal->age_max_rts + 1); i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 3;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 2 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
      }
    }
    for (int i = 1; i <= (internal->age_min_rts - 1); ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 4;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 3 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
      }
    }
    {
       int i = internal->age_min_rts;
       for (int j = 1; j <= internal->nh; ++j) {
         int k = 4;
         internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = (internal->RTS_switch == 0 || t < internal->vacc_on ? internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 3 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1) : b_first * internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 3 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1));
       }
    }
    for (int i = (internal->age_min_rts + 1); i <= internal->age_max_rts; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 4;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = (internal->RTS_switch == 0 || t < internal->vacc_on ? internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 3 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1) : b_boost * internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 3 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1));
      }
    }
    for (int i = (internal->age_max_rts + 1); i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 4;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 3 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
      }
    }
    for (int i = 1; i <= internal->dim_yy; ++i) {
      internal->delay_array_yy[i - 1] = internal->delay_array_yy_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1)] = internal->delay_array_b_fun[internal->dim_b_fun_12 * (k - 1) + internal->dim_b_fun_1 * (j - 1) + i - 1];
        }
      }
    }
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human[i - 1] = av * internal->delay_array_yy[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->delay_array_av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv / (double) internal->omega;
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1)] = internal->delay_array_EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * ((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  // delay block for FOIv
  double FOIv;
  {
    const double t_true = t;
    const double t = t_true - internal->delayGam;
    double *T;
    double *D;
    double *A;
    double *U;
    double *ID;
    if (t <= internal->initial_t) {
      T = internal->initial_T;
      D = internal->initial_D;
      A = internal->initial_A;
      U = internal->initial_U;
      ID = internal->initial_ID;
    } else {
      lagvalue(t, internal->odin_model_TBV_use_dde, internal->delay_index_FOIv, internal->dim_delay_FOIv, internal->delay_state_FOIv);
      T = internal->delay_state_FOIv + 0;
      D = internal->delay_state_FOIv + internal->dim_T;
      A = internal->delay_state_FOIv + internal->offset_FOIv_A;
      U = internal->delay_state_FOIv + internal->offset_FOIv_U;
      ID = internal->delay_state_FOIv + internal->offset_FOIv_ID;
    }
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double tvacc = fmodr((t - internal->vacc_on), internal->v_interval);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double titre25 = internal->tau25 * (internal->rho25 * exp(-(tvacc) / (double) internal->rs25) + (1 - internal->rho25) * exp(-(tvacc) / (double) internal->rl25));
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    double vacc_effic_TBA = 0.91700000000000004 * ((pow((titre25 / (double) 12.628), 1.0900000000000001)) / (double) ((pow((titre25 / (double) 12.628), 1.0900000000000001)) + 0.71999999999999997));
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->delay_array_p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    double vacc_effic = (pow((titre25 / (double) internal->mu25), internal->hill1)) / (double) ((pow((titre25 / (double) internal->mu25), internal->hill1)) + internal->hill2);
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          internal->delay_array_cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->delay_array_p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
        }
      }
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    double v_effic_T = (1 / (double) (1 - pow((internal->rrT / (double) (internal->rrT + internal->mT)), internal->rrT))) * (pow((internal->rrT / (double) (internal->rrT + internal->mT * (1 - vacc_effic))), internal->rrT) - pow((internal->rrT / (double) (internal->rrT + internal->mT)), internal->rrT));
    double v_effic_D = (1 / (double) (1 - pow((internal->rrD / (double) (internal->rrD + internal->mD)), internal->rrD))) * (pow((internal->rrD / (double) (internal->rrD + internal->mD * (1 - vacc_effic))), internal->rrD) - pow((internal->rrD / (double) (internal->rrD + internal->mD)), internal->rrD));
    double v_effic_A = (1 / (double) (1 - pow((internal->rrA / (double) (internal->rrA + internal->mA)), internal->rrA))) * (pow((internal->rrA / (double) (internal->rrA + internal->mA * (1 - vacc_effic))), internal->rrA) - pow((internal->rrA / (double) (internal->rrA + internal->mA)), internal->rrA));
    double v_effic_U = (1 / (double) (1 - pow((internal->rrU / (double) (internal->rrU + internal->mU)), internal->rrU))) * (pow((internal->rrU / (double) (internal->rrU + internal->mU * (1 - vacc_effic))), internal->rrU) - pow((internal->rrU / (double) (internal->rrU + internal->mU)), internal->rrU));
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    double v_effic_T1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_T : vacc_effic_TBA);
    double v_effic_D1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_D : vacc_effic_TBA);
    double v_effic_A1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_A : vacc_effic_TBA);
    double v_effic_U1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_U : vacc_effic_TBA);
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    for (int i = 1; i <= internal->na; ++i) {
      int j = 1;
      internal->delay_array_cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
    }
    for (int i = 1; i <= internal->na; ++i) {
      int j = 2;
      internal->delay_array_cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
    }
    for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->delay_array_cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
      }
    }
    for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->delay_array_cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->cT : internal->cT * (1 - v_effic_T1));
      }
    }
    for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->delay_array_cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      int j = 1;
      internal->delay_array_cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
    }
    for (int i = 1; i <= internal->na; ++i) {
      int j = 2;
      internal->delay_array_cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
    }
    for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->delay_array_cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
      }
    }
    for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->delay_array_cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->cD : internal->cD * (1 - v_effic_D1));
      }
    }
    for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->delay_array_cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 1;
        internal->delay_array_cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 2;
        internal->delay_array_cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
      }
    }
    for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 3; k <= 4; ++k) {
          internal->delay_array_cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 3; k <= 4; ++k) {
          internal->delay_array_cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] : internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * (1 - v_effic_A1));
        }
      }
    }
    for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 3; k <= 4; ++k) {
          internal->delay_array_cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->delay_array_cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      int j = 1;
      internal->delay_array_cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
    }
    for (int i = 1; i <= internal->na; ++i) {
      int j = 2;
      internal->delay_array_cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
    }
    for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->delay_array_cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
      }
    }
    for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->delay_array_cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->cU : internal->cU * (1 - v_effic_U1));
      }
    }
    for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->delay_array_cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
      }
    }
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_mosq[i - 1] = av * internal->delay_array_w[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOIvijk[i - 1 + internal->dim_FOIvijk_1 * (j - 1) + internal->dim_FOIvijk_12 * (k - 1)] = (internal->delay_array_cT_fcn[internal->dim_cT_fcn_1 * (k - 1) + i - 1] * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->delay_array_cD_fcn[internal->dim_cD_fcn_1 * (k - 1) + i - 1] * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->delay_array_cA_fcn[internal->dim_cA_fcn_12 * (k - 1) + internal->dim_cA_fcn_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->delay_array_cU_fcn[internal->dim_cU_fcn_1 * (k - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1]) * internal->rel_foi[j - 1] * internal->delay_array_av_mosq[k - 1] * internal->foi_age[i - 1] / (double) internal->omega;
        }
      }
    }
    double lag_FOIv = odin_sum1(internal->delay_array_FOIvijk, 0, internal->dim_FOIvijk);
    FOIv = lag_FOIv;
  }
  double H = Sh + Th + Dh + Ah + Uh + Ph;
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1)] = ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->nh; ++i) {
    for (int j = 1; j <= internal->num_int; ++j) {
      internal->init_ICM_pre[i - 1 + internal->dim_init_ICM_pre_1 * (j - 1)] = internal->PM * (ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20l - 1] + internal->age_20_factor * (ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20u - 1] - ICA[internal->dim_ICA_12 * (j - 1) + internal->dim_ICA_1 * (i - 1) + internal->age20l - 1]));
    }
  }
  {
     int i = 1;
     internal->w_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
  }
  {
     int i = 3;
     internal->w_[i - 1] = 1;
  }
  {
     int i = 4;
     internal->w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1)] = S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_z; ++i) {
    internal->z[i - 1] = internal->z_[i - 1];
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ICA + i - 1 + internal->dim_ICA_1 * (j - 1) + internal->dim_ICA_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uCA + 1) - 1 / (double) internal->dCA * ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - (ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1] - ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + (internal->init_ICM_pre[internal->dim_init_ICM_pre_1 * (k - 1) + j - 1] - ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1]) / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ICM + i - 1 + internal->dim_ICM_1 * (j - 1) + internal->dim_ICM_12 * (k - 1)] = -(1) / (double) internal->dCM * ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - (ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] - ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_ID + i - 1 + internal->dim_ID_1 * (j - 1) + internal->dim_ID_12 * (k - 1)] = internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] / (double) (internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->uD + 1) - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->dID - (ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] - ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[6 + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->cov[k - 1] * internal->eta * H * internal->het_wt[j - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[6 + i - 1 + internal->dim_S_1 * (j - 1) + internal->dim_S_12 * (k - 1)] = -(internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->rP * P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_U + i - 1 + internal->dim_U_1 * (j - 1) + internal->dim_U_12 * (k - 1)] = internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - internal->rU * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double ince = FOIv * Sv;
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
      }
    }
  }
  for (int i = 1; i <= internal->dim_w; ++i) {
    internal->w[i - 1] = internal->w_[i - 1];
  }
  {
     int i = 1;
     internal->yy_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy_[i - 1] = internal->w_[1];
  }
  {
     int i = 3;
     internal->yy_[i - 1] = 1;
  }
  {
     int i = 4;
     internal->yy_[i - 1] = internal->w_[3];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi[i - 1] = internal->cov[i - 1] * internal->z[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1)] = internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = (1 - internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = (1 - internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1]) * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1] - internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - internal->rA * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi[i - 1] = internal->cov[i - 1] * internal->w[i - 1];
  }
  for (int i = 1; i <= internal->dim_yy; ++i) {
    internal->yy[i - 1] = internal->yy_[i - 1];
  }
  double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi, 0, internal->dim_zhi));
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = (1 - internal->ft) * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = (1 - internal->ft) * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rD * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->ft * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_T + i - 1 + internal->dim_T_1 * (j - 1) + internal->dim_T_12 * (k - 1)] = internal->ft * internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1] - internal->rT * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] - (internal->eta + internal->age_rate[i - 1]) * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + internal->age_rate[i - 1 - 1] * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1 - 1];
      }
    }
  }
  double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi, 0, internal->dim_whi));
  double zbar = internal->Q0 * zh;
  double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
  double wbar = 1 - internal->Q0 + internal->Q0 * wh;
  double p1 = wbar * internal->p10 / (double) (1 - zbar * internal->p10);
  double Q = 1 - (1 - internal->Q0) / (double) wbar;
  double av = fv * Q;
  double mu = -(fv) * log(p1 * internal->p2);
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human[i - 1] = av * internal->yy[i - 1] / (double) wh;
  }
  dstatedt[1] = ince - incv - mu * Ev;
  dstatedt[2] = incv - mu * Iv;
  dstatedt[0] = -(ince) - mu * Sv + betaa;
  double eov = internal->betaL / (double) mu * (exp(mu / (double) fv) - 1);
  double beta_larval = eov * mu * exp(-(mu) / (double) fv) / (double) (1 - exp(-(mu) / (double) fv));
  for (int i = 1; i <= internal->dim_EIR_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_3; ++k) {
        internal->EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv / (double) internal->omega;
      }
    }
  }
  {
     int i = 1;
     for (int j = 1; j <= internal->nh; ++j) {
       for (int k = 1; k <= internal->num_int; ++k) {
         dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->x_I[i - 1];
       }
     }
  }
  for (int i = 2; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        dstatedt[internal->offset_variable_IB + i - 1 + internal->dim_IB_1 * (j - 1) + internal->dim_IB_12 * (k - 1)] = internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] / (double) (internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * internal->uB + 1) - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->dB - (IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] - IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1 - 1]) / (double) internal->x_I[i - 1];
      }
    }
  }
  double lambda = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  double K0 = 2 * internal->mv0 * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda + 1) / (double) (lambda / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1);
  double KL = K0 * theta2;
  dstatedt[5] = beta_larval * mv - internal->muEL * (1 + (EL + LL) / (double) KL) * EL - EL / (double) internal->dEL;
  dstatedt[4] = EL / (double) internal->dEL - internal->muLL * (1 + internal->gammaL * (EL + LL) / (double) KL) * LL - LL / (double) internal->dLL;
  if (output) {
    double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
    output[0] = Iv;
    output[1] = internal->omega;
    double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
    output[21] = mv;
    double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
    double tvacc = fmodr((t - internal->vacc_on), internal->v_interval);
    output[5] = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
    output[27] = d_IRS;
    output[24] = d_ITN;
    output[4] = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
    output[7] = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
    output[28] = r_IRS;
    output[25] = r_ITN;
    output[2] = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
    output[3] = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
    output[6] = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
    double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
    double titre25 = internal->tau25 * (internal->rho25 * exp(-(tvacc) / (double) internal->rs25) + (1 - internal->rho25) * exp(-(tvacc) / (double) internal->rl25));
    memcpy(output + internal->offset_output_cov, internal->cov, internal->dim_cov * sizeof(double));
    output[29] = s_IRS;
    output[26] = s_ITN;
    for (int i = 1; i <= internal->dim_p_det_1; ++i) {
      for (int j = 1; j <= internal->dim_p_det_2; ++j) {
        for (int k = 1; k <= internal->dim_p_det_3; ++k) {
          internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
        }
      }
    }
    double vacc_effic = (pow((titre25 / (double) internal->mu25), internal->hill1)) / (double) ((pow((titre25 / (double) internal->mu25), internal->hill1)) + internal->hill2);
    double vacc_effic_TBA = 0.91700000000000004 * ((pow((titre25 / (double) 12.628), 1.0900000000000001)) / (double) ((pow((titre25 / (double) 12.628), 1.0900000000000001)) + 0.71999999999999997));
    for (int i = 1; i <= internal->dim_cA_1; ++i) {
      for (int j = 1; j <= internal->dim_cA_2; ++j) {
        for (int k = 1; k <= internal->dim_cA_3; ++k) {
          internal->cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->prev[i - 1 + internal->dim_prev_1 * (j - 1) + internal->dim_prev_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
    double v_effic_A = (1 / (double) (1 - pow((internal->rrA / (double) (internal->rrA + internal->mA)), internal->rrA))) * (pow((internal->rrA / (double) (internal->rrA + internal->mA * (1 - vacc_effic))), internal->rrA) - pow((internal->rrA / (double) (internal->rrA + internal->mA)), internal->rrA));
    double v_effic_D = (1 / (double) (1 - pow((internal->rrD / (double) (internal->rrD + internal->mD)), internal->rrD))) * (pow((internal->rrD / (double) (internal->rrD + internal->mD * (1 - vacc_effic))), internal->rrD) - pow((internal->rrD / (double) (internal->rrD + internal->mD)), internal->rrD));
    double v_effic_T = (1 / (double) (1 - pow((internal->rrT / (double) (internal->rrT + internal->mT)), internal->rrT))) * (pow((internal->rrT / (double) (internal->rrT + internal->mT * (1 - vacc_effic))), internal->rrT) - pow((internal->rrT / (double) (internal->rrT + internal->mT)), internal->rrT));
    double v_effic_U = (1 / (double) (1 - pow((internal->rrU / (double) (internal->rrU + internal->mU)), internal->rrU))) * (pow((internal->rrU / (double) (internal->rrU + internal->mU * (1 - vacc_effic))), internal->rrU) - pow((internal->rrU / (double) (internal->rrU + internal->mU)), internal->rrU));
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->vis_A[i - 1 + internal->dim_vis_A_1 * (j - 1) + internal->dim_vis_A_12 * (k - 1)] = A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
        }
      }
    }
    output[9] = odin_sum3(internal->vis_A, 0, internal->dim_vis_A_1, 0, internal->dim_vis_A_2, 0, internal->dim_vis_A_3, internal->dim_vis_A_1, internal->dim_vis_A_12);
    output[10] = odin_sum3(internal->prev, 0, internal->dim_prev_1, 0, internal->dim_prev_2, 0, internal->dim_prev_3, internal->dim_prev_1, internal->dim_prev_12);
    double v_effic_A1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_A : vacc_effic_TBA);
    double v_effic_D1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_D : vacc_effic_TBA);
    double v_effic_T1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_T : vacc_effic_TBA);
    double v_effic_U1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_U : vacc_effic_TBA);
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 1;
        internal->cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 2;
        internal->cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
      }
    }
    for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 3; k <= 4; ++k) {
          internal->cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 3; k <= 4; ++k) {
          internal->cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] : internal->cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * (1 - v_effic_A1));
        }
      }
    }
    for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 3; k <= 4; ++k) {
          internal->cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      int j = 1;
      internal->cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
    }
    for (int i = 1; i <= internal->na; ++i) {
      int j = 2;
      internal->cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
    }
    for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
      }
    }
    for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->cD : internal->cD * (1 - v_effic_D1));
      }
    }
    for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
      }
    }
    for (int i = 1; i <= internal->age05; ++i) {
      for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
        for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
          internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1)] = internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      int j = 1;
      internal->cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
    }
    for (int i = 1; i <= internal->na; ++i) {
      int j = 2;
      internal->cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
    }
    for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
      }
    }
    for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->cT : internal->cT * (1 - v_effic_T1));
      }
    }
    for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      int j = 1;
      internal->cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
    }
    for (int i = 1; i <= internal->na; ++i) {
      int j = 2;
      internal->cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
    }
    for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
      }
    }
    for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->cU : internal->cU * (1 - v_effic_U1));
      }
    }
    for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
      for (int j = 3; j <= 4; ++j) {
        internal->cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
      }
    }
    output[12] = odin_sum3(internal->clin_inc, 0, internal->dim_clin_inc_1, 0, internal->dim_clin_inc_2, 0, internal->dim_clin_inc_3, internal->dim_clin_inc_1, internal->dim_clin_inc_12);
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->ainf[i - 1 + internal->dim_ainf_1 * (j - 1) + internal->dim_ainf_12 * (k - 1)] = internal->cA_fcn[internal->dim_cA_fcn_12 * (k - 1) + internal->dim_cA_fcn_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->avisinf[i - 1 + internal->dim_avisinf_1 * (j - 1) + internal->dim_avisinf_12 * (k - 1)] = internal->cA_fcn[internal->dim_cA_fcn_12 * (k - 1) + internal->dim_cA_fcn_1 * (j - 1) + i - 1] * internal->vis_A[internal->dim_vis_A_12 * (k - 1) + internal->dim_vis_A_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->dinf[i - 1 + internal->dim_dinf_1 * (j - 1) + internal->dim_dinf_12 * (k - 1)] = internal->cD_fcn[internal->dim_cD_fcn_1 * (k - 1) + i - 1] * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1];
        }
      }
    }
    output[11] = odin_sum1(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5) / (double) odin_sum1(internal->den, 0, internal->age05);
    output[23] = wh;
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->tinf[i - 1 + internal->dim_tinf_1 * (j - 1) + internal->dim_tinf_12 * (k - 1)] = internal->cT_fcn[internal->dim_cT_fcn_1 * (k - 1) + i - 1] * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1];
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->uinf[i - 1 + internal->dim_uinf_1 * (j - 1) + internal->dim_uinf_12 * (k - 1)] = internal->cU_fcn[internal->dim_cU_fcn_1 * (k - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
        }
      }
    }
    output[13] = odin_sum3(internal->ainf, 0, internal->dim_ainf_1, 0, internal->dim_ainf_2, 0, internal->dim_ainf_3, internal->dim_ainf_1, internal->dim_ainf_12);
    for (int i = 1; i <= internal->dim_ainf_Age; ++i) {
      output[31 + i - 1] = odin_sum3(internal->ainf, i - 1, i, 0, internal->dim_ainf_2, 0, internal->dim_ainf_3, internal->dim_ainf_1, internal->dim_ainf_12);
    }
    output[14] = odin_sum3(internal->avisinf, 0, internal->dim_avisinf_1, 0, internal->dim_avisinf_2, 0, internal->dim_avisinf_3, internal->dim_avisinf_1, internal->dim_avisinf_12);
    for (int i = 1; i <= internal->dim_avisinf_Age; ++i) {
      output[internal->offset_output_avisinf_Age + i - 1] = odin_sum3(internal->avisinf, i - 1, i, 0, internal->dim_avisinf_2, 0, internal->dim_avisinf_3, internal->dim_avisinf_1, internal->dim_avisinf_12);
    }
    output[16] = odin_sum3(internal->dinf, 0, internal->dim_dinf_1, 0, internal->dim_dinf_2, 0, internal->dim_dinf_3, internal->dim_dinf_1, internal->dim_dinf_12);
    for (int i = 1; i <= internal->dim_dinf_Age; ++i) {
      output[internal->offset_output_dinf_Age + i - 1] = odin_sum3(internal->dinf, i - 1, i, 0, internal->dim_dinf_2, 0, internal->dim_dinf_3, internal->dim_dinf_1, internal->dim_dinf_12);
    }
    output[15] = odin_sum3(internal->tinf, 0, internal->dim_tinf_1, 0, internal->dim_tinf_2, 0, internal->dim_tinf_3, internal->dim_tinf_1, internal->dim_tinf_12);
    for (int i = 1; i <= internal->dim_tinf_Age; ++i) {
      output[internal->offset_output_tinf_Age + i - 1] = odin_sum3(internal->tinf, i - 1, i, 0, internal->dim_tinf_2, 0, internal->dim_tinf_3, internal->dim_tinf_1, internal->dim_tinf_12);
    }
    output[17] = odin_sum3(internal->uinf, 0, internal->dim_uinf_1, 0, internal->dim_uinf_2, 0, internal->dim_uinf_3, internal->dim_uinf_1, internal->dim_uinf_12);
    for (int i = 1; i <= internal->dim_uinf_Age; ++i) {
      output[internal->offset_output_uinf_Age + i - 1] = odin_sum3(internal->uinf, i - 1, i, 0, internal->dim_uinf_2, 0, internal->dim_uinf_3, internal->dim_uinf_1, internal->dim_uinf_12);
    }
    output[22] = Q;
    output[18] = mu;
    for (int i = 1; i <= internal->dim_EIRweight_1; ++i) {
      for (int j = 1; j <= internal->dim_EIRweight_2; ++j) {
        for (int k = 1; k <= internal->dim_EIRweight_3; ++k) {
          internal->EIRweight[i - 1 + internal->dim_EIRweight_1 * (j - 1) + internal->dim_EIRweight_12 * (k - 1)] = (T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1]) * internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1];
        }
      }
    }
    output[19] = beta_larval;
    double EIRout = odin_sum3(internal->EIRweight, 0, internal->dim_EIRweight_1, 0, internal->dim_EIRweight_2, 0, internal->dim_EIRweight_3, internal->dim_EIRweight_1, internal->dim_EIRweight_12);
    output[8] = EIRout;
    output[30] = K0;
    output[20] = KL;
  }
}
void odin_model_TBV_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal) {
  odin_model_TBV_rhs((odin_model_TBV_internal*)internal, t, state, dstatedt, NULL);
}
void odin_model_TBV_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np) {
  odin_model_TBV_rhs(odin_model_TBV_internal_ds, *t, state, dstatedt, output);
}
void odin_model_TBV_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p) {
  odin_model_TBV_internal *internal = (odin_model_TBV_internal*) internal_p;
  double * S = state + 6;
  double * T = state + internal->offset_variable_T;
  double * D = state + internal->offset_variable_D;
  double * A = state + internal->offset_variable_A;
  double * U = state + internal->offset_variable_U;
  double * P = state + internal->offset_variable_P;
  double * ICM = state + internal->offset_variable_ICM;
  double * ICA = state + internal->offset_variable_ICA;
  double * ID = state + internal->offset_variable_ID;
  double Sv = state[0];
  double Ev = state[1];
  double Iv = state[2];
  double IRS_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->IRS_interval))) * internal->irs_loss));
  double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
  double mv = Sv + Ev + Iv;
  output[0] = Iv;
  output[1] = internal->omega;
  double theta2 = (internal->ssa0 == 0 && internal->ssa1 == 0 && internal->ssa2 == 0 && internal->ssb1 == 0 && internal->ssb2 == 0 && internal->ssb3 == 0 && internal->theta_c == 0 ? 1 : fmax((internal->ssa0 + internal->ssa1 * cos(2 * internal->pi * t / (double) 365) + internal->ssa2 * cos(2 * 2 * internal->pi * t / (double) 365) + internal->ssa3 * cos(3 * 2 * internal->pi * t / (double) 365) + internal->ssb1 * sin(2 * internal->pi * t / (double) 365) + internal->ssb2 * sin(2 * 2 * internal->pi * t / (double) 365) + internal->ssb3 * sin(3 * 2 * internal->pi * t / (double) 365)) / (double) internal->theta_c, 0.001));
  double d_IRS = (t < internal->ITN_IRS_on ? 0 : internal->chi * internal->d_IRS0 * IRS_decay);
  double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
  output[21] = mv;
  double r_IRS = (t < internal->ITN_IRS_on ? 0 : internal->r_IRS0 * IRS_decay);
  double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
  double tvacc = fmodr((t - internal->vacc_on), internal->v_interval);
  output[5] = odin_sum3(A, 0, internal->dim_A_1, 0, internal->dim_A_2, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12);
  output[27] = d_IRS;
  output[24] = d_ITN;
  output[4] = odin_sum3(D, 0, internal->dim_D_1, 0, internal->dim_D_2, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
  output[7] = odin_sum3(P, 0, internal->dim_P_1, 0, internal->dim_P_2, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12);
  output[28] = r_IRS;
  output[25] = r_ITN;
  output[2] = odin_sum3(S, 0, internal->dim_S_1, 0, internal->dim_S_2, 0, internal->dim_S_3, internal->dim_S_1, internal->dim_S_12);
  output[3] = odin_sum3(T, 0, internal->dim_T_1, 0, internal->dim_T_2, 0, internal->dim_T_3, internal->dim_T_1, internal->dim_T_12);
  output[6] = odin_sum3(U, 0, internal->dim_U_1, 0, internal->dim_U_2, 0, internal->dim_U_3, internal->dim_U_1, internal->dim_U_12);
  double s_IRS = (t < internal->ITN_IRS_on ? 1 : 1 - d_IRS);
  double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
  double titre25 = internal->tau25 * (internal->rho25 * exp(-(tvacc) / (double) internal->rs25) + (1 - internal->rho25) * exp(-(tvacc) / (double) internal->rl25));
  {
     int i = 1;
     internal->z_[i - 1] = 0;
  }
  {
     int i = 2;
     internal->z_[i - 1] = internal->bites_Bed * r_ITN;
  }
  {
     int i = 3;
     internal->z_[i - 1] = 0;
  }
  {
     int i = 4;
     internal->z_[i - 1] = internal->bites_Bed * r_ITN;
  }
  // delay block for FOI
  {
    const double t_true = t;
    const double t = t_true - internal->dE;
    double Iv;
    double *IB;
    if (t <= internal->initial_t) {
      Iv = internal->initial_Iv;
      IB = internal->initial_IB;
    } else {
      lagvalue(t, internal->odin_model_TBV_use_dde, internal->delay_index_FOI, internal->dim_delay_FOI, internal->delay_state_FOI);
      Iv = internal->delay_state_FOI[0];
      IB = internal->delay_state_FOI + 1;
    }
    double ITN_decay = (t < internal->ITN_IRS_on ? 0 : exp(-((fmodr((t - internal->ITN_IRS_on), internal->ITN_interval))) * internal->itn_loss));
    double t_rts = fmodr((t - internal->vacc_on), internal->t_boost_rts);
    double d_ITN = (t < internal->ITN_IRS_on ? 0 : internal->d_ITN0 * ITN_decay);
    double r_ITN = (t < internal->ITN_IRS_on ? 0 : internal->r_ITN1 + (internal->r_ITN0 - internal->r_ITN1) * ITN_decay);
    double CS_RTS = internal->CS_peak * (internal->p_peak * exp(-(internal->r_s) * t_rts) + (1 - internal->p_peak) * exp(-(internal->r_l) * t_rts));
    double CS_RTS_boost = internal->CS_boost * (internal->p_boost * exp(-(internal->r_s) * (t_rts)) + (1 - internal->p_boost) * exp(-(internal->r_l) * (t_rts)));
    double s_ITN = (t < internal->ITN_IRS_on ? 1 : 1 - d_ITN - r_ITN);
    {
       int i = 1;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 2;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    {
       int i = 3;
       internal->delay_array_z_[i - 1] = 0;
    }
    {
       int i = 4;
       internal->delay_array_z_[i - 1] = internal->bites_Bed * r_ITN;
    }
    double Vef_RTS = internal->V_max_RTS * (1 - (1 / (double) (1 + pow((CS_RTS / (double) internal->beta_RTS), internal->alpha_RTS))));
    double Vef_RTS_boost = internal->V_max_RTS * (1 - (1 / (double) (1 + pow((CS_RTS_boost / (double) internal->beta_RTS), internal->alpha_RTS))));
    {
       int i = 1;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    {
       int i = 3;
       internal->delay_array_w_[i - 1] = 1;
    }
    {
       int i = 4;
       internal->delay_array_w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
    }
    for (int i = 1; i <= internal->dim_z; ++i) {
      internal->delay_array_z[i - 1] = internal->delay_array_z_[i - 1];
    }
    double b_first = ((1 - Vef_RTS));
    double b_boost = ((1 - Vef_RTS_boost));
    {
       int i = 1;
       internal->delay_array_yy_[i - 1] = 1;
    }
    {
       int i = 2;
       internal->delay_array_yy_[i - 1] = internal->delay_array_w_[1];
    }
    {
       int i = 3;
       internal->delay_array_yy_[i - 1] = 1;
    }
    {
       int i = 4;
       internal->delay_array_yy_[i - 1] = internal->delay_array_w_[3];
    }
    for (int i = 1; i <= internal->dim_w; ++i) {
      internal->delay_array_w[i - 1] = internal->delay_array_w_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_zhi[i - 1] = internal->cov[i - 1] * internal->delay_array_z[i - 1];
    }
    for (int i = 1; i <= internal->dim_b_fun_1; ++i) {
      for (int j = 1; j <= internal->dim_b_fun_2; ++j) {
        int k = 1;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 0 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
      }
    }
    for (int i = 1; i <= internal->dim_b_fun_1; ++i) {
      for (int j = 1; j <= internal->dim_b_fun_2; ++j) {
        int k = 2;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 1 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
      }
    }
    for (int i = 1; i <= (internal->age_min_rts - 1); ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 3;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 2 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
      }
    }
    {
       int i = internal->age_min_rts;
       for (int j = 1; j <= internal->nh; ++j) {
         int k = 3;
         internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = (internal->RTS_switch == 0 || t < internal->vacc_on ? internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 2 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1) : b_first * internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 2 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1));
       }
    }
    for (int i = (internal->age_min_rts + 1); i <= internal->age_max_rts; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 3;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = (internal->RTS_switch == 0 || t < internal->vacc_on ? internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 2 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1) : b_boost * internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 2 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1));
      }
    }
    for (int i = (internal->age_max_rts + 1); i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 3;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 2 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
      }
    }
    for (int i = 1; i <= (internal->age_min_rts - 1); ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 4;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 3 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
      }
    }
    {
       int i = internal->age_min_rts;
       for (int j = 1; j <= internal->nh; ++j) {
         int k = 4;
         internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = (internal->RTS_switch == 0 || t < internal->vacc_on ? internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 3 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1) : b_first * internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 3 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1));
       }
    }
    for (int i = (internal->age_min_rts + 1); i <= internal->age_max_rts; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 4;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = (internal->RTS_switch == 0 || t < internal->vacc_on ? internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 3 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1) : b_boost * internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 3 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1));
      }
    }
    for (int i = (internal->age_max_rts + 1); i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        int k = 4;
        internal->delay_array_b_fun[i - 1 + internal->dim_b_fun_1 * (j - 1) + internal->dim_b_fun_12 * (k - 1)] = internal->b0 * ((1 - internal->b1) / (double) (1 + pow((IB[internal->dim_IB_12 * 3 + internal->dim_IB_1 * (j - 1) + i - 1] / (double) internal->IB0), internal->kB)) + internal->b1);
      }
    }
    for (int i = 1; i <= internal->dim_yy; ++i) {
      internal->delay_array_yy[i - 1] = internal->delay_array_yy_[i - 1];
    }
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_whi[i - 1] = internal->cov[i - 1] * internal->delay_array_w[i - 1];
    }
    double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->delay_array_zhi, 0, internal->dim_zhi));
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_b[i - 1 + internal->dim_b_1 * (j - 1) + internal->dim_b_12 * (k - 1)] = internal->delay_array_b_fun[internal->dim_b_fun_12 * (k - 1) + internal->dim_b_fun_1 * (j - 1) + i - 1];
        }
      }
    }
    double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->delay_array_whi, 0, internal->dim_whi));
    double zbar = internal->Q0 * zh;
    double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
    double wbar = 1 - internal->Q0 + internal->Q0 * wh;
    double Q = 1 - (1 - internal->Q0) / (double) wbar;
    double av = fv * Q;
    for (int i = 1; i <= internal->num_int; ++i) {
      internal->delay_array_av_human[i - 1] = av * internal->delay_array_yy[i - 1] / (double) wh;
    }
    for (int i = 1; i <= internal->dim_EIR_1; ++i) {
      for (int j = 1; j <= internal->dim_EIR_2; ++j) {
        for (int k = 1; k <= internal->dim_EIR_3; ++k) {
          internal->delay_array_EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->delay_array_av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv / (double) internal->omega;
        }
      }
    }
    for (int i = 1; i <= internal->na; ++i) {
      for (int j = 1; j <= internal->nh; ++j) {
        for (int k = 1; k <= internal->num_int; ++k) {
          internal->delay_array_FOI_lag[i - 1 + internal->dim_FOI_lag_1 * (j - 1) + internal->dim_FOI_lag_12 * (k - 1)] = internal->delay_array_EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1] * ((IB[internal->dim_IB_12 * (k - 1) + internal->dim_IB_1 * (j - 1) + i - 1] == 0 ? internal->b0 : internal->delay_array_b[internal->dim_b_12 * (k - 1) + internal->dim_b_1 * (j - 1) + i - 1]));
        }
      }
    }
    for (int i = 1; i <= internal->dim_FOI_1; ++i) {
      for (int j = 1; j <= internal->dim_FOI_2; ++j) {
        for (int k = 1; k <= internal->dim_FOI_3; ++k) {
          internal->FOI[i - 1 + internal->dim_FOI_1 * (j - 1) + internal->dim_FOI_12 * (k - 1)] = internal->delay_array_FOI_lag[internal->dim_FOI_lag_12 * (k - 1) + internal->dim_FOI_lag_1 * (j - 1) + i - 1];
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_IC_1; ++i) {
    for (int j = 1; j <= internal->dim_IC_2; ++j) {
      for (int k = 1; k <= internal->dim_IC_3; ++k) {
        internal->IC[i - 1 + internal->dim_IC_1 * (j - 1) + internal->dim_IC_12 * (k - 1)] = ICM[internal->dim_ICM_12 * (k - 1) + internal->dim_ICM_1 * (j - 1) + i - 1] + ICA[internal->dim_ICA_12 * (k - 1) + internal->dim_ICA_1 * (j - 1) + i - 1];
      }
    }
  }
  memcpy(output + internal->offset_output_cov, internal->cov, internal->dim_cov * sizeof(double));
  output[29] = s_IRS;
  output[26] = s_ITN;
  for (int i = 1; i <= internal->dim_p_det_1; ++i) {
    for (int j = 1; j <= internal->dim_p_det_2; ++j) {
      for (int k = 1; k <= internal->dim_p_det_3; ++k) {
        internal->p_det[i - 1 + internal->dim_p_det_1 * (j - 1) + internal->dim_p_det_12 * (k - 1)] = internal->d1 + (1 - internal->d1) / (double) (1 + internal->fd[i - 1] * pow((ID[internal->dim_ID_12 * (k - 1) + internal->dim_ID_1 * (j - 1) + i - 1] / (double) internal->ID0), internal->kD));
      }
    }
  }
  double vacc_effic = (pow((titre25 / (double) internal->mu25), internal->hill1)) / (double) ((pow((titre25 / (double) internal->mu25), internal->hill1)) + internal->hill2);
  double vacc_effic_TBA = 0.91700000000000004 * ((pow((titre25 / (double) 12.628), 1.0900000000000001)) / (double) ((pow((titre25 / (double) 12.628), 1.0900000000000001)) + 0.71999999999999997));
  {
     int i = 1;
     internal->w_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
  }
  {
     int i = 3;
     internal->w_[i - 1] = 1;
  }
  {
     int i = 4;
     internal->w_[i - 1] = 1 - internal->bites_Bed + internal->bites_Bed * s_ITN;
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->Y[i - 1 + internal->dim_Y_1 * (j - 1) + internal->dim_Y_12 * (k - 1)] = S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_z; ++i) {
    internal->z[i - 1] = internal->z_[i - 1];
  }
  for (int i = 1; i <= internal->dim_cA_1; ++i) {
    for (int j = 1; j <= internal->dim_cA_2; ++j) {
      for (int k = 1; k <= internal->dim_cA_3; ++k) {
        internal->cA[i - 1 + internal->dim_cA_1 * (j - 1) + internal->dim_cA_12 * (k - 1)] = internal->cU + (internal->cD - internal->cU) * pow(internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1], internal->gamma1);
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->phi[i - 1 + internal->dim_phi_1 * (j - 1) + internal->dim_phi_12 * (k - 1)] = internal->phi0 * ((1 - internal->phi1) / (double) (1 + pow((internal->IC[internal->dim_IC_12 * (k - 1) + internal->dim_IC_1 * (j - 1) + i - 1] / (double) internal->IC0), internal->kC)) + internal->phi1);
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->prev[i - 1 + internal->dim_prev_1 * (j - 1) + internal->dim_prev_12 * (k - 1)] = T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
      }
    }
  }
  double v_effic_A = (1 / (double) (1 - pow((internal->rrA / (double) (internal->rrA + internal->mA)), internal->rrA))) * (pow((internal->rrA / (double) (internal->rrA + internal->mA * (1 - vacc_effic))), internal->rrA) - pow((internal->rrA / (double) (internal->rrA + internal->mA)), internal->rrA));
  double v_effic_D = (1 / (double) (1 - pow((internal->rrD / (double) (internal->rrD + internal->mD)), internal->rrD))) * (pow((internal->rrD / (double) (internal->rrD + internal->mD * (1 - vacc_effic))), internal->rrD) - pow((internal->rrD / (double) (internal->rrD + internal->mD)), internal->rrD));
  double v_effic_T = (1 / (double) (1 - pow((internal->rrT / (double) (internal->rrT + internal->mT)), internal->rrT))) * (pow((internal->rrT / (double) (internal->rrT + internal->mT * (1 - vacc_effic))), internal->rrT) - pow((internal->rrT / (double) (internal->rrT + internal->mT)), internal->rrT));
  double v_effic_U = (1 / (double) (1 - pow((internal->rrU / (double) (internal->rrU + internal->mU)), internal->rrU))) * (pow((internal->rrU / (double) (internal->rrU + internal->mU * (1 - vacc_effic))), internal->rrU) - pow((internal->rrU / (double) (internal->rrU + internal->mU)), internal->rrU));
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->vis_A[i - 1 + internal->dim_vis_A_1 * (j - 1) + internal->dim_vis_A_12 * (k - 1)] = A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] * internal->p_det[internal->dim_p_det_12 * (k - 1) + internal->dim_p_det_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_w; ++i) {
    internal->w[i - 1] = internal->w_[i - 1];
  }
  {
     int i = 1;
     internal->yy_[i - 1] = 1;
  }
  {
     int i = 2;
     internal->yy_[i - 1] = internal->w_[1];
  }
  {
     int i = 3;
     internal->yy_[i - 1] = 1;
  }
  {
     int i = 4;
     internal->yy_[i - 1] = internal->w_[3];
  }
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->zhi[i - 1] = internal->cov[i - 1] * internal->z[i - 1];
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->clin_inc[i - 1 + internal->dim_clin_inc_1 * (j - 1) + internal->dim_clin_inc_12 * (k - 1)] = internal->phi[internal->dim_phi_12 * (k - 1) + internal->dim_phi_1 * (j - 1) + i - 1] * internal->FOI[internal->dim_FOI_12 * (k - 1) + internal->dim_FOI_1 * (j - 1) + i - 1] * internal->Y[internal->dim_Y_12 * (k - 1) + internal->dim_Y_1 * (j - 1) + i - 1];
      }
    }
  }
  output[9] = odin_sum3(internal->vis_A, 0, internal->dim_vis_A_1, 0, internal->dim_vis_A_2, 0, internal->dim_vis_A_3, internal->dim_vis_A_1, internal->dim_vis_A_12);
  output[10] = odin_sum3(internal->prev, 0, internal->dim_prev_1, 0, internal->dim_prev_2, 0, internal->dim_prev_3, internal->dim_prev_1, internal->dim_prev_12);
  double v_effic_A1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_A : vacc_effic_TBA);
  double v_effic_D1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_D : vacc_effic_TBA);
  double v_effic_T1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_T : vacc_effic_TBA);
  double v_effic_U1 = (internal->switch_TRA_to_TBA == 1 ? v_effic_U : vacc_effic_TBA);
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->whi[i - 1] = internal->cov[i - 1] * internal->w[i - 1];
  }
  for (int i = 1; i <= internal->dim_yy; ++i) {
    internal->yy[i - 1] = internal->yy_[i - 1];
  }
  double zh = (t < internal->ITN_IRS_on ? 0 : odin_sum1(internal->zhi, 0, internal->dim_zhi));
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      int k = 1;
      internal->cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      int k = 2;
      internal->cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
    }
  }
  for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 3; k <= 4; ++k) {
        internal->cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 3; k <= 4; ++k) {
        internal->cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] : internal->cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1] * (1 - v_effic_A1));
      }
    }
  }
  for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 3; k <= 4; ++k) {
        internal->cA_fcn[i - 1 + internal->dim_cA_fcn_1 * (j - 1) + internal->dim_cA_fcn_12 * (k - 1)] = internal->cA[internal->dim_cA_12 * (k - 1) + internal->dim_cA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    int j = 1;
    internal->cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
  }
  for (int i = 1; i <= internal->na; ++i) {
    int j = 2;
    internal->cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
  }
  for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
    for (int j = 3; j <= 4; ++j) {
      internal->cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
    }
  }
  for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
    for (int j = 3; j <= 4; ++j) {
      internal->cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->cD : internal->cD * (1 - v_effic_D1));
    }
  }
  for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
    for (int j = 3; j <= 4; ++j) {
      internal->cD_fcn[i - 1 + internal->dim_cD_fcn_1 * (j - 1)] = internal->cD;
    }
  }
  for (int i = 1; i <= internal->age05; ++i) {
    for (int j = 1; j <= internal->dim_clin_inc0to5_2; ++j) {
      for (int k = 1; k <= internal->dim_clin_inc0to5_3; ++k) {
        internal->clin_inc0to5[i - 1 + internal->dim_clin_inc0to5_1 * (j - 1) + internal->dim_clin_inc0to5_12 * (k - 1)] = internal->clin_inc[internal->dim_clin_inc_12 * (k - 1) + internal->dim_clin_inc_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    int j = 1;
    internal->cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
  }
  for (int i = 1; i <= internal->na; ++i) {
    int j = 2;
    internal->cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
  }
  for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
    for (int j = 3; j <= 4; ++j) {
      internal->cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
    }
  }
  for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
    for (int j = 3; j <= 4; ++j) {
      internal->cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->cT : internal->cT * (1 - v_effic_T1));
    }
  }
  for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
    for (int j = 3; j <= 4; ++j) {
      internal->cT_fcn[i - 1 + internal->dim_cT_fcn_1 * (j - 1)] = internal->cT;
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    int j = 1;
    internal->cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
  }
  for (int i = 1; i <= internal->na; ++i) {
    int j = 2;
    internal->cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
  }
  for (int i = 1; i <= (internal->age_min_tbv - 1); ++i) {
    for (int j = 3; j <= 4; ++j) {
      internal->cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
    }
  }
  for (int i = (internal->age_min_tbv); i <= internal->age_max_tbv; ++i) {
    for (int j = 3; j <= 4; ++j) {
      internal->cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = (t < internal->vacc_on || internal->switch_TBV == 0 ? internal->cU : internal->cU * (1 - v_effic_U1));
    }
  }
  for (int i = (internal->age_max_tbv + 1); i <= internal->na; ++i) {
    for (int j = 3; j <= 4; ++j) {
      internal->cU_fcn[i - 1 + internal->dim_cU_fcn_1 * (j - 1)] = internal->cU;
    }
  }
  output[12] = odin_sum3(internal->clin_inc, 0, internal->dim_clin_inc_1, 0, internal->dim_clin_inc_2, 0, internal->dim_clin_inc_3, internal->dim_clin_inc_1, internal->dim_clin_inc_12);
  double wh = (t < internal->ITN_IRS_on ? 1 : odin_sum1(internal->whi, 0, internal->dim_whi));
  double zbar = internal->Q0 * zh;
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->ainf[i - 1 + internal->dim_ainf_1 * (j - 1) + internal->dim_ainf_12 * (k - 1)] = internal->cA_fcn[internal->dim_cA_fcn_12 * (k - 1) + internal->dim_cA_fcn_1 * (j - 1) + i - 1] * A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->avisinf[i - 1 + internal->dim_avisinf_1 * (j - 1) + internal->dim_avisinf_12 * (k - 1)] = internal->cA_fcn[internal->dim_cA_fcn_12 * (k - 1) + internal->dim_cA_fcn_1 * (j - 1) + i - 1] * internal->vis_A[internal->dim_vis_A_12 * (k - 1) + internal->dim_vis_A_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->dinf[i - 1 + internal->dim_dinf_1 * (j - 1) + internal->dim_dinf_12 * (k - 1)] = internal->cD_fcn[internal->dim_cD_fcn_1 * (k - 1) + i - 1] * D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1];
      }
    }
  }
  double fv = 1 / (double) (internal->tau1 / (double) (1 - zbar) + internal->tau2);
  output[11] = odin_sum1(internal->clin_inc0to5, 0, internal->dim_clin_inc0to5) / (double) odin_sum1(internal->den, 0, internal->age05);
  output[23] = wh;
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->tinf[i - 1 + internal->dim_tinf_1 * (j - 1) + internal->dim_tinf_12 * (k - 1)] = internal->cT_fcn[internal->dim_cT_fcn_1 * (k - 1) + i - 1] * T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->na; ++i) {
    for (int j = 1; j <= internal->nh; ++j) {
      for (int k = 1; k <= internal->num_int; ++k) {
        internal->uinf[i - 1 + internal->dim_uinf_1 * (j - 1) + internal->dim_uinf_12 * (k - 1)] = internal->cU_fcn[internal->dim_cU_fcn_1 * (k - 1) + i - 1] * U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1];
      }
    }
  }
  double wbar = 1 - internal->Q0 + internal->Q0 * wh;
  output[13] = odin_sum3(internal->ainf, 0, internal->dim_ainf_1, 0, internal->dim_ainf_2, 0, internal->dim_ainf_3, internal->dim_ainf_1, internal->dim_ainf_12);
  for (int i = 1; i <= internal->dim_ainf_Age; ++i) {
    output[31 + i - 1] = odin_sum3(internal->ainf, i - 1, i, 0, internal->dim_ainf_2, 0, internal->dim_ainf_3, internal->dim_ainf_1, internal->dim_ainf_12);
  }
  output[14] = odin_sum3(internal->avisinf, 0, internal->dim_avisinf_1, 0, internal->dim_avisinf_2, 0, internal->dim_avisinf_3, internal->dim_avisinf_1, internal->dim_avisinf_12);
  for (int i = 1; i <= internal->dim_avisinf_Age; ++i) {
    output[internal->offset_output_avisinf_Age + i - 1] = odin_sum3(internal->avisinf, i - 1, i, 0, internal->dim_avisinf_2, 0, internal->dim_avisinf_3, internal->dim_avisinf_1, internal->dim_avisinf_12);
  }
  output[16] = odin_sum3(internal->dinf, 0, internal->dim_dinf_1, 0, internal->dim_dinf_2, 0, internal->dim_dinf_3, internal->dim_dinf_1, internal->dim_dinf_12);
  for (int i = 1; i <= internal->dim_dinf_Age; ++i) {
    output[internal->offset_output_dinf_Age + i - 1] = odin_sum3(internal->dinf, i - 1, i, 0, internal->dim_dinf_2, 0, internal->dim_dinf_3, internal->dim_dinf_1, internal->dim_dinf_12);
  }
  output[15] = odin_sum3(internal->tinf, 0, internal->dim_tinf_1, 0, internal->dim_tinf_2, 0, internal->dim_tinf_3, internal->dim_tinf_1, internal->dim_tinf_12);
  for (int i = 1; i <= internal->dim_tinf_Age; ++i) {
    output[internal->offset_output_tinf_Age + i - 1] = odin_sum3(internal->tinf, i - 1, i, 0, internal->dim_tinf_2, 0, internal->dim_tinf_3, internal->dim_tinf_1, internal->dim_tinf_12);
  }
  output[17] = odin_sum3(internal->uinf, 0, internal->dim_uinf_1, 0, internal->dim_uinf_2, 0, internal->dim_uinf_3, internal->dim_uinf_1, internal->dim_uinf_12);
  for (int i = 1; i <= internal->dim_uinf_Age; ++i) {
    output[internal->offset_output_uinf_Age + i - 1] = odin_sum3(internal->uinf, i - 1, i, 0, internal->dim_uinf_2, 0, internal->dim_uinf_3, internal->dim_uinf_1, internal->dim_uinf_12);
  }
  double p1 = wbar * internal->p10 / (double) (1 - zbar * internal->p10);
  double Q = 1 - (1 - internal->Q0) / (double) wbar;
  double av = fv * Q;
  double mu = -(fv) * log(p1 * internal->p2);
  output[22] = Q;
  for (int i = 1; i <= internal->num_int; ++i) {
    internal->av_human[i - 1] = av * internal->yy[i - 1] / (double) wh;
  }
  double eov = internal->betaL / (double) mu * (exp(mu / (double) fv) - 1);
  output[18] = mu;
  double beta_larval = eov * mu * exp(-(mu) / (double) fv) / (double) (1 - exp(-(mu) / (double) fv));
  for (int i = 1; i <= internal->dim_EIR_1; ++i) {
    for (int j = 1; j <= internal->dim_EIR_2; ++j) {
      for (int k = 1; k <= internal->dim_EIR_3; ++k) {
        internal->EIR[i - 1 + internal->dim_EIR_1 * (j - 1) + internal->dim_EIR_12 * (k - 1)] = internal->av_human[k - 1] * internal->rel_foi[j - 1] * internal->foi_age[i - 1] * Iv / (double) internal->omega;
      }
    }
  }
  for (int i = 1; i <= internal->dim_EIRweight_1; ++i) {
    for (int j = 1; j <= internal->dim_EIRweight_2; ++j) {
      for (int k = 1; k <= internal->dim_EIRweight_3; ++k) {
        internal->EIRweight[i - 1 + internal->dim_EIRweight_1 * (j - 1) + internal->dim_EIRweight_12 * (k - 1)] = (T[internal->dim_T_12 * (k - 1) + internal->dim_T_1 * (j - 1) + i - 1] + A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] + D[internal->dim_D_12 * (k - 1) + internal->dim_D_1 * (j - 1) + i - 1] + U[internal->dim_U_12 * (k - 1) + internal->dim_U_1 * (j - 1) + i - 1] + P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] + S[internal->dim_S_12 * (k - 1) + internal->dim_S_1 * (j - 1) + i - 1]) * internal->EIR[internal->dim_EIR_12 * (k - 1) + internal->dim_EIR_1 * (j - 1) + i - 1];
      }
    }
  }
  double lambda = -(0.5) * internal->b_lambda + sqrt(0.25 * pow(internal->b_lambda, 2) + internal->gammaL * beta_larval * internal->muLL * internal->dEL / (double) (2 * internal->muEL * internal->mu0 * internal->dLL * (1 + internal->dPL * internal->muPL)));
  output[19] = beta_larval;
  double EIRout = odin_sum3(internal->EIRweight, 0, internal->dim_EIRweight_1, 0, internal->dim_EIRweight_2, 0, internal->dim_EIRweight_3, internal->dim_EIRweight_1, internal->dim_EIRweight_12);
  double K0 = 2 * internal->mv0 * internal->dLL * internal->mu0 * (1 + internal->dPL * internal->muPL) * internal->gammaL * (lambda + 1) / (double) (lambda / (double) (internal->muLL * internal->dEL) - 1 / (double) (internal->muLL * internal->dLL) - 1);
  double KL = K0 * theta2;
  output[8] = EIRout;
  output[30] = K0;
  output[20] = KL;
}
SEXP odin_model_TBV_rhs_r(SEXP internal_p, SEXP t, SEXP state) {
  SEXP dstatedt = PROTECT(allocVector(REALSXP, LENGTH(state)));
  odin_model_TBV_internal *internal = odin_model_TBV_get_internal(internal_p, 1);
  SEXP output_ptr = PROTECT(allocVector(REALSXP, internal->dim_ainf_Age + internal->dim_avisinf_Age + internal->dim_cov + internal->dim_dinf_Age + internal->dim_tinf_Age + internal->dim_uinf_Age + 31));
  setAttrib(dstatedt, install("output"), output_ptr);
  UNPROTECT(1);
  double *output = REAL(output_ptr);
  const double initial_t = internal->initial_t;
  if (ISNA(initial_t)) {
    internal->initial_t = scalar_real(t, "t");
  }
  odin_model_TBV_rhs(internal, scalar_real(t, "t"), REAL(state), REAL(dstatedt), output);
  if (ISNA(initial_t)) {
    internal->initial_t = initial_t;
  }
  UNPROTECT(1);
  return dstatedt;
}
double user_get_scalar_double(SEXP user, const char *name,
                              double default_value, double min, double max) {
  double ret = default_value;
  SEXP el = user_list_element(user, name);
  if (el != R_NilValue) {
    if (length(el) != 1) {
      Rf_error("Expected a scalar numeric for '%s'", name);
    }
    if (TYPEOF(el) == REALSXP) {
      ret = REAL(el)[0];
    } else if (TYPEOF(el) == INTSXP) {
      ret = INTEGER(el)[0];
    } else {
      Rf_error("Expected a numeric value for %s", name);
    }
  }
  if (ISNA(ret)) {
    Rf_error("Expected a value for '%s'", name);
  }
  user_check_values_double(&ret, 1, min, max, name);
  return ret;
}
int user_get_scalar_int(SEXP user, const char *name,
                        int default_value, double min, double max) {
  int ret = default_value;
  SEXP el = user_list_element(user, name);
  if (el != R_NilValue) {
    if (length(el) != 1) {
      Rf_error("Expected scalar integer for %d", name);
    }
    if (TYPEOF(el) == REALSXP) {
      double tmp = REAL(el)[0];
      if (fabs(tmp - round(tmp)) > 2e-8) {
        Rf_error("Expected '%s' to be integer-like", name);
      }
    }
    ret = INTEGER(coerceVector(el, INTSXP))[0];
  }
  if (ret == NA_INTEGER) {
    Rf_error("Expected a value for '%s'", name);
  }
  user_check_values_int(&ret, 1, min, max, name);
  return ret;
}
void user_check_values_double(double * value, size_t len,
                                  double min, double max, const char *name) {
  for (size_t i = 0; i < len; ++i) {
    if (ISNA(value[i])) {
      Rf_error("'%s' must not contain any NA values", name);
    }
  }
  if (min != NA_REAL) {
    for (size_t i = 0; i < len; ++i) {
      if (value[i] < min) {
        Rf_error("Expected '%s' to be at least %g", name, min);
      }
    }
  }
  if (max != NA_REAL) {
    for (size_t i = 0; i < len; ++i) {
      if (value[i] > max) {
        Rf_error("Expected '%s' to be at most %g", name, max);
      }
    }
  }
}
void user_check_values_int(int * value, size_t len,
                               double min, double max, const char *name) {
  for (size_t i = 0; i < len; ++i) {
    if (ISNA(value[i])) {
      Rf_error("'%s' must not contain any NA values", name);
    }
  }
  if (min != NA_REAL) {
    for (size_t i = 0; i < len; ++i) {
      if (value[i] < min) {
        Rf_error("Expected '%s' to be at least %g", name, min);
      }
    }
  }
  if (max != NA_REAL) {
    for (size_t i = 0; i < len; ++i) {
      if (value[i] > max) {
        Rf_error("Expected '%s' to be at most %g", name, max);
      }
    }
  }
}
void user_check_values(SEXP value, double min, double max,
                           const char *name) {
  size_t len = (size_t)length(value);
  if (TYPEOF(value) == INTSXP) {
    user_check_values_int(INTEGER(value), len, min, max, name);
  } else {
    user_check_values_double(REAL(value), len, min, max, name);
  }
}
SEXP user_list_element(SEXP list, const char *name) {
  SEXP ret = R_NilValue, names = getAttrib(list, R_NamesSymbol);
  for (int i = 0; i < length(list); ++i) {
    if (strcmp(CHAR(STRING_ELT(names, i)), name) == 0) {
      ret = VECTOR_ELT(list, i);
      break;
    }
  }
  return ret;
}
void odin_set_dim(SEXP target, int rank, ...) {
  SEXP r_dim = PROTECT(allocVector(INTSXP, rank));
  int *dim = INTEGER(r_dim);

  va_list ap;
  va_start(ap, rank);
  for (size_t i = 0; i < (size_t)rank; ++i) {
    dim[i] = va_arg(ap, int);
  }
  va_end(ap);

  setAttrib(target, R_DimSymbol, r_dim);
  UNPROTECT(1);
}
void* user_get_array_dim(SEXP user, bool is_integer, void * previous,
                         const char *name, int rank,
                         double min, double max, int *dest_dim) {
  SEXP el = user_get_array_check_rank(user, name, rank, previous == NULL);
  if (el == R_NilValue) {
    return previous;
  }

  dest_dim[0] = LENGTH(el);
  if (rank > 1) {
    SEXP r_dim = PROTECT(coerceVector(getAttrib(el, R_DimSymbol), INTSXP));
    int *dim = INTEGER(r_dim);

    for (size_t i = 0; i < (size_t) rank; ++i) {
      dest_dim[i + 1] = dim[i];
    }

    UNPROTECT(1);
  }

  el = PROTECT(user_get_array_check(el, is_integer, name, min, max));

  int len = LENGTH(el);
  void *dest = NULL;
  if (is_integer) {
    dest = Calloc(len, int);
    memcpy(dest, INTEGER(el), len * sizeof(int));
  } else {
    dest = Calloc(len, double);
    memcpy(dest, REAL(el), len * sizeof(double));
  }
  Free(previous);

  UNPROTECT(1);

  return dest;
}
void* user_get_array(SEXP user, bool is_integer, void * previous,
                     const char *name, double min, double max,
                     int rank, ...) {
  SEXP el = user_get_array_check_rank(user, name, rank, previous == NULL);
  if (el == R_NilValue) {
    return previous;
  }

  SEXP r_dim;
  int *dim;

  size_t len = LENGTH(el);
  if (rank == 1) {
    r_dim = PROTECT(ScalarInteger(len));
  } else {
    r_dim = PROTECT(coerceVector(getAttrib(el, R_DimSymbol), INTSXP));
  }
  dim = INTEGER(r_dim);

  va_list ap;
  va_start(ap, rank);
  for (size_t i = 0; i < (size_t) rank; ++i) {
    int dim_expected = va_arg(ap, int);
    if (dim[i] != dim_expected) {
      va_end(ap); // avoid a leak
      if (rank == 1) {
        Rf_error("Expected length %d value for %s", dim_expected, name);
      } else {
        Rf_error("Incorrect size of dimension %d of %s (expected %d)",
                 i + 1, name, dim_expected);
      }
    }
  }
  va_end(ap);
  UNPROTECT(1);

  el = PROTECT(user_get_array_check(el, is_integer, name, min, max));

  void *dest = NULL;
  if (is_integer) {
    dest = Calloc(len, int);
    memcpy(dest, INTEGER(el), len * sizeof(int));
  } else {
    dest = Calloc(len, double);
    memcpy(dest, REAL(el), len * sizeof(double));
  }
  Free(previous);

  UNPROTECT(1);

  return dest;
}
SEXP user_get_array_check(SEXP el, bool is_integer, const char *name,
                          double min, double max) {
  size_t len = (size_t) length(el);
  if (is_integer) {
    if (TYPEOF(el) == INTSXP) {
      user_check_values_int(INTEGER(el), len, min, max, name);
    } else if (TYPEOF(el) == REALSXP) {
      el = PROTECT(coerceVector(el, INTSXP));
      user_check_values_int(INTEGER(el), len, min, max, name);
      UNPROTECT(1);
    } else {
      Rf_error("Expected a integer value for %s", name);
    }
  } else {
    if (TYPEOF(el) == INTSXP) {
      el = PROTECT(coerceVector(el, REALSXP));
      user_check_values_double(REAL(el), len, min, max, name);
      UNPROTECT(1);
    } else if (TYPEOF(el) == REALSXP) {
      user_check_values_double(REAL(el), len, min, max, name);
    } else {
      Rf_error("Expected a numeric value for %s", name);
    }
  }
  return el;
}
SEXP user_get_array_check_rank(SEXP user, const char *name, int rank,
                               bool required) {
  SEXP el = user_list_element(user, name);
  if (el == R_NilValue) {
    if (required) {
      Rf_error("Expected a value for '%s'", name);
    }
  } else {
    if (rank == 1) {
      if (isArray(el)) {
        Rf_error("Expected a numeric vector for '%s'", name);
      }
    } else {
      SEXP r_dim = getAttrib(el, R_DimSymbol);
      if (r_dim == R_NilValue || LENGTH(r_dim) != rank) {
        if (rank == 2) {
          Rf_error("Expected a numeric matrix for '%s'", name);
        } else {
          Rf_error("Expected a numeric array of rank %d for '%s'", rank, name);
        }
      }
    }
  }
  return el;
}
void lagvalue(double t, bool use_dde, int *idx, int dim_idx, double *state) {
  if (use_dde) {
    lagvalue_dde(t, idx, dim_idx, state);
  } else {
    lagvalue_ds(t, idx, dim_idx, state);
  }
}
void lagvalue_dde(double t, int *idx, size_t dim_idx, double *state) {
  typedef void (*lagvalue_type)(double, int*, size_t, double*);
  static lagvalue_type fun = NULL;
  if (fun == NULL) {
    fun = (lagvalue_type)R_GetCCallable("dde", "ylag_vec_int");
  }
  fun(t, idx, dim_idx, state);
}
void lagvalue_ds(double t, int *idx, int dim_idx, double *state) {
  typedef void (*lagvalue_type)(double, int*, int, double*);
  static lagvalue_type fun = NULL;
  if (fun == NULL) {
    fun = (lagvalue_type)R_GetCCallable("deSolve", "lagvalue");
  }
  fun(t, idx, dim_idx, state);
}
double fmodr(double x, double y) {
  double tmp = fmod(x, y);
  if (tmp * y < 0) {
    tmp += y;
  }
  return tmp;
}
double odin_sum1(double *x, size_t from, size_t to) {
  double tot = 0.0;
  for (size_t i = from; i < to; ++i) {
    tot += x[i];
  }
  return tot;
}
int odin_isum1(int *x, size_t from, size_t to) {
  int tot = 0.0;
  for (size_t i = from; i < to; ++i) {
    tot += x[i];
  }
  return tot;
}
double scalar_real(SEXP x, const char * name) {
  if (Rf_length(x) != 1) {
    Rf_error("Expected a scalar for %s", name);
  }
  double ret = 0.0;
  if (TYPEOF(x) == INTSXP) {
    ret = INTEGER(x)[0];
  } else if (TYPEOF(x) == REALSXP) {
    ret = REAL(x)[0];
  } else {
    Rf_error("Expected a numeric value for %s", name);
  }
  return ret;
}
double odin_sum2(double* x, int from_i, int to_i, int from_j, int to_j, int dim_x_1) {
  double tot = 0.0;
  for (int j = from_j; j < to_j; ++j) {
    int jj = j * dim_x_1;
    for (int i = from_i; i < to_i; ++i) {
      tot += x[i + jj];
    }
  }
  return tot;
}
double odin_sum3(double* x, int from_i, int to_i, int from_j, int to_j, int from_k, int to_k, int dim_x_1, int dim_x_12) {
  double tot = 0.0;
  for (int k = from_k; k < to_k; ++k) {
    int kk = k * dim_x_12;
    for (int j = from_j; j < to_j; ++j) {
      int jj = j * dim_x_1 + kk;
      for (int i = from_i; i < to_i; ++i) {
        tot += x[i + jj];
      }
    }
  }
  return tot;
}
void interpolate_check_y(size_t nx, size_t ny, size_t i, const char *name_arg, const char *name_target) {
  if (nx != ny) {
    if (i == 0) {
      // vector case
      Rf_error("Expected %s to have length %d (for %s)",
               name_arg, nx, name_target);
    } else {
      // array case
      Rf_error("Expected dimension %d of %s to have size %d (for %s)",
               i, name_arg, nx, name_target);
    }
  }
}
double odin_sum4(double* x, int from_i, int to_i, int from_j, int to_j, int from_k, int to_k, int from_l, int to_l, int dim_x_1, int dim_x_12, int dim_x_123) {
  double tot = 0.0;
  for (int l = from_l; l < to_l; ++l) {
    int ll = l * dim_x_123;
    for (int k = from_k; k < to_k; ++k) {
      int kk = k * dim_x_12 + ll;
      for (int j = from_j; j < to_j; ++j) {
        int jj = j * dim_x_1 + kk;
        for (int i = from_i; i < to_i; ++i) {
          tot += x[i + jj];
        }
      }
    }
  }
  return tot;
}
// This construction is to help odin
#ifndef CINTERPOLTE_CINTERPOLATE_H_
#endif


void * cinterpolate_alloc(const char *type, size_t n, size_t ny,
                          double *x, double *y, bool fail_on_extrapolate,
                          bool auto_clean) {
  typedef void* interpolate_alloc_t(const char *, size_t, size_t,
                                    double*, double*, bool, bool);
  static interpolate_alloc_t *fun;
  if (fun == NULL) {
    fun = (interpolate_alloc_t*)
      R_GetCCallable("cinterpolate", "interpolate_alloc");
  }
  return fun(type, n, ny, x, y, fail_on_extrapolate, auto_clean);
}


int cinterpolate_eval(double x, void *obj, double *y) {
  typedef int interpolate_eval_t(double, void*, double*);
  static interpolate_eval_t *fun;
  if (fun == NULL) {
    fun = (interpolate_eval_t*)
      R_GetCCallable("cinterpolate", "interpolate_eval");
  }
  return fun(x, obj, y);
}


void cinterpolate_free(void *obj) {
  typedef int interpolate_free_t(void*);
  static interpolate_free_t *fun;
  if (fun == NULL) {
    fun = (interpolate_free_t*)
      R_GetCCallable("cinterpolate", "interpolate_free");
  }
  fun(obj);
}
